{"version":3,"sources":["webpack:///./app/src/liveroom.js","webpack:///external \"window._\"?37bd*****","webpack:///./~/base-extend-backbone/src/index.js?4ebc*****","webpack:///./~/base-extend-backbone/src/instance/baseView.js?bf3f*****","webpack:///external \"window.Backbone\"?776e*****","webpack:///./app/link/artTemplate/dist/template.js?bb40*****","webpack:///./~/base-extend-backbone/src/util/warn.js?c6df*****","webpack:///./~/base-extend-backbone/src/util/log.js?a8b0*****","webpack:///(webpack)/~/node-libs-browser/~/process/browser.js?6f0e*****","webpack:///./~/base-extend-backbone/src/util/tools.js?5f42*****","webpack:///./~/base-extend-backbone/src/util/error.js?9de4*****","webpack:///./~/base-extend-backbone/src/instance/baseModel.js?b3e3*****","webpack:///./~/base-extend-backbone/src/store/storage.js?b9e0*****","webpack:///./~/base-extend-backbone/src/instance/baseRouter.js?c630*****","webpack:///./~/base-extend-backbone/src/entity/ManagedObject.js?8d02*****","webpack:///./~/auxiliary-additions/build/auxiliary.min.js?5295*****","webpack:///./app/src/module/webIM/IMServer.js?4c88**","webpack:///./app/src/module/IMModel/index.js?9f39*****","webpack:///./app/src/module/config.js?119a*****","webpack:///./app/src/module/UserModel/index.js?bc6b*****","webpack:///./app/src/module/dialog/index.js?aff9*****","webpack:///./app/src/module/dialog/mask.js?dd07*****","webpack:///./app/src/module/dialog/template/close.html?0e99*****","webpack:///./app/src/module/dialog/template/title.html?6589*****","webpack:///./app/src/module/loginBox/index.js?0da1*****","webpack:///./app/src/module/crypto/pwdencrypt.js?0978*****","webpack:///./app/src/module/loginBox/template/loginBox.html?ca63*****","webpack:///./app/src/module/crypto/secret.js?2582*****","webpack:///./app/src/module/UserModel/template/email.html?dbf6*****","webpack:///./app/src/module/confirm/index.js?d929*****","webpack:///./app/src/module/confirm/template/confirm.html?fa14*****","webpack:///./app/src/models/anchor/room-detail.model.js?a933*","webpack:///./app/src/models/anchor/room-longPolling.model.js?a13f*","webpack:///./app/src/models/anchor/gift.model.js?b0f0**","webpack:///./app/src/models/live-room/permission.model.js?f53d**","webpack:///./app/src/views/live-room/user.js?419c***","webpack:///./app/src/models/anchor/anchor-info.model.js?b2b0*****","webpack:///./app/src/views/advertising-wall/main.view.js?7576**","webpack:///./app/src/models/advertising-wall/list.model.js?a464**","webpack:///./app/src/models/advertising-wall/like.model.js?bed2**","webpack:///./app/src/models/advertising-wall/create.model.js?e066**","webpack:///./app/src/models/advertising-wall/loop.model.js?2de8**","webpack:///./app/src/module/msgbox/index.js?2432*****","webpack:///./app/src/module/BusinessDate/index.js?9487*****","webpack:///./app/src/views/advertising-wall/template/wall.html?9293**","webpack:///./app/src/module/FlashApi/index.js?c471***","webpack:///./app/src/views/anchor/template/chat-message-tpl.html?7248**","webpack:///./app/src/models/anchor/notice-get.model.js?eb60**","webpack:///./app/src/module/TopBarView/index.js?1699*****","webpack:///./app/src/module/TopBarView/loginUser.view.js?c83e*****","webpack:///./app/src/module/TopBarView/template/sgin.html?a976*****","webpack:///./app/src/module/TopBarView/template/logined.html?81d0*****","webpack:///./app/src/models/anchor-setting/unfollow.model.js?d303*","webpack:///./app/src/models/live-room/popularity-add.model.js?93a0*","webpack:///./app/src/views/live-room/anchor-card.view.js?ff7e","webpack:///./app/src/models/anchor-setting/follow.model.js?5570","webpack:///./app/src/views/live-room/sns-share.view.js?c2b5","webpack:///./app/src/views/live-room/template/sns-share.html?f702","webpack:///./app/src/views/live-room/template/anchor-card.html?70fc","webpack:///./app/src/views/live-room/room-title.view.js?08ff","webpack:///./app/src/views/live-room/template/room-title.html?6ad2","webpack:///./app/src/views/live-room/chat.view.js?0ebe","webpack:///./app/src/views/live-room/room-manager.view.js?ea95","webpack:///./app/src/views/live-room/template/chat.html?a5d4","webpack:///./app/src/views/live-room/send-message.view.js?cfe2","webpack:///./app/src/views/live-room/template/send-message.html?5bda","webpack:///./app/src/views/live-room/gift.view.js?af91","webpack:///./app/src/models/channel/popularity-add.model.js?a3bc","webpack:///./app/src/views/live-room/main.view.js","webpack:///./app/src/models/live-room/inAndOut-room.model.js","webpack:///./app/src/models/live-room/history-add.model.js","webpack:///./app/src/views/live-room/live-preview.view.js","webpack:///./app/src/views/live-room/played-list.view.js","webpack:///./app/src/models/live-room/played-list.model.js","webpack:///./app/stylesheets/liveroom.scss"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,EAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjBD,2B;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,QAAO,IAAI;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;;;;;;;ACvLA,kC;;;;;;ACAA;AACA,aAAY,cAAc,+FAA+F,cAAc,oFAAoF,gBAAgB,cAAc,qHAAqH,cAAc,QAAQ,+CAA+C,wBAAwB,EAAE,uBAAuB,2BAA2B,4BAA4B,aAAa,oCAAoC,wDAAwD,wBAAwB,cAAc,0BAA0B,wBAAwB,aAAa,MAAM,uGAAuG,SAAS,iFAAiF,uDAAuD,yBAAyB,aAAa,oBAAoB,kBAAkB,mCAAmC,YAAY,mBAAmB,gBAAgB,uCAAuC,MAAM,6BAA6B,iBAAiB,kDAAkD,MAAM,kBAAkB,mGAAmG,EAAE,yBAAyB,aAAa,kBAAkB,4CAA4C,EAAE,YAAY,WAAW,MAAM,SAAS,OAAO,gIAAgI,GAAG,IAAI,0CAA0C,uBAAuB,SAAS,mDAAmD,MAAM,KAAK,oBAAoB,8BAA8B,WAAW,UAAU,yCAAyC,QAAQ,kBAAkB,sEAAsE,cAAc,uBAAuB,eAAe,iCAAiC,mBAAmB,4DAA4D,EAAE,iBAAiB,kBAAkB,MAAM,eAAe,mCAAmC,iCAAiC,MAAM,sDAAsD,OAAO,WAAW,GAAG,UAAU,oBAAoB,6FAA6F,IAAI,UAAU,YAAY,YAAY,YAAY,YAAY,EAAE,eAAe,YAAY,eAAe,gCAAgC,cAAc,8BAA8B,2BAA2B,kBAAkB,iBAAiB,QAAQ,2BAA2B,IAAI,uBAAuB,iCAAiC,YAAY,WAAW,yCAAyC,uBAAuB,QAAQ,2BAA2B,sBAAsB,2BAA2B,0CAA0C,4CAA4C,kBAAkB,+BAA+B,QAAQ,eAAe,GAAG,2BAA2B,cAAc,IAAI,qBAAqB,SAAS,8CAA8C,QAAQ,0CAA0C,iBAAiB,IAAI,aAAa,SAAS,4DAA4D,qDAAqD,oBAAoB,wBAAwB,spBAAspB,aAAa,gBAAgB,EAAE,oBAAoB,iDAAiD,gDAAgD,uBAAuB,sBAAsB,6CAA6C,UAAU,sBAAsB,EAAE,MAAM,4DAA4D,UAAU,EAAE,MAAM,cAAc,EAAE,MAAM,wFAAwF,kDAAkD,EAAE,MAAM,gBAAgB,EAAE,EAAE,MAAM,2BAA2B,EAAE,MAAM,iDAAiD,EAAE,MAAM,gCAAgC,eAAe,yCAAyC,iFAAiF,IAAI,gBAAgB,SAAS,8CAA8C,QAAQ,SAAS,oDAA6C,SAAS,oNAA+D,G;;;;;;ACDnpK;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;;;;;;ACbA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,mBAAkB;AAClB,oBAAmB;AACnB,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;;;;;;;;AC7CA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,4BAA2B;AAC3B;AACA;AACA;AACA,6BAA4B,UAAU;;;;;;;AC1FtC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA,iBAAgB,SAAS;AACzB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,IAAI;AACpB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,SAAS;AACzB,iBAAgB,SAAS;AACzB,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,aAAa;AAC7B,iBAAgB,SAAS;AACzB,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,IAAI;AACpB,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAgB,EAAE;AAClB,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAgB,IAAI;AACpB,iBAAgB,IAAI;AACpB,iBAAgB,IAAI;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;;ACnHD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA,IAAG;AACH,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,aAAY,gBAAgB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;;;;;;;ACvQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,SAAS;AACtB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa,SAAS;AACtB,cAAa,SAAS;AACtB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,SAAS;AACtB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,SAAS;AACtB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,SAAS;AACtB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAc,SAAS;AACvB,eAAc,OAAO;AACrB,eAAc,UAAU;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAc,SAAS;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAc,SAAS;AACvB;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,mBAAkB,oBAAoB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,SAAS;AACvB,eAAc,SAAS;AACvB,eAAc,SAAS;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,IAAI;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,IAAI;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,iBAAgB,SAAS;AACzB,iBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;;ACtQD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,oCAAmC,eAAe;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,EAAC;AACD;;;;;;;ACvGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA;AACA,0BAAyB;AACzB;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS,IAAI;AACb,qBAAoB,IAAI;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5MA,gBAAe,2IAAuL,iBAAiB,mBAAmB,cAAc,4BAA4B,YAAY,UAAU,iBAAiB,gEAAgE,SAAS,+BAA+B,kBAAkB,8CAA8C,WAAW,mEAAmE,eAAe,aAAa,SAAS,gBAAgB,WAAW,kBAAkB,kCAAkC,SAAS,aAAa,qKAAqK,wDAAwD,IAAI,iDAAiD,gBAAgB,sBAAsB,2BAA2B,sEAAsE,WAAW,4CAA4C,uDAAuD,uBAAuB,yIAAyI,qBAAqB,mBAAmB,yBAAyB,yBAAyB,gBAAgB,iDAAiD,IAAI,sEAAsE,cAAc,0CAA0C,WAAW,eAAe,aAAa,aAAa,sCAAsC,uFAAuF,cAAc,eAAe,aAAa,cAAc,eAAe,8EAA8E,YAAY,uIAAuI,+FAA+F,eAAe,aAAa,aAAa,iBAAiB,mBAAmB,KAAK,mBAAmB,yBAAyB,SAAS,cAAc,kBAAkB,MAAM,uBAAuB,QAAQ,SAAS,2CAA2C,eAAe,mEAAmE,IAAI,yBAAyB,oBAAoB,UAAU,mTAAmT,6CAA6C,2BAA2B,8BAA8B,sBAAsB,QAAQ,EAAE,kDAAkD,qBAAqB,EAAE,SAAS,WAAW,KAAK,kFAAkF,qCAAqC,IAAI,8EAA8E,gBAAgB,UAAU,UAAU,IAAI,MAAM,YAAY,WAAW,SAAS,0CAA0C,gBAAgB,QAAQ,2BAA2B,cAAc,wBAAwB,YAAY,WAAW,GAAG,qBAAqB,wBAAwB,EAAE,iBAAiB,aAAa,gCAAgC,OAAO,qGAAqG,6BAA6B,mBAAmB,kEAAkE,sCAAsC,2EAA2E,+BAA+B,sGAAsG,0CAA0C,qBAAqB,mCAAmC,WAAW,kCAAkC,gBAAgB,sCAAsC,sCAAsC,SAAS,kDAAkD,sGAAsG,SAAS,aAAa,gBAAgB,EAAE,kCAAkC,WAAW,uBAAuB,iCAAiC,kCAAkC,6BAA6B,2BAA2B,GAAG,WAAW,uCAAuC,kBAAkB,sBAAsB,uCAAuC,cAAc,iBAAiB,aAAa,eAAe,cAAc,aAAa,eAAe,YAAY,QAAQ,iBAAiB,aAAa,uCAAuC,6GAA6G,mGAAmG,aAAa,mBAAmB,2EAA2E,WAAW,iCAAiC,mEAAmE,aAAa,gCAAgC,eAAe,GAAG,6BAA6B,sBAAsB,uCAAuC,SAAS,yBAAyB,wDAAwD,2HAA2H,iPAAiP,uCAAuC,kCAAkC,qBAAqB,UAAU,+BAA+B,4CAA4C,qBAAqB,+BAA+B,8FAA8F,WAAW,uCAAuC,yBAAyB,uCAAuC,gBAAgB,aAAa,GAAG;AACz+M,0C;;;;;;ACDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAsD;;AAEtD;AACA;AACA;AACA;AACA,gBAAe;AACf,yDAAwD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;;AAEH;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACrXA;AACA,WAAU;AACV,aAAY;AACZ,WAAU;AACV;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,iCAAgC;AAChC,4BAA2B;AAC3B;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,eAAc,QAAQ;AACtB;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,qBAAoB,iBAAiB;AACrC;AACA;AACA,IAAG;AACH;AACA;AACA,qBAAoB,iBAAiB;AACrC;AACA,IAAG;AACH;AACA;AACA,eAAc,SAAS;AACvB,eAAc,OAAO;AACrB,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AClHA,eAAc,wBAAwB,SAAS,8CAA8C,SAAS,8CAA8C,YAAY,0CAA0C,wBAAwB,4cAA4c,yB;;;;;;ACA9qB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAkD,SAAS;AAC3D;;AAEA;AACA;AACA;AACA;AACA;AACA,iCAAgC;AAChC,4BAA2B;AAC3B;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA,kCAAiC;AACjC,6BAA4B;AAC5B;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA,kCAAiC;AACjC,6BAA4B;AAC5B;AACA;AACA,IAAG;AACH;AACA;AACA,eAAc,QAAQ;AACtB;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,eAAc,SAAS;AACvB,eAAc,OAAO;AACrB,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,IAAG;AACH;AACA;AACA,eAAc,OAAO;AACrB,eAAc,SAAS;AACvB,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,IAAG;AACH;AACA;AACA,eAAc,SAAS;AACvB,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,eAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,eAAc,OAAO;AACrB,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,eAAc,SAAS;AACvB,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA,eAAc,OAAO;AACrB;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA,EAAC;;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7RA;AACA,gBAAe,KAAK;AACpB;;;AAGA;AACA,WAAU;AACV,aAAY;AACZ;AACA;;AAEA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,qDAAoD,OAAO;AAC3D;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACvMA;AACA,gBAAe,KAAK;AACpB;;;AAGA;AACA,WAAU;AACV,aAAY;AACZ,WAAU;AACV;;AAEA;;AAEA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;;AAEA,IAAG;AACH;AACA;;AAEA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC/DA,6CAA4C,IAAI,aAAa,YAAY,KAAK,gBAAgB,aAAa,KAAK,YAAY,uCAAuC,uBAAuB,IAAI,aAAa,YAAY,0CAA0C,MAAM,uBAAuB,IAAI,aAAa,YAAY,WAAW,KAAK,G;;;;;;ACA3U,wDAAuD,OAAO,Q;;;;;;ACA9D;AACA,WAAU;AACV,aAAY;AACZ,WAAU;AACV;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA4D,IAAI;AAChE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACvOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,cAAc;AAC/B;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,oDAAoD;AAClE;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,cAAc,OAAO;AACrC;AACA;AACA,2B;;;;;;AC5MA,iMAAgM,KAAK,8IAA8I,KAAK,yIAAyI,KAAK,iJAAiJ,KAAK,wgCAAwgC,KAAK,6NAA6N,KAAK,+G;;;;;;ACA32D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,sBAAsB;AACtC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA2B,QAAQ;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,G;;;;;;AC9LA,mDAAkD,mEAAmE,SAAS,oF;;;;;;ACA9H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,UAAS;AACT;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;;;;;;ACrGA,6KAA4K,cAAc,mBAAmB,0RAA0R,iBAAiB,gJAAgJ,yCAAyC,2IAA2I,sBAAsB,+H;;;;;;;ACAl1B;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACzBA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACzBA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClDA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAkB,kBAAkB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;;;;;;AChLA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACzBA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA,qBAAoB,kBAAkB;AACtC;AACA;;AAEA;AACA;;AAEA,kCAAiC;;AAEjC;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH,uCAAsC;AACtC;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;;AAEA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA,UAAS;AACT;AACA;AACA,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,EAAC;;AAED;;;;;;;ACtaA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,EAAE;AACxB;AACA,mBAAkB,2EAA2E;AAC7F,qBAAoB,0DAA0D;AAC9E,qBAAoB,cAAc,gBAAgB,gBAAgB,8BAA8B,oBAAoB,GAAG;AACvH,mBAAkB,IAAI,IAAI,oBAAoB;AAC9C;AACA;AACA,sBAAqB,wCAAwC;AAC7D,oBAAmB,aAAa;AAChC,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,6BAA4B;AAC5B;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA,yEAAwE,cAAc,0CAA0C,KAAK,UAAU,UAAU,QAAQ;AACjK;AACA,+FAA8F,oCAAoC;AAClI;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;;;;;;;;ACpQA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ,UAAU;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ,cAAc;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC9LA,gYAA+X,iJAAiJ,8FAA8F,2QAA2Q,WAAW,eAAe,SAAS,6HAA6H,cAAc,+DAA+D,MAAM,2BAA2B,kBAAkB,8CAA8C,KAAK,+FAA+F,kCAAkC,gFAAgF,MAAM,iFAAiF,mBAAmB,mBAAmB,IAAI,kBAAkB,UAAU,mIAAmI,WAAW,iXAAiX,KAAK,KAAK,4HAA4H,MAAM,KAAK,UAAU,+8DAA+8D,qEAAqE,wEAAwE,uEAAuE,sEAAsE,wEAAwE,+2B;;;;;;;;;;;;;;;;ACArgJ;AACA,oBAAmB,MAAM,WAAW,OAAO;AAC3C,SAAQ,GAAG;AACX;AACA,mBAAkB,IAAI;AACtB,mBAAkB,OAAO;AACzB,mBAAkB,WAAW;AAC7B,mBAAkB,QAAQ;AAC1B,mBAAkB,UAAU;AAC5B,mBAAkB,MAAM;AACxB,mBAAkB,MAAM,WAAW,OAAO,UAAU,GAAG;AACvD,+CAA8C,IAAI,sBAAsB,OAAO;AAC/E,sBAAqB,WAAW,YAAY,QAAQ,WAAW,MAAM,cAAc,UAAU;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B,OAAO;AACjC;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;ACtIA,yLAAwL,gFAAgF,4DAA4D,kEAAkE,uBAAuB,sEAAsE,MAAM,4DAA4D,gJAAgJ,iEAAiE,yDAAyD,8BAA8B,+FAA+F,sB;;;;;;;;ACA56B;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;ACzBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,EAAC;;AAED;;;;;;;ACrCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,eAAc,OAAO;AACrB,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA,eAAc,OAAO;AACrB,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,EAAC;;AAED;;;;;;;AClKA,gH;;;;;;ACAA,+FAA8F,cAAc,WAAW,YAAY,wHAAwH,UAAU,8M;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACArQ;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;ACzBA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;ACzBA;AACA,gBAAe,KAAK;AACpB;;;AAGA;AACA,WAAU;AACV,aAAY;AACZ,WAAU;AACV;;AAEA;;AAEA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2BAA0B;AAC1B;AACA,IAAG;AACH,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,qBAAoB,kBAAkB;AACtC;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL,kEAAiE;AACjE;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;;;;;;;AC1MA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACzBA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sEAAqE,oBAAoB;;AAEzF,8EAA6E,oBAAoB,wBAAwB,mBAAmB,qCAAqC;;AAEjL,qFAAoF,gBAAgB,uBAAuB,wBAAwB,YAAY,sCAAsC,cAAc,aAAa;;AAEhO,gGAA+F;;AAE/F,6EAA4E;;AAE5E,oGAAmG,kBAAkB;;AAErH,2FAA0F,oBAAoB;;AAE9G,2EAA0E,oBAAoB;;AAE9F,mEAAkE,WAAW,wBAAwB,uCAAuC;;AAE5I,uDAAsD,oBAAoB,wBAAwB;;AAElG,4DAA2D,oBAAoB;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC;;AAED;;;;;;;ACpJA,6NAA4N,wFAAwF,0FAA0F,gBAAgB,oBAAoB,qBAAqB,YAAY,mCAAmC,cAAc,aAAa,+HAA+H,uHAAuH,iBAAiB,qBAAqB,mBAAmB,kCAAkC,4GAA4G,wC;;;;;;ACA98B,q8BAAo8B,8HAA8H,gCAAgC,OAAO,OAAO,qEAAqE,sB;;;;;;ACArrC;AACA,gBAAe,KAAK;AACpB;;;AAGA;AACA,WAAU;AACV,aAAY;AACZ,WAAU;AACV;;AAEA;;AAEA;AACA,0BAAyB;AACzB;;AAEA;AACA;AACA,2BAA0B;AAC1B;AACA,IAAG;AACH,YAAW;AACX,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;;;;;;;ACpFA,wa;;;;;;ACAA;AACA,gBAAe,KAAK;AACpB;;;AAGA;AACA,WAAU;AACV,aAAY;AACZ,WAAU;AACV;;AAEA;;AAEA;AACA;AACA;AACA;AACA,0BAAyB;;AAEzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2BAA0B;AAC1B;AACA,IAAG;AACH,YAAW;AACX;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAG;AACH;AACA;AACA,+BAA8B;AAC9B;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,MAAK;;AAEL;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,UAAS;AACT;AACA,MAAK;;AAEL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,SAAQ;;AAER;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,QAAO;AACP;AACA,MAAK;AACL,IAAG;;AAEH;AACA;AACA;;AAEA,uCAAsC;AACtC,sCAAqC,OAAO;AAC5C;AACA,iCAAgC;AAChC;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA,4DAA2D;AAC3D;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,qCAAoC;AACpC;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK,gBAAgB;AACrB,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;;;;;;;ACpaA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,qBAAoB,kBAAkB;AACtC;AACA;AACA;AACA,sFAAqF;AACrF,6BAA4B;AAC5B,6BAA4B;AAC5B,IAAG;AACH;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,+BAA8B;AAC9B;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU;AACV;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,IAAG;AACH;AACA,EAAC;;AAED;;;;;;;AChHA,+H;;;;;;ACAA;AACA,gBAAe,KAAK;AACpB;;;AAGA;AACA,WAAU;AACV,aAAY;AACZ,WAAU;AACV;;AAEA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,2BAA0B;AAC1B;AACA,IAAG;AACH,YAAW;AACX;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,+BAA8B;AAC9B;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL,IAAG;AACH;AACA;;AAEA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;;;;;;;ACrJA,6qC;;;;;;ACAA;AACA,gBAAe,KAAK;AACpB;;;AAGA;AACA,WAAU;AACV,aAAY;AACZ,WAAU;AACV;;AAEA;;AAEA;AACA;AACA;AACA,0BAAyB;;AAEzB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA,qBAAoB,kBAAkB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,kBAAkB;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,+BAA8B;AAC9B;;AAEA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA,QAAO;AACP,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAoC,YAAY;AAChD,kEAAiE;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,sEAAqE,oBAAoB;;AAEzF,8EAA6E,oBAAoB,wBAAwB,mBAAmB,qCAAqC;;AAEjL,qFAAoF,gBAAgB,uBAAuB,wBAAwB,YAAY,sCAAsC,cAAc,aAAa;;AAEhO,gGAA+F;;AAE/F,6EAA4E;;AAE5E,oGAAmG,kBAAkB;;AAErH,2FAA0F,oBAAoB;;AAE9G,2EAA0E,oBAAoB;;AAE9F,mEAAkE,WAAW,wBAAwB,uCAAuC;;AAE5I,uDAAsD,oBAAoB,wBAAwB;;AAElG,4DAA2D,oBAAoB;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC;;AAED;;;;;;;AC7XA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5BA;AACA,gBAAe,KAAK;AACpB;;;AAGA;AACA,WAAU;AACV,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,qBAAoB,kBAAkB;AACtC;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;;AAEA,wCAAuC;AACvC,uCAAsC;AACtC,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA,WAAU;AACV,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,QAAO;AACP,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gCAA+B;AAC/B;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;;;;;;;ACxfA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACzBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA,IAAG;AACH;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC1CA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,MAAK;AACL;AACA;AACA;AACA,EAAC;;AAED;;;;;;;AC5EA;AACA,gBAAe,KAAK;AACpB;;;AAGA;AACA,WAAU;AACV,aAAY;AACZ,WAAU;AACV;;AAEA;;AAEA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW;;AAEX,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,qBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAO;AACP;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,UAAS;AACT,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA,EAAC;;AAED;;;;;;;ACjHA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACzBA,0C","file":"liveroom.js","sourcesContent":["/**\n * Created by AaronYuan on 4/22/16.\n */\n\nvar $ = require('jquery');\n\n$(function () {\n  'use strict';\n  var TopBarView = require('TopBarView');\n  var MainView = require('./views/live-room/main.view');\n\n  var a = new TopBarView();\n\n  a = new MainView();\n\n  console.log(a);\n  require('../stylesheets/liveroom.scss');\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/liveroom.js\n ** module id = 0\n ** module chunks = 7\n **/","module.exports = window._;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"window._\"\n ** module id = 27\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","var BaseView = require('./instance/baseView');\r\nvar BaseModel = require('./instance/baseModel');\r\nvar BaseRouter = require('./instance/baseRouter');\r\nvar ManagedObject = require('./entity/ManagedObject');\r\nvar storage = require('./store/storage');\r\nmodule.exports = {\r\n    'View':BaseView,\r\n    'Model':BaseModel,\r\n    'Router':BaseRouter,\r\n    'ManagedObject':ManagedObject,\r\n    'storage':storage\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/base-extend-backbone/src/index.js\n ** module id = 28\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/**\r\n * @time 2012年10月19日\r\n * @author icepy\r\n * @info 完成基础的View类\r\n *\r\n * @time 2016年2月27日\r\n * @author icepy\r\n * @info 改造兼容webpack打包\r\n */\r\n\r\n'use strict';\r\n\r\nvar Backbone = require('backbone');\r\nvar tplEng = require('tplEng');\r\nvar warn = require('../util/warn');\r\nvar Tools = require('../util/tools');\r\nvar error = require('../util/error');\r\nvar uid = 999;\r\nvar createID = function(){\r\n\treturn 'view_'+(uid++)+'_'+(new Date().getTime())+Math.floor(Math.random(100)*100);\r\n};\r\nvar BaseView = Backbone.View.extend({\r\n\tinitialize:function(options){\r\n\t\t//初始化参数\r\n\t\tthis._ICEOptions = options || {};\r\n\t\tif (_.isFunction(this.beforeMount)){\r\n\t\t\tthis.beforeMount();\r\n\t\t}else{\r\n\t\t\twarn('推荐使用beforeMount钩子方法，用来初始化自定义属性');\r\n\t\t};\r\n\t\tif (this.router) {\r\n\t\t\tthis.id = createID();\r\n\t\t\tthis.$el.append('<div id=\"'+this.id+'\"></div>');\r\n\t\t\tthis.$el = this.$el.find('#'+this.id);\r\n\t\t};\r\n\t\tthis._ICEinit();\r\n\t\treturn this;\r\n\t},\r\n\t_ICEinit:function(){\r\n\t\tif (_.isFunction(this.rawLoader)) {\r\n\t\t\tthis._template = this.rawLoader();\r\n\t\t\tif (this._template) {\r\n\t\t\t\tthis.$el.append(this._template);\r\n\t\t\t};\r\n\t\t}\r\n\t\tif (typeof this.afterMount === 'function') {\r\n\t\t\tthis.afterMount();\r\n\t\t}else{\r\n\t\t\twarn('推荐使用afterMount钩子方法，在此钩子方法中来获取DOM对象');\r\n\t\t};\r\n\t\tthis._ICEObject();\r\n\t},\r\n\t_ICEObject:function(){\r\n\t\tthis._ICEinitNode();\r\n\t\tthis.__YYTPC__ = true;\r\n\t\tif (_.isFunction(this.ready)) {\r\n\t\t\tthis.ready(this._ICEOptions);\r\n\t\t}else{\r\n\t\t\terror('一个View对象周期内必须实现ready钩子方法');\r\n\t\t};\r\n\t},\r\n\t_ICEinitEvent:function(){\r\n\t\tthis.delegateEvents(this.events);\r\n\t},\r\n\t_ICEinitNode:function(){\r\n\t\tvar self = this;\r\n\t\tthis.$parent = this._ICEOptions.parent;\r\n\t\tthis.$children  = [];\r\n\t\tthis.$root = this.$parent ? this.$parent.$root : this;\r\n\t\tif (this.$parent && this.$parent.__YYTPC__) {\r\n\t\t\tthis.$parent.$children.push(this);\r\n\t\t};\r\n\t\tthis.on('hook:context',function(){\r\n\t\t\tvar args = Tools.toArray(arguments);\r\n\t\t\tif (self && self.__YYTPC__) {\r\n\t\t\t\tif (_.isFunction(self.context)) {\r\n\t\t\t\t\tself.context.apply(self,args);\r\n\t\t\t\t}else{\r\n\t\t\t\t\twarn('未定义context上下文钩子方法');\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\t});\r\n\t},\r\n\t_ICEDestroy:function(){\r\n\t\t//实例销毁之前\r\n\t\tif (_.isFunction(this.beforeDestroy)) {\r\n\t\t\tthis.beforeDestroy();\r\n\t\t};\r\n\t\tthis.remove();\r\n\t\tthis.undelegate();\r\n\t\t//实例销毁之后\r\n\t\tif (_.isFunction(this.destroyed)) {\r\n\t\t\tthis.destroyed();\r\n\t\t};\r\n\t},\r\n\t/**\r\n\t * [triggerHook 触发父对象的Hook]\r\n\t * @return {[type]} [description]\r\n\t */\r\n\ttriggerContextHook:function(){\r\n\t\tif (this.$parent && this.$parent.__YYTPC__) {\r\n\t\t\tvar args = Tools.toArray(arguments);\r\n\t\t\tvar event = args[0];\r\n\t\t\tif (_.isString(event)) {\r\n\t\t\t\targs[0] = 'hook:context';\r\n\t\t\t}else{\r\n\t\t\t\targs.splice(0,0,'hook:context');\r\n\t\t\t};\r\n\t\t\tswitch (event) {\r\n\t\t\t\tcase 'root':\r\n\t\t\t\t\t\tthis.$root.trigger.apply(this.$root,args);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t\tthis.$parent.trigger.apply(this.$parent,args);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\twarn('在View实例对象初始化时未指明对象的结构关系');\r\n\t\t}\r\n\t},\r\n\t/**\r\n\t * [findDOMNode 查找DOM节点]\r\n\t * @param  {[type]} exprs [description]\r\n\t * @return {[type]}       [description]\r\n\t */\r\n\tfindDOMNode:function(exprs){\r\n\t\treturn this.$el && this.$el.find(exprs);\r\n\t},\r\n\t/**\r\n\t * [compileHTML 编译模板]\r\n\t * @param  {[type]} tplStr [description]\r\n\t * @param  {[type]} data   [description]\r\n\t * @return {[type]}        [description]\r\n\t */\r\n\tcompileHTML:function(tplStr,data){\r\n\t\treturn tplEng.compile(tplStr)(data);\r\n\t},\r\n\t/**\r\n\t * [broadcast 触发所有子组件相应的事件]\r\n\t * @param  {[type]} event [description]\r\n\t * @return {[type]}       [description]\r\n\t */\r\n\tbroadcast:function(){\r\n\t\tvar args = Tools.toArray(arguments);\r\n\t\tvar children = this.$children;\r\n\t\tvar i = 0;\r\n\t\tvar j = children.length;\r\n\t\tfor(;i<j;i++){\r\n\t\t\tvar child = children[i];\r\n\t\t\tvar propagate = child.trigger.apply(child,args);\r\n\t\t\tif(propagate){\r\n\t\t\t\tchild.broadcast.apply(child,args);\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\t/**\r\n\t * [dispatch 触发所有父组件相应的事件]\r\n\t * @param  {[type]} event [description]\r\n\t * @return {[type]}       [description]\r\n\t */\r\n\tdispatch:function(){\r\n\t\tvar args = Tools.toArray(arguments);\r\n\t\tvar parent = this.$parent;\r\n\t\twhile(parent){\r\n\t\t\tparent.trigger.apply(parent,args);\r\n\t\t\tparent = parent.$parent;\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\t/**\r\n\t * [destroy 销毁实例]\r\n\t * @return {[type]} [description]\r\n\t */\r\n\tdestroy:function(){\r\n\t\tthis._ICEOptions = null;\r\n\t\tthis.$children.length = 0;\r\n\t\tthis.$parent = null;\r\n\t\tthis.$root = null;\r\n\t\tthis._ICEDestroy();\r\n\t}\r\n});\r\n\r\nmodule.exports = BaseView;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/base-extend-backbone/src/instance/baseView.js\n ** module id = 29\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","module.exports = window.Backbone;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"window.Backbone\"\n ** module id = 30\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/*!art-template - Template Engine | http://aui.github.com/artTemplate/*/\n!function(){function a(a){return a.replace(t,\"\").replace(u,\",\").replace(v,\"\").replace(w,\"\").replace(x,\"\").split(/^$|,+/)}function b(a){return\"'\"+a.replace(/('|\\\\)/g,\"\\\\$1\").replace(/\\r/g,\"\\\\r\").replace(/\\n/g,\"\\\\n\")+\"'\"}function c(c,d){function e(a){return m+=a.split(/\\n/).length-1,k&&(a=a.replace(/\\s+/g,\" \").replace(/<!--.*?-->/g,\"\")),a&&(a=s[1]+b(a)+s[2]+\"\\n\"),a}function f(b){var c=m;if(j?b=j(b,d):g&&(b=b.replace(/\\n/g,function(){return m++,\"$line=\"+m+\";\"})),0===b.indexOf(\"=\")){var e=l&&!/^=[=#]/.test(b);if(b=b.replace(/^=[=#]?|[\\s;]*$/g,\"\"),e){var f=b.replace(/\\s*\\([^\\)]+\\)/,\"\");n[f]||/^(include|print)$/.test(f)||(b=\"$escape(\"+b+\")\")}else b=\"$string(\"+b+\")\";b=s[1]+b+s[2]}return g&&(b=\"$line=\"+c+\";\"+b),r(a(b),function(a){if(a&&!p[a]){var b;b=\"print\"===a?u:\"include\"===a?v:n[a]?\"$utils.\"+a:o[a]?\"$helpers.\"+a:\"$data.\"+a,w+=a+\"=\"+b+\",\",p[a]=!0}}),b+\"\\n\"}var g=d.debug,h=d.openTag,i=d.closeTag,j=d.parser,k=d.compress,l=d.escape,m=1,p={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},q=\"\".trim,s=q?[\"$out='';\",\"$out+=\",\";\",\"$out\"]:[\"$out=[];\",\"$out.push(\",\");\",\"$out.join('')\"],t=q?\"$out+=text;return $out;\":\"$out.push(text);\",u=\"function(){var text=''.concat.apply('',arguments);\"+t+\"}\",v=\"function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);\"+t+\"}\",w=\"'use strict';var $utils=this,$helpers=$utils.$helpers,\"+(g?\"$line=0,\":\"\"),x=s[0],y=\"return new String(\"+s[3]+\");\";r(c.split(h),function(a){a=a.split(i);var b=a[0],c=a[1];1===a.length?x+=e(b):(x+=f(b),c&&(x+=e(c)))});var z=w+x+y;g&&(z=\"try{\"+z+\"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:\"+b(c)+\".split(/\\\\n/)[$line-1].replace(/^\\\\s+/,'')};}\");try{var A=new Function(\"$data\",\"$filename\",z);return A.prototype=n,A}catch(B){throw B.temp=\"function anonymous($data,$filename) {\"+z+\"}\",B}}var d=function(a,b){return\"string\"==typeof b?q(b,{filename:a}):g(a,b)};d.version=\"3.0.0\",d.config=function(a,b){e[a]=b};var e=d.defaults={openTag:\"<%\",closeTag:\"%>\",escape:!0,cache:!0,compress:!1,parser:null},f=d.cache={};d.render=function(a,b){return q(a,b)};var g=d.renderFile=function(a,b){var c=d.get(a)||p({filename:a,name:\"Render Error\",message:\"Template not found\"});return b?c(b):c};d.get=function(a){var b;if(f[a])b=f[a];else if(\"object\"==typeof document){var c=document.getElementById(a);if(c){var d=(c.value||c.innerHTML).replace(/^\\s*|\\s*$/g,\"\");b=q(d,{filename:a})}}return b};var h=function(a,b){return\"string\"!=typeof a&&(b=typeof a,\"number\"===b?a+=\"\":a=\"function\"===b?h(a.call(a)):\"\"),a},i={\"<\":\"&#60;\",\">\":\"&#62;\",'\"':\"&#34;\",\"'\":\"&#39;\",\"&\":\"&#38;\"},j=function(a){return i[a]},k=function(a){return h(a).replace(/&(?![\\w#]+;)|[<>\"']/g,j)},l=Array.isArray||function(a){return\"[object Array]\"==={}.toString.call(a)},m=function(a,b){var c,d;if(l(a))for(c=0,d=a.length;d>c;c++)b.call(a,a[c],c,a);else for(c in a)b.call(a,a[c],c)},n=d.utils={$helpers:{},$include:g,$string:h,$escape:k,$each:m};d.helper=function(a,b){o[a]=b};var o=d.helpers=n.$helpers;d.onerror=function(a){var b=\"Template Error\\n\\n\";for(var c in a)b+=\"<\"+c+\">\\n\"+a[c]+\"\\n\\n\";\"object\"==typeof console&&console.error(b)};var p=function(a){return d.onerror(a),function(){return\"{Template Error}\"}},q=d.compile=function(a,b){function d(c){try{return new i(c,h)+\"\"}catch(d){return b.debug?p(d)():(b.debug=!0,q(a,b)(c))}}b=b||{};for(var g in e)void 0===b[g]&&(b[g]=e[g]);var h=b.filename;try{var i=c(a,b)}catch(j){return j.filename=h||\"anonymous\",j.name=\"Syntax Error\",p(j)}return d.prototype=i.prototype,d.toString=function(){return i.toString()},h&&b.cache&&(f[h]=d),d},r=n.$each,s=\"break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined\",t=/\\/\\*[\\w\\W]*?\\*\\/|\\/\\/[^\\n]*\\n|\\/\\/[^\\n]*$|\"(?:[^\"\\\\]|\\\\[\\w\\W])*\"|'(?:[^'\\\\]|\\\\[\\w\\W])*'|\\s*\\.\\s*[$\\w\\.]+/g,u=/[^\\w$]+/g,v=new RegExp([\"\\\\b\"+s.replace(/,/g,\"\\\\b|\\\\b\")+\"\\\\b\"].join(\"|\"),\"g\"),w=/^\\d[^,]*|,\\d[^,]*/g,x=/^,+|,+$/g;e.openTag=\"{{\",e.closeTag=\"}}\";var y=function(a,b){var c=b.split(\":\"),d=c.shift(),e=c.join(\":\")||\"\";return e&&(e=\", \"+e),\"$helpers.\"+d+\"(\"+a+e+\")\"};e.parser=function(a,b){a=a.replace(/^\\s/,\"\");var c=a.split(\" \"),e=c.shift(),f=c.join(\" \");switch(e){case\"if\":a=\"if(\"+f+\"){\";break;case\"else\":c=\"if\"===c.shift()?\" if(\"+c.join(\" \")+\")\":\"\",a=\"}else\"+c+\"{\";break;case\"/if\":a=\"}\";break;case\"each\":var g=c[0]||\"$data\",h=c[1]||\"as\",i=c[2]||\"$value\",j=c[3]||\"$index\",k=i+\",\"+j;\"as\"!==h&&(g=\"[]\"),a=\"$each(\"+g+\",function(\"+k+\"){\";break;case\"/each\":a=\"});\";break;case\"echo\":a=\"print(\"+f+\");\";break;case\"print\":case\"include\":a=e+\"(\"+c.join(\",\")+\");\";break;default:if(-1!==f.indexOf(\"|\")){var l=b.escape;0===a.indexOf(\"#\")&&(a=a.substr(1),l=!1);for(var m=0,n=a.split(\"|\"),o=n.length,p=l?\"$escape\":\"$string\",q=p+\"(\"+n[m++]+\")\";o>m;m++)q=y(q,n[m]);a=\"=#\"+q}else a=d.helpers[e]?\"=#\"+e+\"(\"+c.join(\",\")+\");\":\"=\"+a}return a},\"function\"==typeof define?define(function(){return d}):\"undefined\"!=typeof exports?module.exports=d:this.template=d}();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/link/artTemplate/dist/template.js\n ** module id = 31\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/**\r\n * @time 2012年10月26日\r\n * @author icepy\r\n * @info 完成warn包装\r\n */\r\n\r\n'use strict';\r\n\r\nvar log = require('./log');\r\n\r\nvar warn = function(msg,e){\r\n\tlog.warn(msg,e);\r\n}\r\nmodule.exports = warn;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/base-extend-backbone/src/util/warn.js\n ** module id = 32\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/**\r\n * @time 2012年10月26日\r\n * @author icepy\r\n * @info debug信息打印\r\n */\r\n\r\n'use strict';\r\n\r\nvar log = {\r\n\twarn:function(){},\r\n\terror:function(){},\r\n\tinfo:function(){},\r\n\tdir:function(){}\r\n};\r\nif (process.env.NODE_ENV !== 'product') {\r\n\tvar hasConsole =  typeof console !== undefined;\r\n\tlog.warn = function(msg,e){\r\n\t\tif (hasConsole) {\r\n\t\t\tconsole.warn('[YYT PC Warning]:'+ msg);\r\n\t\t\tif (e) {\r\n\t\t\t\tthrow e;\r\n\t\t\t}else{\r\n\t\t\t\tvar warning = new Error('Warning Stack Trace');\r\n\t\t\t\tconsole.warn(warning.stack);\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\tlog.error = function(msg){\r\n\t\tvar error = new Error(msg);\r\n\t\tthrow error.stack;\r\n\t};\r\n\tlog.info = function(msg){\r\n\t\tif (hasConsole) {\r\n\t\t\tconsole.info('[YYT PC INFO]'+msg);\r\n\t\t}\r\n\t};\r\n\tlog.dir = function(tag){\r\n\t\tvar arr = document.querySelectorAll(tag);\r\n\t\tif (arr && arr.length) {\r\n\t\t\tarr.forEach(function(element){\r\n\t\t\t\tconsole.dir(element);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n}\r\nmodule.exports = log;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/base-extend-backbone/src/util/log.js\n ** module id = 33\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/~/node-libs-browser/~/process/browser.js\n ** module id = 34\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/**\r\n * @time 2012年10月26日\r\n * @author icepy\r\n * @info 完成处理tools对象\r\n */\r\n\r\n'use strict';\r\n\r\n(function (factory) {\r\n    var root = (typeof self == 'object' && self.self == self && self) ||\r\n        (typeof global == 'object' && global.global == global && global);\r\n    if (typeof exports === 'object' && typeof module === 'object') {\r\n        module.exports = factory();\r\n    } else if (typeof exports === 'object') {\r\n        exports['tools'] = factory()\r\n    } else {\r\n        if (!root.ICEPlugs) {\r\n            root.ICEPlugs = {};\r\n        }\r\n        root.ICEPlugs.tools = factory();\r\n    }\r\n})(function () {\r\n    var tools = {};\r\n    var toString = Object.prototype.toString;\r\n    var OBJECT_TYPE = '[object Object]';\r\n    /**\r\n     * [isPlainObject 判断是否为普通对象]\r\n     * @param  {[Object]}  obj [对象]\r\n     * @return {Boolean}\r\n     */\r\n    tools.isPlainObject = function (obj) {\r\n        return toString.call(obj) === OBJECT_TYPE;\r\n    };\r\n    /**\r\n     * [isObject 判断是否为对象]\r\n     * @param  {[*]}  obj [任意一个元素]\r\n     * @return {Boolean}\r\n     */\r\n    tools.isObject = function (obj) {\r\n        return obj !== null && typeof obj === 'object';\r\n    };\r\n    var hasOwnProperty = Object.prototype.hasOwnProperty;\r\n    /**\r\n     * [hasOwn 检查对象是否为自身的属性]\r\n     * @param  {[Object]}  obj [description]\r\n     * @param  {[String]}  key [description]\r\n     * @return {Boolean}     [description]\r\n     */\r\n    tools.hasOwn = function (obj, key) {\r\n        return hasOwnProperty.call(obj, key);\r\n    };\r\n    /**\r\n     * [toArray 类数组对象转数组]\r\n     * @param  {[Array-like]} list  [类数组]\r\n     * @param  {[Number]} index [起始索引]\r\n     * @return {[Array]}       [返回一个新的真实数组]\r\n     */\r\n    tools.toArray = function (list, index) {\r\n        index = index || 0;\r\n        var i = list.length - index;\r\n        var _array = new Array(i);\r\n        while (i--) {\r\n            _array[i] = list[i + index];\r\n        }\r\n        return _array;\r\n    };\r\n    /**\r\n     * [toType 导出类型字符串]\r\n     * @param  {[type]} value [description]\r\n     * @return {[type]}       [description]\r\n     */\r\n    tools.toType = function (value) {\r\n        return toString.call(value);\r\n    };\r\n    /**\r\n     * [exportToNumber 导出数字]\r\n     * @param  {[*]} value [description]\r\n     * @return {[*|Number]}       [description]\r\n     */\r\n    tools.exportToNumber = function (value) {\r\n        if (typeof value !== 'string') {\r\n            return value;\r\n        } else {\r\n            var number = Number(value);\r\n            return isNaN(number) ? value : number;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * [isArray 判断是否为数组]\r\n     * @param  {*} value [description]\r\n     * @return {Boolean}       [description]\r\n     */\r\n    tools.isArray = function(obj){\r\n        return tools.toType(obj) === '[object Array]';\r\n    };\r\n\r\n    /**\r\n     * [mergeData 合并数据]\r\n     * @param  {obj} value [description]\r\n     * @param  {obj} value [description]\r\n     * @return {obj}       [description]\r\n     */\r\n    tools.mergeData = function(to,from){\r\n        var key,toVal,fromVal;\r\n        for(key in from){\r\n            toVal = to[key];\r\n            fromVal = from[key];\r\n            if (tools.isPlainObject(toVal) && tools.isPlainObject(fromVal)) {\r\n                tools.mergeData(toVal,fromVal);\r\n            }\r\n        }\r\n        return to;\r\n    };\r\n    return tools;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/base-extend-backbone/src/util/tools.js\n ** module id = 35\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/**\r\n * @time 2012年10月26日\r\n * @author icepy\r\n * @info 完成error包装\r\n */\r\n\r\n'use strict';\r\n\r\nvar log = require('./log');\r\n\r\nvar error = function(msg,e){\r\n\tlog.error(msg,e);\r\n}\r\nmodule.exports = error;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/base-extend-backbone/src/util/error.js\n ** module id = 36\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/**\r\n * @time 2012年10月19日\r\n * @author icepy\r\n * @info 实现基础的模型类\r\n *\r\n * @time 2012年10月27日\r\n * @author icepy\r\n * @info 现实对请求进行本地缓存\r\n *\r\n * @time 2016年2月27日\r\n * @author icepy\r\n * @info 改造兼容webpack打包以及扩展Model\r\n *\r\n */\r\n\r\n\r\n'use strict';\r\nvar Backbone = require('backbone')\r\nvar storage = require('../store/storage');\r\nvar Tools = require('../util/tools');\r\nvar warn = require('../util/warn');\r\nvar uid = 1314;\r\nvar expiration = storage.expiration;\r\nvar BaseModel = Backbone.Model.extend({\r\n\tinitialize:function(options){\r\n\t\tif (_.isFunction(this.beforeEmit)) {\r\n\t\t\tthis.beforeEmit(options);\r\n\t\t};\r\n\t\tthis._url = this.url;\r\n\t},\r\n\t_ICEFetch:function(options){\r\n\t\tthis.fetch(options);\r\n\t},\r\n\t_ICESave:function(HTTPBody,options){\r\n\t\tthis.save(HTTPBody,options);\r\n\t},\r\n\t_ICEDestroy:function(options){\r\n\t\tthis.destroy(options);\r\n\t},\r\n\t_ICEJSONP:function(parameter,options){\r\n\t\t$.ajax($.extend({\r\n\t\t\turl:this.url,\r\n\t\t\tdata:parameter || {},\r\n\t\t\tdataType:'jsonp',\r\n\t\t\tjsonp:'callback'\r\n\t\t},options));\r\n\t},\r\n\t_ICESendHelper:function(message,defer){\r\n\t\tvar self = this;\r\n\t\tif (message.url) {\r\n\t\t\t//如果存在url，将this的url替换\r\n\t\t\tthis.url = message.url;\r\n\t\t};\r\n\t\tvar options = {};\r\n\t\toptions.beforeSend = function(xhr,setting){\r\n\t\t\tfor(var key in this.headers){\r\n\t\t\t\txhr.setRequestHeader(key,this.headers[key]);\r\n\t\t\t}\r\n\t\t};\r\n\t\toptions.success = function(model,response,afterSetting){\r\n\t\t\tresponse = self._ICEProcessData(response);\r\n\t\t\tdefer.resolve.call(model,response,afterSetting.xhr);\r\n\t\t}\r\n\t\toptions.error = function(model,xhr){\r\n\t\t\tdefer.reject.call(model,xhr);\r\n\t\t}\r\n\t\tswitch(message.type){\r\n\t\t\tcase 'POST':\r\n\t\t\t\tthis._ICESave(message.HTTPBody,options);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'PUT':\r\n\t\t\t\tvar id = message.HTTPBody.id;\r\n\t\t\t\tif(!id && id !== 0){\r\n\t\t\t\t\tmessage.HTTPBody.id = 'icepy'+(uid++);\r\n\t\t\t\t};\r\n\t\t\t\tthis._ICESave(message.HTTPBody,options);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'DELETE':\r\n\t\t\t\tthis._ICEDestroy(options);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'JSONP':\r\n\t\t\t\tthis._ICEJSONP(message.parameter,{\r\n\t\t\t\t\tsuccess:function(response,state,xhr){\r\n\t\t\t\t\t\tresponse = self._ICEProcessData(response);\r\n\t\t\t\t\t\tdefer.resolve.call(self,response,state,xhr);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror:function(xhr,state,errors){\r\n\t\t\t\t\t\tdefer.reject.call(self,xhr,state,errors);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthis._ICEFetch(options);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\t_ICESendMessage:function(message,defer){\r\n\t\tvar self = this;\r\n\t\tif (this.storageCache && this.expiration){\r\n\t\t\tif (!storage.enabled){\r\n\t\t\t\tthis._ICESendHelper(message,defer);\r\n\t\t\t}else{\r\n\t\t\t\tvar data = expiration.get(this.url);\r\n\t\t\t\tif (!data) {\r\n\t\t\t\t\tthis._ICESendHelper(message,defer);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t};\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\tdata = self._ICEProcessData(data,true);\r\n\t\t\t\t\tdefer.reslove(data)\r\n\t\t\t\t},50);\r\n\t\t\t};\r\n\t\t}else{\r\n\t\t\tthis._ICESendHelper(message,defer);\r\n\t\t};\r\n\t},\r\n\t_ICEProcessData:function(response,before){\r\n\t\t//如果自定义了formatter方法，先对数据进行格式化\r\n\t\tif (_.isFunction(this.formatter)) {\r\n\t\t\tresponse = this.formatter(response);\r\n\t\t};\r\n\t\t//如果开启了缓存，对数据源进行本地存储\r\n\t\tif (this.storageCache && this.expiration && !before) {\r\n\t\t\tif (storage.enabled){\r\n\t\t\t\texpiration.set(this.url,response,this.expiration);\r\n\t\t\t};\r\n\t\t};\r\n\t\tthis.set(response);\r\n\t\treturn response;\r\n\t},\r\n\t/**\r\n\t * [execute GET请求简化版]\r\n\t * @param  {[type]} success [description]\r\n\t * @param  {[type]} error   [description]\r\n\t * @return {[type]}         [description]\r\n\t */\r\n\texecute:function(){\r\n\t\tvar defer = $.Deferred();\r\n\t\tvar message = {\r\n\t\t\ttype:'GET'\r\n\t\t};\r\n\t\tvar args = Tools.toArray(arguments);\r\n\t\tvar g = args.splice(0,1)[0];\r\n\t\tif (Tools.isPlainObject(g)) {\r\n\t\t\tmessage = _.extend(message,g);\r\n\t\t}\r\n\t\tthis._ICESendMessage(message,defer);\r\n\t\treturn defer.promise();\r\n\t},\r\n\t/**\r\n\t * [executeGET 发起GET请求]\r\n\t * @param  {[type]} success [description]\r\n\t * @param  {[type]} error   [description]\r\n\t * @return {[type]}         [description]\r\n\t */\r\n\texecuteGET:function(){\r\n\t\tvar message = {\r\n\t\t\ttype:'GET'\r\n\t\t};\r\n\t\treturn this.execute(message);\r\n\t},\r\n\t/**\r\n\t * [executePOST 发起POST请求]\r\n\t * @param  {[type]} HTTPBody [description]\r\n\t * @param  {[type]} success  [description]\r\n\t * @param  {[type]} error    [description]\r\n\t * @return {[type]}          [description]\r\n\t */\r\n\texecutePOST:function(HTTPBody){\r\n\t\tvar message = {\r\n\t\t\ttype:'POST',\r\n\t\t\tHTTPBody:HTTPBody\r\n\t\t};\r\n\t\treturn this.execute(message);\r\n\t},\r\n\t/**\r\n\t * [executePUT 发起PUT请求]\r\n\t * @param  {[type]} HTTPBody [description]\r\n\t * @param  {[type]} success  [description]\r\n\t * @param  {[type]} error    [description]\r\n\t * @return {[type]}          [description]\r\n\t */\r\n\texecutePUT:function(HTTPBody){\r\n\t\tvar message = {\r\n\t\t\ttype:'PUT',\r\n\t\t\tHTTPBody:HTTPBody\r\n\t\t};\r\n\t\treturn this.execute(message);\r\n\t},\r\n\t/**\r\n\t * [executeDELETE 发起delete请求]\r\n\t * @return {[type]} [description]\r\n\t */\r\n\texecuteDELETE:function(){\r\n\t\tvar message = {\r\n\t\t\ttype:'DELETE'\r\n\t\t};\r\n\t\treturn this.execute(message);\r\n\t},\r\n\t/**\r\n\t * [executeJSONP 发起JSONP跨域请求]\r\n\t * @param  {[type]} success [description]\r\n\t * @param  {[type]} error   [description]\r\n\t * @return {[type]}         [description]\r\n\t */\r\n\texecuteJSONP:function(parameter){\r\n\t\tvar message = {\r\n\t\t\ttype:'JSONP',\r\n\t\t\tparameter:parameter\r\n\t\t};\r\n\t\treturn this.execute(message);\r\n\t},\r\n\t/**\r\n\t * [setChangeURL 辅助拼接URL参数]\r\n\t * @param {[type]} parameter [description]\r\n\t */\r\n\tsetChangeURL:function(parameter){\r\n\t\tvar url = ''\r\n\t\tif (!parameter) {\r\n\t\t\treturn this.url;\r\n\t\t};\r\n\t\tfor(var key in parameter){\r\n\t\t\tvar value = parameter[key];\r\n\t\t\tif (!url.length) {\r\n\t\t\t\turl += '?'+key+'='+value;\r\n\t\t\t}else{\r\n\t\t\t\turl += '&'+key+'='+value;\r\n\t\t\t};\r\n\t\t};\r\n\t\tthis.url = this._url + url;\r\n\t},\r\n\t/**\r\n\t * [setHeaders 设置XHR 头信息]\r\n\t * @param {[string|object]} headers [description]\r\n\t */\r\n\tsetHeaders:function(){\r\n\t\tif (!this.headers) {\r\n\t\t\tthis.headers = {};\r\n\t\t};\r\n\t\tvar args = Tools.toArray(arguments);\r\n\t\tif (args.length === 1) {\r\n\t\t\tvar headers = args[0];\r\n\t\t\tfor(var key in headers){\r\n\t\t\t\tthis.headers[key] = headers[key];\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tif (args.length) {\r\n\t\t\t\tvar key = args[0];\r\n\t\t\t\tvar value = args[1];\r\n\t\t\t\tthis.headers[key] = value;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t/**\r\n\t * [setUpdateStorage 将实体数据更新到本地缓存]\r\n\t * @return {[type]} [description]\r\n\t */\r\n\tsetUpdateStorage:function(){\r\n\t\tif (storage.enabled){\r\n\t\t\texpiration.set(self.url,this.manager.$get(),self.expiration);\r\n\t\t};\r\n\t}\r\n});\r\nmodule.exports = BaseModel;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/base-extend-backbone/src/instance/baseModel.js\n ** module id = 37\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/**\r\n * @time 2012年10月27日\r\n * @author icepy\r\n * @info 封装完成本地缓存API\r\n *\r\n * @time 2016年2月27日\r\n * @author icepy\r\n * @info 改造兼容webpack打包\r\n */\r\n\r\n'use strict';\r\n\r\n(function(factory) {\r\n\tvar root = (typeof self == 'object' && self.self == self && self) ||\r\n\t\t(typeof global == 'object' && global.global == global && global);\r\n\tif(typeof exports === 'object' && typeof module === 'object'){\r\n\t\tmodule.exports = factory();\r\n\t}else if(typeof exports === 'object'){\r\n\t\texports['storage'] = factory()\r\n\t}else{\r\n\t\tif (!root.ICEPlugs) {\r\n\t\t\troot.ICEPlugs = {};\r\n\t\t};\r\n\t\troot.ICEPlugs.storage = factory();\r\n\t};\r\n})(function() {\r\n\tvar store = {};\r\n\tvar _window = window;\r\n\tvar localStorageName = 'localStorage';\r\n\tvar sessionStorageName = 'sessionStorage';\r\n\tvar rootKey = 'ICEStorageCache';\r\n\tvar storage, session;\r\n\tvar isLocalStorageNameSupported = function() {\r\n\t\ttry {\r\n\t\t\treturn (localStorageName in _window && _window[localStorageName]);\r\n\t\t} catch (err) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\tvar isSessionStorageNameSupported = function() {\r\n\t\ttry {\r\n\t\t\treturn (sessionStorageName in _window && _window[sessionStorageName]);\r\n\t\t} catch (err) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\tstore.disabled = false;\r\n\tstore.version = '0.0.1';\r\n\t/**\r\n\t * [has 根据Key判断是否存在]\r\n\t * @param  {[String]}  key [description]\r\n\t * @return {Boolean}     [description]\r\n\t */\r\n\tstore.has = function(key) {\r\n\t\treturn store.get(key) !== undefined;\r\n\t};\r\n\r\n\t/**\r\n\t * [transact 有存储是否成功的回调函数]\r\n\t * @param  {[String]} key           [description]\r\n\t * @param  {[String]} defaultVal    [description]\r\n\t * @param  {[type]} transactionFn [description]\r\n\t */\r\n\tstore.transact = function(key, defaultVal, transactionFn) {\r\n\t\tif (transactionFn == null) {\r\n\t\t\ttransactionFn = defaultVal;\r\n\t\t\tdefaultVal = null;\r\n\t\t}\r\n\r\n\t\tif (defaultVal == null) {\r\n\t\t\tdefaultVal = {};\r\n\t\t}\r\n\r\n\t\tvar val = store.get(key, defaultVal);\r\n\t\ttransactionFn(val);\r\n\t\tstore.set(key, val);\r\n\t};\r\n\t/**\r\n\t * [serialize 对象转字符串]\r\n\t * @param  {[Object]} value [description]\r\n\t * @return {[String]}       [description]\r\n\t */\r\n\tstore.serialize = function(value) {\r\n\t\treturn JSON.stringify(value);\r\n\t};\r\n\t/**\r\n\t * [deserialize 字符串格式化对象]\r\n\t * @param  {[String]} value [description]\r\n\t * @return {[Object]}       [description]\r\n\t */\r\n\tstore.deserialize = function(value) {\r\n\t\tif (typeof value != 'string') {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t\ttry {\r\n\t\t\treturn JSON.parse(value);\r\n\t\t} catch (e) {\r\n\t\t\treturn value || undefined;\r\n\t\t}\r\n\t};\r\n\tif (isLocalStorageNameSupported()) {\r\n\t\tstorage = _window[localStorageName];\r\n\t\t/**\r\n\t\t * [set  存储本地缓存]\r\n\t\t * @param {[String]} key [description]\r\n\t\t * @param {[Object]} val [description]\r\n\t\t */\r\n\t\tstore.set = function(key, val) {\r\n\t\t\tif (val === undefined) {\r\n\t\t\t\treturn store.remove(key);\r\n\t\t\t}\r\n\t\t\tstorage.setItem(key, store.serialize(val));\r\n\t\t\treturn val;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * [get 获取本地缓存]\r\n\t\t * @param  {[String]} key        [description]\r\n\t\t * @param  {[type]} defaultVal [description]\r\n\t\t * @return {[Boolean]}            [description]\r\n\t\t */\r\n\t\tstore.get = function(key, defaultVal) {\r\n\t\t\tvar val = store.deserialize(storage.getItem(key));\r\n\t\t\treturn (val === undefined ? defaultVal : val);\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * [remove 根据key名删除一个本地缓存]\r\n\t\t * @param  {[String]} key [description]\r\n\t\t */\r\n\t\tstore.remove = function(key) {\r\n\t\t\tstorage.removeItem(key);\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * [clear 清除所有的本地缓存]\r\n\t\t */\r\n\t\tstore.clear = function() {\r\n\t\t\tstorage.clear();\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * [getAll description]\r\n\t\t * @return {[Object]} [description]\r\n\t\t */\r\n\t\tstore.getAll = function() {\r\n\t\t\tvar ret = {};\r\n\t\t\tstore.forEach(function(key, val) {\r\n\t\t\t\tret[key] = val;\r\n\t\t\t});\r\n\t\t\treturn ret;\r\n\t\t};\r\n\t\tstore.forEach = function(callback) {\r\n\t\t\tfor (var i = 0; i < storage.length; i++) {\r\n\t\t\t\tvar key = storage.key(i);\r\n\t\t\t\tcallback(key, store.get(key));\r\n\t\t\t}\r\n\t\t};\r\n\t\t//可以设置过期时间\r\n\t\tstore.expiration = {\r\n\t\t\t/**\r\n\t\t\t * [set 存储可以设置过期时间的本地缓存]\r\n\t\t\t * @param {[String]} key [description]\r\n\t\t\t * @param {[Object]} val [description]\r\n\t\t\t * @param {[Number]} exp [description]\r\n\t\t\t */\r\n\t\t\tset: function(key, val, exp) {\r\n\t\t\t\t//exp 接受自然整数，以一小时60分钟为单位\r\n\t\t\t\tvar Root = store.get(rootKey) || {};\r\n\t\t\t\tRoot[key] = {\r\n\t\t\t\t\tval: val,\r\n\t\t\t\t\texp: exp * (1000 * 60 * 60),\r\n\t\t\t\t\ttime: new Date().getTime()\r\n\t\t\t\t};\r\n\t\t\t\tstore.set(rootKey, Root);\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * [get 获取有过期时间的本地缓存]\r\n\t\t\t * @param  {[String]} key [description]\r\n\t\t\t * @return {[*]}     [*]\r\n\t\t\t */\r\n\t\t\tget: function(key) {\r\n\t\t\t\tvar Root = store.get(rootKey);\r\n\t\t\t\tif (!Root) {\r\n\t\t\t\t\t//根节点不存在\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t};\r\n\t\t\t\tvar info = Root[key];\r\n\t\t\t\tif (!info) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t\tif (new Date().getTime() - info.time > info.exp) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t\treturn info.val\r\n\t\t\t},\r\n\t\t\tgetAll: function() {\r\n\t\t\t\tvar Root = store.get(rootKey);\r\n\t\t\t\treturn Root || null;\r\n\t\t\t},\r\n\t\t\tresetSave: function(val) {\r\n\t\t\t\tstore.set(rootKey, val);\r\n\t\t\t}\r\n\t\t};\r\n\t\tif (isSessionStorageNameSupported()) {\r\n\t\t\tsession = _window[sessionStorageName];\r\n\t\t\t//会话模式\r\n\t\t\tstore.session = {\r\n\t\t\t\t/**\r\n\t\t\t\t * [set 存储一个会话]\r\n\t\t\t\t * @param {[String]} key [description]\r\n\t\t\t\t * @param {[*]} val [*]\r\n\t\t\t\t */\r\n\t\t\t\tset: function(key, val) {\r\n\t\t\t\t\tif (val === undefined) {\r\n\t\t\t\t\t\treturn store.remove(key);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar stayStore;\r\n\t\t\t\t\tif (Object.prototype.toString.call(val) === '[object Object]') {\r\n\t\t\t\t\t\tstayStore = store.serialize(val);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tstayStore = val;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tsession.setItem(key, stayStore);\r\n\t\t\t\t},\r\n\t\t\t\t/**\r\n\t\t\t\t * [get 获取一个会话]\r\n\t\t\t\t * @param  {[String]} key [description]\r\n\t\t\t\t * @return {[Boolean]}     [description]\r\n\t\t\t\t */\r\n\t\t\t\tget: function(key) {\r\n\t\t\t\t\tvar val = store.deserialize(session.getItem(key));\r\n\t\t\t\t\treturn (val === undefined ? defaultVal : val);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\ttry {\r\n\t\tvar testKey = '__storeJs__';\r\n\t\tstore.set(testKey, testKey);\r\n\t\tif (store.get(testKey) != testKey) {\r\n\t\t\tstore.disabled = true;\r\n\t\t}\r\n\t\tstore.remove(testKey);\r\n\t} catch (e) {\r\n\t\tstore.disabled = true;\r\n\t}\r\n\tstore.enabled = !store.disabled;\r\n\tif (store.enabled) {\r\n\t\tvar modelCache = store.expiration.getAll();\r\n\t\tif (modelCache) {\r\n\t\t\tfor (var cacheKey in modelCache) {\r\n\t\t\t\tvar cache = modelCache[cacheKey];\r\n\t\t\t\tif (new Date().getTime() - cache.time > cache.exp) {\r\n\t\t\t\t\tcache = null;\r\n\t\t\t\t\tdelete modelCache[cacheKey]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tstore.expiration.resetSave(modelCache);\r\n\t};\r\n\treturn store;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/base-extend-backbone/src/store/storage.js\n ** module id = 38\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/**\r\n * @time 2016年3月21日\r\n * @author icepy\r\n * @info 基于路由的生命周期\r\n */\r\n\r\n'use strict'\r\n\r\nvar Backbone = require('backbone');\r\nvar warn = require('../util/warn');\r\nvar stack = [];\r\nvar routerHash = {};\r\nvar curr = null;\r\nvar router = null;\r\nvar routerHashTop = function(key) {\r\n    return routerHash[key];\r\n};\r\nvar routerHashRmove = function(key) {\r\n    delete routerHash[key];\r\n};\r\nvar BaseRouter = Backbone.Router.extend({\r\n    addLifeCycleHelper: function(name, view, parameter) {\r\n        var top = routerHashTop(name);\r\n        var stackCheckHandler = function() {\r\n            if (curr) {\r\n                //视图隐藏或者销毁之前\r\n                if (_.isFunction(router.viewWillDisappear)) {\r\n                    router.viewWillDisappear.call(curr);\r\n                }else{\r\n                    if (router.dealloc) {\r\n                        warn('销毁实例{dealloc = true}之前必须存在viewWillDisappear，在此进行解除其他对象的引用或者调用（每个）destroy方法');\r\n                    };\r\n                };\r\n                if (router.dealloc) {\r\n                    //进入实例销毁流程\r\n                    curr.destroy();\r\n                    var obj = routerHashTop(curr._router);\r\n                    if (obj) {\r\n                        routerHashRmove(curr._router);\r\n                        stack.splice(stack.indexOf(curr.cid), 1);\r\n                        obj = null;\r\n                    };\r\n                }\r\n                //视图隐藏或者销毁之后\r\n                if (_.isFunction(router.viewDidDisappear)) {\r\n                    router.viewDidDisappear.call(curr);\r\n                };\r\n            }\r\n        }\r\n        if (top) {\r\n            stackCheckHandler();\r\n            curr = null;\r\n            curr = top;\r\n            curr.trigger('viewWillAppear');\r\n        } else {\r\n            stackCheckHandler();\r\n            curr = parameter ? new view({\r\n                '$parameter': parameter\r\n            }) : new view();\r\n            stack.push(curr.cid);\r\n            curr._router = name;\r\n            curr._didLoad = false; //记录viewDidLoad跟随路由呈现的生命周期状态\r\n            router = curr.router;\r\n            routerHash[name] = curr;\r\n            //视图呈现的生命周期只会触发一次\r\n            curr.once('viewDidLoad', function() {\r\n                if (_.isFunction(router.viewDidLoad)) {\r\n                    router.viewDidLoad.call(curr);\r\n                }else{\r\n                    warn('基于路由的Root Component，必须存在viewDidLoad钩子');\r\n                };\r\n                if (!curr._didLoad) {\r\n                    curr._didLoad = true;\r\n                    curr.trigger('viewDidAppear');\r\n                };\r\n            });\r\n            //视图将要呈现之前\r\n            curr.on('viewWillAppear', function() {\r\n                if (_.isFunction(router.viewWillAppear)) {\r\n                    router.viewWillAppear.call(curr);\r\n                }else{\r\n                    warn('基于路由的Root Component，必须存在viewWillAppear');\r\n                };\r\n                if (!curr._didLoad) {\r\n                    //viewDidLoad事件还未触发\r\n                    curr.trigger('viewDidLoad');\r\n                }else{\r\n                    curr.trigger('viewDidAppear');\r\n                };\r\n            });\r\n            //视图已经呈现之后\r\n            curr.on('viewDidAppear', function() {\r\n                if (_.isFunction(router.viewDidAppear)) {\r\n                    router.viewDidAppear.call(curr);\r\n                }else{\r\n                    warn('基于路由的Root Component，必须存在viewDidAppear');\r\n                };\r\n            });\r\n            curr.trigger('viewWillAppear');\r\n        }\r\n        return curr;\r\n    }\r\n});\r\nmodule.exports = BaseRouter;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/base-extend-backbone/src/instance/baseRouter.js\n ** module id = 39\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/**\r\n * @time 2016年3月29日\r\n * @author icepy\r\n * @info 实体管理类\r\n */\r\nvar Tools = require('../util/tools');\r\nvar baseModelSort = [];\r\n\r\nvar ManagedObject = function(options){\r\n    options = options || {};\r\n    this.entity = options.entity || {};\r\n};\r\n\r\nManagedObject.prototype.$update = function(obj){\r\n    var entity = _.extend(this.entity,obj);\r\n    this.entity = null;\r\n    this.entity = entity;\r\n};\r\n/**\r\n * [$get 从实体中获取数据，无参将返回所有数据，参数使用.结构化表达式（this.$get('items.0.id')）]\r\n * @param  {[type]} expression [description]\r\n * @return {[type]}            [description]\r\n */\r\nManagedObject.prototype.$get = function(expression){\r\n    if (!expression) {\r\n        return this.entity;\r\n    }\r\n    var attrNodes = expression.split('.');\r\n    var lh = attrNodes.length;\r\n    if (lh > 0) {\r\n        var node = attrNodes[0];\r\n        var i = 0;\r\n        var entity = this.entity;\r\n        while(node){\r\n            i++\r\n            entity = entity[node];\r\n            node = attrNodes[i];\r\n        }\r\n        return entity;\r\n    }\r\n};\r\n/**\r\n * [$set 向实体内部更新数据，以key/value的方式，第一个参数使用结构化表达式，第二个参数可以是任意类型的数据]\r\n * @param {[type]} expression [description]\r\n * @param {[type]} value      [description]\r\n */\r\nManagedObject.prototype.$set = function(expression,value,options){\r\n    if (expression === null || expression === undefined) {\r\n        return this;\r\n    };\r\n    if (Tools.isPlainObject(expression)) {\r\n        this.entity = null;\r\n        this.entity = expression;\r\n        return this.entity;\r\n    };\r\n    var attrNodes = expression.split('.');\r\n    var lh = attrNodes.length;\r\n    if (lh > 0) {\r\n        var i = 0;\r\n        var node = attrNodes[i];\r\n        var entity = this.entity;\r\n        if (lh !== 1) {\r\n            while(node){\r\n                i++\r\n                entity = entity[node];\r\n                node = attrNodes[i];\r\n                if (i > (lh - 2)) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        switch(Tools.toType(entity)){\r\n            case '[object Object]':\r\n                entity[node] = value;\r\n                break;\r\n            case '[object Array]':\r\n                entity[Tools.exportToNumber(node)] = value;\r\n                break;\r\n            default:\r\n                entity = value;\r\n                break;\r\n        };\r\n    }\r\n};\r\n/**\r\n * [$filter 向实体内部的某项数据进行筛选，第一个参数是要筛选数据的.结构化表达式，第二个参数是筛选根据]\r\n * @param  {[type]} expression [description]\r\n * @param  {[type]} value      [description]\r\n * @return {[type]}            [description]\r\n */\r\nManagedObject.prototype.$filter = function(expression,value){\r\n    var data = this.$get(expression);\r\n    var result = [];\r\n    if (Tools.isArray(data)) {\r\n        var i = data.length;\r\n        var n;\r\n        while(i--){\r\n            var val = data[i];\r\n            switch(Tools.toType(value)){\r\n                case '[object Object]':\r\n                    n = true;\r\n                    for(var k in value){\r\n                        if (!(val[k] === value[k])) {\r\n                            n = null;\r\n                            break;\r\n                        }\r\n                    }\r\n                    break\r\n                case '[object Function]':\r\n                    n = value(val,i);\r\n                    break\r\n                default:\r\n                    n = (val === value);\r\n                    break\r\n            };\r\n            if (n) {\r\n                result.push(val)\r\n            };\r\n        };\r\n    };\r\n    return result;\r\n};\r\n/**\r\n * [$sort 对实体内部的某项数据进行排序，第二个参数是要排序数据的.结构化表达式，第二个参数是排序的根据]\r\n * @param  {[type]} expression [description]\r\n * @param  {[type]} value      [description]\r\n * @return {[type]}            [description]\r\n */\r\nManagedObject.prototype.$sort = function(expression,value){\r\n    // > 大于 true\r\n    // < 小于 false\r\n    var data = this.$get(expression);\r\n    baseModelSort.length = 0;\r\n    if (Tools.isArray(data)) {\r\n        switch(Tools.toType(value)){\r\n            case '[object Function]':\r\n                baseModelSort = this._sort(data,value)\r\n                break\r\n            default:\r\n                if (typeof value === 'string') {\r\n                    var attrNodes = value.split('.');\r\n                    var logic = null;\r\n                    var lh = attrNodes.length - 1;\r\n                    switch(attrNodes[lh]){\r\n                        case '>':\r\n                            logic = true;\r\n                            break\r\n                        case '<':\r\n                            logic = false;\r\n                            break\r\n                        default:\r\n                            return baseModelSort;\r\n                            break\r\n                    };\r\n                    if (logic !== null) {\r\n                        return this._sort(data,function(val1,val2){\r\n                            var node = attrNodes[0];\r\n                            var i = 0;\r\n                            while(node){\r\n                                val1 = val1[node];\r\n                                val2 = val2[node];\r\n                                i++\r\n                                if (i === lh) {\r\n                                    break;\r\n                                };\r\n                                node = attrNodes[i];\r\n                            }\r\n                            if (logic) {\r\n                                return val1 > val2;\r\n                            }else{\r\n                                return val1 < val2;\r\n                            };\r\n                        });\r\n                    }\r\n\r\n                };\r\n                break\r\n        }\r\n    };\r\n    return baseModelSort;\r\n};\r\n\r\nManagedObject.prototype._sort = function(data,fun){\r\n    var n = data.length;\r\n    if (n < 2) {\r\n        return data;\r\n    };\r\n    var i = 0;\r\n    var j = i+1;\r\n    var logic,temp,key;\r\n    for(;i<j;i++){\r\n        for(j = i+1;j<n;j++){\r\n            logic = fun.call(this,data[i],data[j]);\r\n            key = (typeof logic === 'number' ? logic : !!logic ? 1 : 0) > 0 ? true : false;\r\n            if (key) {\r\n                temp = data[i];\r\n                data[i] = data[j];\r\n                data[j] = temp;\r\n            }\r\n        }\r\n    }\r\n    return data;\r\n};\r\n\r\nmodule.exports = ManagedObject;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/base-extend-backbone/src/entity/ManagedObject.js\n ** module id = 40\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.Auxiliary=t():e.Auxiliary=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p=\"\",t(0)}([function(e,t,n){var r=n(1),o=n(2),i=n(3),a=n(4),s=n(5),c=n(7);e.exports={url:r,sheet:o,isNativeFunction:i,cookie:a,AjaxForm:s,UploadFile:c}},function(e,t){\"use strict\";var n=[];window.location;e.exports={parse:function(e){var t=document.createElement(\"a\");t.href=e;for(var n,r={port:t.port,protocol:t.protocol.replace(\":\",\"\"),hash:t.hash.replace(\"#\",\"\"),host:t.host,href:t.href,hostname:t.hostname,pathname:t.pathname,search:t.search,query:{}},o=r.search.replace(/^\\?/,\"\").split(\"&\"),i=o.length,a=0;i>a;a++)o[a]&&(n=o[a].split(\"=\"),r.query[n[0]]=n[1]);return t=null,r},format:function(e,t){var r=0,o=t.query,i=t.hash;if(n.length=0,n.push(e.lastIndexOf(\"?\")>-1?e:e+\"?\"),o)for(var a in o){var s=o[a];r?n.push(\"&\"+a+\"=\"+s):(r++,n.push(a+\"=\"+s))}return i&&n.push(i.indexOf(\"#\")>-1?i:\"#\"+i),n.join(\"\")},resolve:function(e,t){return/^(.\\/)/.test(t)&&(t=t.replace(/^(.\\/)/,\"/\")),/^(..\\/)/.test(t)&&(e=e.substr(0,e.lastIndexOf(\"/\")),t=t.replace(/^(..\\/)/,\"/\")),e+t},extname:function(e){var t=e.split(\".\");return t[t.length-1]||\"\"},parseSearch:function(e){for(var t,n,r={},o=e.replace(/^\\?/,\"\").split(\"&\"),i=o.length,a=0;i>a;a++)o[a]&&(n=o[a].split(\"=\"),t=n[1],(/^\\[/.test(t)&&/\\]$/.test(t)||/^{/.test(t)||/\\}$/.test(t))&&(t=JSON.parse(t)),r[n[0]]=t);return r}}},function(e,t){\"use strict\";function n(){var e=document.createElement(\"style\");return e.appendChild(document.createTextNode(\"\")),document.head.appendChild(e),e.sheet}e.exports=n()},function(e,t){\"use strict\";function n(e){var t=typeof e;return\"function\"===t?a.test(o.call(e)):e&&\"object\"===t&&i.test(r.call(e))||!1}e.exports=n;var r=Object.prototype.toString,o=Function.prototype.toString,i=/^\\[object .+?Constructor\\]$/,a=RegExp(\"^\"+String(r).replace(/[.*+?^${}()|[\\]\\/\\\\]/g,\"\\\\$&\").replace(/toString|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\")},function(e,t){\"use strict\";function n(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function r(e){function t(r,o,i){var a;if(arguments.length>1){if(i=n({path:\"/\"},t.defaults,i),\"number\"==typeof i.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*i.expires),i.expires=s}try{a=JSON.stringify(o),/^[\\{\\[]/.test(a)&&(o=a)}catch(c){}return o=e.write?e.write(o,r):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),r=encodeURIComponent(String(r)),r=r.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),r=r.replace(/[\\(\\)]/g,escape),document.cookie=[r,\"=\",o,i.expires&&\"; expires=\"+i.expires.toUTCString(),i.path&&\"; path=\"+i.path,i.domain&&\"; domain=\"+i.domain,i.secure?\"; secure\":\"\"].join(\"\")}r||(a={});for(var p=document.cookie?document.cookie.split(\"; \"):[],l=/(%[0-9A-Z]{2})+/g,u=0;u<p.length;u++){var f=p[u].split(\"=\"),h=f[0].replace(l,decodeURIComponent),d=f.slice(1).join(\"=\");'\"'===d.charAt(0)&&(d=d.slice(1,-1));try{if(d=e.read?e.read(d,h):e(d,h)||d.replace(l,decodeURIComponent),this.json)try{d=JSON.parse(d)}catch(c){}if(r===h){a=d;break}r||(a[h]=d)}catch(c){}}return a}return t.get=t.set=t,t.getJSON=function(){return t.apply({json:!0},[].slice.call(arguments))},t.defaults={},t.remove=function(e,r){t(e,\"\",n(r,{expires:-1}))},t.withConverter=r,t}e.exports=r(function(){})},function(e,t,n){\"use strict\";var r=(n(1),n(6)),o=function(e){e=e||{},this.$el=\"string\"==typeof e.el?$(e.el):e.el,this.uid=r(\"AjaxForm-\"),this.loadState=!1,this._init()};o.prototype._init=function(){var e=$.Deferred();$.extend(this,e.promise()),this._createIframe(),this._addEvent(e)},o.prototype._createIframe=function(){var e='<iframe id=\"'+this.uid+'\" name=\"'+this.uid+'\"  style=\"display: none;\" src=\"about:blank\"></iframe>';this.$el.attr(\"target\",this.uid),this.$el.append(e),this._iframe=$(\"#\"+this.uid),$(\"<input />\").attr({type:\"hidden\",name:\"cross_post\",value:\"1\"}).appendTo(this.$el)},o.prototype._addEvent=function(e){var t=this;this._iframe.on(\"load\",function(){if(t.loadState){var n=this.contentWindow,r=n.location;if(\"about:blank\"===r.href)e.reject(n);else try{var o=this._iframe[0].contentWindow.document.body;innerText=o.innerText,innerText||(innerText=o.innerHTML),innerText&&e.resolve($.parseJSON(innerText))}catch(i){e.resolve(n)}t.loadState=!1}})},o.prototype.encrypto=function(e){var t=this;$.each(e,function(e,n){var r=t.$el.find(\"[name=\"+e+\"]\");0===r.length?$(\"<input />\").attr({type:\"hidden\",name:e,value:n}).appendTo(t.$el):r.val(n)})};var i=null;o.sharedInstanceAjaxForm=function(e,t){return i||(t=t||{},t.el=e,i=new o(t)),i},o.classInstanceAjaxForm=function(e,t){return t=t||{},t.el=e,new o(t)},e.exports=o},function(e,t){function n(e){var t=++r+\"\";return e?e+t:t}e.exports=n;var r=0},function(e,t,n){\"use strict\";var r=n(1),o=n(5),i=n(6),a=function(e){if(this.$el=\"string\"==typeof e.el?$(e.el):e.el,this.uid=i(\"UploadFile-\"),this.options=e,this._data=e.data||{},this._filename=e.filename||\"image\",this._url=e.url,!this._url)return void console.warn(\"配置上传URL\");this._init();var t=$.Deferred();$.extend(this,t.promise()),this.ajaxForm=o.classInstanceAjaxForm(this.$el,{type:\"img\"}),this.ajaxForm.done(function(e){var n=e.location,o=decodeURIComponent(n.search),i=r.parseSearch(o);t.resolve(i)}),this.ajaxForm.fail(function(){t.reject(this)})};a.prototype._init=function(){this._createElement()},a.prototype._createElement=function(){var e=\"\";for(var t in this._data){var n=this._data[t],r=Object.prototype.toString.call(n);\"[object Object]\"!==r&&\"[object Array]\"!==r||(n=JSON.stringify(n)),e+='<input type=\"hidden\" name=\"'+t+\"\\\" value='\"+n+\"'/>\"}e+='<input type=\"file\" class=\"opacity0 upload-file '+this.options.className+'\" name=\"'+this._filename+'\"  />',this.$el.attr(\"method\",\"POST\"),this.$el.attr(\"action\",this._url),this.$el.attr(\"enctype\",\"multipart/form-data\"),this.$el.append(e)},a.prototype.parseErrorMsg=function(e){if(e&&\"SUCCESS\"==e.state)return!0;var t=1*e.errCode||0;switch(t){case 29:return\"上传的文件太大了,请重新上传\";case 31:return\"请上传JPGE,JPG,PNG,GIF等格式的图片文件\"}return\"文件上传失败,请重新上传\"},a.prototype.submit=function(){this.ajaxForm.loadState=!0,\"function\"==typeof this._before&&this._before(),this.$el.submit()};var s=null;a.sharedInstanceUploadFile=function(e){return s||(s=new a(e)),s},a.classInstanceUploadFile=function(e){return new a(e)},e.exports=a}])});\r\n//# sourceMappingURL=auxiliary.min.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/auxiliary-additions/build/auxiliary.min.js\n ** module id = 41\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/**\n * 主播控制\n */\n\n'use strict';\nvar base = require('base-extend-backbone');\nvar IMModel = require('IMModel');\nvar imModel = IMModel.sharedInstanceIMModel();\nvar store = base.storage;\nvar webim = window.webim;\nvar _ = require('underscore');\nvar $ = require('jquery');\n\nvar imServer = {\n  setting: {\n    listeners: {\n      onMsgNotify: null,\n      onGroupInfoChangeNotify: null,\n      groupSystemNotifys: null\n    }\n  }\n};\n\n/**\n * 初始化\n * @param options\n */\nimServer.init = function (listeners) {\n  var self = this;\n  var defer = $.Deferred();\n  var promise = imModel.fetchIMUserSig();\n  promise.then(function (imSig) {\n    var loginInfo = {\n      sdkAppID: imSig.imAppid, // 用户所属应用id\n      appIDAt3rd: imSig.imAppid, // 用户所属应用id\n      accountType: imSig.imAccountType, // 用户所属应用帐号类型\n      identifier: imSig.imIdentifier, // 当前用户ID\n      userSig: imSig.userSig // 当前用户身份凭证\n    };\n    self.im = imSig;\n    if (imSig && listeners) {\n      // 腾讯IM初始化\n      // webim.init(loginInfo, listeners, null);\n      webim.login(loginInfo, listeners, null, function () {\n        defer.resolve();\n      }, function (err) {\n        console.log(err);\n        defer.reject();\n      });\n    } else {\n      defer.reject();\n    }\n  }, function (err) {\n    console.log(err);\n    defer.reject();\n  });\n  return defer.promise();\n};\n\n/**\n * 发送消息\n *\n */\nimServer.sendMessage = function (attrs, okFn, errFn) {\n  var currentSession = webim.MsgStore.sessByTypeId('GROUP', attrs.groupId);\n  var random = Math.floor(Math.random() * 10000);\n  var sendMsg;\n  var msg;\n  if (!currentSession) {\n    // var currentSession = new webim.Session('GROUP', attrs.groupId, attrs.groupId, '', random);\n    currentSession = new webim.Session('GROUP', attrs.groupId, attrs.groupId, '', random);\n  }\n\n  if (currentSession) {\n    sendMsg = new webim.Msg(currentSession, true);\n    msg = new webim.Msg.Elem('TIMCustomElem', {\n      data: JSON.stringify(attrs.msg)\n    });\n    sendMsg.elems.push(msg);\n    sendMsg.fromAccount = this.im.imIdentifier;\n    webim.sendMsg(sendMsg, function (resp) {\n      if (okFn) {\n        okFn(resp);\n      }\n    }, function (err) {\n      if (errFn) {\n        errFn(err);\n      }\n    });\n  }\n};\n\n/**\n * 1.4 版本发送消息\n *  attrs.subType\n *  attrs.msg.fromAccount\n */\nimServer.sendMsg = function (attrs) {\n  console.log(attrs);\n  var defer = $.Deferred();\n  var currentSession = webim.MsgStore.sessByTypeId('GROUP', attrs.groupId);\n  var random = Math.round(Math.random() * 4294967296); // 消息随机数，用于去重\n\n  if (!currentSession) {\n    currentSession = new webim.Session(\n      webim.SESSION_TYPE.GROUP, attrs.groupId, attrs.groupId, '', random);\n  }\n  var seq = -1; // 消息序列，-1表示sdk自动生成，用于去重\n  var msgTime = Math.round(new Date().getTime() / 1000); // 消息时间戳\n  var subType = attrs.subType || webim.GROUP_MSG_SUB_TYPE.REDPACKET;\n  var msg = new webim.Msg(\n    currentSession,\n    true, seq, random, msgTime, attrs.msg.fromAccount, subType, '');\n  var textObj = new webim.Msg.Elem('TIMCustomElem', {\n    data: JSON.stringify(attrs.msg)\n  });\n  msg.fromAccount = this.im.imIdentifier;\n  msg.elems.push(textObj);\n  webim.sendMsg(msg, function (resp) {\n    defer.resolve(resp);\n  }, function (err) {\n    defer.reject(err);\n  });\n\n  return defer.promise();\n};\n\n\n/**\n * 清屏\n */\nimServer.clearScreen = function (args) {\n  this.sendMessage(args);\n};\n\n/**\n * 锁屏\n */\nimServer.lockScreen = function () {\n  console.log('IM lock');\n};\n\n/**\n * 禁言\n // options = {\n    //     'GroupId': '',\n    //     'Members_Account': [],\n    //     'ShutUpTime': time\n    // };\n */\nimServer.disableSendMsg = function (options, okFn, errFn) {\n  var time = webim.Tool.formatTimeStamp(Math.round(new Date().getTime() / 1000) + 10 * 60);\n  var ops;\n\n  time = new Date(time + '').getTime();\n  ops = _.extend({\n    ShutUpTime: time\n  }, options);\n\n  webim.forbidSendMsg(\n    ops,\n    function (resp) {\n      if (okFn) {\n        okFn(resp);\n      }\n    },\n    function (err) {\n      if (errFn) {\n        errFn(err);\n      }\n    }\n  );\n};\n\n/**\n * 踢人\n * options : {GroupId: '', MemberToDel_Account: []}\n */\nimServer.removeUserFromGroup = function (options, okFn, errFn) {\n  if (!options || !options.GroupId || options.MemberToDel_Account.length <= 0) {\n    if (errFn) {\n      errFn({\n        msg: '参数不正确'\n      });\n    }\n  }\n  webim.deleteGroupMember(\n    options,\n    function (resp) {\n      if (okFn) {\n        okFn(resp);\n      }\n    },\n    function (err) {\n      if (errFn) {\n        errFn(err);\n      }\n    }\n  );\n};\n\n/**\n * 消息通知回调\n */\nimServer.msgNotify = function () {\n\n};\n\n/**\n * 获取群组消息\n */\nimServer.getRoomMsgs = function (callback) {\n  var data = [];\n  var i = 1;\n  while (true) {\n    if (i++ > 20) {\n      break;\n    }\n    data.push({\n      name: 'Aaron-' + i,\n      msg: 'asdfasdfasfjaslfjasklfasdklf' + i\n    });\n  }\n  if (callback) {\n    callback.call(this, data);\n  }\n};\n\n/**\n * 创建聊天群\n */\nimServer.createIMChatRoom = function (okFn, errFn) {\n  var imSig = store.get('imSig');\n  var options = {\n    Owner_Account: imSig.imIdentifier,\n    Type: 'ChatRoom', // Private/Public/ChatRoom\n    Name: '测试聊天室',\n    Notification: '',\n    Introduction: '',\n    MemberList: []\n  };\n\n  webim.createGroup(\n    options,\n    function (resp) {\n      if (okFn) {\n        okFn(resp);\n      }\n    },\n    function (err) {\n      if (errFn) {\n        errFn(err);\n      }\n    }\n  );\n};\n\nimServer.applyJoinGroup = function (groupId, okFn, errFn) {\n  var options = {\n    GroupId: groupId,\n    ApplyMsg: '直播间',\n    UserDefinedField: ''\n  };\n  webim.applyJoinGroup(\n    options,\n    function (resp) {\n      if (okFn) {\n        okFn(resp);\n      }\n    },\n    function (err) {\n      if (errFn) {\n        errFn(err);\n      }\n    }\n  );\n};\n\n/**\n * 获取群组消息\n * @param groupId\n * @param okFn\n * @param errFn\n */\nimServer.getGroupInfo = function (groupId, okFn, errFn) {\n  var options = {\n    GroupIdList: [\n      groupId\n    ],\n    GroupBaseInfoFilter: [\n      'Type',\n      'Name',\n      'Introduction',\n      'Notification',\n      'FaceUrl',\n      'CreateTime',\n      'Owner_Account',\n      'LastInfoTime',\n      'LastMsgTime',\n      'NextMsgSeq',\n      'MemberNum',\n      'MaxMemberNum',\n      'ApplyJoinOption'\n    ],\n    MemberInfoFilter: [\n      'Account',\n      'Role',\n      'JoinTime',\n      'LastSendMsgTime',\n      'ShutUpUntil'\n    ]\n  };\n  webim.getGroupInfo(\n    options,\n    function (resp) {\n      if (okFn) {\n        okFn(resp);\n      }\n    },\n    function (err) {\n      if (errFn) {\n        errFn(err);\n      }\n    }\n  );\n};\n\n/**\n * 修改群组消息\n * @param options\n *      { GroupId: 1, Name: 'xx', Notification: '', Introduction: ''}\n * @param okFn\n * @param errFn\n */\nimServer.modifyGroupInfo = function (options, okFn, errFn) {\n  webim.modifyGroupBaseInfo(\n    options,\n    function (resp) {\n      if (okFn) {\n        okFn(resp);\n      }\n    },\n    function (err) {\n      if (errFn) {\n        errFn(err);\n      }\n    }\n  );\n};\n\n/**\n * 修改组内成员角色\n */\nimServer.modifyGroupMember = function (ops) {\n  var defer = $.Deferred();\n  console.log(ops);\n  var options = _.extend({\n    GroupId: '',\n    Member_Account: '',\n    Role: ''\n  }, ops);\n  webim.modifyGroupMember(\n    options,\n    function (resp) {\n      defer.resolve(resp);\n    },\n    function (err) {\n      defer.reject(err);\n    }\n  );\n  return defer.promise();\n};\n\nmodule.exports = imServer;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/webIM/IMServer.js\n ** module id = 42\n ** module chunks = 1 3 5 7\n **/","/**\n * @time {时间}\n * @author {编写者}\n * @info {实现的功能}\n */\n\n'use strict';\n\nvar $ = require('jquery');\nvar base = require('base-extend-backbone');\nvar Config = require('config');\nvar BaseModel = base.Model;\nvar env = Config.env[Config.scheme];\nvar storage = base.storage;\nvar UserModel = require('UserModel');\nvar user = UserModel.sharedInstanceUserModel();\n\nvar Model = BaseModel.extend({\n  url: '{{url_prefix}}/user/sig_get.json',\n  beforeEmit: function () {\n    // 如果需要开启对请求数据的本地缓存，可将下列两行注释去掉\n    // this.storageCache = true; //开启本地缓存\n    // this.expiration = 1; //设置缓存过期时间（1表示60*60*1000 一小时）\n    // 给请求地址替换一下环境变量\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\n    }\n    this.notTokenURL = this.url;\n    this.imData = null;\n  },\n  /**\n   * [isAnchor 判断是否为主播]\n   * @return {Boolean} [description]\n   */\n  isAnchor: function () {\n    return !!this.get('data').anchor;\n  },\n  setTokenUrl: function (token) {\n    this.imData = {\n      deviceinfo: '{\"aid\":\"30001001\"}',\n      access_token: 'web-' + token\n    };\n  },\n  setNoTokenUrl: function () {\n    this.imData = {\n      deviceinfo: '{\"aid\":\"30001001\"}'\n    };\n  },\n  /**\n   * [fetchIMUserSig 获取IM签名]\n   * @param  {Function} callback [description]\n   * @param  {[type]}   error    [description]\n   * @return {[type]}            [description]\n   */\n  fetchIMUserSig: function () {\n    //  先获取本地签名\n    var defer = $.Deferred();\n    var token;\n    var imSig;\n    imSig = storage.get('imSig');\n    if (imSig) {\n      this.set({\n        data: imSig\n      });\n      defer.resolve(imSig);\n      return defer.promise();\n    }\n    token = user.getToken();\n    if (token) {\n      this.setTokenUrl(token);\n    }\n    var sigModelPromise = this.executeJSONP(this.imData);\n    sigModelPromise.done(function (response) {\n      var data = response.data;\n      storage.set('imSig', data);\n      defer.resolve(data);\n    });\n    sigModelPromise.fail(function (e) {\n      defer.reject(e);\n    });\n    return defer.promise();\n  },\n  //  更新缓存\n  updateIMUserSig: function () {\n    var defer = $.Deferred();\n    var token;\n    storage.remove('imSig');\n    token = user.getToken();\n    if (token) {\n      this.setTokenUrl(token);\n    }\n    var sigModelPromise = this.executeJSONP();\n    sigModelPromise.done(function (response) {\n      var data = response.data;\n      storage.set('imSig', data);\n      defer.resolve(data);\n    });\n    sigModelPromise.fail(function (e) {\n      defer.reject(e);\n    });\n    return defer.promise();\n  },\n  remove: function () {\n    storage.remove('imSig');\n  }\n});\n\nvar shared = null;\nModel.sharedInstanceIMModel = function () {\n  if (!shared) {\n    shared = new Model();\n  }\n  return shared;\n};\nmodule.exports = Model;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/IMModel/index.js\n ** module id = 43\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","var config = {\"scheme\":\"alpha\",\"env\":{\"alpha\":{\"url_prefix\":\"http://beta.yinyuetai.com:9019\"},\"beta\":{\"url_prefix\":\"http://beta.yinyuetai.com:9019\"},\"release\":{\"url_prefix\":\"http://lapi.yinyuetai.com\"}},\"prefix\":\"\",\"domains\":{\"urlStatic\":\"http://s.yytcdn.com\",\"loginSite\":\"http://login.yinyuetai.com\",\"mainSite\":\"http://www.yinyuetai.com\",\"mvSite\":\"http://mv.yinyuetai.com\",\"homeSite\":\"http://i.yinyuetai.com\",\"vchartSite\":\"http://vchart.yinyuetai.com\",\"commentSite\":\"http://comment.yinyuetai.com\",\"playlistSite\":\"http://pl.yinyuetai.com\",\"searcresiehSite\":\"http://so.yinyuetai.com\",\"vSite\":\"http://v.yinyuetai.com\",\"fanSite\":\"\",\"paySite\":\"\",\"tradeSite\":\"\",\"shopSite\":\"\",\"vipSite\":\"\"}}; module.exports = config;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/config.js\n ** module id = 44\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/**\n * Created by YYT on 2016/4/20.\n */\nvar base = require('base-extend-backbone');\nvar Auxiliary = require('auxiliary-additions');\nvar _ = require('underscore');\nvar BaseModel = base.Model;\nvar Dialog = require('ui.Dialog');\nvar loginBox = require('loginBox');\nvar cookie = Auxiliary.cookie;\nvar Config = require('config');\nvar domains = Config.domains;\nvar checkEmailTemplate = require('./template/email.html');\nvar checkEmailHTML = checkEmailTemplate.replace('{homeSite}', domains.homeSite);\nvar loginbox = loginBox().dialog;\n\nvar CheckVIPModel = BaseModel.extend({\n  url: 'http://vip.yinyuetai.com/vip/check-vip',\n  setEnv: true,\n  beforeEmit: function () {\n    // 如果需要开启对请求数据的本地缓存，可将下列两行注释去掉\n    // this.storageCache = true; //开启本地缓存\n    // this.expiration = 1; //设置缓存过期时间（1表示60*60*1000 一小时）\n  }\n});\n\nvar FetchUserInfoForDB = BaseModel.extend({\n  url: domains.loginSite + '/login-info',\n  setEnv: true,\n  beforeEmit: function () {\n    //  如果需要开启对请求数据的本地缓存，可将下列两行注释去掉\n    //  this.storageCache = true; //开启本地缓存\n    //  this.expiration = 1; //设置缓存过期时间（1表示60*60*1000 一小时）\n  }\n});\n\nvar UserModel = BaseModel.extend({\n  setEnv: true,\n  beforeEmit: function () {\n    //  如果需要开启对请求数据的本地缓存，可将下列两行注释去掉\n    //  this.storageCache = true; //开启本地缓存\n    //  this.expiration = 1; //设置缓存过期时间（1表示60*60*1000 一小时）\n    this.checkVIPModel = new CheckVIPModel();\n    this.fetchUserInfoForDBModel = new FetchUserInfoForDB();\n  },\n  /**\n   * [isLogined 判断用户是否登录]\n   * @return {Boolean} [description]\n   */\n  isLogined: function () {\n    return !!this.getToken();\n  },\n  /**\n   * [login 检查是否登录，如果未登录调出对话框]\n   * @param  {Function} callback [description]\n   * @param  {[type]}   onCancel [description]\n   * @return {[type]}            [description]\n   */\n  login: function () {\n    var defer = $.Deferred();\n    if (this.isLogined()) {\n      //  已经登录\n      defer.resolve();\n    } else {\n      loginbox.trigger('show');\n      loginbox.once('hide', function () {\n        defer.resolve();\n      });\n    }\n    return defer.promise();\n  },\n  /**\n   * [getUserInfo 获取用户信息]\n   * @param  {[type]}   key      [description]\n   * @param  {Function} callback [description]\n   * @return {[type]}            [description]\n   */\n  getUserInfo: function (key, callback) {\n    var value;\n    var email;\n    var self = this;\n    var _key = key;\n    var _callback = callback;\n    var getParam = function () {\n      if (_.isFunction(_key)) {\n        return self.get();\n      }\n      return self.get(_key);\n    };\n    if (this.isLogined()) {\n      email = this.get('isEmailVerified');\n      if (!_callback) {\n        _callback = _key;\n      }\n      if (email) {\n        if (_.isFunction(_callback)) {\n          value = getParam();\n          _callback.call(this, value);\n        }\n      } else {\n        this.fetchUserInfo(function () {\n          if (_.isFunction(_callback)) {\n            value = getParam();\n            _callback.call(self, value);\n          }\n        });\n      }\n    }\n  },\n  /**\n   * [checkUserEmail 检查用户是否绑定邮箱]\n   * @param  {Function} callback [description]\n   * @return {[type]}            [description]\n   */\n  checkUserEmail: function (callback) {\n    var self = this;\n    this.getUserInfo('isEmailVerified', function (isEmailVerified) {\n      if (isEmailVerified) {\n        if (typeof callback === 'function') {\n          callback.call(self);\n        }\n      } else {\n        Dialog.classInstanceDialog(checkEmailHTML, {\n          title: '邮箱验证',\n          width: 400,\n          height: 100,\n          isAutoShow: true\n        });\n      }\n    });\n  },\n  /**\n   * [checkVIPUser 检查是否为VIP用户]\n   * @return {[type]} [description]\n   */\n  checkUserVIP: function (success, error) {\n    var vip;\n    var self = this;\n    if (this.isLogined()) {\n      this.login(function () {\n        self.fetchVIPInfo(success, error);\n      });\n    } else {\n      vip = this.get('vipInfo');\n      if (vip) {\n        if (vip && !vip.error && vip.realVip && ~~vip.realVip > 0) {\n          success(vip);\n        }\n      } else {\n        this.fetchVIPInfo(success, error);\n      }\n    }\n  },\n  /**\n   * [emit 初始化]\n   * @return {[type]} [description]\n   */\n  emit: function () {\n    var token = this.getToken();\n    var uinf = cookie.get('u_inf');\n    if (token) {\n      if (uinf && uinf.length > 0) {\n        this.readUserInfoForCookie(uinf);\n      } else {\n        this.fetchUserInfo();\n      }\n    }\n  },\n  /**\n   * [isVIPUser 判断是否是vip用户]\n   * @return {Boolean} [description]\n   */\n  isVIPUser: function () {\n    var list;\n    var token;\n    var val;\n    token = cookie.get('token');\n    if (token) {\n      list = token.split('.');\n      if (list.length > 2) {\n        val = list[2];\n        return ~~val[0] > 0;\n      }\n    }\n    return false;\n  },\n  /**\n   * [readUserInfoForCookie 从cookie中读取用户信息]\n   * @param  {[type]} u_inf [description]\n   * @return {[type]}       [description]\n   */\n  readUserInfoForCookie: function (uinfs) {\n    var uinf;\n    var users;\n    var splitChar;\n    splitChar = String.fromCharCode(2);\n    uinf = decodeURIComponent(uinfs);\n    users = uinf.split(splitChar);\n    this.set({\n      userId: ~~users[0],\n      userName: users[1],\n      bigheadImg: users[4]\n    });\n  },\n  /**\n   * [fetchUserInfo 获取用户信息]\n   * @param  {Function} callback [description]\n   * @return {[type]}            [description]\n   */\n  fetchUserInfo: function (callback) {\n    var self = this;\n    var promise = this.fetchUserInfoForDBModel.executeJSONP();\n    promise.done(function (response) {\n      self.set(response);\n      if (_.isFunction(callback)) {\n        callback.call(self);\n      }\n    });\n    promise.fail(function () {\n      if (_.isFunction(callback)) {\n        callback.call(self.e);\n      }\n    });\n  },\n  /**\n   * [fetchVIPInfo 获取vip信息]\n   * @return {[type]}         [description]\n   */\n  fetchVIPInfo: function () {\n    var self = this;\n    var defer = $.Deferred();\n    var promise = this.checkVIPModel.executeJSONP();\n    promise.done(function (result) {\n      if (result && !result.error) {\n        if ((result.realVip && parseInt(result.realVip, 10) > 0) || result.isWo) {\n          self.set('vipInfo', result);\n          defer.resolve.call(self, result);\n        }\n      }\n    });\n    promise.fail(function (e) {\n      defer.reject.call(self, e);\n    });\n    return defer.promise();\n  },\n  /**\n   * [getToken 获取token]\n   * @return {[type]} [description]\n   */\n  getToken: function () {\n    return cookie.get('token');\n  },\n  getWebToken: function () {\n    var token = cookie.get('token');\n    return token ? ('web-' + token) : '';\n  },\n  /**\n   * [getUserId 获取userId]\n   * @return {[type]} [description]\n   */\n  getUserId: function () {\n    return this.get('userId');\n  }\n});\n\n\nvar shared = null;\nUserModel.sharedInstanceUserModel = function () {\n  if (!shared) {\n    shared = new UserModel();\n    shared.on('change:userId', function () {\n      shared.trigger('login');\n    });\n    shared.emit();\n  }\n  return shared;\n};\n\nUserModel.get = function (name) {\n  if (shared) {\n    return shared.get(name);\n  }\n  return null;\n};\n\nmodule.exports = UserModel;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/UserModel/index.js\n ** module id = 45\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/*\n clientRender:{bool} // 默认设置为false，如果为true，内部将不会调用rawLoader方法或者根据templateUrl请求模版\n */\n\n\n/**\n * @time {时间}\n * @author {编写者}\n * @info 场控管理列表\n */\n\n'use strict';\nvar base = require('base-extend-backbone');\nvar BaseView = base.View; // View的基类\nvar Mask = require('./mask.js');\nvar mask;\nvar uid = 999;\nvar _ = require('underscore');\n\nvar View = BaseView.extend({\n  clientRender: false,\n  events: {\n    //  监听事件\n    'click .J_close': '_close'\n  },\n  //  当模板挂载到元素之前\n  beforeMount: function () {\n    this.id = 'YYT_UI_Dialog' + (uid++);\n    this.options = {\n      width: '',    // box宽度\n      height: '',   // box高度\n      hasMark: true, // 是否显示遮罩层\n      hasClose: true,    // 是否显示关闭按钮\n      isRemoveAfterHide: true,   // 隐藏后是否自动销毁相关dom\n      isAutoShow: true,  // 是否自动显示dialog\n      title: '',\n      className: '',\n      effect: 'fade',    // 显示效果 可选none, fade\n      draggable: false,\n      mainClass: 'dialog',\n      closeClass: 'ico_close J_close icons close',\n      closeText: '关闭',\n      onShow: function () {\n      },\n      onHide: function () {\n      }\n    };\n    this.options = _.extend(this.options, this._ICEOptions);\n    this._status = false;\n    this.$el = $('<div id=\"' + this.id + '\" class=\"' + this.options.mainClass + '\"/>')\n      .append(this.$el.show())\n      .addClass(this.options.className)\n      .appendTo(document.body);\n    this.$title = this.$el.find('.upload-title');\n    this._ICEinitEvent();\n  },\n  // 当模板挂载到元素之后\n  afterMount: function () {\n    this.closeTemp = require('./template/close.html');\n    this.titleTemp = require('./template/title.html');\n  },\n  // 当事件监听器，内部实例初始化完成，模板挂载到文档之后\n  ready: function () {\n    this._renderTitle();\n    this._renderClose();\n    this._adjustPosition();\n    this.on('show', function () {\n      this._status = true;\n      this._toggle('show');\n    });\n    this.on('hide', function () {\n      this._status = false;\n      this._toggle('hide');\n    });\n    this.on('show', this.options.onShow, this.$el);\n    this.on('hide', this.options.onHide, this.$el);\n    if (this.options.isAutoShow) {\n      this.trigger('show');\n    }\n    if (typeof this.options.attached === 'function') {\n      this.options.attached.call(this);\n    }\n  },\n  _renderTitle: function () {\n    var title = this.options.title;\n    if (title) {\n      this.$title.text(title);\n      //  var titleHTML = this.titleTemp.replace('{{title}}',title);\n      //  this.$title = $(titleHTML).prependTo(this.$el);\n    }\n  },\n  _renderClose: function () {\n    var self = this;\n    var id = 'dialogClose' + (uid++);\n    var closeHTML;\n    if (this.options.hasClose) {\n      closeHTML = this.compileHTML(this.closeTemp, {\n        closeClass: this.options.closeClass,\n        closeText: this.options.closeText,\n        id: id\n      });\n      $(closeHTML).attr('hidefocus', 'true').appendTo(this.$el);\n      $('#' + id).on('click', function (e) {\n        e.preventDefault();\n        self.hide();\n      });\n    }\n  },\n  _adjustPosition: function () {\n    var size = {\n      width: this.options.width || this.$el.innerWidth(),\n      height: this.options.height ? this.options.height : this.$el.innerHeight()\n    };\n    this.$el.css(_.extend({\n      marginLeft: -(size.width / 2),\n      marginTop: -(size.height / 2)\n    }, size));\n  },\n  _close: function () {\n    this.trigger('hide');\n  },\n  _toggle: function (action) {\n    var effect = this.options.effect;\n    var self = this;\n    if (action === 'show') {\n      if (effect === 'none') {\n        this.$el.css('display', 'block');\n      } else if (effect === 'fade') {\n        this.$el.fadeIn();\n      }\n    } else if (action === 'hide') {\n      if (effect === 'none') {\n        this.$el.css('display', 'none');\n      } else if (effect === 'fade') {\n        this.$el.fadeOut();\n      }\n      if (this.options.isRemoveAfterHide) {\n        setTimeout(function () {\n          self.$el.remove();\n        }, 2000);\n      }\n    }\n    this._toggleMask(action);\n  },\n  _toggleMask: function (action) {\n    if (this.options.hasMark) {\n      if (action === 'show') {\n        mask.show();\n      } else if (action === 'hide') {\n        mask.hide();\n      }\n    }\n  },\n  status: function () {\n    return this._status ? 'show' : 'hide';\n  },\n  show: function () {\n    this.trigger('show');\n    return this;\n  },\n  hide: function () {\n    this.trigger('hide');\n    return this;\n  },\n  destroy: function () {\n    this.$el.remove();\n    mask.hide();\n  },\n  resize: function (width, height) {\n    this.options.width = width;\n    this.options.height = height;\n    this._adjustPosition();\n    return this;\n  },\n  title: function (title) {\n    if (this.$title) {\n      this.$title.html(title);\n    }\n    return this;\n  }\n});\nvar shared = null;\nView.sharedInstanceDialog = function (options) {\n  if (!shared) {\n    if (!mask) {\n      mask = Mask.classInstanceMask();\n    }\n    shared = new View(options || {});\n  }\n  return shared;\n};\nView.classInstanceDialog = function (content, options) {\n  var ops = options || {};\n  ops.el = content || '<b>11111111</b>';\n  if (!mask) {\n    mask = Mask.classInstanceMask();\n  }\n  return new View(ops);\n};\nmodule.exports = View;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/dialog/index.js\n ** module id = 46\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/*\n clientRender:{bool} // 默认设置为false，如果为true，内部将不会调用rawLoader方法或者根据templateUrl请求模版\n */\n\n\n/**\n * @time {时间}\n * @author {编写者}\n * @info {实现的功能}\n */\n\n'use strict';\n\nvar base = require('base-extend-backbone');\nvar BaseView = base.View; //  View的基类\nvar doc = $(document);\nvar isIE6 = navigator.userAgent.indexOf('MSIE 6.0') !== -1;\nvar style = {\n  position: isIE6 ? 'absolute' : 'fixed',\n  top: 0,\n  left: 0,\n  width: '100%',\n  height: isIE6 ? doc.outerHeight(true) : '100%',\n  display: 'none',\n  'z-index': 998,\n  opacity: 0.2,\n  'background-color': 'black'\n};\nvar View = BaseView.extend({\n  clientRender: false,\n  // 当模板挂载到元素之前\n  beforeMount: function () {\n    this.element = $('<iframe/>').attr({\n      frameborder: 0,\n      scrolling: 'no'\n    }).css(style).appendTo(document.body);\n  },\n  // 当模板挂载到元素之后\n  afterMount: function () {\n\n  },\n  // 当事件监听器，内部实例初始化完成，模板挂载到文档之后\n  ready: function () {\n\n  },\n  show: function () {\n    this.element.fadeIn();\n  },\n  hide: function () {\n    this.element.fadeOut();\n  }\n});\n\nvar shared = null;\nView.sharedInstanceMask = function () {\n  if (!shared) {\n    shared = new View();\n  }\n  return shared;\n};\nView.classInstanceMask = function () {\n  return new View();\n};\nmodule.exports = View;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/dialog/mask.js\n ** module id = 47\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","module.exports = \"<!-- <a  href=\\\"\\\" id=\\\"{{id}}\\\" class=\\\"{{closeClass}}\\\">{{if closeText}}{{closeText}}{{/if}}</a> -->\\n{{if closeClass === 'editor_bg_close_x'}}\\n<a  href=\\\"\\\" id=\\\"{{id}}\\\" class=\\\"{{closeClass}} icons am-yyt-close close-white\\\"></a>\\n{{else}}\\n<a  href=\\\"\\\" id=\\\"{{id}}\\\" class=\\\"{{closeClass}}\\\"></a>\\n{{/if}}\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/dialog/template/close.html\n ** module id = 48\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","module.exports = \"<h3 class=\\\"dialog_title J_title\\\">{{title}}</h3>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/dialog/template/title.html\n ** module id = 49\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/**\n * @time {时间}\n * @author {编写者}\n * @info {实现的功能}\n */\n\n'use strict';\n\nvar Auxiliary = require('auxiliary-additions');\n// Diglog类\nvar Dialog = require('ui.Dialog');\nvar AjaxForm = Auxiliary.AjaxForm;\nvar url = Auxiliary.url;\nvar pwdencrypt = require('pwdencrypt');\nvar loginBoxTemp = require('./template/loginBox.html');\nvar tplEng = require('tplEng');\nvar secret = require('secret');\n// 邮件\nvar EMAIL_PATTERN =\n  /^([a-zA-Z0-9_\\.\\-\\+])+@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\n// 数字\nvar NUMBER_PATTERN =\n  /^[+-]?[1-9][0-9]*(\\.[0-9]+)?([eE][+-][1-9][0-9]*)?$|^[+-]?0?\\.[0-9]+([eE][+-][1-9][0-9]*)?$/;\n\n/* 标记是否极验验证通过 */\nvar isGeetest = false;\nvar Geetest;\nvar errorinfo;\nvar email;\nvar password;\nvar loginBoxForm;\nvar ajaxForm;\nvar dialog;\nvar user;\n\n// 验证成功\nwindow.gt_custom_ajax = function (result) {\n  var info;\n  if (result) {\n    isGeetest = true;\n    info = loginBoxForm.find('.errorinfo');\n    if (info.html() === '拖动滑块完成验证') {\n      info.css('visibility', 'hidden');\n    }\n  }\n};\n\n// 加密字段\nfunction _setFocusEffect(input) {\n  if (input.attr('name') === 'email') {\n    input.focus(function () {\n      $(this).parent().addClass('emailfocus').removeClass('emailerror');\n    });\n    input.blur(function () {\n      $(this).parent().removeClass('emailfocus');\n    });\n  } else {\n    input.focus(function () {\n      $(this).parent().addClass('focus').removeClass('error');\n    });\n    input.blur(function () {\n      $(this).parent().removeClass('focus');\n    });\n  }\n}\n\n// 验证码\nfunction refreshGeetest() {\n  Geetest.refresh();\n  isGeetest = false;\n}\n// 初始化登录表单\nfunction _initForm() {\n  var UserModel = require('UserModel');\n  errorinfo = loginBoxForm.find('.errorinfo');\n  email = loginBoxForm.find('[name=email]');\n  password = loginBoxForm.find('.pwd');\n  _setFocusEffect(email);\n  _setFocusEffect(password);\n  user = UserModel.sharedInstanceUserModel();\n  $('<input />').attr({\n    type: 'hidden',\n    name: 'cross_post',\n    value: '1'\n  }).appendTo(loginBoxForm);\n}\n// 加密字段\nfunction cryptoParam() {\n  return [$.trim(email.val()) + $.trim(password.val())];\n}\n\nfunction validator() {\n  var emailVal = $.trim(email.val());\n  var passwordVal = $.trim(password.val());\n  if (emailVal.length === 0) {\n    errorinfo.text('邮箱或手机不能为空').css('visibility', 'visible');\n    email.parent().addClass('emailerror');\n    return false;\n  }\n  if (!EMAIL_PATTERN.test(emailVal)) {\n    if (NUMBER_PATTERN.test(emailVal)) {\n      if (emailVal.length !== 11) {\n        errorinfo.text('请输入正确的电子邮箱或手机').css('visibility', 'visible');\n        email.parent().addClass('emailerror');\n        return false;\n      }\n    } else {\n      errorinfo.text('请输入正确的电子邮箱或手机').css('visibility', 'visible');\n      email.parent().addClass('emailerror');\n      return false;\n    }\n  }\n  if (passwordVal.length === 0) {\n    errorinfo.text('密码不能为空').css('visibility', 'visible');\n    password.parent().addClass('error');\n    return false;\n  }\n  if (passwordVal.length < 4 || passwordVal.length > 20) {\n    errorinfo.text('密码长度必须大于4且小于20').css('visibility', 'visible');\n    password.parent().addClass('error');\n    return false;\n  }\n  return true;\n}\n\nfunction isPassTest() {\n  var errorText = '拖动滑块完成验证';\n  if (!validator()) {\n    refreshGeetest();\n    return false;\n  }\n  if (!isGeetest) {\n    errorinfo.text(errorText).css('visibility', 'visible');\n    return false;\n  }\n  if (loginBoxForm.find('[name=encpsw]').length !== 0) {\n    loginBoxForm.find('[name=encpsw]').val(pwdencrypt(password.val()));\n  } else {\n    $('<input />').attr({\n      type: 'hidden',\n      name: 'encpsw',\n      value: pwdencrypt(password.val())\n    }).appendTo(loginBoxForm);\n  }\n  return true;\n}\n\n// 模拟submit\nfunction loginSubmit(e) {\n  var _crytoP = cryptoParam();\n  e.preventDefault();\n  if (isPassTest()) {\n    ajaxForm = AjaxForm.classInstanceAjaxForm(loginBoxForm);\n    ajaxForm.encrypto(secret.apply(window, _crytoP));\n    ajaxForm.done(function (cw) {\n      var search = decodeURIComponent(cw.location.search);\n      var response = url.parseSearch(search);\n      response = response.json;\n      if (!response.error) {\n        if (response.platFormRef) {\n          location.href = 'http://login.yinyuetai.com/platform';\n        } else {\n          user.set(response);\n          dialog.trigger('hide');\n        }\n      } else {\n        errorinfo.text(response.message).css('visibility', 'visible');\n        refreshGeetest();\n      }\n    });\n    ajaxForm.fail(function (cw) {\n      console.log(cw);\n    });\n    ajaxForm.loadState = true;\n    this.submit();\n  }\n}\n\nfunction compileHTML(tplStr, data) {\n  return tplEng.compile(tplStr)(data);\n}\n\nfunction LoginBox() {\n  var dialogHTML = compileHTML(loginBoxTemp, {\n    url: 'http://login.yinyuetai.com'\n  });\n  if (!dialog) {\n    dialog = Dialog.classInstanceDialog(dialogHTML, {\n      width: 691,\n      height: 342,\n      isRemoveAfterHide: false,\n      isAutoShow: false\n    });\n    loginBoxForm = dialog.$el.find('#loginBoxForm');\n    dialog.on('show', function () {\n      if (!Geetest) {\n        /* 添加验证框*/\n        Geetest = new window.Geetest({\n          gt: 'cc34bd7df5c42f7d9c3f540fdfb671cf',\n          product: 'float'\n        });\n        Geetest.appendTo('#captcha');\n      }\n      _initForm();\n      // UA_Opt.reload();\n      $.getJSON('http://www.yinyuetai.com/partner/get-partner-code?placeIds=reg_window&callback=?', function (data) {\n        if (data && data.reg_window) {\n          self.dialog.$el.find('.loginbox-placehold').html(data.reg_window);\n        }\n      });\n    });\n    dialog.on('hide', function () {\n      var form = dialog.$el.find('form');\n      form.find('.errorinfo').css('visibility', 'hidden');\n      form.find('[name=email],[name=password]')\n          .parent()\n          .removeClass('emailerror')\n          .removeClass('error');\n      // 去掉悦单播放页面中下载悦单的active效果\n      $('.J_pop_download').removeClass('v_button_curv');\n      setTimeout(function () {\n        refreshGeetest();\n      }, 500);\n    });\n    loginBoxForm.on('submit', loginSubmit);\n  }\n  return {\n    dialog: dialog\n  };\n}\n\nmodule.exports = LoginBox;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/loginBox/index.js\n ** module id = 50\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","function yytcrypt(o) {\n\tvar l = 0, S = 1, t = \"inputvec\", O = 1, C = \"yytcdn2b\";\n\tvar B = new Array(16843776, 0, 65536, 16843780, 16842756, 66564, 4, 65536, 1024, 16843776, 16843780, 1024, 16778244, 16842756,\n\t\t\t16777216, 4, 1028, 16778240, 16778240, 66560, 66560, 16842752, 16842752, 16778244, 65540, 16777220, 16777220, 65540, 0,\n\t\t\t1028, 66564, 16777216, 65536, 16843780, 4, 16842752, 16843776, 16777216, 16777216, 1024, 16842756, 65536, 66560, 16777220,\n\t\t\t1024, 4, 16778244, 66564, 16843780, 65540, 16842752, 16778244, 16777220, 1028, 66564, 16843776, 1028, 16778240, 16778240, 0,\n\t\t\t65540, 66560, 0, 16842756);\n\tvar A = new Array(-2146402272, -2147450880, 32768, 1081376, 1048576, 32, -2146435040, -2147450848, -2147483616, -2146402272,\n\t\t\t-2146402304, -2147483648, -2147450880, 1048576, 32, -2146435040, 1081344, 1048608, -2147450848, 0, -2147483648, 32768,\n\t\t\t1081376, -2146435072, 1048608, -2147483616, 0, 1081344, 32800, -2146402304, -2146435072, 32800, 0, 1081376, -2146435040,\n\t\t\t1048576, -2147450848, -2146435072, -2146402304, 32768, -2146435072, -2147450880, 32, -2146402272, 1081376, 32, 32768,\n\t\t\t-2147483648, 32800, -2146402304, 1048576, -2147483616, 1048608, -2147450848, -2147483616, 1048608, 1081344, 0, -2147450880,\n\t\t\t32800, -2147483648, -2146435040, -2146402272, 1081344);\n\tvar z = new Array(520, 134349312, 0, 134348808, 134218240, 0, 131592, 134218240, 131080, 134217736, 134217736, 131072, 134349320,\n\t\t\t131080, 134348800, 520, 134217728, 8, 134349312, 512, 131584, 134348800, 134348808, 131592, 134218248, 131584, 131072,\n\t\t\t134218248, 8, 134349320, 512, 134217728, 134349312, 134217728, 131080, 520, 131072, 134349312, 134218240, 0, 512, 131080,\n\t\t\t134349320, 134218240, 134217736, 512, 0, 134348808, 134218248, 131072, 134217728, 134349320, 8, 131592, 131584, 134217736,\n\t\t\t134348800, 134218248, 520, 134348800, 131592, 8, 134348808, 131584);\n\tvar x = new Array(8396801, 8321, 8321, 128, 8396928, 8388737, 8388609, 8193, 0, 8396800, 8396800, 8396929, 129, 0, 8388736, 8388609,\n\t\t\t1, 8192, 8388608, 8396801, 128, 8388608, 8193, 8320, 8388737, 1, 8320, 8388736, 8192, 8396928, 8396929, 129, 8388736,\n\t\t\t8388609, 8396800, 8396929, 129, 0, 0, 8396800, 8320, 8388736, 8388737, 1, 8396801, 8321, 8321, 128, 8396929, 129, 1, 8192,\n\t\t\t8388609, 8193, 8396928, 8388737, 8193, 8320, 8388608, 8396801, 128, 8388608, 8192, 8396928);\n\tvar w = new Array(256, 34078976, 34078720, 1107296512, 524288, 256, 1073741824, 34078720, 1074266368, 524288, 33554688, 1074266368,\n\t\t\t1107296512, 1107820544, 524544, 1073741824, 33554432, 1074266112, 1074266112, 0, 1073742080, 1107820800, 1107820800,\n\t\t\t33554688, 1107820544, 1073742080, 0, 1107296256, 34078976, 33554432, 1107296256, 524544, 524288, 1107296512, 256, 33554432,\n\t\t\t1073741824, 34078720, 1107296512, 1074266368, 33554688, 1073741824, 1107820544, 34078976, 1074266368, 256, 33554432,\n\t\t\t1107820544, 1107820800, 524544, 1107296256, 1107820800, 34078720, 0, 1074266112, 1107296256, 524544, 33554688, 1073742080,\n\t\t\t524288, 0, 1074266112, 34078976, 1073742080);\n\tvar v = new Array(536870928, 541065216, 16384, 541081616, 541065216, 16, 541081616, 4194304, 536887296, 4210704, 4194304, 536870928,\n\t\t\t4194320, 536887296, 536870912, 16400, 0, 4194320, 536887312, 16384, 4210688, 536887312, 16, 541065232, 541065232, 0,\n\t\t\t4210704, 541081600, 16400, 4210688, 541081600, 536870912, 536887296, 16, 541065232, 4210688, 541081616, 4194304, 16400,\n\t\t\t536870928, 4194304, 536887296, 536870912, 16400, 536870928, 541081616, 4210688, 541065216, 4210704, 541081600, 0, 541065232,\n\t\t\t16, 16384, 541065216, 4210704, 16384, 4194320, 536887312, 0, 541081600, 536870912, 4194320, 536887312);\n\tvar u = new Array(2097152, 69206018, 67110914, 0, 2048, 67110914, 2099202, 69208064, 69208066, 2097152, 0, 67108866, 2, 67108864,\n\t\t\t69206018, 2050, 67110912, 2099202, 2097154, 67110912, 67108866, 69206016, 69208064, 2097154, 69206016, 2048, 2050, 69208066,\n\t\t\t2099200, 2, 67108864, 2099200, 67108864, 2099200, 2097152, 67110914, 67110914, 69206018, 69206018, 2, 2097154, 67108864,\n\t\t\t67110912, 2097152, 69208064, 2050, 2099202, 69208064, 2050, 67108866, 69208066, 69206016, 2099200, 0, 2, 69208066, 0,\n\t\t\t2099202, 69206016, 2048, 67108866, 67110912, 2048, 2097154);\n\tvar q = new Array(268439616, 4096, 262144, 268701760, 268435456, 268439616, 64, 268435456, 262208, 268697600, 268701760, 266240,\n\t\t\t268701696, 266304, 4096, 64, 268697600, 268435520, 268439552, 4160, 266240, 262208, 268697664, 268701696, 4160, 0, 0,\n\t\t\t268697664, 268435520, 268439552, 266304, 262144, 266304, 262144, 268701696, 4096, 64, 268697664, 4096, 266304, 268439552,\n\t\t\t64, 268435520, 268697600, 268697664, 268435456, 262144, 268439616, 0, 268701760, 262208, 268435520, 268697600, 268439552,\n\t\t\t268439616, 0, 268701760, 266240, 266240, 4160, 4160, 262208, 268435456, 268701696);\n\tpc2bytes0 = new Array(0, 4, 536870912, 536870916, 65536, 65540, 536936448, 536936452, 512, 516, 536871424, 536871428, 66048, 66052,\n\t\t\t536936960, 536936964);\n\tpc2bytes1 =\n\t\t\tnew Array(0, 1, 1048576, 1048577, 67108864, 67108865, 68157440, 68157441, 256, 257, 1048832, 1048833, 67109120, 67109121,\n\t\t\t\t\t68157696, 68157697);\n\tpc2bytes2 = new Array(0, 8, 2048, 2056, 16777216, 16777224, 16779264, 16779272, 0, 8, 2048, 2056, 16777216, 16777224, 16779264,\n\t\t\t16779272);\n\tpc2bytes3 = new Array(0, 2097152, 134217728, 136314880, 8192, 2105344, 134225920, 136323072, 131072, 2228224, 134348800, 136445952,\n\t\t\t139264, 2236416, 134356992, 136454144);\n\tpc2bytes4 = new Array(0, 262144, 16, 262160, 0, 262144, 16, 262160, 4096, 266240, 4112, 266256, 4096, 266240, 4112, 266256);\n\tpc2bytes5 = new Array(0, 1024, 32, 1056, 0, 1024, 32, 1056, 33554432, 33555456, 33554464, 33555488, 33554432, 33555456, 33554464,\n\t\t\t33555488);\n\tpc2bytes6 =\n\t\t\tnew Array(0, 268435456, 524288, 268959744, 2, 268435458, 524290, 268959746, 0, 268435456, 524288, 268959744, 2, 268435458,\n\t\t\t\t\t524290, 268959746);\n\tpc2bytes7 = new Array(0, 65536, 2048, 67584, 536870912, 536936448, 536872960, 536938496, 131072, 196608, 133120, 198656, 537001984,\n\t\t\t537067520, 537004032, 537069568);\n\tpc2bytes8 =\n\t\t\tnew Array(0, 262144, 0, 262144, 2, 262146, 2, 262146, 33554432, 33816576, 33554432, 33816576, 33554434, 33816578, 33554434,\n\t\t\t\t\t33816578);\n\tpc2bytes9 =\n\t\t\tnew Array(0, 268435456, 8, 268435464, 0, 268435456, 8, 268435464, 1024, 268436480, 1032, 268436488, 1024, 268436480, 1032,\n\t\t\t\t\t268436488);\n\tpc2bytes10 =\n\t\t\tnew Array(0, 32, 0, 32, 1048576, 1048608, 1048576, 1048608, 8192, 8224, 8192, 8224, 1056768, 1056800, 1056768, 1056800);\n\tpc2bytes11 = new Array(0, 16777216, 512, 16777728, 2097152, 18874368, 2097664, 18874880, 67108864, 83886080, 67109376, 83886592,\n\t\t\t69206016, 85983232, 69206528, 85983744);\n\tpc2bytes12 = new Array(0, 4096, 134217728, 134221824, 524288, 528384, 134742016, 134746112, 16, 4112, 134217744, 134221840, 524304,\n\t\t\t528400, 134742032, 134746128);\n\tpc2bytes13 = new Array(0, 4, 256, 260, 0, 4, 256, 260, 1, 5, 257, 261, 1, 5, 257, 261);\n\tvar M = C.length > 8 ? 3 : 1;\n\tvar y = new Array(32 * M);\n\tvar f = new Array(0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0);\n\tvar E, h, K = 0, J = 0, k;\n\tfor (var N = 0; N < M; N++) {\n\t\tg = (C.charCodeAt(K++) << 24) | (C.charCodeAt(K++) << 16) | (C.charCodeAt(K++) << 8) | C.charCodeAt(K++);\n\t\tI = (C.charCodeAt(K++) << 24) | (C.charCodeAt(K++) << 16) | (C.charCodeAt(K++) << 8) | C.charCodeAt(K++);\n\t\tk = ((g >>> 4) ^ I) & 252645135;\n\t\tI ^= k;\n\t\tg ^= (k << 4);\n\t\tk = ((I >>> -16) ^ g) & 65535;\n\t\tg ^= k;\n\t\tI ^= (k << -16);\n\t\tk = ((g >>> 2) ^ I) & 858993459;\n\t\tI ^= k;\n\t\tg ^= (k << 2);\n\t\tk = ((I >>> -16) ^ g) & 65535;\n\t\tg ^= k;\n\t\tI ^= (k << -16);\n\t\tk = ((g >>> 1) ^ I) & 1431655765;\n\t\tI ^= k;\n\t\tg ^= (k << 1);\n\t\tk = ((I >>> 8) ^ g) & 16711935;\n\t\tg ^= k;\n\t\tI ^= (k << 8);\n\t\tk = ((g >>> 1) ^ I) & 1431655765;\n\t\tI ^= k;\n\t\tg ^= (k << 1);\n\t\tk = (g << 8) | ((I >>> 20) & 240);\n\t\tg = (I << 24) | ((I << 8) & 16711680) | ((I >>> 8) & 65280) | ((I >>> 24) & 240);\n\t\tI = k;\n\t\tfor (var P = 0; P < f.length; P++) {\n\t\t\tif (f[P]) {\n\t\t\t\tg = (g << 2) | (g >>> 26);\n\t\t\t\tI = (I << 2) | (I >>> 26)\n\t\t\t} else {\n\t\t\t\tg = (g << 1) | (g >>> 27);\n\t\t\t\tI = (I << 1) | (I >>> 27)\n\t\t\t}\n\t\t\tg &= -15;\n\t\t\tI &= -15;\n\t\t\tE = pc2bytes0[g >>> 28] | pc2bytes1[(g >>> 24) & 15] | pc2bytes2[(g >>> 20) & 15] | pc2bytes3[(g >>> 16) & 15] |\n\t\t\t\t\tpc2bytes4[(g >>> 12) & 15] | pc2bytes5[(g >>> 8) & 15] | pc2bytes6[(g >>> 4) & 15];\n\t\t\th = pc2bytes7[I >>> 28] | pc2bytes8[(I >>> 24) & 15] | pc2bytes9[(I >>> 20) & 15] | pc2bytes10[(I >>> 16) & 15] |\n\t\t\t\t\tpc2bytes11[(I >>> 12) & 15] | pc2bytes12[(I >>> 8) & 15] | pc2bytes13[(I >>> 4) & 15];\n\t\t\tk = ((h >>> 16) ^ E) & 65535;\n\t\t\ty[J++] = E ^ k;\n\t\t\ty[J++] = h ^ (k << 16)\n\t\t}\n\t}\n\tvar K = 0, P, N, k, a, U, T, g, I, c;\n\tvar L, H, Q, d;\n\tvar D, e;\n\tvar p = o.length;\n\tvar b = 0;\n\tvar M = y.length == 32 ? 3 : 9;\n\tif (M == 3) {c = S ? new Array(0, 32, 2) : new Array(30, -2, -2)} else {\n\t\tc = S ? new Array(0, 32, 2, 62, 30, -2, 64, 96, 2) : new Array(94, 62, -2, 32, 64, 2, 30, -2, -2)\n\t}\n\tk = 8 - (p % 8);\n\to += String.fromCharCode(k, k, k, k, k, k, k, k);\n\tif (k == 8) {p += 8}\n\tresult = \"\";\n\ttempresult = \"\";\n\twhile (K < p) {\n\t\tg = (o.charCodeAt(K++) << 24) | (o.charCodeAt(K++) << 16) | (o.charCodeAt(K++) << 8) | o.charCodeAt(K++);\n\t\tI = (o.charCodeAt(K++) << 24) | (o.charCodeAt(K++) << 16) | (o.charCodeAt(K++) << 8) | o.charCodeAt(K++);\n\t\tk = ((g >>> 4) ^ I) & 252645135;\n\t\tI ^= k;\n\t\tg ^= (k << 4);\n\t\tk = ((g >>> 16) ^ I) & 65535;\n\t\tI ^= k;\n\t\tg ^= (k << 16);\n\t\tk = ((I >>> 2) ^ g) & 858993459;\n\t\tg ^= k;\n\t\tI ^= (k << 2);\n\t\tk = ((I >>> 8) ^ g) & 16711935;\n\t\tg ^= k;\n\t\tI ^= (k << 8);\n\t\tk = ((g >>> 1) ^ I) & 1431655765;\n\t\tI ^= k;\n\t\tg ^= (k << 1);\n\t\tg = ((g << 1) | (g >>> 31));\n\t\tI = ((I << 1) | (I >>> 31));\n\t\tfor (N = 0; N < M; N += 3) {\n\t\t\tD = c[N + 1];\n\t\t\te = c[N + 2];\n\t\t\tfor (P = c[N]; P != D; P += e) {\n\t\t\t\tU = I ^ y[P];\n\t\t\t\tT = ((I >>> 4) | (I << 28)) ^ y[P + 1];\n\t\t\t\tk = g;\n\t\t\t\tg = I;\n\t\t\t\tI = k ^ (A[(U >>> 24) & 63] | x[(U >>> 16) & 63] | v[(U >>> 8) & 63] | q[U & 63] | B[(T >>> 24) & 63] |\n\t\t\t\t\t\tz[(T >>> 16) & 63] | w[(T >>> 8) & 63] | u[T & 63])\n\t\t\t}\n\t\t\tk = g;\n\t\t\tg = I;\n\t\t\tI = k\n\t\t}\n\t\tg = ((g >>> 1) | (g << 31));\n\t\tI = ((I >>> 1) | (I << 31));\n\t\tk = ((g >>> 1) ^ I) & 1431655765;\n\t\tI ^= k;\n\t\tg ^= (k << 1);\n\t\tk = ((I >>> 8) ^ g) & 16711935;\n\t\tg ^= k;\n\t\tI ^= (k << 8);\n\t\tk = ((I >>> 2) ^ g) & 858993459;\n\t\tg ^= k;\n\t\tI ^= (k << 2);\n\t\tk = ((g >>> 16) ^ I) & 65535;\n\t\tI ^= k;\n\t\tg ^= (k << 16);\n\t\tk = ((g >>> 4) ^ I) & 252645135;\n\t\tI ^= k;\n\t\tg ^= (k << 4);\n\t\ttempresult += String.fromCharCode((g >>> 24), ((g >>> 16) & 255), ((g >>> 8) & 255), (g & 255), (I >>> 24), ((I >>> 16) & 255),\n\t\t\t\t((I >>> 8) & 255), (I & 255));\n\t\tb += 8;\n\t\tif (b == 512) {\n\t\t\tresult += tempresult;\n\t\t\ttempresult = \"\";\n\t\t\tb = 0\n\t\t}\n\t}\n\tvar F = result + tempresult;\n\tvar G = \"\";\n\tvar R = new Array(\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\");\n\tfor (var P = 0; P < F.length; P++) {G += R[F.charCodeAt(P) >> 4] + R[F.charCodeAt(P) & 15]}\n\treturn G\n};\nmodule.exports = yytcrypt;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/crypto/pwdencrypt.js\n ** module id = 51\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","module.exports = \"<div class=\\\"loginbox\\\">\\n    <div class=\\\"external\\\">\\n        <p class=\\\"title\\\">使用合作账号登录<span>(推荐)</span></p>\\n        <ul>\\n            <li>\\n                <a href=\\\"{{url}}/api/login/sina-auth\\\" target=\\\"_blank\\\" class=\\\"weibo\\\" hidefocus>微博帐号</a>\\n            </li>\\n            <li>\\n                <a href=\\\"{{url}}/api/login/qq-auth\\\" target=\\\"_blank\\\" class=\\\"qq\\\" hidefocus>QQ帐号</a>\\n            </li>\\n            <li>\\n                <a href=\\\"{{url}}/api/login/renren-auth\\\" target=\\\"_blank\\\" class=\\\"renren\\\" hidefocus>人人账号</a>\\n            </li>\\n            <li>\\n                <a href=\\\"{{url}}/api/login/baidu-auth\\\" target=\\\"_blank\\\" class=\\\"baidu\\\" hidefocus>百度帐号</a>\\n            </li>\\n        </ul>\\n        <div class=\\\"loginbox-placehold\\\"></div>\\n        <p class=\\\"text\\\">快捷登录，无需注册</p>\\n        <p class=\\\"text\\\">与你的朋友分享你的爱！</p>\\n    </div>\\n    <div class=\\\"site\\\">\\n        <p class=\\\"title\\\">音悦Tai账号登录</p>\\n        <form id=\\\"loginBoxForm\\\" action=\\\"https://login.yinyuetai.com/login-ajax\\\" method=\\\"post\\\">\\n            <p class=\\\"errorinfo\\\">错误信息提示</p>\\n            <div class=\\\"email focuss\\\">\\n                <input type=\\\"text\\\" name=\\\"email\\\" placeholder=\\\"您的邮箱地址或绑定手机\\\"/>\\n            </div>\\n            <div class=\\\"password\\\">\\n                <input type=\\\"password\\\" class=\\\"pwd\\\" placeholder=\\\"请输入密码\\\"/>\\n            </div>\\n            <div id=\\\"captcha\\\"></div>\\n            <div>\\n                <p class=\\\"autologin\\\"><input type=\\\"checkbox\\\" id=\\\"autocheckbox\\\" name=\\\"autologin\\\" checked hidefocus/><label for=\\\"autocheckbox\\\">下次自动登录</label></p>\\n                <a class=\\\"forgot\\\" href=\\\"{{url}}/forgot-password\\\" target=\\\"_blank\\\" hidefocus>忘记密码</a>\\n            </div>\\n            <div>\\n                <input class=\\\"submit\\\" type=\\\"submit\\\" hidefocus/>\\n                <p class=\\\"reg\\\">还没有音悦Tai账号？<a href=\\\"{{url}}/register\\\" target=\\\"_blank\\\" hidefocus>立即注册！</a></p>\\n            </div>\\n        </form>\\n    </div>\\n</div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/loginBox/template/loginBox.html\n ** module id = 52\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","function hex_y(a) {\n\treturn binl2hex(core_y(str2binl(a), a.length * 8));\n}\n\nfunction hex_y_16(c) {\n\tvar a = hex_y(c);\n\ta = a.substring(8, 24);\n\treturn y_vv(a);\n}\n\nfunction core_y(r, k) {\n\tr[k >> 5] |= 128 << ((k) % 32);\n\tr[ (((k + 64) >>> 9) << 4) + 14] = k;\n\tvar q = 1732584193;\n\tvar p = -271733879;\n\tvar m = -1732584194;\n\tvar l = 271733878;\n\tfor (var g = 0; g < r.length; g += 16) {\n\t\tvar j = q;\n\t\tvar h = p;\n\t\tvar f = m;\n\t\tvar e = l;\n\t\tq = y_ff(q, p, m, l, r[g + 0], 7, -680876936);\n\t\tl = y_ff(l, q, p, m, r[g + 1], 12, -389564586);\n\t\tm = y_ff(m, l, q, p, r[g + 2], 17, 606105819);\n\t\tp = y_ff(p, m, l, q, r[g + 3], 22, -1044525330);\n\t\tq = y_ff(q, p, m, l, r[g + 4], 7, -176418897);\n\t\tl = y_ff(l, q, p, m, r[g + 5], 12, 1200080426);\n\t\tm = y_ff(m, l, q, p, r[g + 6], 17, -1473231341);\n\t\tp = y_ff(p, m, l, q, r[g + 7], 22, -45705983);\n\t\tq = y_ff(q, p, m, l, r[g + 8], 7, 1770035416);\n\t\tl = y_ff(l, q, p, m, r[g + 9], 12, -1958414417);\n\t\tm = y_ff(m, l, q, p, r[g + 10], 17, -42063);\n\t\tp = y_ff(p, m, l, q, r[g + 11], 22, -1990404162);\n\t\tq = y_ff(q, p, m, l, r[g + 12], 7, 1804603682);\n\t\tl = y_ff(l, q, p, m, r[g + 13], 12, -40341101);\n\t\tm = y_ff(m, l, q, p, r[g + 14], 17, -1502002290);\n\t\tp = y_ff(p, m, l, q, r[g + 15], 22, 1236535329);\n\t\tq = y_gg(q, p, m, l, r[g + 1], 5, -165796510);\n\t\tl = y_gg(l, q, p, m, r[g + 6], 9, -1069501632);\n\t\tm = y_gg(m, l, q, p, r[g + 11], 14, 643717713);\n\t\tp = y_gg(p, m, l, q, r[g + 0], 20, -373897302);\n\t\tq = y_gg(q, p, m, l, r[g + 5], 5, -701558691);\n\t\tl = y_gg(l, q, p, m, r[g + 10], 9, 38016083);\n\t\tm = y_gg(m, l, q, p, r[g + 15], 14, -660478335);\n\t\tp = y_gg(p, m, l, q, r[g + 4], 20, -405537848);\n\t\tq = y_gg(q, p, m, l, r[g + 9], 5, 568446438);\n\t\tl = y_gg(l, q, p, m, r[g + 14], 9, -1019803690);\n\t\tm = y_gg(m, l, q, p, r[g + 3], 14, -187363961);\n\t\tp = y_gg(p, m, l, q, r[g + 8], 20, 1163531501);\n\t\tq = y_gg(q, p, m, l, r[g + 13], 5, -1444681467);\n\t\tl = y_gg(l, q, p, m, r[g + 2], 9, -51403784);\n\t\tm = y_gg(m, l, q, p, r[g + 7], 14, 1735328473);\n\t\tp = y_gg(p, m, l, q, r[g + 12], 20, -1926607734);\n\t\tq = y_hh(q, p, m, l, r[g + 5], 4, -378558);\n\t\tl = y_hh(l, q, p, m, r[g + 8], 11, -2022574463);\n\t\tm = y_hh(m, l, q, p, r[g + 11], 16, 1839030562);\n\t\tp = y_hh(p, m, l, q, r[g + 14], 23, -35309556);\n\t\tq = y_hh(q, p, m, l, r[g + 1], 4, -1530992060);\n\t\tl = y_hh(l, q, p, m, r[g + 4], 11, 1272893353);\n\t\tm = y_hh(m, l, q, p, r[g + 7], 16, -155497632);\n\t\tp = y_hh(p, m, l, q, r[g + 10], 23, -1094730640);\n\t\tq = y_hh(q, p, m, l, r[g + 13], 4, 681279174);\n\t\tl = y_hh(l, q, p, m, r[g + 0], 11, -358537222);\n\t\tm = y_hh(m, l, q, p, r[g + 3], 16, -722521979);\n\t\tp = y_hh(p, m, l, q, r[g + 6], 23, 76029189);\n\t\tq = y_hh(q, p, m, l, r[g + 9], 4, -640364487);\n\t\tl = y_hh(l, q, p, m, r[g + 12], 11, -421815835);\n\t\tm = y_hh(m, l, q, p, r[g + 15], 16, 530742520);\n\t\tp = y_hh(p, m, l, q, r[g + 2], 23, -995338651);\n\t\tq = y_ii(q, p, m, l, r[g + 0], 6, -198630844);\n\t\tl = y_ii(l, q, p, m, r[g + 7], 10, 1126891415);\n\t\tm = y_ii(m, l, q, p, r[g + 14], 15, -1416354905);\n\t\tp = y_ii(p, m, l, q, r[g + 5], 21, -57434055);\n\t\tq = y_ii(q, p, m, l, r[g + 12], 6, 1700485571);\n\t\tl = y_ii(l, q, p, m, r[g + 3], 10, -1894986606);\n\t\tm = y_ii(m, l, q, p, r[g + 10], 15, -1051523);\n\t\tp = y_ii(p, m, l, q, r[g + 1], 21, -2054922799);\n\t\tq = y_ii(q, p, m, l, r[g + 8], 6, 1873313359);\n\t\tl = y_ii(l, q, p, m, r[g + 15], 10, -30611744);\n\t\tm = y_ii(m, l, q, p, r[g + 6], 15, -1560198380);\n\t\tp = y_ii(p, m, l, q, r[g + 13], 21, 1309151649);\n\t\tq = y_ii(q, p, m, l, r[g + 4], 6, -145523070);\n\t\tl = y_ii(l, q, p, m, r[g + 11], 10, -1120210379);\n\t\tm = y_ii(m, l, q, p, r[g + 2], 15, 718787259);\n\t\tp = y_ii(p, m, l, q, r[g + 9], 21, -343485551);\n\t\tq = safe_add(q, j);\n\t\tp = safe_add(p, h);\n\t\tm = safe_add(m, f);\n\t\tl = safe_add(l, e);\n\t}\n\treturn Array(q, p, m, l);\n}\n\nfunction y_cmn(h, e, d, c, g, f) {\n\treturn safe_add(bit_rol(safe_add(safe_add(e, h), safe_add(c, f)), g), d);\n}\n\nfunction y_ff(g, f, l, k, e, j, h) {\n\treturn y_cmn((f & l) | ((~f) & k), g, f, e, j, h);\n}\n\nfunction y_gg(g, f, l, k, e, j, h) {\n\treturn y_cmn((f & k) | (l & (~k)), g, f, e, j, h);\n}\n\nfunction y_hh(g, f, l, k, e, j, h) {\n\treturn y_cmn(f ^ l ^ k, g, f, e, j, h);\n}\n\nfunction y_ii(g, f, l, k, e, j, h) {\n\treturn y_cmn(l ^ (f | (~k)), g, f, e, j, h);\n}\n\nfunction safe_add(a, e) {\n\tvar d = (a & 65535) + (e & 65535);\n\tvar c = (a >> 16) + (e >> 16) + (d >> 16);\n\treturn(c << 16) | (d & 65535);\n}\n\nfunction bit_rol(a, c) {\n\treturn(a << c) | (a >>> (32 - c));\n}\n\nfunction str2binl(e) {\n\tvar d = Array();\n\tvar a = (1 << chrsz) - 1;\n\tfor (var c = 0; c < e.length * chrsz; c += chrsz) {\n\t\td[c >> 5] |= (e.charCodeAt(c / chrsz) & a) << (c % 32);\n\t}\n\treturn d;\n}\n\nfunction binl2hex(d) {\n\tvar c = \"0123456789abcdef\";\n\tvar e = \"\";\n\tfor (var a = 0; a < d.length * 4; a++) {\n\t\te += c.charAt((d[a >> 2] >> ((a % 4) * 8 + 4)) & 15) + c.charAt((d[a >> 2] >> ((a % 4) * 8)) & 15);\n\t}\n\treturn e;\n}\n\nfunction y_vv(d) {\n\tvar a = \"\";\n\tfor (var c = d.length - 1; c >= 0; c--) {\n\t\ta += d.charAt(c);\n\t}\n\treturn a;\n}\n\nfunction yyt32(c, a) {\n\tif (a.length != 13) {\n\t\talert(\"timesign error !!!\");\n\t\treturn \"\";\n\t}\n\treturn hex_y(hex_y(c) + a.substring(5, 11));\n}\n\nfunction yyt16(c, a) {\n\tif (a.length != 13) {\n\t\talert(\"timesign error !!!\");\n\t\treturn \"\";\n\t}\n\treturn hex_y(hex_y_16(c) + a.substring(5, 11));\n}\n\nvar chrsz = 8;\nvar Auxiliary = require('auxiliary-additions');\nvar cookie =  Auxiliary.cookie;\n\nmodule.exports = function(p0) {\n\tvar t1, t2, p1, p2;\n\tt1 = \"\" + (new Date()).getTime();\n\tt2 = y_vv(t1);\n\tif (p0 && p0.length != 0) {\n\t\tp1 = yyt32(p0, t1);\n\t\tp2 = yyt16(p0, t2);\n\t} else {\n\t\tp1 = yyt32(t1, t2);\n\t\tp2 = yyt16(t2, t1);\n\t}\n\tcookie.set('p2', p2, {\n\t\tdomain : 'yinyuetai.com',\n\t\tpath : '/'\n\t});\n\treturn {\n\t\t_t : t1,\n\t\t_p1 : p1,\n\t\t_p2 : p2\n\t}\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/crypto/secret.js\n ** module id = 53\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","module.exports = \"<div style=\\\"padding: 20px 30px;\\\">\\n  <p>您好像还没有进行邮箱验证。</p>\\n  <p>为不影响部分功能的使用，请先进行\\n    <a href=\\\"{homeSite}/settings/bind\\\" target=\\\"_blank\\\" class=\\\"special f14\\\">邮箱验证</a>\\n  </p>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/UserModel/template/email.html\n ** module id = 54\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/**\n * Created by AaronYuan on 3/14/16.\n * confirm 对话框\n *\n * 使用\n *\n var  uiConfirm = require('ui.confirm');\n uiConfirm.show({\n            title: '消息',\n            content: '您确定要结束直播吗',\n            okFn: function () {\n                console.log('ok');\n            },\n            cancelFn: function () {\n                console.log('cancel');\n            }\n        });\n *\n */\n\n\nvar confirm = {};\nvar _ = require('underscore');\n\nvar setting = {\n  title: '消息',\n  content: '',\n  okFn: null,\n  cancelFn: null,\n  okBtn: true,\n  cancelBtn: true\n};\n\nconfirm.init = function (ops) {\n  var tpl = _.template(this.getHTML());\n  var html = tpl(ops);\n  this.remove();\n  this.bindEvent(html, ops.okFn, ops.cancelFn);\n};\n\nconfirm.remove = function () {\n  var wrap = $('#UIConfigWrap');\n  if (wrap && wrap.length >= 1) {\n    wrap.remove();\n  }\n};\n\nconfirm.getHTML = function () {\n  return require('./template/confirm.html');\n};\n\nconfirm.bindEvent = function (html, okFn, cancelFn) {\n  var self = this;\n  var ele = $(html);\n\n  ele.find('#UIConfirmOk').on('click', function (e) {\n    e.preventDefault();\n    if (okFn) {\n      okFn();\n    }\n    self.remove();\n    return false;\n  });\n  ele.find('.UIConfirmClose').on('click', function (e) {\n    e.preventDefault();\n    if (cancelFn) {\n      cancelFn();\n    }\n    self.remove();\n    return false;\n  });\n\n  $('body').append(ele);\n};\n\n/**\n *\n * @param options\n *  {\n   *  title: ''\n   *  content: ''\n   *  okFn: fun\n   *  cancelFn: fun\n  *  }\n */\nconfirm.show = function (options) {\n  var ops = _.extend(setting, options);\n  this.init(ops);\n};\nconfirm.close = function () {\n  this.remove();\n};\n\n\nmodule.exports = {\n  show: function (options) {\n    confirm.show(options);\n  },\n  close: function () {\n    confirm.close();\n  }\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/confirm/index.js\n ** module id = 55\n ** module chunks = 1 2 3 4 5 6 7 9\n **/","module.exports = \"<div id=\\\"UIConfigWrap\\\" class=\\\"shadow_screen\\\">\\n    <div class=\\\"shadow\\\"></div>\\n    <div class=\\\"edit_annmoucement_con\\\" style=\\\"margin-bottom: 16px; width: 400px;margin-left:-200px;\\\">\\n        <h2 class=\\\"edit_title\\\"><span class=\\\"title\\\" id=\\\"UIConfirmTitle\\\"><%=title%></span> <span class=\\\"close icons am-yyt-close close-black UIConfirmClose\\\"></span></h2>\\n        <div class=\\\"editCon\\\" style=\\\"\\\">\\n            <div class=\\\"content\\\" style=\\\"padding:16px; font-size: 14px;\\\"><%=content%></div>\\n            <p class=\\\"btn-wrap am-margin-top\\\" >\\n                <a style=\\\"display: <%= okBtn?'inline-block':'none'%>;\\\" id=\\\"UIConfirmOk\\\" href=\\\"javascript:;\\\" class=\\\"boderRadAll_5 submit active am-margin-right\\\">确定</a>\\n                <a style=\\\"display: <%= cancelBtn?'inline-block':'none'%>;\\\" href=\\\"javascript:;\\\" class=\\\"boderRadAll_5 cancel UIConfirmClose am-margin-left\\\">取消</a>\\n            </p>\\n        </div>\\n    </div>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/confirm/template/confirm.html\n ** module id = 56\n ** module chunks = 1 2 3 4 5 6 7 9\n **/","'use strict';\n\nvar base = require('base-extend-backbone');\nvar Config = require('config');\nvar BaseModel = base.Model;\nvar env = Config.env[Config.scheme];\n\nvar Model = BaseModel.extend({\n  url: '{{url_prefix}}/room/detail.json', // accessToken 填写请求地址\n  beforeEmit: function beforeEmit() {\n    // 给请求地址替换一下环境变量\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\n    }\n  }\n});\n\nvar shared = null;\nModel.sharedInstanceModel = function sharedInstanceModel() {\n  if (!shared) {\n    shared = new Model();\n  }\n  return shared;\n};\n\nmodule.exports = Model;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/anchor/room-detail.model.js\n ** module id = 58\n ** module chunks = 1 3 7 9\n **/","'use strict';\n\nvar base = require('base-extend-backbone');\nvar Config = require('config');\nvar BaseModel = base.Model;\nvar env = Config.env[Config.scheme];\n\nvar Model = BaseModel.extend({\n  url: '{{url_prefix}}/room/longpolling.json', // 填写请求地址\n  beforeEmit: function beforeEmit() {\n    // 给请求地址替换一下环境变量\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\n    }\n  }\n});\n\nvar shared = null;\nModel.sharedInstanceModel = function sharedInstanceModel() {\n  if (!shared) {\n    shared = new Model();\n  }\n  return shared;\n};\n\nmodule.exports = Model;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/anchor/room-longPolling.model.js\n ** module id = 59\n ** module chunks = 1 3 7 9\n **/","/**\n * @time 2015-03-24\n * @author {编写者}\n * @info 道具列表\n */\n\n'use strict';\n\nvar sigleInstance = null;\nvar cacheData = null;\nvar _ = require('underscore');\n\nfunction GiftModel() {\n}\n\nGiftModel.prototype.get = function (data, okFn, errFn) {\n  if (cacheData && okFn) {\n    okFn(cacheData);\n  }\n  $.ajax('http://lapi.yinyuetai.com/gift/list.json', {\n    method: 'GET',\n    data: data,\n    dataType: 'jsonp',\n    jsonp: 'callback'\n  }).done(function (res) {\n    if (res) {\n      okFn(res);\n    }\n    cacheData = res;\n  }).fail(function (err) {\n    if (errFn) {\n      errFn(err);\n    }\n  });\n};\n\nGiftModel.prototype.findGift = function (giftId) {\n  var list = cacheData.data;\n  return _.find(list, function (item) {\n    return item.giftId === giftId;\n  });\n};\n\nGiftModel.sharedInstanceModel = function () {\n  if (!sigleInstance) {\n    sigleInstance = new GiftModel();\n  }\n  return sigleInstance;\n};\n\nmodule.exports = GiftModel;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/anchor/gift.model.js\n ** module id = 60\n ** module chunks = 1 3 5 7 9\n **/","/**\n * 获取在当前房间内的权限\n */\n'use strict';\n\nvar base = require('base-extend-backbone');\nvar Config = require('config');\nvar BaseModel = base.Model;\nvar env = Config.env[Config.scheme];\n\nvar Model = BaseModel.extend({\n  url: '{{url_prefix}}/room/manager_my_list.json',\n  beforeEmit: function beforeEmit() {\n    // 给请求地址替换一下环境变量\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\n    }\n  }\n});\n\nvar shared = null;\nModel.sharedInstanceModel = function sharedInstanceModel() {\n  if (!shared) {\n    shared = new Model();\n  }\n  return shared;\n};\n\nmodule.exports = Model;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/live-room/permission.model.js\n ** module id = 61\n ** module chunks = 1 3 5 7\n **/","/**\n * Created by AaronYuan on 4/5/16.\n * 用户\n */\n'use strict';\n\nvar AnchorUserInfoModel = require('../../models/anchor/anchor-info.model');\nvar base = require('base-extend-backbone');\nvar Storage = base.storage;\nvar UserModel = require('UserModel');\nvar user = UserModel.sharedInstanceUserModel();\nvar instance = null;\nvar _ = require('underscore');\n\nfunction UserInfoView() {\n}\n\nUserInfoView.prototype.getInfo = function (okFn, errFn) {\n  var promise;\n  this.anchorInfoModel = AnchorUserInfoModel.sharedInstanceModel();\n  this.anchorInfoParams = {\n    deviceinfo: '{\"aid\": \"30001001\"}',\n    access_token: user.getWebToken()\n  };\n  promise = this.anchorInfoModel.executeJSONP(this.anchorInfoParams);\n  promise.done(function (res) {\n    if (res && res.msg === 'SUCCESS') {\n      if (okFn) {\n        okFn(res.data);\n      }\n    }\n  });\n  promise.fail(function (err) {\n    if (errFn) {\n      errFn(err);\n    }\n  });\n};\n\ninstance = new UserInfoView();\n\nmodule.exports = {\n  getInfo: function (okFn, errFn) {\n    instance.getInfo(okFn, errFn);\n  },\n  isDisbaleTalk: function (userId, roomId) {\n    var list = Storage.get('userDisableTalkTime');\n    if (!list) {\n      return false;\n    }\n    try {\n      list = JSON.parse(list);\n    } catch (e) {\n      list = [];\n    }\n    var res = _.find(list, function (item) {\n      return item.roomId === roomId && item.userId === userId;\n    });\n    if (!res) {\n      return false;\n    }\n\n    var time = res.time;\n    if (!time) {\n      return false;\n    }\n\n    time = new Date(time);\n    var cur = new Date();\n    var diff = cur.getTime() - time.getTime();\n\n    return diff <= 0;\n  },\n  isKickout: function (roomId) {\n    var list = Storage.get('userKickout');\n    if (!list) {\n      return false;\n    }\n    try {\n      list = JSON.parse(list);\n    } catch (e) {\n      list = [];\n    }\n    var res = _.find(list, function (item) {\n      return item.roomId === roomId;\n    });\n    return !!res && res.isKickout;\n  },\n  setDisableTalk: function (userid, roomid, time) {\n    var list = Storage.get('userDisableTalkTime');\n    if (_.isNumber(list)) {\n      list = [];\n    }\n    if (!list) {\n      list = [];\n    }\n    try {\n      list = JSON.parse(list);\n    } catch (e) {\n      list = [];\n    }\n    var res = _.find(list, function (item) {\n      return item.roomId === roomid && item.userId === userid;\n    });\n\n    if (res) {\n      res.time = time;\n    } else {\n      list.push({\n        roomId: roomid,\n        userId: userid,\n        time: time\n      });\n    }\n    Storage.set('userDisableTalkTime', JSON.stringify(list));\n  },\n  setKickout: function (roomId, isKickout) {\n    var list = Storage.get('userKickout');\n    if (!list) {\n      list = [];\n    } else {\n      try {\n        list = JSON.parse(list);\n      } catch (e) {\n        list = [];\n      }\n    }\n    var res = _.find(list, function (item) {\n      return item.roomId === roomId;\n    });\n    if (res) {\n      res.isKickout = isKickout;\n    } else {\n      list.push({\n        roomId: roomId,\n        isKickout: isKickout\n      });\n    }\n    Storage.set('userKickout', JSON.stringify(list));\n  },\n  setLockScreen: function (roomId, isLock) {\n    var list = Storage.get('isLockScreen');\n    if (!list) {\n      list = [];\n    } else {\n      list = JSON.parse(list);\n    }\n    var res = _.find(list, function (item) {\n      return item.roomId === roomId;\n    });\n    if (res) {\n      res.isLock = isLock;\n    } else {\n      list.push({\n        roomId: roomId,\n        isLock: isLock\n      });\n    }\n    Storage.set('isLockScreen', JSON.stringify(list));\n  },\n  isLockScreen: function (roomId) {\n    var list = Storage.get('isLockScreen');\n    if (!list) {\n      return false;\n    }\n    list = JSON.parse(list);\n    var res = _.find(list, function (item) {\n      return item.roomId === roomId;\n    });\n    return !!res && res.isLock;\n  },\n  removeAll: function () {\n    Storage.set('isLockScreen', '');\n    Storage.set('userDisableTalkTime', '');\n    Storage.set('userKickout', '');\n  }\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/live-room/user.js\n ** module id = 62\n ** module chunks = 1 3 4 5 7 9\n **/","'use strict';\n\nvar base = require('base-extend-backbone');\nvar Config = require('config');\nvar BaseModel = base.Model;\nvar env = Config.env[Config.scheme];\n\nvar Model = BaseModel.extend({\n  url: '{{url_prefix}}/user/info.json', // 填写请求地址\n  beforeEmit: function beforeEmit() {\n    // 给请求地址替换一下环境变量\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\n    }\n  }\n});\n\nvar shared = null;\nModel.sharedInstanceModel = function sharedInstanceModel() {\n  if (!shared) {\n    shared = new Model();\n  }\n  return shared;\n};\n\nmodule.exports = Model;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/anchor/anchor-info.model.js\n ** module id = 63\n ** module chunks = 1 2 3 4 5 6 7 9\n **/","/**\n * 告白墙\n */\n'use strict';\n\nvar _ = require('underscore');\nvar base = require('base-extend-backbone');\nvar BaseView = base.View;\n\nvar ListModel = require('../../models/advertising-wall/list.model');\nvar LikeModel = require('../../models/advertising-wall/like.model');\nvar CreateModel = require('../../models/advertising-wall/create.model');\nvar UserModel = require('UserModel');\nvar user = UserModel.sharedInstanceUserModel();\nvar LoopModel = require('../../models/advertising-wall/loop.model');\n\nvar msgBox = require('ui.msgBox');\nvar BusinessDate = require('BusinessDate');\n\nvar View = BaseView.extend({\n  el: '',\n  rawLoader: function () {\n    return require('./template/wall.html');\n  },\n  events: {\n    'click #btnShowCreate': 'showCreateClicked',\n    'click #btnBacktoList': 'backToList',\n    'click .wall-list': 'itemClicked',\n    'click #btnSendText': 'sendClicked',\n    'click .tabs a': 'tabClicked',\n    'click .colors a': 'chooseColorClicked',\n    'keyup #txtMsg': 'calcTextLength',\n    'click #unReadCnt': 'refreshUnreadList'\n  },\n  context: function (args) {\n    console.log(args);\n  },\n  beforeMount: function () {\n    //  初始化一些自定义属性\n    this.elements = {};\n\n    this.queryParams = {\n      deviceinfo: '{\"aid\": \"30001001\"}',\n      access_token: user.getWebToken()\n    };\n\n    // 循环接口时间\n    this.loopTime = 60 * 1000;\n\n    this.listParams = _.extend({}, this.queryParams);\n\n    this.pageParams = {\n      newList: {\n        hasNext: true\n      },\n      hotList: {}\n    };\n\n    this.listModel = new ListModel();\n    this.likeModel = new LikeModel();\n    this.createModel = new CreateModel();\n    this.loopModel = new LoopModel();\n  },\n  afterMount: function () {\n    //  获取findDOMNode DOM Node\n    this.elements.showCreateDOM = this.$el.find('#btnShowCreate');\n    this.elements.showWhenCreateDom = this.$el.find('.show-when-create');\n    this.elements.showWhenListDom = this.$el.find('.show-when-list');\n    this.elements.boardDom = this.$el.find('.msg-board-wrap');\n\n    this.elements.txtInputDom = this.$el.find('#txtMsg');\n    this.elements.txtLengthDom = this.$el.find('#txtLength');\n    this.elements.anonymousDom = this.$el.find('#cbAnonymous');\n    this.elements.userScoreDom = this.$el.find('#userScore');\n    this.elements.unReadCnt = this.$el.find('#unReadCnt');\n\n    // 一个公告的模板\n    this.itemTpl = this.$el.find('#itemTpl').html();\n\n    this.newestListDOM = this.$el.find('.newList .am-u-sm-4');\n    this.hotListDOM = this.$el.find('.hotList .am-u-sm-4');\n\n    // 每个告白价值\n    this.perItemFee = 5;\n  },\n  ready: function (ops) {\n    this.options = _.extend({\n      totalMarks: 0,\n      userInfo: {}\n    }, ops);\n    this.defineEventInterface();\n    this.lastTime = new Date();\n    // 隐藏未读小红点\n    this.elements.unReadCnt.text(0).hide();\n    //  初始化\n    this.renderNewestList({\n      tag: 'first'\n    });\n    this.loopGetUnreadCount();\n    // this.renderHotList();\n    this.setUserInfo();\n\n    $('.msg-board-wrap .wall-list').on('scroll', this.tabScrollDown.bind(this));\n  },\n  setOptions: function (ops) {\n    this.options = _.extend(this.options, ops);\n  },\n  defineEventInterface: function () {},\n  beforeDestroy: function () {\n    //  进入销毁之前,将引用关系设置为null\n  },\n  destroyed: function () {\n    //  销毁之后\n  },\n  // 我要发布点击\n  showCreateClicked: function () {\n    this.elements.showWhenCreateDom.show();\n    this.elements.showWhenListDom.hide();\n    this.elements.boardDom.addClass('active-create');\n    this.randomSetColor();\n  },\n  // 返回列表\n  backToList: function () {\n    this.elements.showWhenCreateDom.hide();\n    this.elements.showWhenListDom.show();\n    this.elements.boardDom.removeClass('active-create');\n  },\n\n  getData: function (ops) {\n    var self = this;\n    this.listParams = _.extend(this.listParams, {\n      subType: this.options.type || 1,\n      subId: self.options.roomId || 0,\n      sortField: 'TIME', // LIKE\n      limit: 9\n    }, ops);\n    return this.listModel.executeJSONP(this.listParams);\n  },\n  // 最新列表\n  renderNewestList: function (ops) {\n    var self = this;\n    var promise = this.getData(ops);\n    if (!self.pageParams.newList.hasNext) {\n      return;\n    }\n    promise.done(function (res) {\n      self.isScrolling = false;\n      self.appendToNewestList(res.data.list || []);\n      if (res && res.code === '0') {\n        self.pageParams.newList = {\n          cursor: res.data.nextCursor || null,\n          hasNext: res.data.hasNext || false\n        };\n      }\n      if (ops && ops.tag === 'first' && _.isArray(res.data.list) && res.data.list.length <= 0) {\n        self.newestListDOM.eq(0).append('<div class=\"first\">快来成为第一个告白的幸运儿</div>');\n      }\n    });\n  },\n  appendToNewestList: function (data) {\n    var htmls = this.createItemHtml(data);\n    this.newestListDOM.eq(0).find('.first').remove();\n    this.newestListDOM.eq(0).append(htmls[0]);\n    this.newestListDOM.eq(1).append(htmls[1]);\n    this.newestListDOM.eq(2).append(htmls[2]);\n  },\n  // 最热列表\n  renderHotList: function (ops) {\n    var self = this;\n    var op = _.extend(ops, {\n      sortField: 'LIKE'\n    });\n\n    var promise = this.getData(op);\n    promise.done(function (res) {\n      self.isScrolling = false;\n      if (res && res.code === '0') {\n        self.pageParams.hotList = {\n          nextCursor: res.data.nextCursor || null,\n          hasNext: res.data.hasNext || false\n        };\n      }\n      self.appendToHotList(res.data.list || []);\n    });\n  },\n  appendToHotList: function (data) {\n    var htmls = this.createItemHtml(data);\n    this.hotListDOM.eq(0).append(htmls[0]);\n    this.hotListDOM.eq(1).append(htmls[1]);\n    this.hotListDOM.eq(2).append(htmls[2]);\n  },\n  createItemHtml: function (data) {\n    var html = '';\n    var self = this;\n    var result = [\n      [],\n      [],\n      []\n    ];\n    _.each(data, function (item, index) {\n      var curItem = item;\n      curItem.time = BusinessDate.format(new Date(item.createTime), 'yyyy-MM-dd hh:mm:ss');\n      html = self.compileHTML(self.itemTpl, curItem);\n      var res = index % 3;\n      switch (res) {\n        case 1:\n          result[1].push(html);\n          break;\n        case 2:\n          result[2].push(html);\n          break;\n        case 0:\n        default:\n          result[0].push(html);\n          break;\n      }\n    });\n    return result;\n  },\n  renderItem: function () {\n\n  },\n  itemClicked: function (e) {\n    var target = $(e.target);\n    if (!target.attr('data-likeid')) {\n      target = target.parent('a');\n    }\n    var liked = target.attr('data-liked') === 'true';\n    if (target.attr('data-likeid')) {\n      this.likeItem(target.attr('data-likeid'), target, !liked);\n    }\n  },\n  // 喜欢某个告白\n  likeItem: function (id, dom, like) {\n    this.likeParams = _.extend(this.queryParams, {\n      subType: this.options.type,\n      cmtId: id,\n      like: like\n    });\n    var promise = this.likeModel.executeJSONP(this.likeParams);\n    var cnt = ~~dom.find('span').text();\n    promise.done(function (res) {\n      if (res && res.code === '0') {\n        dom.attr('data-liked', like ? 'true' : 'false');\n        dom.find('span').text(like ? cnt + 1 : cnt - 1);\n        dom.toggleClass('active');\n      } else {\n        msgBox.showTip('支持失败,稍后重新尝试吧');\n      }\n    });\n  },\n  // 切换列表\n  tabClicked: function (e) {\n    var target = $(e.target);\n    var tab = target.attr('data-tab');\n    var link = $('.tabs a');\n    if (tab && !target.hasClass('active')) {\n      link.toggleClass('active');\n      $('.tab').hide();\n      $('.' + tab).show();\n    }\n  },\n  getSendText: function () {\n    var text = $.trim(this.elements.txtInputDom.val());\n    var reg = /<[^>]+?>/g;\n    text = text.replace(reg, '');\n    return text;\n  },\n  // 校验发布内容\n  verifyText: function () {\n    var text = this.getSendText();\n    if (text.length > 200) {\n      msgBox.showTip('告白内容不能超过200字');\n      return false;\n    } else if (text.length < 20) {\n      msgBox.showTip('告白内容至少输入20个字');\n      return false;\n    }\n    return true;\n  },\n  sendClicked: function () {\n    var isAnonymous = this.elements.anonymousDom.is(':checked');\n    var self = this;\n    if (this.verifyText()) {\n      this.createParams = _.extend({\n        subType: self.options.type,\n        subId: this.options.roomId,\n        isAnonymous: isAnonymous,\n        fontColor: this.selectedColor || '',\n        content: this.getSendText()\n      }, this.queryParams);\n\n      var promise = this.createModel.executeJSONP(this.createParams);\n\n      promise.done(function (res) {\n        if (res && res.code === '0') {\n          msgBox.showOK('告白发布成功!');\n          self.elements.txtInputDom.val('');\n          self.backToList();\n          self.options.userInfo.totalMarks -= self.perItemFee;\n          self.setUserInfo();\n          self.newestListDOM.children().remove();\n          self.pageParams.newList.hasNext = true;\n          self.renderNewestList({\n            cursor: null\n          });\n          // self.renderHotList();\n        } else {\n          msgBox.showError(res.msg || '发布告白失败,请稍后重试');\n        }\n      });\n    }\n  },\n  // 设置文字颜色\n  setTextColor: function (dom, color) {\n    if (dom && color) {\n      var col = this.rgb2hex(color + '');\n      dom.css('color', col);\n      this.selectedColor = col;\n    }\n  },\n  // 选择颜色\n  chooseColorClicked: function (e) {\n    var target = $(e.target);\n    var color = target.css('background-color');\n    target.parent('.colors').children().removeClass('active');\n    target.addClass('active');\n    this.setTextColor(this.elements.txtInputDom, color);\n  },\n  // 随机设置颜色\n  randomSetColor: function () {\n    var index = Math.random() * 10 % 5 ^ 0;\n    this.chooseColorClicked({\n      target: $('.colors a').eq(index)\n    });\n  },\n  // 计算文字长度\n  calcTextLength: function () {\n    var txt = $.trim(this.elements.txtInputDom.val());\n    var maxLength = 200;\n    this.elements.txtLengthDom.text(maxLength - txt.length);\n  },\n  // 数字转16进制\n  zeroFillHex: function (num, digits) {\n    var s = num.toString(16);\n    while (s.length < digits) {\n      s = '0' + s;\n    }\n    return s;\n  },\n  // 颜色转换\n  rgb2hex: function (rgb) {\n    if (rgb.charAt(0) === '#') {\n      return rgb;\n    }\n\n    var ds = rgb.split(/\\D+/);\n    var decimal = Number(ds[1]) * 65536 + Number(ds[2]) * 256 + Number(ds[3]);\n    return '#' + this.zeroFillHex(decimal, 6);\n  },\n  // 设置用户积分\n  setUserInfo: function (userInfo) {\n    if (userInfo) {\n      this.options.userInfo = userInfo;\n    }\n    if (_.isNumber(this.options.userInfo.totalMarks)) {\n      this.elements.userScoreDom.text(this.options.userInfo.totalMarks || 0);\n    }\n  },\n  refreshUnreadList: function () {\n    this.lastTime = new Date();\n    this.elements.unReadCnt.text(0).hide();\n    $('.newList .am-u-sm-4').children().remove();\n    this.renderNewestList();\n    this.changeTab(0);\n  },\n  loopGetUnreadCount: function () {\n    var self = this;\n    var promise = this.loopModel.executeJSONP(_.extend({\n      subType: this.options.type,\n      subId: self.options.roomId,\n      lastTime: self.lastTime.getTime()\n    }, this.queryParams));\n    promise.done(function (res) {\n      if (res && res.code === '0' && res.data.newMsgCount > 0) {\n        // self.elements.unReadCnt.text(res.data.newMsgCount).show();\n        self.pageParams.newList.hasNext = true;\n\n        self.newestListDOM.children().remove();\n        self.renderNewestList();\n      }\n      setTimeout(function () {\n        self.loopGetUnreadCount();\n      }, self.loopTime);\n    });\n  },\n  // 切换列表\n  changeTab: function (index) {\n    this.tabClicked({\n      target: $('.tabs a').eq(index)\n    });\n  },\n  tabScrollDown: function (e) {\n    var tag = $('.tab-menu .active').attr('data-tab') || 'newList';\n    var target = $(e.target);\n    var maxHeight = $('.' + tag).find('.am-u-sm-4').height() - 404;\n    var top = target.scrollTop();\n    if (this.isScrolling) {\n      return;\n    }\n    this.isScrolling = true;\n    var diff = maxHeight - top;\n    if (diff < 30 && this.pageParams[tag].hasNext) {\n      if (tag === 'newList') {\n        this.renderNewestList(this.pageParams[tag]);\n      } else {\n        // this.renderHotList(this.pageParams[tag]);\n      }\n    }\n  }\n});\n\nmodule.exports = View;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/advertising-wall/main.view.js\n ** module id = 64\n ** module chunks = 1 3 5 7 9\n **/","/**\n * 告白列表\n */\n'use strict';\n\nvar base = require('base-extend-backbone');\nvar Config = require('config');\nvar BaseModel = base.Model;\nvar env = Config.env[Config.scheme];\n\nvar Model = BaseModel.extend({\n  url: '{{url_prefix}}/common/love_cmt_list.json',\n  beforeEmit: function beforeEmit() {\n    // 给请求地址替换一下环境变量\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\n    }\n  }\n});\n\nvar shared = null;\nModel.sharedInstanceModel = function sharedInstanceModel() {\n  if (!shared) {\n    shared = new Model();\n  }\n  return shared;\n};\n\nmodule.exports = Model;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/advertising-wall/list.model.js\n ** module id = 65\n ** module chunks = 1 3 5 7 9\n **/","/**\n * 点赞\n */\n'use strict';\n\nvar base = require('base-extend-backbone');\nvar Config = require('config');\nvar BaseModel = base.Model;\nvar env = Config.env[Config.scheme];\n\nvar Model = BaseModel.extend({\n  url: '{{url_prefix}}/common/love_cmt_like.json',\n  beforeEmit: function beforeEmit() {\n    // 给请求地址替换一下环境变量\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\n    }\n  }\n});\n\nvar shared = null;\nModel.sharedInstanceModel = function sharedInstanceModel() {\n  if (!shared) {\n    shared = new Model();\n  }\n  return shared;\n};\n\nmodule.exports = Model;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/advertising-wall/like.model.js\n ** module id = 66\n ** module chunks = 1 3 5 7 9\n **/","/**\n * 发布告白墙\n */\n'use strict';\n\nvar base = require('base-extend-backbone');\nvar Config = require('config');\nvar BaseModel = base.Model;\nvar env = Config.env[Config.scheme];\n\nvar Model = BaseModel.extend({\n  url: '{{url_prefix}}/common/love_cmt_create.json',\n  beforeEmit: function beforeEmit() {\n    // 给请求地址替换一下环境变量\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\n    }\n  }\n});\n\nvar shared = null;\nModel.sharedInstanceModel = function sharedInstanceModel() {\n  if (!shared) {\n    shared = new Model();\n  }\n  return shared;\n};\n\nmodule.exports = Model;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/advertising-wall/create.model.js\n ** module id = 67\n ** module chunks = 1 3 5 7 9\n **/","/**\n * 告白墙循环获取未读消息数\n */\n'use strict';\n\nvar base = require('base-extend-backbone');\nvar Config = require('config');\nvar BaseModel = base.Model;\nvar env = Config.env[Config.scheme];\n\nvar Model = BaseModel.extend({\n  url: '{{url_prefix}}/common/love_cmt_new_msg_polling.json',\n  beforeEmit: function beforeEmit() {\n    // 给请求地址替换一下环境变量\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\n    }\n  }\n});\n\nvar shared = null;\nModel.sharedInstanceModel = function sharedInstanceModel() {\n  if (!shared) {\n    shared = new Model();\n  }\n  return shared;\n};\n\nmodule.exports = Model;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/advertising-wall/loop.model.js\n ** module id = 68\n ** module chunks = 1 3 5 7 9\n **/","/**\n * Created by AaronYuan on 3/12/16.\n */\n\n/**\n * 使用\n *\n * showError(msg);\n * showTip(msg);\n * showOK(msg);\n * showLoading(msg);\n *\n *\n * .show(msgHtml, type, timeout, opts){}\n *      msgHtml: 内容\n *      type: 图标类型   1   -   提示\n *                      2   -   成功\n *                      3   -   失败\n *                      4   -   载入中\n *      timeout: 毫秒数,自动关闭\n *      opts: 配置,默认null就好\n *\n *\n * .hide()\n */\n\n//require('/style/msgbox.css');\nvar ZENG = {};\n\nZENG.dom = {\n    getById: function (id) {\n        return document.getElementById(id);\n    }, get: function (e) {\n        return (typeof (e) == \"string\") ? document.getElementById(e) : e;\n    }, createElementIn: function (tagName, elem, insertFirst, attrs) {\n        var _e = (elem = ZENG.dom.get(elem) || document.body).ownerDocument.createElement(tagName || \"div\"), k;\n        if (typeof (attrs) == 'object') {\n            for (k in attrs) {\n                if (k == \"class\") {\n                    _e.className = attrs[k];\n                } else if (k == \"style\") {\n                    _e.style.cssText = attrs[k];\n                } else {\n                    _e[k] = attrs[k];\n                }\n            }\n        }\n        insertFirst ? elem.insertBefore(_e, elem.firstChild) : elem.appendChild(_e);\n        return _e;\n    }, getStyle: function (el, property) {\n        el = ZENG.dom.get(el);\n        if (!el || el.nodeType == 9) {\n            return null;\n        }\n        var w3cMode = document.defaultView && document.defaultView.getComputedStyle, computed = !w3cMode ? null : document.defaultView.getComputedStyle(el, ''), value = \"\";\n        switch (property) {\n            case \"float\":\n                property = w3cMode ? \"cssFloat\" : \"styleFloat\";\n                break;\n            case \"opacity\":\n                if (!w3cMode) {\n                    var val = 100;\n                    try {\n                        val = el.filters['DXImageTransform.Microsoft.Alpha'].opacity;\n                    } catch (e) {\n                        try {\n                            val = el.filters('alpha').opacity;\n                        } catch (e) {\n                        }\n                    }\n                    return val / 100;\n                } else {\n                    return parseFloat((computed || el.style)[property]);\n                }\n                break;\n            case \"backgroundPositionX\":\n                if (w3cMode) {\n                    property = \"backgroundPosition\";\n                    return ((computed || el.style)[property]).split(\" \")[0];\n                }\n                break;\n            case \"backgroundPositionY\":\n                if (w3cMode) {\n                    property = \"backgroundPosition\";\n                    return ((computed || el.style)[property]).split(\" \")[1];\n                }\n                break;\n        }\n        if (w3cMode) {\n            return (computed || el.style)[property];\n        } else {\n            return (el.currentStyle[property] || el.style[property]);\n        }\n    }, setStyle: function (el, properties, value) {\n        if (!(el = ZENG.dom.get(el)) || el.nodeType != 1) {\n            return false;\n        }\n        var tmp, bRtn = true, w3cMode = (tmp = document.defaultView) && tmp.getComputedStyle, rexclude = /z-?index|font-?weight|opacity|zoom|line-?height/i;\n        if (typeof (properties) == 'string') {\n            tmp = properties;\n            properties = {};\n            properties[tmp] = value;\n        }\n        for (var prop in properties) {\n            value = properties[prop];\n            if (prop == 'float') {\n                prop = w3cMode ? \"cssFloat\" : \"styleFloat\";\n            } else if (prop == 'opacity') {\n                if (!w3cMode) {\n                    prop = 'filter';\n                    value = value >= 1 ? '' : ('alpha(opacity=' + Math.round(value * 100) + ')');\n                }\n            } else if (prop == 'backgroundPositionX' || prop == 'backgroundPositionY') {\n                tmp = prop.slice(-1) == 'X' ? 'Y' : 'X';\n                if (w3cMode) {\n                    var v = ZENG.dom.getStyle(el, \"backgroundPosition\" + tmp);\n                    prop = 'backgroundPosition';\n                    typeof (value) == 'number' && (value = value + 'px');\n                    value = tmp == 'Y' ? (value + \" \" + (v || \"top\")) : ((v || 'left') + \" \" + value);\n                }\n            }\n            if (typeof el.style[prop] != \"undefined\") {\n                el.style[prop] = value + (typeof value === \"number\" && !rexclude.test(prop) ? 'px' : '');\n                bRtn = bRtn && true;\n            } else {\n                bRtn = bRtn && false;\n            }\n        }\n        return bRtn;\n    }, getScrollTop: function (doc) {\n        var _doc = doc || document;\n        return Math.max(_doc.documentElement.scrollTop, _doc.body.scrollTop);\n    }, getClientHeight: function (doc) {\n        var _doc = doc || document;\n        return _doc.compatMode == \"CSS1Compat\" ? _doc.documentElement.clientHeight : _doc.body.clientHeight;\n    }\n};\n\nZENG.string = {\n    RegExps: {\n        trim: /^\\s+|\\s+$/g,\n        ltrim: /^\\s+/,\n        rtrim: /\\s+$/,\n        nl2br: /\\n/g,\n        s2nb: /[\\x20]{2}/g,\n        URIencode: /[\\x09\\x0A\\x0D\\x20\\x21-\\x29\\x2B\\x2C\\x2F\\x3A-\\x3F\\x5B-\\x5E\\x60\\x7B-\\x7E]/g,\n        escHTML: {re_amp: /&/g, re_lt: /</g, re_gt: />/g, re_apos: /\\x27/g, re_quot: /\\x22/g},\n        escString: {bsls: /\\\\/g, sls: /\\//g, nl: /\\n/g, rt: /\\r/g, tab: /\\t/g},\n        restXHTML: {re_amp: /&amp;/g, re_lt: /&lt;/g, re_gt: /&gt;/g, re_apos: /&(?:apos|#0?39);/g, re_quot: /&quot;/g},\n        write: /\\{(\\d{1,2})(?:\\:([xodQqb]))?\\}/g,\n        isURL: /^(?:ht|f)tp(?:s)?\\:\\/\\/(?:[\\w\\-\\.]+)\\.\\w+/i,\n        cut: /[\\x00-\\xFF]/,\n        getRealLen: {r0: /[^\\x00-\\xFF]/g, r1: /[\\x00-\\xFF]/g},\n        format: /\\{([\\d\\w\\.]+)\\}/g\n    }, commonReplace: function (s, p, r) {\n        return s.replace(p, r);\n    }, format: function (str) {\n        var args = Array.prototype.slice.call(arguments), v;\n        str = String(args.shift());\n        if (args.length == 1 && typeof (args[0]) == 'object') {\n            args = args[0];\n        }\n        ZENG.string.RegExps.format.lastIndex = 0;\n        return str.replace(ZENG.string.RegExps.format, function (m, n) {\n            v = ZENG.object.route(args, n);\n            return v === undefined ? m : v;\n        });\n    }\n};\n\n\nZENG.object = {\n    routeRE: /([\\d\\w_]+)/g,\n    route: function (obj, path) {\n        obj = obj || {};\n        path = String(path);\n        var r = ZENG.object.routeRE, m;\n        r.lastIndex = 0;\n        while ((m = r.exec(path)) !== null) {\n            obj = obj[m[0]];\n            if (obj === undefined || obj === null) {\n                break;\n            }\n        }\n        return obj;\n    }\n};\n\n\nvar ua = ZENG.userAgent = {}, agent = navigator.userAgent;\nua.ie = 9 - ((agent.indexOf('Trident/5.0') > -1) ? 0 : 1) - (window.XDomainRequest ? 0 : 1) - (window.XMLHttpRequest ? 0 : 1);\n\n\nif (typeof (ZENG.msgbox) == 'undefined') {\n    ZENG.msgbox = {};\n}\nZENG.msgbox._timer = null;\nZENG.msgbox.loadingAnimationPath = ZENG.msgbox.loadingAnimationPath || (\"loading.gif\");\nZENG.msgbox.show = function (msgHtml, type, timeout, opts) {\n    if (typeof (opts) == 'number') {\n        opts = {topPosition: opts};\n    }\n    opts = opts || {};\n    var _s = ZENG.msgbox,\n        template = '<span class=\"zeng_msgbox_layer\" style=\"display:none;z-index:10000;\" id=\"mode_tips_v2\"><span class=\"gtl_ico_{type}\"></span>{loadIcon}{msgHtml}<span class=\"gtl_end\"></span></span>', loading = '<span class=\"gtl_ico_loading\"></span>', typeClass = [0, 0, 0, 0, \"succ\", \"fail\", \"clear\"], mBox, tips;\n    _s._loadCss && _s._loadCss(opts.cssPath);\n    mBox = ZENG.dom.get(\"q_Msgbox\") || ZENG.dom.createElementIn(\"div\", document.body, false, {className: \"zeng_msgbox_layer_wrap\"});\n    mBox.id = \"q_Msgbox\";\n    mBox.style.display = \"\";\n    mBox.innerHTML = ZENG.string.format(template, {\n        type: typeClass[type] || \"hits\",\n        msgHtml: msgHtml || \"\",\n        loadIcon: type == 6 ? loading : \"\"\n    });\n    _s._setPosition(mBox, timeout, opts.topPosition);\n};\nZENG.msgbox._setPosition = function (tips, timeout, topPosition) {\n    timeout = timeout || 5000;\n    var _s = ZENG.msgbox, bt = ZENG.dom.getScrollTop(), ch = ZENG.dom.getClientHeight(), t = Math.floor(ch / 2) - 40;\n    ZENG.dom.setStyle(tips, \"top\", ((document.compatMode == \"BackCompat\" || ZENG.userAgent.ie < 7) ? bt : 0) + ((typeof (topPosition) == \"number\") ? topPosition : t) + \"px\");\n    clearTimeout(_s._timer);\n    tips.firstChild.style.display = \"\";\n    timeout && (_s._timer = setTimeout(_s.hide, timeout));\n};\nZENG.msgbox.hide = function (timeout) {\n    var _s = ZENG.msgbox;\n    if (timeout) {\n        clearTimeout(_s._timer);\n        _s._timer = setTimeout(_s._hide, timeout);\n    } else {\n        _s._hide();\n    }\n};\nZENG.msgbox._hide = function () {\n    var _mBox = ZENG.dom.get(\"q_Msgbox\"), _s = ZENG.msgbox;\n    clearTimeout(_s._timer);\n    if (_mBox) {\n        var _tips = _mBox.firstChild;\n        ZENG.dom.setStyle(_mBox, \"display\", \"none\");\n    }\n};\n\nmodule.exports = {\n    showError: function(msgHtml){\n        ZENG.msgbox.show(msgHtml, 5, 1000);\n    },\n    showTip: function(msgHtml){\n        ZENG.msgbox.show(msgHtml, 1, 1000);\n    },\n    showOK: function(msgHtml){\n        ZENG.msgbox.show(msgHtml, 4, 1000);\n    },\n    showLoading: function(msgHtml){\n        ZENG.msgbox.show(msgHtml, 6, 1000);\n    },\n    show: function(msgHtml, type, timeout, opts){\n        ZENG.msgbox.show(msgHtml, type, timeout, opts);\n    },\n    hide: function(timeout){\n        ZENG.msgbox.hide(timeout);\n    }\n};\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/msgbox/index.js\n ** module id = 69\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","\nvar BusinessDate = function (long) {\n  this.temp = new Date();\n  this.setCurNewDate(long);\n};\n/**\n * [changeYear 改变临时年份]\n * @param  {[type]} value [description]\n * @return {[type]}       [description]\n */\nBusinessDate.prototype.changeYear = function (value) {\n  this.temp.setFullYear(value);\n};\n/**\n * [getCountDays 根据月份获取当前月的总天数]\n * @param  {[type]} value [description]\n * @return {[type]}       [description]\n */\nBusinessDate.prototype.getCountDays = function (value) {\n  this.temp.setMonth(value);\n  this.temp.setDate(0);\n  return this.temp.getDate();\n};\n/**\n * [$get 获取当前的年月日时分]\n * @param  {[type]} key [description]\n * @return {[type]}     [description]\n */\nBusinessDate.prototype.$get = function (key) {\n  return this.attrs[key];\n};\n/**\n * [ceilYear 向下获取年份]\n * @param  {[type]} value [description]\n * @return {[type]}       [description]\n */\nBusinessDate.prototype.ceilYear = function (value) {\n  var val = ~~value;\n  var i = 0;\n  var year = this.$get('year');\n  var result = [];\n  for (; i <= val; i++) {\n    result.push(year);\n    year = year + 1;\n  }\n  return result;\n};\nBusinessDate.prototype._downDisplacement = function (key) {\n  var start = this.$get(key);\n  var result = [];\n  var end;\n  switch (key) {\n    case 'month':\n      end = 12;\n      break;\n    case 'day':\n      end = this.getCountDays(this.$get('month'));\n      break;\n    case 'hours':\n      end = 23;\n      break;\n    default:\n      end = 59;\n      break;\n  }\n  for (; start <= end; start++) {\n    result.push(start);\n  }\n  return result;\n};\n/**\n * [downMonth 向下获取月份]\n * @return {[type]} [description]\n */\nBusinessDate.prototype.downMonth = function () {\n  return this._downDisplacement('month');\n};\n/**\n * [downDay 向下获取天数]\n * @return {[type]} [description]\n */\nBusinessDate.prototype.downDay = function () {\n  return this._downDisplacement('day');\n};\n/**\n * [downHours 向下获取小时]\n * @return {[type]} [description]\n */\nBusinessDate.prototype.downHours = function () {\n  return this._downDisplacement('hours');\n};\n/**\n * [downMinutes 向下获取分钟]\n * @return {[type]} [description]\n */\nBusinessDate.prototype.downMinutes = function () {\n  return this._downDisplacement('minutes');\n};\n/**\n * [down 向下获取函数式]\n * @param  {[type]} value [description]\n * @return {[type]}       [description]\n */\nBusinessDate.prototype.down = function (value) {\n  return this._downDisplacement(value);\n};\n/**\n * [getTime 根据一个对象拼装一个时间对象获取时间毫秒]\n * @param  {[type]} obj [description]\n * @return {[type]}     [description]\n */\nBusinessDate.prototype.getTime = function (obj) {\n  var val = '';\n  var month = obj.month < 10 ? '0' + obj.month : obj.month;\n  var day = obj.day < 10 ? '0' + obj.day : obj.day;\n  var hours = obj.hours < 10 ? '0' + obj.hours : obj.hours;\n  var minutes = obj.minutes < 10 ? '0' + obj.minutes : obj.minutes;\n  val += obj.year + '-' + month + '-' + day + ' ';\n  val += hours + ':' + minutes + ':00';\n  return new Date(val.replace(/-/g, '/')).getTime();\n};\n/**\n * [setCurNewDate 设置一个当前新的时间对象]\n */\nBusinessDate.prototype.setCurNewDate = function (long) {\n  this.date = null;\n  this.date = long ? new Date(long) : new Date();\n  this._setAttrs();\n};\nBusinessDate.prototype._setAttrs = function () {\n  this.attrs = null;\n  this.attrs = {\n    year: this.date.getFullYear(),\n    month: this.date.getMonth() + 1,\n    day: this.date.getDate(),\n    hours: this.date.getHours(),\n    minutes: this.date.getMinutes()\n  };\n};\n/**\n * [difference 根据一个毫秒差返回一个时分秒对象]\n * @param  {[type]} duration [description]\n * @return {[type]}          [description]\n */\nBusinessDate.difference = function (duration) {\n  var result = {};\n  result.day = parseInt(duration / (24 * 3600 * 1000), 10);\n  var leave1 = duration % (24 * 3600 * 1000);\n  var hour = Math.floor(leave1 / (3600 * 1000));\n  result.hours = hour < 10 ? '0' + hour : hour;\n  var leave2 = leave1 % (3600 * 1000);\n  var minutes = Math.floor(leave2 / (60 * 1000));\n  result.minutes = minutes < 10 ? '0' + minutes : minutes;\n  var leave3 = leave2 % (60 * 1000);\n  var seconds = Math.floor(leave3 / 1000);\n  result.seconds = seconds < 10 ? '0' + seconds : seconds;\n  return result;\n};\nvar shared = null;\nBusinessDate.sharedInstanceBusinessDate = function () {\n  if (!shared) {\n    shared = new BusinessDate();\n  }\n  return shared;\n};\nBusinessDate.format = function (date, fmt) { // author: meizz\n  var o = {\n    'M+': date.getMonth() + 1,                 // 月份\n    'd+': date.getDate(),                    // 日\n    'h+': date.getHours(),                   // 小时\n    'm+': date.getMinutes(),                 // 分\n    's+': date.getSeconds(),                 // 秒\n    'q+': Math.floor((date.getMonth() + 3) / 3), // 季度\n    S: date.getMilliseconds()             // 毫秒\n  };\n  var format = fmt;\n  var k;\n  var temp;\n  if (/(y+)/.test(format)) {\n    format = format.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\n  }\n  for (k in o) {\n    if (new RegExp('(' + k + ')').test(format)) {\n      temp = (RegExp.$1.length === 1) ? (o[k]) : (('00' + o[k]).substr(('' + o[k]).length));\n      format = format.replace(RegExp.$1, temp);\n    }\n  }\n  return format;\n};\n\nmodule.exports = BusinessDate;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/BusinessDate/index.js\n ** module id = 70\n ** module chunks = 1 2 3 4 5 6 7 9 10\n **/","module.exports = \"<!--<div class=\\\"msg-board-wrap  active-create\\\">-->\\n<div class=\\\"msg-board-wrap\\\">\\n  <div class=\\\"header am-cf\\\">\\n    <span class=\\\"title\\\">告白墙</span>\\n    <a id=\\\"btnShowCreate\\\" class=\\\"show-when-list am-btn am-btn-purple am-fr am-round\\\">我要告白</a>\\n    <!-- <div class=\\\"tabs am-fr show-when-list tab-menu\\\">\\n      <a data-tab=\\\"newList\\\" href=\\\"javascript:;\\\" class=\\\"active\\\"><span id=\\\"unReadCnt\\\" class=\\\"boderRadAll_5 am-round \\\">99</span>最新告白</a>\\n      <a data-tab=\\\"hotList\\\" href=\\\"javascript:;\\\">精彩告白</a>\\n    </div> -->\\n    <!-- 返回按钮-->\\n    <a id=\\\"btnBacktoList\\\" href=\\\"javascript:;\\\" class=\\\"am-fr show-when-create btn-back-wrap am-margin-top\\\">\\n      <i class=\\\"back\\\"></i> 返回告白墙\\n    </a>\\n  </div>\\n  <!-- 告白模板 -->\\n  <script type=\\\"text/html\\\" id=\\\"itemTpl\\\">\\n    <div class=\\\"item\\\">\\n      <p class=\\\"detail am-text-break\\\" style=\\\"color:{{fontColor}}\\\">\\n        {{content}}\\n      </p>\\n      <div class=\\\"sender\\\">\\n        <div class=\\\"am-g\\\">\\n          <div class=\\\"am-u-sm-2\\\">\\n            {{if anonymous}}\\n            <span class=\\\"anonymous\\\"></span>\\n            {{else}}\\n            <img src=\\\"{{user.largeAvatar}}\\\" class=\\\"avatar am-circle\\\">\\n            {{/if}}\\n          </div>\\n          <div class=\\\"am-u-sm-10 info\\\">\\n            <p class=\\\"name\\\">{{anonymous ?'匿名粉丝': user.nickName}}</p>\\n            <p class=\\\"send-time\\\">发布于<span class=\\\"am-margin-left-sm\\\">{{time}}</span></p>\\n            <a class=\\\"btn-like am-btn am-round am-vertical-align {{liked?'active':''}}\\\" data-likeid=\\\"{{id}}\\\" data-liked=\\\"{{liked+''}}\\\">\\n              <i class=\\\"icon-heart am-vertical-align-middle\\\"></i>\\n              <span class=\\\"am-vertical-align-middle\\\">{{likeCount}}</span>\\n            </a>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </script>\\n\\n  <div class=\\\"content am-g show-when-list wall-list\\\">\\n    <!--列表-->\\n    <div class=\\\"tab newList\\\">\\n      <div class=\\\"am-u-sm-4 column-0\\\">\\n        <!--第一列-->\\n        <!--<div class=\\\"item\\\"><p class=\\\"detail am-text-break\\\">-->\\n        <!--sfaslfjasdkfjasl;fjal;sjdf;啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊aklsjdfkl;asjfl;adsj;lfsldkfkl;sjfkl</p>-->\\n        <!--<div class=\\\"sender\\\">-->\\n        <!--<div class=\\\"am-g\\\">-->\\n        <!--<div class=\\\"am-u-sm-2\\\"><img-->\\n        <!--src=\\\"http://img1.c.yinyuetai.com/user/avatar/160502/10392675/-M-fa3f63fbbca174fa3457f1bc313236b3_20x20.jpg\\\"-->\\n        <!--class=\\\"avatar am-circle\\\"></div>-->\\n        <!--<div class=\\\"am-u-sm-10 info\\\"><p class=\\\"name\\\">asfsadfasf</p>-->\\n        <!--<p class=\\\"send-time\\\">发布于<span class=\\\"am-margin-left-sm\\\">2016-10-23 34:34:00</span></p><a-->\\n        <!--class=\\\"btn-like am-btn am-round am-vertical-align\\\"><i-->\\n        <!--class=\\\"icon-heart am-vertical-align-middle\\\"></i><span-->\\n        <!--class=\\\"am-vertical-align-middle\\\">32433</span></a></div>-->\\n        <!--</div>-->\\n        <!--</div>-->\\n        <!--</div>-->\\n      </div>\\n      <div class=\\\"am-u-sm-4 column-1\\\">\\n        <!--第二列-->\\n      </div>\\n      <div class=\\\"am-u-sm-4 column-2\\\">\\n        <!--第三列-->\\n      </div>\\n\\n    </div>\\n\\n    <!--精彩告白-->\\n    <div class=\\\"tab hotList Hidden\\\">\\n      <div class=\\\"am-u-sm-4 column-0\\\">\\n        <!--第一列-->\\n      </div>\\n      <div class=\\\"am-u-sm-4 column-1\\\">\\n        <!--第二列-->\\n      </div>\\n      <div class=\\\"am-u-sm-4 column-2\\\">\\n        <!--第三列-->\\n      </div>\\n    </div>\\n\\n  </div>\\n\\n  <!--创建-->\\n  <div class=\\\"content show-when-create create-wrap am-margin-top-lg Hidden\\\">\\n    <div class=\\\"top am-margin-left am-padding-horizontal\\\">\\n      爱,就要大声告白!\\n    </div>\\n    <div class=\\\"am-g am-padding-horizontal\\\">\\n      <div class=\\\"am-u-sm-8\\\">\\n        <textarea class=\\\"input-text boderRadAll_5\\\" placeholder=\\\"请输入告白\\\" name=\\\"\\\" id=\\\"txtMsg\\\" cols=\\\"30\\\" rows=\\\"10\\\"></textarea>\\n        <div class=\\\"options-wrap am-vertical-align am-margin-top\\\">\\n          <div class=\\\"color-wrap am-vertical-align-middle\\\">\\n            文字颜色:\\n            <!--<span class=\\\"color-title\\\">文字颜色</span>-->\\n            <div class=\\\"colors\\\">\\n              <a class=\\\"black am-circle active\\\" href=\\\"javascript:;\\\"></a>\\n              <a class=\\\"red am-circle\\\" href=\\\"javascript:;\\\"></a>\\n              <a class=\\\"yellow am-circle\\\" href=\\\"javascript:;\\\"></a>\\n              <a class=\\\"green am-circle\\\" href=\\\"javascript:;\\\"></a>\\n              <a class=\\\"blue am-circle\\\" href=\\\"javascript:;\\\"></a>\\n              <a class=\\\"purple am-circle\\\" href=\\\"javascript:;\\\"></a>\\n            </div>\\n          </div>\\n          <div class=\\\"am-checkbox-inline am-vertical-align-middle am-margin-left\\\">\\n            <label>\\n              <input id=\\\"cbAnonymous\\\" type=\\\"checkbox\\\"> 匿名告白\\n            </label>\\n          </div>\\n          <div class=\\\"tip am-vertical-align-middle\\\">您还可以输入<span id=\\\"txtLength\\\" class=\\\"red\\\">200</span>字</div>\\n        </div>\\n        <div class=\\\"am-cf\\\">\\n          <button id=\\\"btnSendText\\\" class=\\\"am-btn am-btn-red am-fr boderRadAll_3 am-margin-top-xl\\\">发布告白</button>\\n        </div>\\n        <div class=\\\"am-cf\\\">\\n          <span class=\\\"am-fr send-tip\\\">发布告白需要消耗5积分,您当前共有<span id=\\\"userScore\\\" class=\\\"red\\\">0</span>积分</span>\\n        </div>\\n      </div>\\n      <div class=\\\"input-tip am-u-sm-4\\\">至少用20字来表达你的爱!输入文字不能超过200.\\n        <p>表白中请勿发布广告,严禁发布违法内容.</p>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/advertising-wall/template/wall.html\n ** module id = 71\n ** module chunks = 1 3 5 7 9\n **/","var flashTemp =\n  '<object width=\"{width}\" height=\"{height}\"  align=\"middle\"' +\n  'id=\"{id}\" type=\"application/x-shockwave-flash\" ' +\n  'classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\">' +\n  '<param value=\"{src}\" name=\"movie\">' +\n  '<param value=\"{always}\" name=\"allowscriptaccess\">' +\n  '<param value=\"{fullscreen}\" name=\"allowfullscreen\">' +\n  '<param value=\"{quality}\" name=\"quality\">' +\n  '<param value=\"{flashvars}\" name=\"flashvars\">' +\n  '<param value=\"{wmode}\" name=\"wmode\" />' +\n  '<embed width=\"{width}\" height=\"{height}\"  name=\"{id}\"' +\n  'type=\"application/x-shockwave-flash\" src=\"{src}\" allowscriptaccess=\"{always}\"' +\n  'allowfullscreen=\"{fullscreen}\" quality=\"{quality}\"  wmode=\"{wmode}\" flashvars=\"{flashvars}\" />' +\n  '</object>';\nvar win = window;\nvar origin = win.location.origin;\nvar uid = 999;\nwin.YYTPCFlashReadyState = false;\nvar getSwfDOM = function (id) {\n  var swf;\n  var embed;\n  var el = document.getElementById(id) || null;\n  if (el && el.nodeName.toUpperCase() === 'OBJECT') {\n    if (typeof el.SetVariable !== 'undefined') {\n      swf = el;\n    } else {\n      embed = el.getElementsByTagName('embed')[0];\n      if (embed) {\n        swf = embed;\n      }\n    }\n  }\n  return swf;\n};\nvar render = function (tpl, data) {\n  if (data) {\n    return tpl.replace(/\\{(.*?)\\}/ig, function () {\n      return data[arguments[1]] || '';\n    });\n  }\n  return tpl;\n};\nvar FlashApi = function (options) {\n  this.$el = typeof options.el === 'string' ? document.getElementById(options.el) : options.el;\n  this._options = options;\n  this._props = options.props || {};\n  this.$attrs = {\n    id: 'YYTFlash' + (uid++), //  配置id\n    src: this._props.src || origin + '/flash/RTMPInplayer.swf?t=20160713.3', //  引入swf文件\n    width: this._props.width || 895,\n    height: this._props.height || 502,\n    wmode: this._props.wmode || 'transparent', // 控制显示模型\n    flashvar: this._props.flashvar || '', //  初始化参数\n    always: this._props.always || 'always', //  控制是否交互\n    fullscreen: this._props.fullscreen || true, //  控制是否全屏\n    quality: this._props.quality || 'high'\n  };\n  this._html = render(flashTemp, this.$attrs);\n  this._methods = options.methods || {};\n  this._ready = false;\n  this._init();\n};\n\nFlashApi.prototype._init = function () {\n  this.$el.innerHTML = this._html;\n  this.$swf = getSwfDOM(this.$attrs.id);\n};\n\nFlashApi.prototype.onReady = function (callback) {\n  var self = this;\n  if (win.YYTPCFlashReadyState || this._ready) {\n    callback.call(this);\n  } else {\n    this.$timer = setInterval(function () {\n      if (win.YYTPCFlashReadyState) {\n        self._ready = true;\n        win.YYTPCFlashReadyState = false;\n        clearInterval(self.$timer);\n        self.$timer = null;\n        callback.call(self);\n      }\n    }, 0);\n  }\n};\n\nFlashApi.prototype.init = function (data) {\n  this.$swf.initData(data);\n};\n\nFlashApi.prototype.isReady = function () {\n  return this._ready;\n};\n\nFlashApi.prototype.addUrl = function (url, name) {\n  this.$swf.setvedioUrl(url, name);\n};\n\nFlashApi.prototype.width = function (value) {\n  var val = value;\n  if (typeof val === 'string') {\n    val = ~~val;\n  }\n  this.$swf.setPlayerWidth(val);\n};\n\nFlashApi.prototype.height = function (value) {\n  var val = value;\n  if (typeof val === 'string') {\n    val = ~~val;\n  }\n  this.$swf.setPlayerHeight(val);\n};\n\nFlashApi.prototype.notifying = function (obj) {\n  this.$swf.setOneMessageInchat(JSON.stringify(obj));\n};\n\nFlashApi.prototype.clear = function () {\n  this.$swf.clearAllMessage();\n};\n\nvar shared = null;\nFlashApi.sharedInstanceFlashApi = function (options) {\n  if (!shared) {\n    shared = new FlashApi(options);\n  }\n  return shared;\n};\n\nwin.YYTPCFlashOnReady = function () {\n  //  flash init success\n  win.YYTPCFlashReadyState = true;\n};\n\nmodule.exports = FlashApi;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/FlashApi/index.js\n ** module id = 82\n ** module chunks = 1 3 5 6 7 9\n **/","module.exports = \"<li class=\\\"clearfix <%=msgType==0?'':'system-info'%>\\\" data-msgType=\\\"<%=msgType%>\\\" data-name=\\\"<%=nickName%>\\\" data-id=\\\"<%=fromAccount%>\\\">\\n  <%if(msgType == 0){%>\\n  <img src=\\\"<%=smallAvatar%>\\\" alt=\\\"\\\" class=\\\"fl visitor_avator\\\">\\n  <%}%>\\n  <p class=\\\"visitor_chat fl\\\">\\n    <%if(msgType == 0){%>\\n    <span class=\\\"visitorName\\\"><%=nickName%>:</span>\\n    <%} else if(msgType == 4){%>\\n        <span class=\\\"visitorName\\\"><%=nickName%>:</span>\\n    <%} else{%>\\n        <span class=\\\"visitorName\\\">消息:</span>\\n    <% }%>\\n    <%=content%>\\n    <span class=\\\"time fr\\\"><%=time%></span>\\n  </p>\\n  <div class=\\\"controls_forbid_reject\\\">\\n    <a href=\\\"javascript:;\\\" class=\\\"forbid am-btn-red\\\">禁言</a>\\n    <a href=\\\"javascript:;\\\" class=\\\"reject am-btn-red\\\">踢出</a>\\n    <%if(userId) {%>\\n    <a href=\\\"javascript:;\\\" data-name=\\\"<%=nickName%>\\\" data-uid='<%=userId%>' class=\\\"ctrl am-btn-red\\\">场控</a>\\n    <%}%>\\n  </div>\\n</li>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/anchor/template/chat-message-tpl.html\n ** module id = 92\n ** module chunks = 1 3 5 7\n **/","'use strict';\n\nvar base = require('base-extend-backbone');\nvar Config = require('config');\nvar BaseModel = base.Model;\nvar env = Config.env[Config.scheme];\n\nvar Model = BaseModel.extend({\n  url: '{{url_prefix}}/room/placard_get.json', // 填写请求地址\n  beforeEmit: function beforeEmit() {\n    // 给请求地址替换一下环境变量\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\n    }\n  }\n});\n\nvar shared = null;\nModel.sharedInstanceModel = function sharedInstanceModel() {\n  if (!shared) {\n    shared = new Model();\n  }\n  return shared;\n};\n\nmodule.exports = Model;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/anchor/notice-get.model.js\n ** module id = 95\n ** module chunks = 1 3 5 7 9\n **/","var base = require('base-extend-backbone');\nvar LoginUserView = require('./loginUser.view');\nvar BaseView = base.View;\n\nvar View = BaseView.extend({\n  el: '#topBar',\n  context: function (args) {\n    console.log(args);\n  },\n  beforeMount: function () {\n    //  初始化一些自定义属性\n    this.loginUser = new LoginUserView();\n  },\n  afterMount: function () {\n    //  获取findDOMNode DOM Node\n  },\n  ready: function () {\n    //  初始化\n    var _this = this;\n    this.loginUser.on('topbar-logined', function () {\n      _this.trigger('logined');\n    });\n  },\n  beforeDestroy: function () {\n    //  进入销毁之前,将引用关系设置为null\n  },\n  destroyed: function () {\n    //  销毁之后\n  },\n  showLoginDialog: function () {\n    this.loginUser.showDialog();\n  },\n  hideLoginDialog: function () {\n    this.loginUser.hideDialog();\n  }\n});\n\nmodule.exports = View;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/TopBarView/index.js\n ** module id = 102\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","'use strict';\n\nvar Backbone = window.Backbone;\nvar base = require('base-extend-backbone');\nvar BaseView = base.View;\nvar storage = base.storage;\nvar UserModel = require('UserModel');\nvar user = UserModel.sharedInstanceUserModel();\nvar loginBox = require('loginBox');\nvar sginHTML = require('./template/sgin.html');\nvar loginedTemp = require('./template/logined.html');\nvar win = window;\nvar location = win.location;\nvar IMModel = require('IMModel');\nvar imModel = IMModel.sharedInstanceIMModel();\nvar config = require('config');\nvar View = BaseView.extend({\n  el: '#loginUser',\n  events: {\n    'click #login': 'loginHandler',\n    'click .show-drop-menu': 'showDropMenu',\n    'click #logout': 'logoutHandler',\n    'mouseover .hoverMenu': 'nameHover',\n    'mouseout .hoverMenu': 'nameOut'\n  },\n  context: function (args) {\n    console.log(args);\n  },\n  beforeMount: function () {\n    //  初始化一些自定义属性\n    this._dialog = null;\n  },\n  afterMount: function () {\n    //  获取findDOMNode DOM Node\n    this.loginBox = loginBox();\n    this._dialog = this.loginBox.dialog;\n    this.userDromMenu = this.findDOMNode('.pcNav');\n  },\n  ready: function () {\n    //  初始化\n    if (user.isLogined()) {\n      //  已经登录\n      this.fetchUserInfo();\n    } else {\n      //  未登录\n      this.$el.html(sginHTML);\n    }\n    this.hideDropMenu();\n    this.defineEventInterface();\n  },\n  beforeDestroy: function () {\n    //  进入销毁之前,将引用关系设置为null\n  },\n  destroyed: function () {\n    //  销毁之后\n  },\n  /**\n   * [loginHandler 处理登录按钮]\n   * @param  {[type]} e [description]\n   * @return {[type]}   [description]\n   */\n  loginHandler: function (e) {\n    var _this = this;\n    var status = this._dialog.status();\n    e.preventDefault();\n    if (status === 'hide') {\n      this._dialog.trigger('show');\n      this._dialog.once('hide', function () {\n        if (user.isLogined()) {\n          storage.remove('imSig');\n          _this.fetchUserInfo();\n          _this.trigger('topbar-logined');\n        }\n      });\n    } else {\n      this._dialog.trigger('hide');\n    }\n  },\n  /**\n   * [logoutHandler 退出]\n   * @param  {[type]} e [description]\n   * @return {[type]}   [description]\n   */\n  logoutHandler: function () {\n    storage.remove('imSig');\n    storage.set('signout', 1);\n    location.href = config.prefix + '/login.html';\n  },\n  fetchUserInfo: function () {\n    var _this = this;\n    var fetchImUserSigPromise = imModel.fetchIMUserSig();\n    fetchImUserSigPromise.done(function (userImInfo) {\n      var data;\n      if (userImInfo.roleType === 2) {\n        //  游客，未登录\n        _this.$el.html(sginHTML);\n      } else {\n        data = {\n          userName: userImInfo.nickName,\n          bigheadImg: userImInfo.largeAvatar\n        };\n        _this.render(data);\n      }\n    });\n  },\n  render: function (data) {\n    var loginedHTML = this.compileHTML(loginedTemp, data);\n    this.$el.html(loginedHTML);\n    this.showDropMenuEle = $('.loginMsg .pcNav');\n  },\n  /**\n   * 显示下拉菜单\n   */\n  showDropMenu: function (e) {\n    e.preventDefault();\n    this.showDropMenuEle.toggle();\n    return false;\n  },\n  /**\n   * 隐藏下拉菜单\n   */\n  hideDropMenu: function () {\n    var _this = this;\n    $(document).on('click', function () {\n      if (_this.showDropMenuEle) {\n        _this.showDropMenuEle.hide();\n      }\n    });\n  },\n  showDialog: function () {\n    var _this = this;\n    this._dialog.trigger('show');\n    this._dialog.once('hide', function () {\n      if (user.isLogined()) {\n        _this.trigger('topbar-logined');\n      }\n    });\n  },\n  hideDialog: function () {\n    this._dialog.trigger('hide');\n  },\n  /**\n   * 定义对外公布的事件\n   */\n  defineEventInterface: function () {\n    var self = this;\n    Backbone.on('event:userProfileChanged', function (users) {\n      var data = {\n        userName: users.nickName,\n        bigheadImg: users.headImg\n      };\n      self.render(data);\n    });\n  },\n  nameHover: function () {\n    this.showDropMenuEle.show();\n  },\n  nameOut: function () {\n    this.showDropMenuEle.hide();\n  }\n});\n\nmodule.exports = View;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/TopBarView/loginUser.view.js\n ** module id = 103\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","module.exports = \"<div class=\\\"PcMsg fl\\\">\\n    <a class=\\\"user-login\\\" href=\\\"#\\\" id=\\\"login\\\">登陆</a>\\n</div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/TopBarView/template/sgin.html\n ** module id = 104\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","module.exports = \"<div class=\\\"avator fl\\\">\\n    <img class=\\\"am-circle\\\" style=\\\"width: 40px; height: 40px;\\\" src=\\\"{{bigheadImg}}\\\" alt=\\\"用户头像\\\">\\n</div>\\n<div class=\\\"loginMsg fl hoverMenu\\\">\\n    <a class=\\\"user-name show-drop-menu\\\" href=\\\"#\\\">{{userName}}<span></span></a>\\n    <ul class=\\\"pcNav hoverMenu\\\">\\n        <li><a href=\\\"anchor-setting.html\\\">个人中心</a></li>\\n        <li><span class=\\\"header-logout\\\" id=\\\"logout\\\">退出</span></li>\\n    </ul>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/TopBarView/template/logined.html\n ** module id = 105\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","'use strict';\n\nvar base = require('base-extend-backbone');\nvar Config = require('config');\nvar BaseModel = base.Model;\nvar env = Config.env[Config.scheme];\n\nvar Model = BaseModel.extend({\n  url: '{{url_prefix}}/user/anchor/unfollow.json',\n  beforeEmit: function beforeEmit() {\n    // 给请求地址替换一下环境变量\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\n    }\n  }\n});\n\nvar shared = null;\nModel.sharedInstanceModel = function sharedInstanceModel() {\n  if (!shared) {\n    shared = new Model();\n  }\n  return shared;\n};\n\nmodule.exports = Model;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/anchor-setting/unfollow.model.js\n ** module id = 172\n ** module chunks = 2 5 7 9\n **/","'use strict';\n\nvar base = require('base-extend-backbone');\nvar Config = require('config');\nvar BaseModel = base.Model;\nvar env = Config.env[Config.scheme];\n\nvar Model = BaseModel.extend({\n  url: '{{url_prefix}}/popularity/add.json',\n  beforeEmit: function beforeEmit() {\n    // 给请求地址替换一下环境变量\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\n    }\n  }\n});\n\nvar shared = null;\nModel.sharedInstanceModel = function sharedInstanceModel() {\n  if (!shared) {\n    shared = new Model();\n  }\n  return shared;\n};\n\nmodule.exports = Model;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/live-room/popularity-add.model.js\n ** module id = 188\n ** module chunks = 4 5 7 9\n **/","/*\n clientRender:{bool} // 默认设置为false，如果为true，内部将不会调用rawLoader方法或者根据templateUrl请求模版\n */\n\n\n/**\n * @time {时间}\n * @author {编写者}\n * @info {实现的功能}\n */\n\n'use strict';\n\nvar base = require('base-extend-backbone');\nvar BaseView = base.View; // View的基类\nvar NoticeGetModel = require('../../models/anchor/notice-get.model');\nvar FollowModel = require('../../models/anchor-setting/follow.model');\nvar UnFollowModel = require('../../models/anchor-setting/unfollow.model');\nvar UserModel = require('UserModel');\nvar user = UserModel.sharedInstanceUserModel();\nvar Backbone = window.Backbone;\nvar _ = require('underscore');\nvar msgBox = require('ui.msgBox');\nvar IMModel = require('IMModel');\nvar imModel = IMModel.sharedInstanceIMModel();\nvar SNSShareView = require('./sns-share.view');\n\nvar View = BaseView.extend({\n  el: '.userInfoWrap', // 设置View对象作用于的根元素，比如id\n  rawLoader: function () { // 可用此方法返回字符串模版\n    return require('./template/anchor-card.html');\n  },\n  events: { // 监听事件\n    'click .btnFollow': 'followClickHandler',\n    'click #btnShare': 'shareClick',\n    'mouseover .btnFollow': function (e) {\n      var target = $(e.target);\n      if (target.hasClass('followed')) {\n        target.text('取消关注');\n      }\n    },\n    'mouseout .btnFollow': function (e) {\n      var target = $(e.target);\n      if (target.hasClass('followed')) {\n        target.text('已关注').addClass('m_disabled');\n      }\n    }\n  },\n  // 当模板挂载到元素之前\n  beforeMount: function () {\n    this.elements = {};\n    this.followParams = {\n      deviceinfo: '{\"aid\": \"30001001\"}',\n      access_token: user.getWebToken()\n    };\n  },\n  // 当模板挂载到元素之后\n  afterMount: function () {\n    var el = this.$el;\n    this.noticeGetModel = new NoticeGetModel();\n    this.followModel = FollowModel.sharedInstanceModel();\n    this.unFollowModel = UnFollowModel.sharedInstanceModel();\n\n    this.tagTpl = this.$el.find('#tagTpl').html();\n\n    this.elements = {\n      anchorAvatar: el.find('#anchorAvatar'),\n      name: el.find('#anchorName'),\n      btnAdd: el.find('#btnAdd'),\n      btnReport: el.find('#btnReport'),\n      tagsWrap: el.find('#tagsWrap'),\n      noticeWrap: $('.noticWrap')\n    };\n\n    this.noticeGetParams = {\n      deviceinfo: '{\"aid\":\"30001001\"}',\n      roomId: '',\n      access_token: user.getWebToken()\n    };\n    this.btnFollow = el.find('.btnFollow');\n    this.genderDOM = el.find('.icon-gender');\n  },\n  // 当事件监听器，内部实例初始化完成，模板挂载到文档之后\n  ready: function (ops) {\n    this.options = _.extend({\n      share: null\n    }, ops);\n    this.snsShareView = new SNSShareView(this.options.share || {});\n    this.defineEventInterface();\n  },\n  defineEventInterface: function () {\n    var self = this;\n    Backbone.on('event:roomInfoReady', function (data) {\n      if (data) {\n        self.roomInfo = data;\n        self.bindData(data);\n        self.getNoticeInfo();\n      }\n    });\n\n    Backbone.on('event:currentUserInfoReady', function (userInfo) {\n      var gender = {\n        Boy: 'male',\n        Gril: 'famle'\n      };\n      if (userInfo && userInfo.sex) {\n        self.genderDOM.addClass(gender[userInfo.sex] || 'male');\n      }\n    });\n\n    Backbone.on('event:updateRoomNotice', function (data) {\n      if (data) {\n        self.elements.noticeWrap.text(data.content || '暂无公告');\n      }\n    });\n  },\n  bindData: function (data) {\n    var els = this.elements;\n\n    els.anchorAvatar.attr('src', data.creator.largeAvatar);\n    els.name.text(data.creator.nickName);\n\n    var template = _.template(this.tagTpl);\n    els.tagsWrap.html(template(data.creator));\n\n    if (data.creator.isFollowed) {\n      this.btnFollow.addClass('followed').text('已关注').addClass('m_disabled');\n    }\n  },\n  getNoticeInfo: function () {\n    var self = this;\n    var promise;\n    this.noticeGetParams.roomId = this.roomInfo.id;\n\n    promise = this.noticeGetModel.executeJSONP(this.noticeGetParams);\n    promise.done(function (res) {\n      if (res && res.data) {\n        var notice = null;\n        if (res.data.placards) {\n          notice = res.data.placards[0];\n        }\n        if (notice) {\n          self.elements.noticeWrap.text(notice.content || '暂无公告');\n        } else {\n          self.elements.noticeWrap.text('暂无公告');\n        }\n      }\n    });\n    promise.fail(function (err) {\n      msgBox.showError(err.msg || '获取公告失败');\n    });\n  },\n  followClickHandler: function () {\n    var self = this;\n    this.followParams.anchorId = this.roomInfo.creator.uid;\n    if (this.btnFollow.hasClass('followed')) {\n      var promise1 = this.unFollowModel.executeJSONP(self.followParams);\n      promise1.done(function (res) {\n        if (res.data && res.data.success) {\n          msgBox.showOK('已取消关注主播');\n          self.btnFollow.removeClass('followed').removeClass('m_disabled').text('关注');\n        }\n      });\n      promise1.fail(function () {\n        msgBox.showTip('操作失败,稍后重试');\n      });\n    } else {\n      if (imModel.get('data').userId === self.followParams.anchorId) {\n        msgBox.showTip('不能关注自己!');\n        return null;\n      }\n      var promise = this.followModel.executeJSONP(self.followParams);\n      promise.done(function (res) {\n        if (res.data && res.data.success) {\n          msgBox.showOK('已成功关注主播');\n          self.btnFollow.addClass('followed').addClass('m_disabled').text('取消关注');\n        } else {\n          msgBox.showTip('关注失败,稍后重试');\n        }\n      });\n      promise.fail(function () {\n        msgBox.showTip('关注失败,稍后重试');\n      });\n    }\n    return this;\n  },\n  shareClick: function (e) {\n    var ops = {\n      url: '/liveroom.html?roomId=' + this.roomInfo.id,\n      title: this.roomInfo.roomName || '',\n      img: this.roomInfo.posterPic || '',\n      type: 1\n    };\n    if (this.options.share) {\n      $.extend(ops, this.options.share);\n    }\n    this.snsShareView.setOptions(ops);\n    this.snsShareView.show($(e.target));\n    // this.snsShareView.open();\n  }\n});\n\nmodule.exports = View;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/live-room/anchor-card.view.js\n ** module id = 201\n ** module chunks = 5 7 9\n **/","'use strict';\n\nvar base = require('base-extend-backbone');\nvar Config = require('config');\nvar BaseModel = base.Model;\nvar env = Config.env[Config.scheme];\n\nvar Model = BaseModel.extend({\n  url: '{{url_prefix}}/user/anchor/follow.json',\n  beforeEmit: function beforeEmit() {\n    // 给请求地址替换一下环境变量\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\n    }\n  }\n});\n\nvar shared = null;\nModel.sharedInstanceModel = function sharedInstanceModel() {\n  if (!shared) {\n    shared = new Model();\n  }\n  return shared;\n};\n\nmodule.exports = Model;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/anchor-setting/follow.model.js\n ** module id = 202\n ** module chunks = 5 7 9\n **/","/**\n * SNS社区分享，qq,微博，微信等\n */\n'use strict';\n\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar ZeroClipboard = window.ZeroClipboard;\n\nvar uiConfirm = require('ui.confirm');\nvar shareTpl = require('./template/sns-share.html');\nvar msgBox = require('ui.msgBox');\n\nvar View = function (ops) {\n  this.options = {};\n  $.extend(this.options, ops);\n};\n\n$.extend(View.prototype, {\n  show: function (target) {\n    var self = this;\n    var height = target.height();\n    var offset = target.offset();\n    if (!this.snsDom) {\n      var complied = _.template(shareTpl);\n      var dom = complied({\n        title: encodeURIComponent(this.options.title + ',快来围观吧'),\n        url: encodeURIComponent('http://' + window.location.host + this.options.url),\n        img: this.options.img\n      });\n      dom = $(dom);\n      self.snsDom = dom;\n      $('body').append(dom);\n      dom.offset({\n        top: offset.top + height + 8,\n        left: offset.left - dom.width() + 61\n      });\n\n      self._bindCopy('#shareCopy');\n\n      dom.find('a').on('click', function () {\n        if ($(this).attr('data-tag') === 'copy') {\n          if (!self.clipBoardStatus) {\n            msgBox.showTip('复制失败，请尝试分享吧');\n          }\n          return false;\n        }\n        self.shareWidnow($(this).attr('href'));\n        self.snsDom.hide();\n        return false;\n      });\n      $(document).on('click', function (e) {\n        var temp = $(e.target);\n        if (self.snsDom && temp.attr('id') !== target.attr('id')) {\n          self.snsDom.hide();\n        }\n        return false;\n      });\n    } else {\n      if (this.snsDom.css('display') === 'block') {\n        this.snsDom.hide();\n      } else {\n        this.snsDom.show();\n      }\n    }\n  },\n  hide: function () {\n    this.snsDom.hide();\n  },\n  open: function () {\n    var title = encodeURIComponent(this.options.title + ',快来围观吧');\n    var url = 'http://' + window.location.host;\n    var img = this.options.img;\n    var goUrl;\n\n    url = encodeURIComponent(url + this.options.url);\n    var html = '<span class=\"share-wrap\">' +\n      '<a href=\"http://i.yinyuetai.com/share?title=' + title + '&amp;url=' + url + '&amp;cover=' + img + '?t=20160405161857\" title=\"分享到音悦台我的家\" class=\"myhome J_sharelink\"></a> ' +\n\n      '<a href=\"http://v.t.sina.com.cn/share/share.php?appkey=2817290261&amp;url=' + url + '&amp;title=' + title + '&amp;content=gb2312&amp;pic=' + img + '?t=20160405161857&amp;ralateUid=1698229264\" title=\"分享到新浪微博\" class=\"weibo17 J_sharelink\"></a>' +\n\n      '<a href=\"http://connect.qq.com/widget/shareqq/index.html?url=' + url + '&amp;showcount=1&amp;desc=' + title + '&amp;title=' + title + '&amp;site=饭趴&amp;pics=' + img + '?t=20160405161857&amp;style=201&amp;width=39&amp;height=39\" title=\"分享到QQ\" class=\"qq17 J_sharelink\"></a>' +\n\n      '<a href=\"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=' + url + '&amp;desc=' + title + '\" title=\"分享到QQ空间\" class=\"qzone17 J_sharelink\"></a>' +\n\n      '<a href=\"http://v.yinyuetai.com/share/weixin?title=' + title + '&amp;url=' + url + '\" title=\"分享到微信\"  class=\"weixin17 J_sharelink\"></a>' +\n\n      '<a href=\"http://widget.renren.com/dialog/share?resourceUrl=' + url + '?t=20160405161857&amp;charset=UTF-8&amp;message=' + title + '\" title=\"分享到人人网\" class=\"renren17 J_sharelink\"></a>' +\n\n      '<a href=\"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?to=pengyou&amp;url=' + url + '&amp;desc=' + title + '\" title=\"分享到腾讯朋友\" class=\"pengyou17 J_sharelink\"></a>' +\n\n      '<a href=\"http://v.t.qq.com/share/share.php?title=' + title + '&amp;url=' + url + '&amp;pic=' + img + '?t=20160405161857\" title=\"分享到腾讯微博\" data-video-id=\"2539803\" class=\"tencent17 J_sharelink\"></a>' +\n\n      '<a href=\"http://huaban.com/bookmarklet?url=' + url + '&amp;video=&amp;title=' + title + '&amp;media=' + img + '?t=20160405161857&amp;description=' + title + '\" title=\"分享到花瓣网\" class=\"huaban17 J_sharelink\"></a>' +\n\n      '<a href=\"http://t.sohu.com/third/post.jsp?&amp;url=' + url + '&amp;title=' + title + '&amp;content=utf-8\" title=\"分享到搜狐微博\" class=\"sohu17 J_sharelink\"></a>' +\n\n      '<a href=\"http://fql.cc/yytafx?appkey=2817290261&amp;url=' + url + '&amp;title=' + title + '\" title=\"分享到联通飞影\" class=\"unicon17 J_sharelink\"></a> ' +\n      '</span>';\n    uiConfirm.show({\n      title: '分享',\n      content: html,\n      okBtn: false,\n      cancelBtn: false,\n      okFn: function () {}\n    });\n    $('.share-wrap a').on('click', function () {\n      goUrl = $(this).attr('href');\n      window.open(goUrl, 'newwindow', 'height=750px,width=700px' +\n        ',toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no');\n      uiConfirm.close();\n      return false;\n    });\n  },\n  setOptions: function (ops) {\n    $.extend(this.options, {\n      url: '',\n      title: '',\n      img: '',\n      type: ''\n    }, ops);\n  },\n  shareWidnow: function (url) {\n    window.open(url, 'newwindow', 'height=750px,width=700px' +\n      ',toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no');\n  },\n  // 设置复制按钮\n  _bindCopy: function (id) {\n    var target = $(id);\n    var self = this;\n    this.clipBoard = new ZeroClipboard(target);\n    var text = this.options.title + ',快来围观吧!' + 'http://' + window.location.host + this.options.url;\n    target.attr({\n      'data-clipboard-text': text\n    });\n    this.clipBoard.on('ready', function () {\n      this.on('aftercopy', function () {\n        self.clipBoardStatus = true;\n        msgBox.showOK('房间地址复制成功！');\n      });\n    });\n    this.clipBoard.on('error', function () {\n      self.clipBoardStatus = false;\n      // msgBox.showTip('复制失败，请尝试分享吧');\n    });\n  }\n});\n\nmodule.exports = View;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/live-room/sns-share.view.js\n ** module id = 203\n ** module chunks = 5 7 9\n **/","module.exports = \"<div class=\\\"sns-share-wrap\\\">\\n  <div class=\\\"sns-block am-round\\\">\\n    <div class=\\\"arrow\\\"></div>\\n    <div class=\\\"list\\\">\\n      <a href=\\\"http://v.yinyuetai.com/share/weixin?title=<%=title%>&amp;url=<%=url%>\\\" title=\\\"分享到微信\\\"></a>\\n      <a style=\\\"display:none\\\" href=\\\"javascript:;\\\"></a>\\n      <a href=\\\"http://connect.qq.com/widget/shareqq/index.html?url=<%=url%>&amp;showcount=1&amp;desc=<%=title%>&amp;title=<%=title%>&amp;site=饭趴&amp;pics=<%=img%>?t=20160405161857&amp;style=201&amp;width=39&amp;height=39\\\" title=\\\"分享到QQ\\\"></a>\\n      <a  href=\\\"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=<%=url%>&amp;desc=<%=title%>\\\" title=\\\"分享到QQ空间\\\"></a>\\n      <a href=\\\"http://v.t.sina.com.cn/share/share.php?appkey=2817290261&amp;url=<%=url%>&amp;title=<%=title%>&amp;content=gb2312&amp;pic=<%=img%>?t=20160405161857&amp;ralateUid=1698229264\\\" title=\\\"分享到新浪微博\\\"></a>\\n      <a data-tag='copy' id=\\\"shareCopy\\\" href=\\\"javascript:;\\\"></a>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/live-room/template/sns-share.html\n ** module id = 204\n ** module chunks = 5 7 9\n **/","module.exports = \"<div class=\\\"user-info-wrap clearfix\\\">\\n    <img id=\\\"anchorAvatar\\\" class=\\\"Left avator boderRadAll_35\\\"\\n         src=\\\"http://img1.yytcdn.com/user/avatar/160322/703-1458640483613/-M-216abfaf3d4ae2ee4d194029b70cdc9d_100x100.jpg\\\"\\n         alt=\\\"\\\">\\n    <div class=\\\"info Left \\\">\\n        <span id=\\\"anchorName\\\" class=\\\"name am-margin-right-sm\\\"></span>\\n        <!--<span class=\\\"icon-gender\\\"></span>-->\\n        <button class=\\\"btn am-btn am-btn-purple boderRadAll_5 btnFollow\\\" id=\\\"btnFollow\\\">关注</button>\\n        <div class=\\\"tags\\\">\\n            <span class=\\\"first\\\">标签:</span>\\n            <span id=\\\"tagsWrap\\\">\\n            </span>\\n        </div>\\n    </div>\\n    <div class=\\\"Right\\\">\\n        <div class=\\\"like\\\">\\n            <button id=\\\"btnLike\\\" class=\\\"btn-like am-btn-red am-circle\\\"><i></i></button>\\n            <span id=\\\"txtLikeCount\\\" class=\\\"number\\\">1</span></div>\\n        <a id=\\\"btnShare\\\" href=\\\"javascript:;\\\" class=\\\"btn-share\\\"></a>\\n    </div>\\n</div>\\n<script type=\\\"text/template\\\" id=\\\"tagTpl\\\">\\n    <%\\n    tags = tags || [];\\n    for(var i=0,l=tags.length; i < l; i++) {\\n    %>\\n    <span class=\\\"item\\\"><%=tags[i]%></span>\\n    <%\\n    }\\n    %>\\n</script>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/live-room/template/anchor-card.html\n ** module id = 205\n ** module chunks = 5 7 9\n **/","/*\n clientRender:{bool} // 默认设置为false，如果为true，内部将不会调用rawLoader方法或者根据templateUrl请求模版\n */\n\n\n/**\n * @time {时间}\n * @author {编写者}\n * @info {实现的功能}\n */\n\n'use strict';\n\nvar base = require('base-extend-backbone');\nvar BaseView = base.View; // View的基类\nvar Backbone = window.Backbone;\n\nvar View = BaseView.extend({\n  el: '.edit_background', // 设置View对象作用于的根元素，比如id\n  rawLoader: function () { // 可用此方法返回字符串模版\n    return require('./template/room-title.html');\n  },\n  events: { // 监听事件\n  },\n  // 当模板挂载到元素之前\n  beforeMount: function () {\n    this.elements = {};\n  },\n  // 当模板挂载到元素之后\n  afterMount: function () {\n    var el = this.$el;\n    this.elements.roomName = el.find('.room-name');\n    this.elements = {\n      roomName: el.find('.room-name'),\n      onLine: el.find('#onlineCount'),\n      popularity: el.find('.popularityCount'),\n      onlineTxt: el.find('#onlineTxt'),\n      onLineBlock: el.find('.online')\n    };\n  },\n  // 当事件监听器，内部实例初始化完成，模板挂载到文档之后\n  ready: function () {\n    this.defineEventInterface();\n  },\n  defineEventInterface: function () {\n    var self = this;\n    Backbone.on('event:roomInfoReady', function (data) {\n      if (data) {\n        // 频道\n        if (data.channelId) {\n          self.bindData(data);\n        } else {\n          // 直播\n          if (data.status === 3) {\n            self.whenPalypack(data);\n          } else {\n            self.bindData(data);\n          }\n        }\n      }\n    });\n    Backbone.on('event:updateRoomInfo', function (data) {\n      if (data) {\n        self.elements.onLine.text(data.currentOnline || 0);\n        self.elements.popularity.text(data.popularity || 0);\n      }\n    });\n  },\n  bindData: function (data) {\n    var els = this.elements;\n    els.roomName.text(data.roomName || data.channelName || '');\n    els.onLine.text(data.online || 0);\n    var num = data.popularity < data.realPopularity ? data.realPopularity : data.popularity;\n    els.popularity.text(num || 0);\n  },\n  whenPalypack: function (data) {\n    var els = this.elements;\n    els.onlineTxt.text('历史最高在线人数');\n    els.roomName.text(data.roomName || '');\n    els.onLine.text(data.seen || 0);\n    els.popularity.text(data.popularity || 0);\n  }\n});\n\nmodule.exports = View;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/live-room/room-title.view.js\n ** module id = 206\n ** module chunks = 5 7 9\n **/","module.exports = \"<div class=\\\"room-name fl\\\"></div>\\n<div class=\\\"room-title-right fr\\\">\\n  <span class=\\\"online\\\"> <span id=\\\"onlineTxt\\\">在线人数</span>:<span class=\\\"red count\\\" id=\\\"onlineCount\\\">0</span></span>\\n  <span class=\\\"popularity\\\">人气:<span class=\\\"green count popularityCount\\\" id=\\\"popularityCount\\\">0</span></span>\\n  <!--<button class=\\\"btn Hand btn-support boderRadAll_3\\\"><i></i> 顶一下</button>-->\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/live-room/template/room-title.html\n ** module id = 207\n ** module chunks = 5 7 9\n **/","/*\n clientRender:{bool} // 默认设置为false，如果为true，内部将不会调用rawLoader方法或者根据templateUrl请求模版\n */\n\n\n/**\n * @time {时间}\n * @author {编写者}\n * @info {实现的功能}\n */\n\n'use strict';\n\nvar Backbone = window.Backbone;\nvar _ = require('underscore');\nvar webim = window.webim;\nvar base = require('base-extend-backbone');\nvar BaseView = base.View; // View的基类\n\nvar uiConfirm = require('ui.confirm');\nvar DateTime = require('BusinessDate');\nvar FlashAPI = require('FlashApi');\nvar msgBox = require('ui.msgBox');\nvar YYTIMServer = require('imServer');\n// var RoomDetailModel = require('../../models/anchor/room-detail.model');\nvar IMModel = require('IMModel');\nvar imModel = IMModel.sharedInstanceIMModel();\nvar GiftModel = require('../../models/anchor/gift.model');\nvar UserInfo = require('./user.js');\nvar UserModel = require('UserModel');\nvar user = UserModel.sharedInstanceUserModel();\n// 清屏,锁屏\nvar RoomManagerView = require('./room-manager.view');\nvar BusinessDate = require('BusinessDate');\n\nvar View = BaseView.extend({\n  el: '#anchorCtrlChat', // 设置View对象作用于的根元素，比如id\n  rawLoader: function () { // 可用此方法返回字符串模版\n    return require('./template/chat.html');\n  },\n  events: { // 监听事件\n    // 'click #msgList': 'msgListClicked'\n  },\n  // 当模板挂载到元素之前\n  beforeMount: function () {\n    this.elements = {};\n  },\n  // 当模板挂载到元素之后\n  afterMount: function () {\n    var el = this.$el;\n    this.elements = {\n      msgList: el.find('#msgList'),\n      chatHistory: el.find('#chatHistory')\n    };\n\n    this.giftModel = GiftModel.sharedInstanceModel();\n  },\n  // 当事件监听器，内部实例初始化完成，模板挂载到文档之后\n  ready: function (ops) {\n    this.options = _.extend({}, ops);\n    if ($('#broadCastFlash').length > 0) {\n      this.flashAPI = FlashAPI.sharedInstanceFlashApi({\n        el: 'broadCastFlash'\n      });\n    }\n    this.defineEventInterface();\n\n    this.roomCtrlView = new RoomManagerView({\n      roomInfo: this.roomInfo,\n      FlashApi: this.flashAPI,\n      msgList: this.elements.msgList\n    });\n  },\n  defineEventInterface: function () {\n    var self = this;\n    Backbone.on('event:roomInfoReady', function (data) {\n      if (data) {\n        self.roomInfo = data;\n        if (data.status === 2) {\n          self.checkUserCanJoinRoom();\n        }\n      }\n    });\n\n    Backbone.on('event:onMsgNotify', function (notifyInfo) {\n      if (_.isArray(notifyInfo)) {\n        _.each(notifyInfo, function (item) {\n          if (item.hasOwnProperty('msg')) {\n            if (item.msg.isSend === false) {\n              self.onMsgNotify(item);\n            }\n          } else if (item.hasOwnProperty('isSend')) {\n            if (item.isSend === false) {\n              self.onMsgNotify(item);\n            }\n          }\n        });\n      } else if (_.isObject(notifyInfo)) {\n        if (notifyInfo.isSend === false) {\n          self.onMsgNotify(notifyInfo);\n        }\n      }\n    });\n    Backbone.on('event:onGroupInfoChangeNotify', function (notifyInfo) {\n      self.onGroupInfoChangeNotify(notifyInfo);\n    });\n    Backbone.on('event:groupSystemNotifys', function (notifyInfo) {\n      self.groupSystemNotifys(notifyInfo);\n    });\n\n    Backbone.on('event:visitorSendMessage', function (data) {\n      if (self.options.type !== 'channel') {\n        if (UserInfo.isDisbaleTalk(user.get('userId'), self.roomInfo.id)) {\n          msgBox.showTip('您已经被禁言,不能发弹幕哦');\n          return null;\n        }\n        if (UserInfo.isLockScreen(self.roomInfo.id)) {\n          msgBox.showTip('主播:进行了锁屏操作');\n          return null;\n        }\n      }\n      self.beforeSendMsg(data, function (msgObj) {\n        self.sendMsgToGroup(msgObj);\n      });\n      return null;\n    });\n\n    Backbone.on('event:visitorInteractive', function (data) {\n      if (UserInfo.isDisbaleTalk(user.get('userId'), self.roomInfo.id) && data.msgType === 0) {\n        msgBox.showTip('您已经被主播禁言十分钟.');\n      } else {\n        self.beforeSendMsg(data, function (msgObj) {\n          self.sendMsgToGroup(msgObj);\n        });\n      }\n    });\n\n    Backbone.on('event:forbidUserSendMsg', function (data) {\n      self.forbidUserSendMsgHandler(data);\n    });\n    Backbone.on('event:currentUserInfoReady', function (userInfo) {\n      if (userInfo) {\n        self.currentUserInfo = userInfo;\n      }\n    });\n\n    // Backbone.on('event:IMGroupInfoReady', function (info) {\n    //   self.currentGroupInfo = info;\n    // });\n\n    Backbone.on('event:liveShowEnded', function (data) {\n      uiConfirm.show({\n        title: '直播结束',\n        content: '本场直播已经结束,点击确定返回首页.',\n        cancelBtn: false,\n        okFn: function () {\n          window.location.href = '/';\n        },\n        cancelFn: function () {\n          window.location.href = '/';\n        }\n      });\n      self.roomInfo.status = data.roomStatus;\n    });\n  },\n\n  onMsgNotify: function (notifyInfo) {\n    var self = this;\n    var msgObj = {};\n\n    var elems = notifyInfo.getElems(); // 获取消息包含的元素数组\n    for (var i = 0, j = elems.length; i < j; i++) {\n      var elem = notifyInfo.elems[0];\n      var type = elem.getType(); // 获取元素类型\n      if (type === webim.MSG_ELEMENT_TYPE.CUSTOM) {\n        msgObj = elem.getContent().data;\n      } else if (type === 'TIMGroupTipElem') {\n        msgObj = elem.content.data;\n      } else {\n        msgObj = elem.content.text + '';\n        msgObj = msgObj.replace(/[']/g, '').replace(/&quot;/g, '\\'');\n      }\n      try {\n        if (_.isString(msgObj)) {\n          msgObj = JSON.parse(msgObj);\n        }\n      } catch (e) {\n        console.log(e);\n      }\n      if (_.isObject(msgObj)) {\n        msgObj.fromAccount = notifyInfo.fromAccount;\n        var date = new Date(notifyInfo.getTime() * 1000);\n        msgObj.time = BusinessDate.format(date, 'hh:mm:ss');\n\n        self.beforeSendMsg(msgObj, function (msg) {\n          self.addMessage(msg);\n        });\n      }\n    }\n  },\n\n  beforeSendMsg: function (msg, callback) {\n    var self = this;\n    var msgObj = msg;\n    var tempInfo;\n    var isChannel = this.options.type === 'channel';\n    var roomId = this.roomInfo.id;\n\n    // 频道接收消息\n    if (isChannel) {\n      if (~~msg.channelId !== ~~this.roomInfo.channelId) {\n        return;\n      }\n    } else {\n      if (~~msgObj.roomId !== ~~roomId) {\n        return;\n      }\n      if (self.roomInfo && self.roomInfo.status === 3) {\n        msgBox.showTip('直播已结束,无法进行互动');\n        return;\n      }\n    }\n\n    switch (msgObj.msgType) {\n      case 0: // 文本消息\n        msgObj = $.extend(msgObj, {\n          userId: user.get('userId')\n        });\n        callback(msgObj);\n        break;\n      case 1: // 发送礼物\n        var giftName = self.giftModel.findGift(msgObj.giftId).name || '礼物';\n        msgObj.content = '<b>' + msgObj.nickName + '</b>向主播赠送' + giftName + '!';\n        msgObj.smallAvatar = '';\n        callback(msgObj);\n        break;\n      case 2: // 公告\n        Backbone.trigger('event:updateRoomNotice', msgObj);\n        break;\n      case 3: // 点赞\n        msgObj.content = '<b>' + msgObj.nickName + '</b>点赞一次!';\n        msgObj.smallAvatar = '';\n        callback(msgObj);\n        break;\n      case 4: //  清屏\n        this.elements.msgList.children().remove();\n        msgObj.content = '进行了清屏操作!';\n        msgObj.smallAvatar = '';\n        callback(msgObj);\n        tempInfo = {\n          roomId: self.roomInfo.id,\n          nickName: '主播',\n          smallAvatar: '',\n          msgType: 4,\n          content: msgObj.content\n        };\n        self.flashAPI.onReady(function () {\n          this.notifying(tempInfo);\n        });\n        break;\n      case 5: //  禁言\n        var imIdentifier = imModel.get('data').imIdentifier || '';\n        var temp = msgObj;\n        if (msgObj.userId === imIdentifier) {\n          temp.style = {\n            fontColor: '#999999'\n          };\n          this.flashAPI.onReady(function () {\n            temp.msgType = 0;\n            this.notifying(temp);\n          });\n          temp.msgType = 3;\n          callback(temp);\n        }\n        Backbone.trigger('event:forbidUserSendMsg', msgObj);\n        break;\n      case 8:\n        // this.lockOrUnlock(true);\n        callback(msgObj);\n        break;\n      case 9:\n        // this.lockOrUnlock(false);\n        callback(msgObj);\n        break;\n      case 10:\n        self.checkUserCanJoinRoom();\n        callback(msgObj);\n        break;\n      default:\n        break;\n    }\n  },\n  onGroupInfoChangeNotify: function (notifyInfo) {\n    var intro;\n    var msg;\n    var notify;\n    if (notifyInfo && notifyInfo.GroupIntroduction) {\n      intro = JSON.parse(notifyInfo.GroupIntroduction);\n      UserInfo.setLockScreen(this.roomInfo.id, intro.blockState);\n      msg = '主播进行了' + (intro.blockState ? '锁屏' : '解屏') + '操作';\n      msgBox.showTip(msg);\n      Backbone.trigger('event:LockScreen', intro.blockState);\n    }\n    if (notifyInfo && notifyInfo.GroupNotification) {\n      notify = JSON.parse(notifyInfo.GroupNotification);\n      notify.isEvent = true;\n      Backbone.trigger('event:UserKickOut', notify);\n    }\n  },\n  lockOrUnlock: function (isLock) {\n    UserInfo.setLockScreen(this.roomInfo.id, isLock);\n    var msg = '主播进行了' + (isLock ? '锁屏' : '解屏') + '操作';\n    msgBox.showTip(msg);\n    Backbone.trigger('event:LockScreen', isLock);\n  },\n  groupSystemNotifys: function () {},\n  /**\n   * 获取消息模板\n   * @returns {*}\n   */\n  getMessageTpl: function () {\n    return require('../anchor/template/chat-message-tpl.html');\n  },\n  sendMsgToGroup: function (msgObj) {\n    var res = _.extend(msgObj, {\n      time: BusinessDate.format(new Date(), 'hh:mm:ss')\n    });\n    this.addMessage(res);\n\n    YYTIMServer.sendMessage({\n      groupId: this.roomInfo.imGroupid,\n      msg: msgObj\n    });\n    this.autoDeleteMsgList();\n  },\n  // 将消息追加到dom中\n  addMessage: function (msg) {\n    var self = this;\n    var msgObj;\n    msgObj = _.extend({\n      nickName: '匿名',\n      content: '',\n      smallAvatar: '',\n      // time: self.getDateStr(new Date()),\n      fromAccount: '',\n      userId: ''\n    }, msg);\n\n    msgObj.content = self.filterEmoji(msgObj.content);\n    if (msgObj && msgObj.content) {\n      var tpl = _.template(this.getMessageTpl());\n      this.elements.msgList.append(tpl(msgObj));\n      this.elements.chatHistory.scrollTop(this.elements.msgList.height());\n      // if (msgObj.msgType == 0) {\n      try {\n        this.flashAPI.onReady(function () {\n          this.notifying(msgObj);\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    }\n    self.autoDeleteMsgList();\n  },\n  filterEmoji: function (content) {\n    var reg = /[\\u4e00-\\u9fa5\\w\\s\\d@\\.\\-,\\+\\?，。（）!#【】！~“：《》？<>]/g;\n    if (content) {\n      var result = content.match(reg) || [];\n      if (result.length > 0) {\n        return result.join('') || '';\n      }\n      return '';\n    }\n    return content;\n  },\n  // 动删除前面的,仅留下500条\n  autoDeleteMsgList: function () {\n    var total = this.elements.msgList.children().length;\n    var index = 0;\n    if (total > 500) {\n      index = total - 200;\n    }\n    this.elements.msgList.children(':lt(' + index + ')').remove();\n  },\n  // 转换时间格式\n  getDateStr: function (dateInt) {\n    var date = new Date(dateInt);\n    return DateTime.format(date, 'hh:mm:ss');\n  },\n  checkUserCanJoinRoom: function () {\n    var self = this;\n    YYTIMServer.getGroupInfo(this.roomInfo.imGroupid, function (res) {\n      if (res && ~~res.ErrorCode === 0 || res.GroupInfo.length > 0) {\n        self.currentGroupInfo = _.find(res.GroupInfo, function (item) {\n          return item.GroupId === self.roomInfo.imGroupid;\n        });\n        Backbone.trigger('event:IMGroupInfoReady', self.currentGroupInfo);\n      }\n    }, function () {});\n  },\n  checkUserStatus: function () {\n    if (UserInfo.isDisbaleTalk(user.get('userId'), self.roomInfo.id)) {\n      msgBox.showTip('您已经被禁言,不能发弹幕哦');\n      return false;\n    }\n\n    return false;\n  },\n  forbidUserSendMsgHandler: function (notifyInfo) {\n    var imIdentifier = imModel.get('data').imIdentifier || '';\n    if (notifyInfo.userId === imIdentifier) {\n      msgBox.showTip('您已被主播禁言10分钟!');\n\n      Backbone.trigger('event:currentUserDisableTalk', true);\n      var cur = new Date();\n      UserInfo.setDisableTalk(user.get('userId'), this.roomInfo.id, cur.getTime() + 10 * 60 * 1000);\n    }\n  }\n});\n\nmodule.exports = View;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/live-room/chat.view.js\n ** module id = 208\n ** module chunks = 5 7\n **/","/**\n * 场控\n */\n'use strict';\n\nvar Backbone = window.Backbone;\nvar _ = require('underscore');\nvar base = require('base-extend-backbone');\nvar BaseView = base.View;\n\nvar UserModel = require('UserModel');\nvar user = UserModel.sharedInstanceUserModel();\nvar PermissionModel = require('../../models/live-room/permission.model');\n\n// 清屏,锁屏\n// var RoomControlView = require('../anchor/room-control.view');\n\nvar View = BaseView.extend({\n  el: '',\n  clientRender: false,\n  rawLoader: function () {\n    return '';\n  },\n  context: function (args) {\n    console.log(args);\n  },\n  beforeMount: function () {\n    //  初始化一些自定义属性\n    this.elements = {};\n    this.queryParams = {\n      deviceinfo: '{\"aid\": \"30001001\"}',\n      access_token: user.getWebToken()\n    };\n    this.permsssionModel = new PermissionModel();\n    this.userControlTpl = '<div class=\"controls_forbid_reject\" style=\"display: block;\"> ' +\n      '<a href=\"javascript:;\" class=\"forbid\">禁言</a> ' +\n      '<a href=\"javascript:;\" class=\"reject\">踢出</a></div>';\n  },\n  afterMount: function () {\n    //  获取findDOMNode DOM Node\n\n    this.elements.roomManagerWrap = $('#roomManagerWrap');\n    this.elements.sendMessageWrap = $('#sendMessageWrap');\n  },\n  ready: function (ops) {\n    //  初始化\n    this.defineEventInterface();\n    this.options = _.extend({}, ops);\n    // this.elements.roomManagerWrap.hide();\n  },\n  defineEventInterface: function () {\n    var self = this;\n    Backbone.on('event:roomInfoReady', function (roomInfo) {\n      if (roomInfo) {\n        self.roomInfo = roomInfo;\n        self.checkPermission();\n      }\n    });\n  },\n  beforeDestroy: function () {\n    //  进入销毁之前,将引用关系设置为null\n  },\n  destroyed: function () {\n    //  销毁之后\n  },\n  // 检查当前用户权限\n  checkPermission: function () {\n    var self = this;\n    var promise = this.permsssionModel.executeJSONP(_.extend({\n      roomId: this.roomInfo.id || 0\n    }, this.queryParams));\n\n    promise.done(function (res) {\n      if (res && res.code === '0') {\n        self.hasAccess(res.data);\n      }\n    });\n  },\n  hasAccess: function (data) {\n    var self = this;\n    _.each(data, function (item) {\n      if (item.roomId === self.roomInfo.id) {\n        self.render();\n      }\n    });\n  },\n  render: function () {\n    // this.elements.roomManagerWrap.show();\n    // this.elements.sendMessageWrap.hide();\n    // if (!this.roomCtrlView) {\n    //   this.roomCtrlView = new RoomControlView({\n    //     el: '#roomManagerWrap',\n    //     roomInfo: this.roomInfo,\n    //     FlashApi: this.options.FlashApi,\n    //     msgList: this.options.msgList,\n    //     hideCtrl: true // 隐藏场控管理\n    //   });\n    // }\n    window.location.href = '/assistant.html?roomId=' + this.roomInfo.id;\n  },\n  // 控制用户的禁言， 踢出\n  renderUserControl: function (msgList) {\n    var self = this;\n    if (msgList) {\n      $(msgList).on('click', function (e) {\n        self.userControlClick(e);\n      });\n    }\n  },\n  userControlClick: function () {}\n});\n\nmodule.exports = View;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/live-room/room-manager.view.js\n ** module id = 209\n ** module chunks = 5 7\n **/","module.exports = \"<div class=\\\"chatCon\\\" id=\\\"chatHistory\\\">\\n    <!--聊天记录-->\\n    <ul id=\\\"msgList\\\">\\n\\n    </ul>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/live-room/template/chat.html\n ** module id = 210\n ** module chunks = 5 7\n **/","/*\n clientRender:{bool} // 默认设置为false，如果为true，内部将不会调用rawLoader方法或者根据templateUrl请求模版\n */\n\n\n/**\n * @time {时间}\n * @author {编写者}\n * @info {实现的功能}\n */\n\n'use strict';\nvar base = require('base-extend-backbone');\nvar BaseView = base.View; // View的基类\nvar UserModel = require('UserModel');\nvar user = UserModel.sharedInstanceUserModel();\nvar msgBox = require('ui.msgBox');\nvar Backbone = window.Backbone;\nvar _ = require('underscore');\n\n\nvar View = BaseView.extend({\n  el: '#sendMessageWrap', // 设置View对象作用于的根元素，比如id\n  rawLoader: function () { // 可用此方法返回字符串模版\n    return require('./template/send-message.html');\n  },\n  events: { // 监听事件\n    'click #btnChooseColor': 'showColorPanel',\n    'click #colorList': 'chooseColor',\n    'click #btnSendMsg': 'sendMsgClick',\n    'keyup #txtMessage': 'textMsgChanged'\n  },\n  // 当模板挂载到元素之前\n  beforeMount: function () {\n    this.elements = {};\n    this.speekPeriod = 5 * 1000;\n    this.canSendNow = true;\n  },\n  // 当模板挂载到元素之后\n  afterMount: function () {\n    var el = this.$el;\n\n    this.elements = {\n      btnChooseColor: el.find('#btnChooseColor'),\n      colorList: el.find('#colorList'),\n      chooseColorPanel: el.find('#chooseColorPanel'),\n      txtMessage: el.find('#txtMessage'),\n      limitTip: el.find('#limitTip')\n    };\n  },\n  // 当事件监听器，内部实例初始化完成，模板挂载到文档之后\n  ready: function (ops) {\n    this.options = _.extend({}, ops);\n    this.defineEventInterface();\n    this.setTextAreatColor();\n  },\n  defineEventInterface: function () {\n    var self = this;\n    Backbone.on('event:roomInfoReady', function (data) {\n      if (data) {\n        self.roomInfo = data;\n      }\n    });\n    Backbone.on('event:visitorSendGift', function (data) {\n      self.sendMessageToChat(_.extend({\n        nickName: user.get('userName'),\n        smallAvatar: user.get('bigheadImg'),\n        roomId: self.roomInfo.id\n      }, data));\n    });\n  },\n  showColorPanel: function () {\n    this.elements.btnChooseColor.toggleClass('actived');\n\n    this.elements.chooseColorPanel.toggle();\n  },\n  chooseColor: function (e) {\n    var target = $(e.target);\n    var color = target.data('color');\n    this.setTextAreatColor(color);\n    this.showColorPanel();\n  },\n  setTextAreatColor: function (color) {\n    this.elements.btnChooseColor.attr('data-color', color);\n    this.elements.txtMessage.css('color', color || '#999999');\n  },\n  sendMsgClick: function () {\n    var self = this;\n    var len = $.trim(this.elements.txtMessage.val()).length;\n    if (len < 1) {\n      return '';\n    }\n    if (len > 20) {\n      msgBox.showTip('发言文字已经超过20个字!');\n      return '';\n    }\n    if (!this.canSendNow) {\n      msgBox.showTip('请发言不要太频繁!');\n      return null;\n    }\n    this.canSendNow = false;\n    var msg = {\n      msgType: 0,\n      content: $.trim(this.elements.txtMessage.val()),\n      nickName: user.get('userName'),\n      style: {\n        fontColor: this.elements.btnChooseColor.attr('data-color') || '#999999'\n      },\n      smallAvatar: user.get('bigheadImg'),\n      roomId: this.roomInfo.id,\n      time: ''\n    };\n    // 处理频道发言\n    if (this.options.type === 'channel') {\n      msg.channelId = this.options.channelId;\n      msg.roomId = -1;\n    }\n    this.sendMessageToChat(msg);\n    this.elements.txtMessage.val('');\n    this.elements.limitTip.text(20);\n    setTimeout(function () {\n      self.canSendNow = true;\n    }, self.speekPeriod);\n    return null;\n  },\n  sendMessageToChat: function (msg) {\n    if (this.options.type !== 'channel') {\n      if (!this.roomInfo || this.roomInfo.status !== 2) {\n        msgBox.showTip('该直播不在直播中,无法进行互动');\n        this.elements.txtMessage.val('');\n        return;\n      }\n    }\n    Backbone.trigger('event:visitorSendMessage', msg);\n  },\n  textMsgChanged: function (e) {\n    if (e && e.keyCode === 13) {\n      this.sendMsgClick();\n      return false;\n    }\n    var len = $.trim(this.elements.txtMessage.val().length);\n    this.elements.limitTip.text(20 - len);\n    if (len >= 20) {\n      return false;\n    }\n    return true;\n  }\n});\n\nmodule.exports = View;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/live-room/send-message.view.js\n ** module id = 211\n ** module chunks = 5 7\n **/","module.exports = \"<div id=\\\"chooseColorPanel\\\" class=\\\"choose-color Hidden\\\">\\n    <div class=\\\"title\\\">选择颜色</div>\\n    <div class=\\\"color-list\\\" id=\\\"colorList\\\">\\n        <span data-color=\\\"#f9517d\\\" class=\\\"red boderRadAll_20\\\"></span>\\n        <span data-color=\\\"#ead97a\\\" class=\\\"yellow boderRadAll_20\\\"></span>\\n        <span data-color=\\\"#53e2c2\\\" class=\\\"green boderRadAll_20\\\"></span>\\n        <span data-color=\\\"#569ef8\\\" class=\\\"blue boderRadAll_20\\\"></span>\\n        <span data-color=\\\"#cf57cf\\\" class=\\\"purple boderRadAll_20\\\"></span>\\n        <span data-color=\\\"#ffffff\\\" class=\\\"white boderRadAll_20\\\"></span>\\n    </div>\\n</div>\\n<div class=\\\"msg-text\\\">\\n    <textarea id=\\\"txtMessage\\\" class=\\\"pAll5 msg Left\\\" cols=\\\"30\\\" rows=\\\"5\\\" placeholder=\\\"请输入消息\\\"></textarea>\\n    <button id=\\\"btnSendMsg\\\" class=\\\"send Left am-btn-purple\\\">发送</button>\\n    <div class=\\\"Clear\\\"></div>\\n</div>\\n<div class=\\\"msg-footer mTop5\\\">\\n    <!--<button>face</button>-->\\n    <button id=\\\"btnChooseColor\\\" class=\\\"size Hand\\\"><i></i></button>\\n    <div class=\\\"tip Right gary1 am-text-xs\\\">您还可以输入<span id=\\\"limitTip\\\" class=\\\"number\\\">20</span>字</div>\\n    <div class=\\\"Clear\\\"></div>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/live-room/template/send-message.html\n ** module id = 212\n ** module chunks = 5 7\n **/","/*\n clientRender:{bool} // 默认设置为false，如果为true，内部将不会调用rawLoader方法或者根据templateUrl请求模版\n */\n\n\n/**\n * @time {时间}\n * @author {编写者}\n * @info {实现的功能}\n */\n\n'use strict';\n\nvar Backbone = window.Backbone;\nvar _ = require('underscore');\nvar base = require('base-extend-backbone');\nvar BaseView = base.View; // View的基类\n\nvar UserModel = require('UserModel');\nvar user = UserModel.sharedInstanceUserModel();\nvar uiConfirm = require('ui.confirm');\nvar GiftModel = require('../../models/anchor/gift.model');\nvar PopularityModel = require('../../models/live-room/popularity-add.model');\nvar ChannelPopularityModel = require('../../models/channel/popularity-add.model');\n\n\nvar msgBox = require('ui.msgBox');\nvar UserInfo = require('./user.js');\n\nvar View = BaseView.extend({\n  clientRender: false,\n  el: '#giftwarp', // 设置View对象作用于的根元素，比如id\n  events: { // 监听事件\n    'click #gift-items': 'giftClick',\n    'click .btn-push': 'topClick',\n    'click #btnLike': 'lickClick' // ,\n      // 'click #btnShare': 'shareClick'\n  },\n  // 当模板挂载到元素之前\n  beforeMount: function () {\n    this.giftTpl = $('#gift-item-tpl').html();\n\n    this.giftParams = {\n      deviceinfo: '{\"aid\": \"30001001\"}',\n      access_token: user.getWebToken(),\n      offset: 0,\n      size: 90000,\n      type: 0\n    };\n    this.queryParams = {\n      deviceinfo: '{\"aid\": \"30001001\"}',\n      access_token: user.getWebToken()\n    };\n\n    this.giftModel = GiftModel.sharedInstanceModel();\n    this.popularityModel = PopularityModel.sharedInstanceModel();\n    this.channelPopularityModel = ChannelPopularityModel.sharedInstanceModel();\n    this.popularityParams = _.extend({\n      type: 1,\n      roomId: 0\n    }, this.queryParams);\n\n    this.isNeedPopup = true;\n    this.elements = {};\n    this.sendGiftPeriod = 5 * 1000;\n  },\n  // 当模板挂载到元素之后\n  afterMount: function () {\n    var el = this.$el;\n    this.elements = {\n      giftItems: el.find('#gift-items'),\n      txtLikeCount: el.find('#txtLikeCount')\n    };\n  },\n  // 当事件监听器，内部实例初始化完成，模板挂载到文档之后\n  ready: function (ops) {\n    this.options = _.extend({}, ops);\n    this.defineEventInterface();\n\n    this.initGiftList();\n\n    // $('#btnShare').on('click', this.shareClick.bind(this));\n    $('.btn-push').on('click', this.topClick.bind(this));\n  },\n  defineEventInterface: function () {\n    var self = this;\n    Backbone.on('event:roomInfoReady', function (data) {\n      if (data) {\n        self.roomInfo = data;\n        self.elements.txtLikeCount.text(data.assemble || 0);\n        self.elements.txtLikeCount.text(data.likeCount || 0);\n      }\n    });\n\n    Backbone.on('event:currentUserInfoReady', function (userInfo) {\n      if (userInfo) {\n        self.currentUserInfo = userInfo;\n      }\n    });\n    Backbone.on('event:updateRoomInfo', function (data) {\n      if (data) {\n        self.elements.txtLikeCount.text(data.likeCount || 0);\n      }\n    });\n    Backbone.on('event:liveShowEnded', function (data) {\n      if (data) {\n        self.roomInfo.status = data.roomStatus;\n      }\n    });\n  },\n  initCarousel: function () {\n    var warp = $('#giftwarp');\n    var jcarousel = warp.find('.jcarousel');\n    var carousel;\n    var width;\n\n    jcarousel\n      .on('jcarousel:reload jcarousel:create', function () {\n        carousel = $(this);\n        width = carousel.innerWidth();\n        width = width / 5;\n        carousel.jcarousel('items').css('width', Math.ceil(width) + 'px');\n      })\n      .jcarousel({\n        wrap: 'circular'\n      });\n\n    warp.find('.jcarousel-control-prev')\n      .jcarouselControl({\n        target: '-=1'\n      });\n\n    warp.find('.jcarousel-control-next')\n      .jcarouselControl({\n        target: '+=1'\n      });\n  },\n  initGiftList: function () {\n    var self = this;\n\n    this.giftModel.get(this.giftParams, function (res) {\n      if (res && res.code === '0') {\n        if (self.giftTpl) {\n          var template = _.template(self.giftTpl);\n          self.elements.giftItems.html(template(res || []));\n          self.initCarousel();\n        }\n      }\n    }, function (err) {\n      console.log(err);\n    });\n  },\n  roomStatusCheck: function () {\n    if (this.options.type === 'channel') {\n      // 如果是频道，直接通过\n      return true;\n    }\n    if (!this.roomInfo || this.roomInfo.status !== 2) {\n      msgBox.showTip('该直播不在直播中,无法进行互动');\n      return false;\n    }\n    return true;\n  },\n  giftClick: function (e) {\n    var target = e.target;\n    if (!this.roomStatusCheck()) {\n      return;\n    }\n    if (e.target.nodeName !== 'LI') {\n      target = $(e.target).parent();\n    } else {\n      target = $(e.target);\n    }\n    this.sendGift({\n      name: target.data('name'),\n      giftId: target.data('giftid')\n    });\n  },\n\n  sendGift: function (data) {\n    var self = this;\n    if (this.options.type !== 'channel') {\n      if (UserInfo.isDisbaleTalk(user.get('userId'), this.roomInfo.id)) {\n        msgBox.showTip('您已经被主播禁言10分钟');\n        return null;\n      }\n      if (UserInfo.isLockScreen(this.roomInfo.id)) {\n        msgBox.showTip('主播锁屏中');\n        return null;\n      }\n    }\n    if (this.notSend) {\n      msgBox.showTip('操作过于频繁');\n      return null;\n    }\n    this.notSend = true;\n\n    var msg = {\n      msgType: 1,\n      giftId: data.giftId,\n      giftNum: 1\n    };\n    if (this.options.type === 'channel') {\n      msg.channelId = this.options.channelId;\n      msg.roomId = -1;\n    }\n    Backbone.trigger('event:visitorSendGift', msg);\n\n    setTimeout(function () {\n      self.notSend = false;\n    }, self.sendGiftPeriod);\n    return null;\n  },\n  topClick: function () {\n    var self = this;\n    if (!this.isNeedPopup) {\n      // self.pushPopularity(2);\n      self.beforePushPopularity(2);\n      return;\n    }\n    var content = '<div>使用<span class=\"red\">20</span>积分支持一下MC,当前共有<span class=\"red\">' +\n      (this.currentUserInfo.totalMarks || 0) + '</span>积分</div></br>' +\n      '<div style=\"text-align:right; color:#999;\"> <label>' +\n      '<input value=\"1\" id=\"popupCheckBox\" type=\"checkbox\">&nbsp;别再烦我</label></div>';\n    uiConfirm.show({\n      title: '顶一下',\n      content: content,\n      okFn: function () {\n        // self.pushPopularity(2);\n        self.beforePushPopularity(2);\n        var check = $('#popupCheckBox');\n        if (check.is(':checked')) {\n          self.isNeedPopup = false;\n        } else {\n          self.isNeedPopup = true;\n        }\n      }\n    });\n  },\n  beforePushPopularity: function (type) {\n    var channelType = 2;\n    if (this.options.type === 'channel') {\n      channelType = type === 2 ? 3 : 2;\n      this.pushChannelPopularity(channelType);\n    } else {\n      this.pushPopularity(type);\n    }\n  },\n  pushChannelPopularity: function (type) {\n    var self = this;\n    var promise = this.channelPopularityModel.executeJSONP(_.extend({\n      type: type,\n      channelId: this.roomInfo.channelId\n    }, this.queryParams));\n    promise.done(function (res) {\n      if (~~res.code === 0 && type === 2) {\n        Backbone.trigger('event:pleaseUpdateRoomInfo');\n        self.getUserInfo();\n      } else if (~~res.code === 0 && type === 3) {\n        msgBox.showOK('非常感谢您的大力支持');\n        Backbone.trigger('event:pleaseUpdateRoomInfo');\n        self.getUserInfo();\n      } else {\n        msgBox.showTip(res.data.message || res.msg || '操作失败请您稍后重试');\n      }\n    });\n  },\n  pushPopularity: function (type) {\n    var self = this;\n    var promise;\n    // if (!this.roomStatusCheck()) {\n    //  return;\n    // }\n    this.popularityParams.type = type;\n    this.popularityParams.roomId = this.roomInfo.id;\n    promise = this.popularityModel.executeJSONP(this.popularityParams);\n    promise.done(function (res) {\n      if (res && res.data && res.msg === 'SUCCESS' && type === 1) {\n        Backbone.trigger('event:pleaseUpdateRoomInfo');\n        self.getUserInfo();\n      } else if (res && res.data.success && type === 2) {\n        msgBox.showOK('非常感谢您的大力支持');\n        Backbone.trigger('event:pleaseUpdateRoomInfo');\n        self.getUserInfo();\n      } else {\n        msgBox.showTip(res.data.message || res.msg || '操作失败请您稍后重试');\n      }\n    });\n    promise.fail(function () {\n      msgBox.showTip('操作失败请您稍后重试');\n    });\n  },\n  getUserInfo: function () {\n    UserInfo.getInfo(function (userInfo) {\n      Backbone.trigger('event:currentUserInfoReady', userInfo);\n    });\n  },\n\n  lickClick: function () {\n    var self = this;\n    if (!this.roomStatusCheck()) {\n      return;\n    }\n    if (this.isClicked) {\n      msgBox.showOK('操作过于频繁');\n      return;\n    }\n    this.isClicked = true;\n    var msg = {\n      nickName: user.get('userName'),\n      smallAvatar: user.get('bigheadImg'),\n      roomId: self.roomInfo.id || '',\n      msgType: 3\n    };\n    if (this.options.type === 'channel') {\n      msg.channelId = this.roomInfo.channelId;\n      msg.roomId = -1;\n    }\n    // 互动\n    Backbone.trigger('event:visitorInteractive', msg);\n    self.beforePushPopularity(1);\n    setTimeout(function () {\n      self.isClicked = false;\n    }, 5000);\n  },\n  shareClick: function () {\n    if (!this.roomInfo) {\n      return;\n    }\n    var title = encodeURIComponent(this.roomInfo.roomName + ',快来围观吧');\n    var url = 'http://' + window.location.host;\n    var img = this.roomInfo.posterPic;\n    var goUrl;\n\n    if (this.roomInfo.status === 2) {\n      url = encodeURIComponent(url + '/liveRoom.html?roomId=' + this.roomInfo.id);\n    } else {\n      url = encodeURIComponent(url + '/playback.html?roomId=' + this.roomInfo.id);\n    }\n    var html = '<span class=\"share-wrap\">' +\n      '<a href=\"http://i.yinyuetai.com/share?title=' + title + '&amp;url=' + url + '&amp;cover=' + img + '?t=20160405161857\" title=\"分享到音悦台我的家\" class=\"myhome J_sharelink\"></a> ' +\n\n      '<a href=\"http://v.t.sina.com.cn/share/share.php?appkey=2817290261&amp;url=' + url + '&amp;title=' + title + '&amp;content=gb2312&amp;pic=' + img + '?t=20160405161857&amp;ralateUid=1698229264\" title=\"分享到新浪微博\" class=\"weibo17 J_sharelink\"></a>' +\n\n      '<a href=\"http://connect.qq.com/widget/shareqq/index.html?url=' + url + '&amp;showcount=1&amp;desc=' + title + '&amp;title=' + title + '&amp;site=饭趴&amp;pics=' + img + '?t=20160405161857&amp;style=201&amp;width=39&amp;height=39\" title=\"分享到QQ\" class=\"qq17 J_sharelink\"></a>' +\n\n      '<a href=\"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=' + url + '&amp;desc=' + title + '\" title=\"分享到QQ空间\" class=\"qzone17 J_sharelink\"></a>' +\n\n      '<a href=\"http://v.yinyuetai.com/share/weixin?title=' + title + '&amp;url=' + url + '\" title=\"分享到微信\"  class=\"weixin17 J_sharelink\"></a>' +\n\n      '<a href=\"http://widget.renren.com/dialog/share?resourceUrl=' + url + '?t=20160405161857&amp;charset=UTF-8&amp;message=' + title + '\" title=\"分享到人人网\" class=\"renren17 J_sharelink\"></a>' +\n\n      '<a href=\"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?to=pengyou&amp;url=' + url + '&amp;desc=' + title + '\" title=\"分享到腾讯朋友\" class=\"pengyou17 J_sharelink\"></a>' +\n\n      '<a href=\"http://v.t.qq.com/share/share.php?title=' + title + '&amp;url=' + url + '&amp;pic=' + img + '?t=20160405161857\" title=\"分享到腾讯微博\" data-video-id=\"2539803\" class=\"tencent17 J_sharelink\"></a>' +\n\n      '<a href=\"http://huaban.com/bookmarklet?url=' + url + '&amp;video=&amp;title=' + title + '&amp;media=' + img + '?t=20160405161857&amp;description=' + title + '\" title=\"分享到花瓣网\" class=\"huaban17 J_sharelink\"></a>' +\n\n      '<a href=\"http://t.sohu.com/third/post.jsp?&amp;url=' + url + '&amp;title=' + title + '&amp;content=utf-8\" title=\"分享到搜狐微博\" class=\"sohu17 J_sharelink\"></a>' +\n\n      '<a href=\"http://fql.cc/yytafx?appkey=2817290261&amp;url=' + url + '&amp;title=' + title + '\" title=\"分享到联通飞影\" class=\"unicon17 J_sharelink\"></a> ' +\n      '</span>';\n    uiConfirm.show({\n      title: '分享',\n      content: html,\n      okBtn: false,\n      cancelBtn: false,\n      okFn: function () {\n\n      }\n    });\n    $('.share-wrap a').on('click', function () {\n      goUrl = $(this).attr('href');\n      window.open(goUrl, 'newwindow', 'height=750px,width=700px' +\n        ',toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no');\n      uiConfirm.close();\n      return false;\n    });\n  }\n});\n\nmodule.exports = View;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/live-room/gift.view.js\n ** module id = 213\n ** module chunks = 5 7 9\n **/","/**\n * 增加人气\n */\n'use strict';\n\nvar base = require('base-extend-backbone');\nvar Config = require('config');\nvar BaseModel = base.Model;\nvar env = Config.env[Config.scheme];\n\nvar Model = BaseModel.extend({\n  url: '{{url_prefix}}/channel/popularity_add.json',\n  beforeEmit: function beforeEmit() {\n    // 给请求地址替换一下环境变量\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\n    }\n  }\n});\n\nvar shared = null;\nModel.sharedInstanceModel = function sharedInstanceModel() {\n  if (!shared) {\n    shared = new Model();\n  }\n  return shared;\n};\n\nmodule.exports = Model;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/channel/popularity-add.model.js\n ** module id = 214\n ** module chunks = 5 7 9\n **/","/*\n clientRender:{bool} // 默认设置为false，如果为true，内部将不会调用rawLoader方法或者根据templateUrl请求模版\n */\n\n\n/**\n * @time {时间}\n * @author {编写者}\n * @info 用户直播间\n */\n\n'use strict';\nvar Backbone = window.Backbone;\nvar base = require('base-extend-backbone');\nvar BaseView = base.View; // View的基类\nvar _ = require('underscore');\nvar Auxiliary = require('auxiliary-additions');\nvar URL = Auxiliary.url;\nvar UserModel = require('UserModel');\nvar user = UserModel.sharedInstanceUserModel();\nvar RoomDetailModel = require('../../models/anchor/room-detail.model');\nvar RoomLongPollingModel = require('../../models/anchor/room-longPolling.model');\nvar IMModel = require('IMModel');\nvar imModel = IMModel.sharedInstanceIMModel();\nvar YYTIMServer = require('imServer');\nvar AnchorUserInfoModel = require('../../models/anchor/anchor-info.model');\nvar UserInfo = require('./user.js');\nvar InAndOurRoomModel = require('../../models/live-room/inAndOut-room.model');\nvar HistoryAddModel = require('../../models/live-room/history-add.model');\n\nvar FlashAPI = require('FlashApi');\nvar store = base.storage;\nvar uiConfirm = require('ui.confirm');\nvar msgBox = require('ui.msgBox');\n\nvar AdvertisingWallView = require('../advertising-wall/main.view');\nvar LivePreviewView = require('./live-preview.view');\n\nvar View = BaseView.extend({\n  clientRender: false,\n  el: '#anchorContainerBg', // 设置View对象作用于的根元素，比如id\n  events: { // 监听事件\n    'click #channelTab': 'asideChanged'\n  },\n  // 当模板挂载到元素之前\n  beforeMount: function () {\n    var url = URL.parse(location.href);\n    if (!url.query.roomId && !url.query.channelId) {\n      window.history.go(-1);\n    }\n\n\n    this.roomId = url.query.roomId || 1;\n\n    this.roomInfoPeriod = 5 * 1000;\n\n    this.roomDetail = RoomDetailModel.sharedInstanceModel();\n\n    this.anchorInfoModel = AnchorUserInfoModel.sharedInstanceModel();\n    this.inAndOutRoom = InAndOurRoomModel.sharedInstanceModel();\n    this.historyAdd = HistoryAddModel.sharedInstanceModel();\n\n    this.queryParams = {\n      deviceinfo: '{\"aid\": \"30001001\"}',\n      access_token: user.getWebToken()\n    };\n\n    this.roomDetailParams = _.extend({\n      roomId: ''\n    }, this.queryParams);\n\n    this.roomLongPolling = RoomLongPollingModel.sharedInstanceModel();\n\n    this.anchorInfoParams = _.extend({}, this.queryParams);\n    this.inAndRoomParams = _.extend({}, this.queryParams);\n  },\n  // 当模板挂载到元素之后\n  afterMount: function () {\n    this.roomBg = $('#anchorContainerBg');\n  },\n  // 当事件监听器，内部实例初始化完成，模板挂载到文档之后\n  ready: function () {\n    store.remove('imSig');\n    // 直播页面\n    if (!user.isLogined()) {\n      store.set('signout', 1);\n      msgBox.showTip('请登录后观看直播!');\n      window.location.href = '/login.html';\n    }\n    this.defineEventInterface();\n\n    this.flashAPI = FlashAPI.sharedInstanceFlashApi({\n      el: 'broadCastFlash'\n    });\n    // this.initRoom();\n    this.initWebIM().then(function () {\n      this.renderPage();\n      this.getUserInfo();\n    }.bind(this), function () {\n      console.log('webim 初始化失败');\n      this.goBack();\n    }.bind(this));\n  },\n  defineEventInterface: function () {\n    var self = this;\n    Backbone.on('event:UserKickOut', function (notifyInfo) {\n      self.checkUserIsKickout(notifyInfo);\n    });\n\n    Backbone.on('event:pleaseUpdateRoomInfo', function () {\n      self.roomDetailParams.roomId = self.roomId;\n      self.getRoomLoopInfo(function (res) {\n        var data = res.data;\n        Backbone.trigger('event:updateRoomInfo', data);\n      });\n    });\n    Backbone.on('event:IMGroupInfoReady', function (info) {\n      if (info) {\n        self.currentGroupInfo = info || {};\n        self.checkUserIsKickout(self.currentGroupInfo.Notification);\n        self.checkUserIsDisabled(self.currentGroupInfo.Introduction);\n      }\n    });\n  },\n  fetchUserIMSig: function (groupId) {\n    var self = this;\n    var defer = imModel.fetchIMUserSig();\n\n    defer.then(function (sig) {\n      if (sig.roleType === 2) {\n        uiConfirm.show({\n          title: '请登录',\n          content: '您现在是游客模式,请先登录参与互动!',\n          cancelBtn: false,\n          cancelFn: function () {\n            window.location.href = '/web/login.html';\n          },\n          okFn: function () {\n            window.location.href = '/web/login.html';\n          }\n        });\n      } else {\n        self.userJoinGroup(sig, groupId);\n      }\n    });\n  },\n  userJoinGroup: function (sig, groupId) {\n    var self = this;\n    self.userIMSig = sig;\n    // self.initWebIM();\n\n    YYTIMServer.applyJoinGroup(groupId, function () {\n      // TODO\n      if (self.roomInfo.status === 2) {\n        self.loopRoomInfo();\n      }\n    }, function (res) {\n      self.imErrorHandler(res);\n    });\n  },\n  /**\n   * webim 错误处理\n   * @constructor\n   */\n  imErrorHandler: function (res) {\n    var self = this;\n    var callback = function () {\n      imModel.remove();\n      self.goBack();\n    };\n    if (res.ErrorCode === 10013) {\n      Backbone.trigger('event:roomInfoReady', self.roomInfo);\n      if (self.roomInfo.status === 2) {\n        self.loopRoomInfo();\n      }\n    } else if (res.ErrorCode === 70001) {\n      uiConfirm.show({\n        title: '登陆已过期',\n        content: '您的登陆信息已经过期,请重新登陆!',\n        cancelBtn: false,\n        okFn: callback\n      });\n    } else if (res.ErrorCode === 10010) {\n      uiConfirm.show({\n        title: '进入房间失败',\n        content: '该房间已经关闭,无法观看直播',\n        cancelFn: self.goBack,\n        okFn: self.goBack\n      });\n    } else {\n      uiConfirm.show({\n        title: '进入房间',\n        content: '进入房间失败,请稍后重试',\n        cancelFn: self.goBack,\n        okFn: self.goBack\n      });\n    }\n  },\n  renderPage: function () {\n    var RoomTitle = require('./room-title.view');\n    var ChatView = require('./chat.view');\n    var SendMessageView = require('./send-message.view');\n    var AnchorCardView = require('./anchor-card.view');\n    var PlayedListView = require('./played-list.view');\n    var GiftView = require('./gift.view');\n\n\n    var a = new RoomTitle();\n\n    a = new ChatView();\n\n    a = new SendMessageView();\n\n    a = new AnchorCardView();\n\n    a = new PlayedListView();\n\n    a = new GiftView();\n\n    a = new LivePreviewView();\n    console.log(a);\n  },\n  initWebIM: function () {\n    function callback(notifyInfo) {\n      Backbone.trigger('event:groupSystemNotifys', notifyInfo);\n    }\n\n    // 注册IM事件处理\n    return YYTIMServer.init({\n      onConnNotify: function (notifyInfo) {\n        Backbone.trigger('event:onConnNotify', notifyInfo);\n      },\n      onMsgNotify: function (notifyInfo) {\n        Backbone.trigger('event:onMsgNotify', notifyInfo);\n      },\n      onGroupInfoChangeNotify: function (notifyInfo) {\n        Backbone.trigger('event:onGroupInfoChangeNotify', notifyInfo);\n      },\n      groupSystemNotifys: {\n        1: callback, // 申请加群请求（只有管理员会收到）\n        2: callback, // 申请加群被同意（只有申请人能够收到）\n        3: callback, // 申请加群被拒绝（只有申请人能够收到）\n        4: callback, // 被管理员踢出群(只有被踢者接收到)\n        5: callback, // 群被解散(全员接收)\n        6: callback, // 创建群(创建者接收)\n        7: callback, // 邀请加群(被邀请者接收)\n        8: callback, // 主动退群(主动退出者接收)\n        9: callback, // 设置管理员(被设置者接收)\n        10: callback, // 取消管理员(被取消者接收)\n        11: callback, // 群已被回收(全员接收)\n        255: callback // 用户自定义通知(默认全员接收,暂不支持)\n      }\n    });\n  },\n  initRoom: function () {\n    var self = this;\n    this.errFn = function () {\n      uiConfirm.show({\n        title: '提示',\n        content: '获取房间数据失败!',\n        okFn: function () {\n          self.goBack();\n        },\n        cancelFn: function () {\n          self.goBack();\n        }\n      });\n    };\n    // 获取房间数据\n    this.getRoomInfo(function (response) {\n      self.handelRoomInfo(response);\n    }, this.errFn);\n  },\n  // 处理房间信息\n  handelRoomInfo: function (response) {\n    var self = this;\n    var data = response.data || {};\n    if (response && response.code === '0') {\n      self.videoUrl = {\n        streamName: data.streamName,\n        url: data.url\n      };\n      self.roomInfo = data;\n      // 告白墙\n      self.adWallView = new AdvertisingWallView({\n        el: '#advertisingWall',\n        roomId: data.id,\n        userInfo: self.userInfo,\n        type: 1 // 直播\n      });\n      self.roomInfo.now = response.now;\n      Backbone.trigger('event:roomInfoReady', self.roomInfo);\n      self.setRoomBgImg();\n      self.flashAPI.onReady(function () {\n        this.init(_.extend({\n          isLive: true\n        }, self.roomInfo));\n      });\n      self.checkRoomStatus(data.status);\n    } else {\n      self.errFn();\n    }\n  },\n  getGroupInfo: function (imGroupId) {\n    var self = this;\n    YYTIMServer.getGroupInfo(imGroupId, function (res) {\n      if (res && ~~res.ErrorCode === 0) {\n        self.currentGroupInfo = _.find(res.GroupInfo, function (item) {\n          return item.GroupId === self.roomInfo.imGroupid;\n        });\n\n        Backbone.trigger('event:IMGroupInfoReady', self.currentGroupInfo);\n        self.checkUserIsKickout(self.currentGroupInfo.Notification);\n        self.checkUserIsDisabled(self.currentGroupInfo.Introduction);\n      }\n    }, function () {\n      // TODO\n      // uiConfirm.show({\n      //   title: '进入失败',\n      //   content: '加入房间失败,请重新登陆后进入',\n      //   cancelBtn: false,\n      //   okFn: function () {\n      //     self.goBack('/');\n      //   },\n      //   cancelFn: function () {\n      //     self.goBack('/');\n      //   }\n      // });\n    });\n  },\n  getUserInfo: function () {\n    var self = this;\n    UserInfo.getInfo(function (userInfo) {\n      self.userInfo = userInfo;\n      Backbone.trigger('event:currentUserInfoReady', userInfo);\n      self.initRoom();\n    });\n  },\n  // 获取直播房间信息\n  getRoomInfo: function (okFn, errFn) {\n    var self = this;\n    var promise;\n    self.roomDetailParams.roomId = self.roomId;\n    promise = this.roomDetail.executeJSONP(self.roomDetailParams);\n    promise.done(function (response) {\n      if (okFn) {\n        okFn(response);\n      }\n    });\n    promise.fail(function (err) {\n      if (errFn) {\n        errFn(err);\n      }\n    });\n  },\n  checkRoomStatus: function (status) {\n    switch (status) {\n      case 0:\n        msgBox.showTip('该直播尚未发布!');\n        break;\n      case 1:\n        $('.living-block').hide();\n        break;\n      case 2:\n        this.joinRoom();\n        this.fetchUserIMSig(this.roomInfo.imGroupid);\n        break;\n      case 3:\n        break;\n      default:\n        break;\n    }\n  },\n  parseNotifyInfo: function (notifyInfo) {\n    var notify = null;\n    try {\n      if (_.isString(notifyInfo)) {\n        notify = JSON.parse(notifyInfo);\n      } else {\n        notify = notifyInfo;\n      }\n    } catch (e) {\n      return null;\n    }\n    return notify;\n  },\n  checkUserIsKickout: function (notifyInfo) {\n    var self = this;\n    var notify = self.parseNotifyInfo(notifyInfo);\n    var msg = '您已经被主播踢出房间!';\n    if (this.iskickoutShow) {\n      this.iskickoutShow = false;\n      return;\n    }\n    this.iskickoutShow = true;\n\n    if (notify && notifyInfo.isEvent) {\n      msg = '您已经被主播踢出房间!';\n    }\n    if (notify) {\n      var result = _.find(notify.forbidUsers, function (item) {\n        return ~~item.replace('$0', '') === self.userIMSig.userId;\n      });\n      if (result) {\n        UserInfo.setKickout(self.roomId, true);\n\n        uiConfirm.show({\n          title: '禁止进入',\n          content: msg,\n          cancelBtn: false,\n          okFn: function () {\n            self.iskickoutShow = false;\n            self.goBack();\n          },\n          cancelFn: function () {\n            self.iskickoutShow = false;\n            self.goBack();\n          }\n        });\n      }\n    }\n  },\n  /**\n   * 检查用户是否已经被禁言\n   */\n  checkUserIsDisabled: function (notifyInfo) {\n    var self = this;\n    var notify = self.parseNotifyInfo(notifyInfo);\n    if (notify) {\n      UserInfo.setLockScreen(this.roomInfo.id, notify.blockState);\n    }\n  },\n  goBack: function (url) {\n    if (url) {\n      window.location.href = url;\n    } else {\n      // window.history.go(-1);\n      window.location.href = '/';\n    }\n  },\n  loopRoomInfo: function (time) {\n    var self = this;\n\n    self.roomInfoTimeId = setTimeout(function () {\n      self.roomDetailParams.roomId = self.roomId;\n      self.getRoomLoopInfo(function (res) {\n        var data = res.data;\n        Backbone.trigger('event:updateRoomInfo', data);\n        if (data.roomStatus === 3) {\n          Backbone.trigger('event:liveShowEnded', data);\n        } else if (data.roomStatus === 2) {\n          self.loopRoomInfo();\n        }\n      });\n    }, !!time ? time : self.roomInfoPeriod);\n  },\n  getRoomLoopInfo: function (okFn, errFn) {\n    var self = this;\n    var promise;\n    self.roomDetailParams.roomId = self.roomId;\n    promise = this.roomLongPolling.executeJSONP(self.roomDetailParams);\n    promise.done(function (response) {\n      if (okFn) {\n        okFn(response);\n      }\n    });\n    promise.fail(function (err) {\n      if (errFn) {\n        errFn(err);\n      }\n    });\n  },\n  // 告诉服务器加入该房间\n  joinRoom: function () {\n    var promise;\n    this.inAndRoomParams.type = 1;\n\n    if (this.roomInfo) {\n      this.inAndRoomParams.roomId = this.roomInfo.id;\n    }\n    // 告诉服务器加入了IM房间\n    promise = this.inAndOutRoom.executeJSONP(this.inAndRoomParams);\n    promise.done(function () {});\n    // 加入历史记录\n    this.historyAdd.addToHistory(_.extend({\n      roomIds: this.roomInfo.id\n    }, this.queryParams));\n  },\n  setRoomBgImg: function () {\n    if (this.roomInfo && this.roomInfo.imageUrl) {\n      this.roomBg.find('.header-bg').css('background', 'url(' + this.roomInfo.imageUrl + ')');\n    }\n  },\n  // 右侧边栏切换\n  asideChanged: function (e) {\n    var target = $(e.target);\n    var id = target.attr('data-id');\n    target.parent().children().removeClass('active');\n    target.addClass('active');\n    $('.tab-content').hide();\n    $('#' + id).show();\n  }\n});\n\nmodule.exports = View;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/live-room/main.view.js\n ** module id = 249\n ** module chunks = 7\n **/","'use strict';\n\nvar base = require('base-extend-backbone');\nvar Config = require('config');\nvar BaseModel = base.Model;\nvar env = Config.env[Config.scheme];\n\nvar Model = BaseModel.extend({\n  url: '{{url_prefix}}/room/enter_or_exit.json',\n  beforeEmit: function beforeEmit() {\n    // 给请求地址替换一下环境变量\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\n    }\n  }\n});\n\nvar shared = null;\nModel.sharedInstanceModel = function sharedInstanceModel() {\n  if (!shared) {\n    shared = new Model();\n  }\n  return shared;\n};\n\nmodule.exports = Model;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/live-room/inAndOut-room.model.js\n ** module id = 250\n ** module chunks = 7\n **/","/**\n * 添加观看记录\n */\n'use strict';\n\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar base = require('base-extend-backbone');\nvar Config = require('config');\nvar BaseModel = base.Model;\nvar env = Config.env[Config.scheme];\n\nvar Model = BaseModel.extend({\n  url: '{{url_prefix}}/history/room/upload.json',\n  beforeEmit: function beforeEmit() {\n    // 给请求地址替换一下环境变量\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\n    }\n  },\n  addToHistory: function (args) {\n    var ops = _.extend({}, args);\n    var defer = $.Deferred();\n    var prom = this.executeJSONP(ops);\n    prom.done(function (res) {\n      defer.resolve(res);\n    });\n    prom.fail(function () {\n      defer.reject();\n    });\n    return defer.promise();\n  }\n});\n\nvar shared = null;\nModel.sharedInstanceModel = function sharedInstanceModel() {\n  if (!shared) {\n    shared = new Model();\n  }\n  return shared;\n};\n\nmodule.exports = Model;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/live-room/history-add.model.js\n ** module id = 251\n ** module chunks = 7\n **/","/**\n * 预告\n */\n'use strict';\n\nvar Backbone = window.Backbone;\nvar base = require('base-extend-backbone');\nvar BaseView = base.View;\n\nvar BusinessDate = require('BusinessDate');\n\nvar View = BaseView.extend({\n  el: '.channel-live-pre-wrap',\n  rawLoader: function () {\n    return '';\n  },\n  context: function (args) {\n    console.log(args);\n  },\n  beforeMount: function () {\n    //  初始化一些自定义属性\n    this.elements = {};\n    this.startTime = new Date('2016-06-13 13:14:33');\n  },\n  afterMount: function () {\n    //  获取findDOMNode DOM Node\n    this.elements.day = this.$el.find('#day');\n    this.elements.hour = this.$el.find('#hour');\n    this.elements.minutes = this.$el.find('#minutes');\n  },\n  ready: function () {\n    //  初始化\n    this.hideDom();\n    this.defineEventInterface();\n  },\n  defineEventInterface: function () {\n    var self = this;\n    Backbone.on('event:roomInfoReady', function (roomInfo) {\n      if (roomInfo.status === 1) {\n        self.$el.show();\n        self.startTime = roomInfo.liveTime || new Date(roomInfo.now || '2016-06-13 13:14:33');\n        self.setTime();\n      } else {\n        self.$el.hide();\n      }\n    });\n  },\n  beforeDestroy: function () {\n    //  进入销毁之前,将引用关系设置为null\n  },\n  destroyed: function () {\n    //  销毁之后\n  },\n  hideDom: function () {\n    $('#btnShare').hide();\n  },\n  setTime: function () {\n    var self = this;\n    var cur = new Date();\n    var diff = new Date(this.startTime) - cur;\n    if (diff > 0) {\n      var result = BusinessDate.difference(diff);\n      if (result) {\n        this.elements.day.text(result.day);\n        this.elements.hour.text(result.hours);\n        this.elements.minutes.text(result.minutes);\n        setTimeout(function () {\n          self.setTime();\n        }, 60 * 1000);\n      }\n    } else if (diff === 0) {\n      window.location.reload();\n    }\n  }\n});\n\nmodule.exports = View;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/live-room/live-preview.view.js\n ** module id = 252\n ** module chunks = 7\n **/","/*\n clientRender:{bool} // 默认设置为false，如果为true，内部将不会调用rawLoader方法或者根据templateUrl请求模版\n */\n\n\n/**\n * @time {时间}\n * @author {编写者}\n * @info {实现的功能}\n */\n\n'use strict';\n\nvar base = require('base-extend-backbone');\nvar BaseView = base.View; // View的基类\nvar PlayedListModel = require('../../models/live-room/played-list.model');\nvar UserModel = require('UserModel');\nvar user = UserModel.sharedInstanceUserModel();\nvar Backbone = window.Backbone;\n\nvar View = BaseView.extend({\n  clientRender: false,\n  el: '#anchorPlayedList', // 设置View对象作用于的根元素，比如id\n  events: { // 监听事件\n\n  },\n  // 当模板挂载到元素之前\n  beforeMount: function () {\n    this.defineEventInterface();\n  },\n  // 当模板挂载到元素之后\n  afterMount: function () {\n    var el = this.$el;\n    this.anchorPlayedTpl = $('#anchorPlayedTpl').html();\n\n    this.playedList = el.find('#playedListWrap');\n\n    this.playedListModel = PlayedListModel.sharedInstanceModel();\n\n    this.playedListParams = {\n      deviceinfo: '{\"aid\":\"30001001\"}',\n      access_token: user.getWebToken(),\n      anchor: '',\n      order: 'time',\n      offset: 0,\n      size: 9\n    };\n  },\n  // 当事件监听器，内部实例初始化完成，模板挂载到文档之后\n  ready: function () {\n  },\n  defineEventInterface: function () {\n    var self = this;\n    Backbone.on('event:roomInfoReady', function (data) {\n      if (data) {\n        self.roomInfo = data;\n        self.bindData(data.creator.uid);\n      }\n    });\n  },\n  initCarousel: function () {\n    var warp = $('#palyedJcarousel');\n    var jcarousel = warp.find('.jcarousel');\n    var carousel;\n    var width;\n\n    jcarousel\n      .on('jcarousel:reload jcarousel:create', function () {\n        carousel = $(this);\n        width = carousel.innerWidth();\n        width = width / 4;\n\n        carousel.jcarousel('items').css('width', Math.ceil(width) + 'px');\n      })\n      .jcarousel({\n        wrap: 'circular'\n      });\n\n    warp.find('.jcarousel-control-prev')\n        .jcarouselControl({\n          target: '-=1'\n        });\n\n    warp.find('.jcarousel-control-next')\n        .jcarouselControl({\n          target: '+=1'\n        });\n  },\n  bindData: function (anchorId) {\n    var self = this;\n    var template;\n    var promise;\n    this.playedListParams.anchor = anchorId;\n\n    promise = this.playedListModel.executeJSONP(this.playedListParams);\n    promise.done(function (res) {\n      if (res && res.msg === 'SUCCESS' && res.data.totalCount > 0) {\n        template = self.compileHTML(self.anchorPlayedTpl, res);\n        self.playedList.html(template);\n        self.initCarousel();\n      } else {\n        self.hideListWrap();\n      }\n    });\n    promise.fail(function () {\n      self.hideListWrap();\n    });\n  },\n  hideListWrap: function () {\n    this.$el.hide();\n  }\n});\n\nmodule.exports = View;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/live-room/played-list.view.js\n ** module id = 253\n ** module chunks = 7 9\n **/","'use strict';\n\nvar base = require('base-extend-backbone');\nvar Config = require('config');\nvar BaseModel = base.Model;\nvar env = Config.env[Config.scheme];\n\nvar Model = BaseModel.extend({\n  url: '{{url_prefix}}/room/anchor_end_list.json',\n  beforeEmit: function beforeEmit() {\n    // 给请求地址替换一下环境变量\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\n    }\n  }\n});\n\nvar shared = null;\nModel.sharedInstanceModel = function sharedInstanceModel() {\n  if (!shared) {\n    shared = new Model();\n  }\n  return shared;\n};\n\nmodule.exports = Model;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/live-room/played-list.model.js\n ** module id = 254\n ** module chunks = 7 9\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/stylesheets/liveroom.scss\n ** module id = 255\n ** module chunks = 7 9\n **/"],"sourceRoot":""}
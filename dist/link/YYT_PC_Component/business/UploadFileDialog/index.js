"use strict";var dialogTemp=require("./template/fileDialog.html"),Dialog=require("ui.Dialog"),Helper=require("./helper"),UploadFileDialog=function(e){var i=this;this.options=e,this.dialog=Dialog.classInstanceDialog(dialogTemp,e),this.helper=new Helper({ctrlData:this.options.ctrlData,id:"#"+this.dialog.id}),this.helper.on("uploadFileSuccess",function(e){"function"==typeof i.options.uploadFileSuccess&&i.options.uploadFileSuccess(e)}),this.helper.on("saveFile",function(){"function"==typeof i.options.saveFile&&i.options.saveFile()})};UploadFileDialog.prototype.show=function(e){this.helper&&e&&this.helper.trigger("successBreviary",e),this.dialog.show()},UploadFileDialog.prototype.hide=function(){this.dialog.hide()},UploadFileDialog.prototype.emptyValue=function(){this.helper&&this.helper.emptyValue()},UploadFileDialog.prototype.parseErrorMsg=function(e){if(e&&"SUCCESS"==e.state)return!0;var i=1*e.errCode||0;switch(i){case 29:return"上传的文件太大了,请重新上传";case 31:return"请上传JPGE,JPG,PNG,GIF等格式的图片文件"}return"文件上传失败,请重新上传"};var shared=null;UploadFileDialog.sharedInstanceUploadFileDialog=function(e){return shared||(shared=new UploadFileDialog(e)),shared},module.exports=UploadFileDialog;
"use strict";function addWheel(e,o){function r(e){var r=!0;return r=e.wheelDelta?e.wheelDelta<0:e.detail>0,o&&o(r),e.preventDefault&&e.preventDefault(),!1}-1!=window.navigator.userAgent.indexOf("Firefox")?$(e).on("DOMMouseScroll",function(e){var o=e||event;r(o)}):e.onmousewheel=function(e){var o=e||event;r(o)}}var box=$(".box")[0],$scrollerbar=$(".scrollerbar"),$scrollerBox=$(".scrollerBox"),$con=$(".con"),$conView=$con.parent(),fatherHeight=$scrollerbar.parent().height(),limitBarH=fatherHeight-$scrollerbar.height(),limitConH=$con.height()-$conView.height(),scale=0;$scrollerbar.mousedown(function(e){function o(e){var o=e.pageY+i;0>o?o=0:o>limitBarH&&(o=limitBarH),scale=o/limitBarH,t.css({top:o}),$con.css({top:-scale*limitConH})}function r(e){l.unbind("mousemove",o),l.unbind("mouseup",r),o=null,r=null,e.releaseCapture&&e.releaseCapture()}var t=$(this),i=t.position().top-e.pageY,l=$(document);return l.bind("mousemove",o),l.bind("mouseup",r),e.setCapture&&e.setCapture(),!1}),$scrollerbar.click(function(e){e.stopPropagation()}),$scrollerBox.click(function(e){var o=($(this),$scrollerbar.height(),e.offsetY-$scrollerbar.height()/2);0>o?o=0:o>=limitBarH&&(o=limitBarH),$scrollerbar.css({top:o}),scale=o/limitBarH,$con.css({top:-scale*limitConH})}),addWheel(box,function(e){var o=$scrollerbar.position().top;e?o+=50:o-=50,0>o?o=0:o>limitBarH&&(o=limitBarH),scale=o/limitBarH,$scrollerbar.stop().animate({top:o}),$con.stop().animate({top:-scale*limitConH},"easeout")});
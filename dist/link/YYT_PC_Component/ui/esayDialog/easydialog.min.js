!function(e,t){var n=e.document,o=n.documentElement,a=function(){var a=n.body,i=!-[1],l=i&&/msie 6/.test(navigator.userAgent.toLowerCase()),r=1,s="cache"+(+new Date+"").slice(-8),c={},d=function(){};d.prototype={getOptions:function(e){var n,o={},a={container:null,overlay:!0,drag:!0,fixed:!0,follow:null,followX:0,followY:0,autoClose:0,lock:!1,callback:null};for(n in a)o[n]=e[n]!==t?e[n]:a[n];return d.data("options",o),o},setBodyBg:function(){"fixed"!==a.currentStyle.backgroundAttachment&&(a.style.backgroundImage="url(about:blank)",a.style.backgroundAttachment="fixed")},appendIframe:function(e){e.innerHTML='<iframe style="position:absolute;left:0;top:0;width:100%;height:100%;z-index:-1;border:0 none;filter:alpha(opacity=0)"></iframe>'},setFollow:function(e,t,o,a){t="string"==typeof t?n.getElementById(t):t,e=e.style,e.position="absolute",e.left=d.getOffset(t,"left")+o+"px",e.top=d.getOffset(t,"top")+a+"px"},setPosition:function(e,t){var n=e.style;n.position=l?"absolute":t?"fixed":"absolute",t?(l?n.setExpression("top",'fuckIE6=document.documentElement.scrollTop+document.documentElement.clientHeight/2+"px"'):n.top="50%",n.left="50%"):(l&&n.removeExpression("top"),n.top=o.clientHeight/2+d.getScroll("top")+"px",n.left=o.clientWidth/2+d.getScroll("left")+"px")},createOverlay:function(){var e=n.createElement("div"),t=e.style;return t.cssText="margin:0;padding:0;border:none;width:100%;height:100%;background:#333;opacity:0.6;filter:alpha(opacity=60);z-index:9999;position:fixed;top:0;left:0;",l&&(a.style.height="100%",t.position="absolute",t.setExpression("top",'fuckIE6=document.documentElement.scrollTop+"px"')),e.id="overlay",e},createDialogBox:function(){var e=n.createElement("div");return e.style.cssText="margin:0;padding:0;border:none;z-index:10000;",e.id="easyDialogBox",e},createDialogWrap:function(e){var t="function"==typeof e.yesFn?'<button class="btn_highlight" id="easyDialogYesBtn">'+("string"==typeof e.yesText?e.yesText:"确定")+"</button>":"",o="function"==typeof e.noFn||e.noFn===!0?'<button class="btn_normal" id="easyDialogNoBtn">'+("string"==typeof e.noText?e.noText:"取消")+"</button>":"";return e=['<div class="easyDialog_content">',e.header?'<h4 class="easyDialog_title" id="easyDialogTitle"><a href="javascript:void(0)" title="关闭窗口" class="close_btn" id="closeBtn">&times;</a>'+e.header+"</h4>":"",'<div class="easyDialog_text">'+e.content+"</div>",""===t&&""===o?"":'<div class="easyDialog_footer">'+o+t+"</div>","</div>"].join(""),t=n.getElementById("easyDialogWrapper"),t||(t=n.createElement("div"),t.id="easyDialogWrapper",t.className="easyDialog_wrapper"),t.innerHTML=e.replace(/<[\/]*script[\s\S]*?>/gi,""),t}},d.data=function(n,o,a){return"string"==typeof n?(o!==t&&(c[n]=o),c[n]):"object"==typeof n?(n=n===e?0:9===n.nodeType?1:n[s]?n[s]:n[s]=++r,n=c[n]?c[n]:c[n]={},a!==t&&(n[o]=a),n[o]):void 0},d.removeData=function(n,o){if("string"==typeof n)delete c[n];else if("object"==typeof n){var a=n===e?0:9===n.nodeType?1:n[s];if(a!==t){var i=function(e){for(var t in e)return!1;return!0},l=function(){if(delete c[a],!(1>=a))try{delete n[s]}catch(e){n.removeAttribute(s)}};o?(delete c[a][o],i(c[a])&&l()):l()}}},d.event={bind:function(e,t,n){var o=d.data(e,"e"+t)||d.data(e,"e"+t,[]);o.push(n),1===o.length&&(n=this.eventHandler(e),d.data(e,t+"Handler",n),e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n))},unbind:function(e,n,o){var a=d.data(e,"e"+n);if(a){if(o)for(var i=a.length-1,l=a[i];i>=0;i--)l===o&&a.splice(i,1);else a=t;a&&a.length||(o=d.data(e,n+"Handler"),e.addEventListener?e.removeEventListener(n,o,!1):e.attachEvent&&e.detachEvent("on"+n,o),d.removeData(e,n+"Handler"),d.removeData(e,"e"+n))}},eventHandler:function(t){return function(n){n=d.event.fixEvent(n||e.event);for(var o,a=d.data(t,"e"+n.type),i=0;o=a[i++];)o.call(t,n)===!1&&(n.preventDefault(),n.stopPropagation())}},fixEvent:function(e){if(e.target)return e;var t,n={};n.target=e.srcElement||document,n.preventDefault=function(){e.returnValue=!1},n.stopPropagation=function(){e.cancelBubble=!0};for(t in e)n[t]=e[t];return n}},d.capitalize=function(e){var t=e.charAt(0);return t.toUpperCase()+e.replace(t,"")},d.getScroll=function(e){return e=this.capitalize(e),o["scroll"+e]||a["scroll"+e]},d.getOffset=function(e,t){var n=this.capitalize(t);n=o["client"+n]||a["client"+n]||0;var i=this.getScroll(t),l=e.getBoundingClientRect();return Math.round(l[t])+i-n},d.drag=function(t,a){var r="getSelection"in e?function(){e.getSelection().removeAllRanges()}:function(){try{n.selection.empty()}catch(e){}},s=this,c=s.event,f=!1,p=i?t:n,u="fixed"===a.style.position,g=d.data("options").fixed;c.bind(t,"mousedown",function(e){f=!0;var n=s.getScroll("top"),r=s.getScroll("left"),m=u?0:r,h=u?0:n;d.data("dragData",{x:e.clientX-s.getOffset(a,"left")+(u?r:0),y:e.clientY-s.getOffset(a,"top")+(u?n:0),el:m,et:h,er:m+o.clientWidth-a.offsetWidth,eb:h+o.clientHeight-a.offsetHeight}),i&&(l&&g&&a.style.removeExpression("top"),t.setCapture()),c.bind(p,"mousemove",y),c.bind(p,"mouseup",v),i&&c.bind(t,"losecapture",v),e.stopPropagation(),e.preventDefault()});var y=function(e){if(f){r();var t=d.data("dragData"),n=e.clientX-t.x,o=e.clientY-t.y,i=t.et,l=t.er,s=t.eb;t=t.el;var c=a.style;c.marginLeft=c.marginTop="0px",c.left=(t>=n?t:n>=l?l:n)+"px",c.top=(i>=o?i:o>=s?s:o)+"px",e.stopPropagation()}},v=function(e){if(f=!1,i&&c.unbind(t,"losecapture",arguments.callee),c.unbind(p,"mousemove",y),c.unbind(p,"mouseup",arguments.callee),i&&(t.releaseCapture(),l&&g)){var n=parseInt(a.style.top)-s.getScroll("top");a.style.setExpression("top","fuckIE6=document.documentElement.scrollTop+"+n+'+"px"')}e.stopPropagation()}};var f,p=function(e){27===e.keyCode&&u.close()},u={open:function(i){var r=new d,s=r.getOptions(i||{});i=d.event;var c,u,g,y,v=o.clientWidth,m=o.clientHeight,h=this;f&&(clearTimeout(f),f=t),s.overlay&&(c=n.getElementById("overlay"),c||(c=r.createOverlay(),a.appendChild(c),l&&r.appendIframe(c)),c.style.display="block"),l&&r.setBodyBg(),u=n.getElementById("easyDialogBox"),u||(u=r.createDialogBox(),a.appendChild(u)),s.follow?(y=function(){r.setFollow(u,s.follow,s.followX,s.followY)},y(),i.bind(e,"resize",y),d.data("follow",y),c&&(c.style.display="none"),s.fixed=!1):r.setPosition(u,s.fixed),u.style.display="block",g="string"==typeof s.container?n.getElementById(s.container):r.createDialogWrap(s.container),(y=u.getElementsByTagName("*")[0])?y&&g!==y&&(y.style.display="none",a.appendChild(y),u.appendChild(g)):u.appendChild(g),g.style.display="block";var b=g.offsetWidth,x=g.offsetHeight;y=b>v;var E=x>m;g.style.marginTop=g.style.marginRight=g.style.marginBottom=g.style.marginLeft="0px",s.follow?u.style.marginLeft=u.style.marginTop="0px":(u.style.marginLeft="-"+(y?v/2:b/2)+"px",u.style.marginTop="-"+(E?m/2:x/2)+"px"),l&&!s.overlay&&(u.style.width=b+"px",u.style.height=x+"px"),v=n.getElementById("closeBtn"),m=n.getElementById("easyDialogTitle"),g=n.getElementById("easyDialogYesBtn"),b=n.getElementById("easyDialogNoBtn"),g&&i.bind(g,"click",function(e){s.container.yesFn.call(h,e)!==!1&&h.close()}),b?(x=function(e){s.container.noFn!==!0&&s.container.noFn.call(h,e)===!1||h.close()},i.bind(b,"click",x),v&&i.bind(v,"click",x)):v&&i.bind(v,"click",h.close),s.lock||i.bind(n,"keyup",p),s.autoClose&&"number"==typeof s.autoClose&&(f=setTimeout(h.close,s.autoClose)),s.drag&&m&&!y&&!E&&(m.style.cursor="move",d.drag(m,u)),s.follow||s.fixed||(x=function(){r.setPosition(u,!1)},!y&&!E&&i.bind(e,"resize",x),d.data("resize",x)),d.data("dialogElements",{overlay:c,dialogBox:u,closeBtn:v,dialogTitle:m,dialogYesBtn:g,dialogNoBtn:b})},close:function(){var o=d.data("options"),a=d.data("dialogElements"),i=d.event;f&&(clearTimeout(f),f=t),o.overlay&&a.overlay&&(a.overlay.style.display="none"),a.dialogBox.style.display="none",l&&a.dialogBox.style.removeExpression("top"),a.closeBtn&&i.unbind(a.closeBtn,"click"),a.dialogTitle&&i.unbind(a.dialogTitle,"mousedown"),a.dialogYesBtn&&i.unbind(a.dialogYesBtn,"click"),a.dialogNoBtn&&i.unbind(a.dialogNoBtn,"click"),o.follow||o.fixed||(i.unbind(e,"resize",d.data("resize")),d.removeData("resize")),o.follow&&(i.unbind(e,"resize",d.data("follow")),d.removeData("follow")),o.lock||i.unbind(n,"keyup",p),"function"==typeof o.callback&&o.callback.call(u),d.removeData("options"),d.removeData("dialogElements")}};return u},i=function(){e.easyDialog=a()},l=function(){if(!n.body){try{o.doScroll("left")}catch(e){return void setTimeout(l,1)}i()}};!function(){if(n.body)i();else if(n.addEventListener)n.addEventListener("DOMContentLoaded",function(){n.removeEventListener("DOMContentLoaded",arguments.callee,!1),i()},!1),e.addEventListener("load",i,!1);else if(n.attachEvent){n.attachEvent("onreadystatechange",function(){"complete"===n.readyState&&(n.detachEvent("onreadystatechange",arguments.callee),i())}),e.attachEvent("onload",i);var t=!1;try{t=null==e.frameElement}catch(a){}o.doScroll&&t&&l()}}()}(window,void 0);
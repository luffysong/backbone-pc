webpackJsonp([2],{0:function(t,e,n){$(function(){var t=n(116);new t,n(127)})},41:function(t,e,n){var i={},s={title:"消息",content:"",okFn:null,cancelFn:null,okBtn:!0,cancelBtn:!0};i.init=function(t){var e=_.template(this.getHTML()),n=e(t);this.remove(),this.bindEvent(n,t.okFn,t.cancelFn)},i.remove=function(){var t=$("#UIConfigWrap");t&&t.length>=1&&t.remove()},i.getHTML=function(){return n(42)},i.bindEvent=function(t,e,n){var i=this;t=$(t),t.find("#UIConfirmOk").on("click",function(t){return t.preventDefault(),e&&e(),i.remove(),!1}),t.find(".UIConfirmClose").on("click",function(t){return t.preventDefault(),n&&n(),i.remove(),!1}),t.find("#UIConfirmOk").on("click",function(t){return t.preventDefault(),i.remove(),!1}),$("body").append(t)},i.show=function(t){var e=_.extend(s,t);this.init(e)},i.close=function(){this.remove()},t.exports={show:function(t){i.show(t)},close:function(){i.close()}}},42:function(t,e){t.exports='<div id="UIConfigWrap" class="shadow_screen">\n    <div class="shadow"></div>\n    <div class="edit_annmoucement_con" style="margin-bottom: 16px; width: 400px;margin-left:-200px;">\n        <h2 class="edit_title"><span id="UIConfirmTitle"><%=title%></span> <span class="close UIConfirmClose">X</span></h2>\n        <div class="editCon" style="">\n            <div class="content" style="padding:16px; font-size: 14px;"><%=content%></div>\n            <p class="btn-wrap" style="">\n                <a style="display: <%= cancelBtn?\'inline-block\':\'none\'%>;" href="javascript:;" class="cancel UIConfirmClose">取消</a>\n                <a style="display: <%= okBtn?\'inline-block\':\'none\'%>;" id="UIConfirmOk" href="javascript:;" class="submit active">确定</a>\n            </p>\n        </div>\n    </div>\n</div>'},57:function(t,e,n){(function(e){"use strict";!function(n){"object"==typeof self&&self.self==self&&self||"object"==typeof e&&e.global==e&&e;t.exports=n()}(function(){var t=function(t){this.temp=new Date,this.setCurNewDate(t)};t.prototype.changeYear=function(t){this.temp.setFullYear(t)},t.prototype.getCountDays=function(t){return this.temp.setMonth(t),this.temp.setDate(0),this.temp.getDate()},t.prototype.$get=function(t){return this.attrs[t]},t.prototype.ceilYear=function(t){t=~~t;for(var e=0,n=this.$get("year"),i=[];t>=e;e++)i.push(n),n+=1;return i},t.prototype._downDisplacement=function(t){var e,n=this.$get(t),i=[];switch(t){case"month":e=12;break;case"day":e=this.getCountDays(this.$get("month"));break;case"hours":e=23;break;default:e=59}for(;e>=n;n++)i.push(n);return i},t.prototype.downMonth=function(){return this._downDisplacement("month")},t.prototype.downDay=function(){return this._downDisplacement("day")},t.prototype.downHours=function(){return this._downDisplacement("hours")},t.prototype.downMinutes=function(){return this._downDisplacement("minutes")},t.prototype.down=function(t){return this._downDisplacement(t)},t.prototype.getTime=function(t){var e="",n=t.month<10?"0"+t.month:t.month,i=t.day<10?"0"+t.day:t.day,s=t.hours<10?"0"+t.hours:t.hours,o=t.minutes<10?"0"+t.minutes:t.minutes;return e+=t.year+"-"+n+"-"+i+" ",e+=s+":"+o+":00",new Date(e.replace(/-/g,"/")).getTime()},t.prototype.setCurNewDate=function(t){this.date=null,this.date=t?new Date(t):new Date,this._setAttrs()},t.prototype._setAttrs=function(){this.attrs=null,this.attrs={year:this.date.getFullYear(),month:this.date.getMonth()+1,day:this.date.getDate(),hours:this.date.getHours(),minutes:this.date.getMinutes()}},t.difference=function(t){var e={};e.day=parseInt(t/864e5);var n=t%864e5,i=Math.floor(n/36e5);e.hours=10>i?"0"+i:i;var s=n%36e5,o=Math.floor(s/6e4);e.minutes=10>o?"0"+o:o;var a=s%6e4,r=Math.floor(a/1e3);return e.seconds=10>r?"0"+r:r,e};var e=null;return t.sharedInstanceDateTime=function(){return e||(e=new t),e},t}),Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t}}).call(e,function(){return this}())},58:function(t,e,n){(function(e){"use strict";!function(n){"object"==typeof self&&self.self==self&&self||"object"==typeof e&&e.global==e&&e;t.exports=n()}(function(){var t='<object width="{width}" height="{height}"  align="middle" id="{id}" type="application/x-shockwave-flash" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"><param value="{src}" name="movie"><param value="{always}" name="allowscriptaccess"><param value="{fullscreen}" name="allowfullscreen"><param value="{quality}" name="quality"><param value="{flashvars}" name="flashvars"><param value="{wmode}" name="wmode" /><embed width="{width}" height="{height}"  name="{id}" type="application/x-shockwave-flash" src="{src}" allowscriptaccess="{always}" allowfullscreen="{fullscreen}" quality="{quality}"  wmode="{wmode}" flashvars="{flashvars}" /></object>',e=window,n=e.location.origin,i=(-1!=e.navigator.appName.indexOf("Microsoft"),999);e.YYTPCFlashReadyState=!1;var s=function(t){var e,n,i=document.getElementById(t)||null;return i&&"OBJECT"==i.nodeName.toUpperCase()&&("undefined"!=typeof i.SetVariable?e=i:(n=i.getElementsByTagName("embed")[0],n&&(e=n))),e},o=function(t,e){return e?t.replace(/\{(.*?)\}/gi,function(){return e[arguments[1]]||""}):t},a=function(e){this.$el="string"==typeof e.el?document.getElementById(e.el):e.el,this._options=e,this._props=e.props||{},this.$attrs={id:"YYTFlash"+i++,src:this._props.src||n+"/flash/RTMPInplayer.swf?t=20160415.8",width:this._props.width||895,height:this._props.height||502,wmode:this._props.wmode||"transparent",flashvar:this._props.flashvar||"",always:this._props.always||"always",fullscreen:this._props.fullscreen||!0,quality:this._props.quality||"high"},this._html=o(t,this.$attrs),this._methods=e.methods||{},this._ready=!1,this._init()};a.prototype._init=function(){this.$el.innerHTML=this._html,this.$swf=s(this.$attrs.id)},a.prototype.onReady=function(t){var n=this;e.YYTPCFlashReadyState||this._ready?t.call(this):this.$timer=setInterval(function(){e.YYTPCFlashReadyState&&(n._ready=!0,e.YYTPCFlashReadyState=!1,clearInterval(n.$timer),n.$timer=null,t.call(n))},0)},a.prototype.init=function(t){this.$swf.initData(t)},a.prototype.isReady=function(){return this._ready},a.prototype.addUrl=function(t,e){this.$swf.setvedioUrl(t,e)},a.prototype.width=function(t){"string"==typeof t&&(t=~~t),this.$swf.setPlayerWidth(t)},a.prototype.height=function(t){"string"==typeof t&&(t=~~t),this.$swf.setPlayerHeight(t)},a.prototype.notifying=function(t){this.$swf.setOneMessageInchat(JSON.stringify(t))},a.prototype.clear=function(){this.$swf.clearAllMessage()};var r=null;return a.sharedInstanceFlashAPI=function(t){return r||(r=new a(t)),r},e.YYTPCFlashOnReady=function(){e.YYTPCFlashReadyState=!0},a})}).call(e,function(){return this}())},81:function(t,e,n){"use strict";var i=n(24),s=null,o=i.extend({url:"{{url_prefix}}/user/info.json",beforeEmit:function(t){}});o.sigleInstance=function(){return s||(s=new o),s},t.exports=o},116:function(t,e,n){"use strict";var i=n(16),s=n(27),o=(n(51),n(69)),a=(s.sharedInstanceUserModel(),n(117)),r=n(120),l=n(124),c=i.extend({el:"#indexContent",rawLoader:function(){},events:{},beforeMount:function(){this.topbar=new o},afterMount:function(){},ready:function(){this.recommendview=new a,this.livepreview=new r({topbar:this.topbar}),this.playback=new l}});t.exports=c},117:function(t,e,n){"use strict";var i=n(16),s=n(118),o=n(119),a=n(51),r=n(27),l=r.sharedInstanceUserModel(),c=n(58),d=i.extend({el:"#topContainer",rawLoader:function(){return""},events:{"click .go-livehome":"gotoLiveHome"},beforeMount:function(){this.recommendParameter={deviceinfo:'{"aid":"30001001"}'};var t=l.getToken();t&&(this.recommendParameter.access_token="web-"+l.getToken())},afterMount:function(){this.recommendModel=new o},ready:function(){var t=this;this.recommendModel.executeJSONP(this.recommendParameter,function(e){var n=~~e.code;n||t.recommendRender(e.data[0])},function(t){t&&a.showError("获取数据错误")})},recommendRender:function(t){var e=t.status,n=this.compileHTML(s,{data:t});this.$el.html(n),3!==e&&2!==e||(this.flashAPI=c.sharedInstanceFlashAPI({el:"topFlash",props:{width:1014,height:570}})),this.flashAPI&&this.flashAPI.onReady(function(){t.isIndex=!0,this.init(t)})},gotoLiveHome:function(t){var e=$(t.currentTarget),n=e.attr("data-id"),i=~~e.attr("data-status");switch(i){case 2:window.location.href="/web/liveRoom.html?roomId="+n;break;case 3:window.location.href="/web/playback.html?roomId="+n}}});t.exports=d},118:function(t,e){t.exports='<div class="top-content">\n    <h1 class="top-title">直播频道</h1>\n    <div class="top-flash-content" id="topFlash">\n        {{if data.status === 1}}\n            <img src="{{data.posterPic}}" width="100%" height="100%"/>\n        {{/if}}\n    </div>\n    <div class="top-go-home">\n        <div class="go-home-title">{{data.roomName}}</div>\n        {{if data.status !== 1}}\n            <div class="go-livehome" data-id="{{data.id}}" data-status="{{data.status}}">进入房间</div>\n        {{/if}}\n    </div>\n</div>\n'},119:function(t,e,n){"use strict";var i=n(24),s=null,o=i.extend({url:"{{url_prefix}}/room/home_rec_list.json",beforeEmit:function(t){}});o.sigleInstance=function(){return s||(s=new o),s},t.exports=o},120:function(t,e,n){"use strict";var i=n(16),s=n(121),o=n(122),a=n(123),r=n(81),l=n(51),c=n(27),d=n(41),u=c.sharedInstanceUserModel(),h=i.extend({el:"#livePreview",rawLoader:function(){return""},events:{"click .box-praise":"pushLiveVideo"},beforeMount:function(){this.livePreviewParameter={deviceinfo:'{"aid":"30001001"}',size:6},this.pushLarityParameter={deviceinfo:'{"aid":"30001001"}',access_token:"",type:2,roomId:""},this.userInfoParameter={deviceinfo:'{"aid":"30001001"}',access_token:""},u.isLogined()&&(this.pushLarityParameter.access_token="web-"+u.getToken()),this.totalMarks="",this.isNeedPopup=!0,this.roomId=""},afterMount:function(){this.liveModel=new o,this.pushModel=new a,this.userInfo=new r,this.parentNode=this.$el.parent()},ready:function(t){var e=this;this.topbar=t.topbar,this.liveModel.executeJSONP(this.livePreviewParameter,function(t){var n=~~t.code;n?l.showError(t.msg):e.livePreRender(t.data)},function(t){t&&l.showError("获取数据错误")})},livePreRender:function(t){var e=t.length,n=6;for(3>=e?n=3:6>e&&(n=6);n>e;)e++,t.push({completion:1});var i=this.compileHTML(s,{items:t});this.parentNode.css({height:590/(6/n)}),this.$el.html(i)},pushLiveVideo:function(t){if(u.isLogined()){var e=this,n=$(t.currentTarget);this.pushLarityParameter.roomId=n.attr("data-id");n.attr("data-status");this.isNeedPopup?(this.userInfoParameter.access_token="web-"+u.getToken(),this.userInfo.executeJSONP(this.userInfoParameter,function(t){var n=parseInt(t.code);0==n?(e.totalMarks=t.data.totalMarks,e.showConfirm()):l.showError(t.msg||"操作失败,稍后重试")},function(t){t&&l.showError("获取信息失败")})):e.executePushVideo()}else this.topbar.on("logined",function(){window.location.reload()}),this.topbar.showLoginDialog()},showConfirm:function(){var t=this,e="<div>使用20积分支持一下MC,当前共有"+(this.totalMarks||0)+'积分</div> <div style="text-align:right;"> <label><input value="1" id="popupCheckBox" type="checkbox">&nbsp;别再烦我</label></div>';d.show({title:"顶上去",content:e,okFn:function(){var e=$("#popupCheckBox");e.is(":checked")?t.isNeedPopup=!1:t.isNeedPopup=!0,t.executePushVideo()}})},executePushVideo:function(){this.pushModel.executeJSONP(this.pushLarityParameter,function(t){var e=t.data.success;e?l.showOK("感谢您的大力支持~"):l.showError(t.data.message||"操作失败,请稍后重试")},function(t){t&&l.showError("人气上推错误")})}});t.exports=h},121:function(t,e){t.exports='{{each items as item i}}\n    <li>\n        <div class="box-content box-live-direct-video">\n            {{if item.status === 2}}\n                <a href="/web/liveRoom.html?roomId={{item.roomId}}">\n                    <div class="box-top">\n                        <img class="box-top-img" src="{{item.posterPic}}"/>\n                        <span class="box-state box-live-direct"></span>\n                    </div>\n                    <div class="box-cover-hover">\n                        <div class="box-popularity boderRadAll_3">\n                            人气：<span>{{item.realPopularity}}</span>\n                        </div>\n                        <div class="box-click"></div>\n                        <div class="box-praise-push boderRadAll_3">\n                            <div class="praise">\n                                <span class="praise-img"></span>\n                                <span class="praise-text">{{item.bulletCurtain}}</span>\n                            </div>\n                            <div class="push">\n                                <span class="push-img"></span>\n                                <span class="push-text">{{item.assemble}}</span>\n                            </div>\n                        </div>\n                    </div>\n                </a>\n            {{/if}}\n            {{if item.status === 1}}\n                <div class="box-trailer">\n                    <div class="box-top">\n                        <img class="box-top-img" src="{{item.posterPic}}"/>\n                        <span class="box-state box-live-trailer"></span>\n                    </div>\n                    <div class="box-cover-hover">\n                        <div class="box-popularity boderRadAll_3">\n                            人气：<span>{{item.realPopularity}}</span>\n                        </div>\n                        <div class="box-show-trailer">\n                            <span>敬请期待</span>\n                        </div>\n                        <div class="box-praise-push boderRadAll_3">\n                            <div class="box-time">直播时间：<span>{{item.liveVideoTime}}</span></div>\n                        </div>\n                    </div>\n                </div>\n            {{/if}}\n            {{if item.completion === 1}}\n                <div class="box-trailer">\n                    <div class="box-top">\n                        <img class="box-top-img" src="/img/index/space.png"/>\n                    </div>\n                </div>\n            {{/if}}\n            <div class="box-bottom">\n                <div class="box-title">{{item.roomName}}</div>\n                {{if item.completion !== 1}}\n                    <div class="box-praise" data-id="{{item.roomId}}" data-status="{{item.status}}">\n                        <button>顶上去</button>\n                    </div>\n                {{/if}}\n            </div>\n        </div>\n    </li>\n{{/each}}\n'},122:function(t,e,n){"use strict";var i=n(24),s=null,o=n(57),a=new o,r=i.extend({url:"{{url_prefix}}/room/home_hot_list.json",beforeEmit:function(t){},formatter:function(t){var e=~~t.code;if(!e)for(var n=t.data,i=n.length;i--;){var s=n[i];if(1===s.status){a.setCurNewDate(s.liveTime);var o=a.$get("year"),r=a.$get("month"),l=a.$get("day"),c=a.$get("hours"),d=10>c?"0"+c:c,u=a.$get("minutes"),h=10>u?"0"+u:u;s.liveVideoTime=o+"/"+r+"/"+l+" "+d+":"+h}}return t}});r.sigleInstance=function(){return s||(s=new r),s},t.exports=r},123:function(t,e,n){"use strict";var i=n(24),s=null,o=i.extend({url:"{{url_prefix}}/popularity/add.json",beforeEmit:function(t){}});o.sigleInstance=function(){return s||(s=new o),s},t.exports=o},124:function(t,e,n){"use strict";var i=n(16),s=n(125),o=n(126),a=n(51),r=n(27),l=r.sharedInstanceUserModel(),c=i.extend({el:"#playbackVideo",rawLoader:function(){return""},events:{},beforeMount:function(){this.playbackParameter={deviceinfo:'{"aid":"30001001"}',offset:0,size:6};var t=l.getToken();t&&(this.playbackParameter.access_token="web-"+t)},afterMount:function(){this.playbackModel=new o,this.parentNode=this.$el.parent()},ready:function(){var t=this;this.playbackModel.executeJSONP(this.playbackParameter,function(e){var n=~~e.code;n?a.showError(e.msg):t.playbackRender(e.data)},function(t){})},playbackRender:function(t){var e=t.length,n=6;for(3>=e?n=3:6>e&&(n=6);n>e;)e++,t.push({completion:1});var i=this.compileHTML(s,{items:t});this.parentNode.css({height:590/(6/n)}),this.$el.html(i)}});t.exports=c},125:function(t,e){t.exports='{{each items as item i}}\n    <li>\n        <div class="box-content box-live-direct-video">\n            {{if item.status === 3}}\n                <a href="/web/playback.html?roomId={{item.roomId}}">\n                    <div class="box-top">\n                        <img class="box-top-img" src="{{item.posterPic}}"/>\n                    </div>\n                    <div class="box-cover-hover">\n                        <div class="box-popularity boderRadAll_3">\n                            人气：<span>{{item.realPopularity}}</span>\n                        </div>\n                        <div class="box-click"></div>\n                        <div class="box-praise-push boderRadAll_3">\n                            <div class="praise">\n                                <span class="praise-img"></span>\n                                <span class="praise-text">{{item.bulletCurtain}}</span>\n                            </div>\n                            <div class="push">\n                                <span class="push-img"></span>\n                                <span class="push-text">{{item.assemble}}</span>\n                            </div>\n                        </div>\n                    </div>\n                </a>\n            {{/if}}\n\n            {{if item.completion === 1}}\n                <div class="box-trailer">\n                    <div class="box-top">\n                        <img class="box-top-img" src="/img/index/space.png"/>\n                    </div>\n                </div>\n            {{/if}}\n            <div class="box-bottom">\n                <div class="box-title">{{item.roomName}}</div>\n            </div>\n        </div>\n    </li>\n{{/each}}\n'},126:function(t,e,n){"use strict";var i=n(24),s=null,o=i.extend({url:"{{url_prefix}}/room/playback_list.json",beforeEmit:function(t){}});o.sigleInstance=function(){return s||(s=new o),s},t.exports=o},127:function(t,e){}});
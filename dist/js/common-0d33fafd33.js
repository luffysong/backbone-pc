/**
 * @project yinyuetai_pc_live_video
 * @description 音悦台直播PC版
 * @version v1.0.0
 * @time 2016-4-8   17:21:37
 * @author YYT
 * @copy http://www.yinyuetai.com
 */
!function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n=window.webpackJsonp;window.webpackJsonp=function(o,s){for(var a,c,l=0,u=[];l<o.length;l++)c=o[l],r[c]&&u.push.apply(u,r[c]),r[c]=0;for(a in s)e[a]=s[a];for(n&&n(o,s);u.length;)u.shift().call(null,t);return s[0]?(i[0]=0,t(0)):void 0};var i={},r={6:0};t.e=function(e,n){if(0===r[e])return n.call(null,t);if(void 0!==r[e])r[e].push(n);else{r[e]=[n];var i=document.getElementsByTagName("head")[0],o=document.createElement("script");o.type="text/javascript",o.charset="utf-8",o.async=!0,o.src=t.p+""+e+"."+({0:"anchor.main",1:"anchorSetting.main",3:"liveRoom.main",4:"login.main",5:"playback.main"}[e]||e)+".js",i.appendChild(o)}},t.m=e,t.c=i,t.p=""}([,,,,,,,,,,,function(e,t,n){"use strict";var i=window,r=i.Backbone;if(!r)throw new Error("import Backbone");var o=n(12),s=(n(13),n(16)),a=r.View.extend({initialize:function(e){return void 0===this.clientRender&&this.clientRender!==!1&&(this.clientRender=!0),this._ICEOptions=e||{},this.beforeMount&&"function"==typeof this.beforeMount&&this.beforeMount(),this._ICEOptions.id&&(this.$el=$(this._ICEOptions.id)),this._ICEinit(),this},_ICEinit:function(){var e=this;this.clientRender?"function"==typeof this.rawLoader&&(e._template=this.rawLoader(),e._template&&e.$el.append(e._template),e._ICEAfterMount(),e._ICEObject()):(e._ICEAfterMount(),e._ICEObject())},_ICEAfterMount:function(){"function"==typeof this.afterMount&&this.afterMount()},_ICEObject:function(){this.clientRender&&this._ICEinitEvent(),this._ICEinitNode(),this._store={},this.__YYTPC__=!0,"function"==typeof this.ready&&this.ready(this._ICEOptions)},_ICEinitEvent:function(){this.delegateEvents(this.events)},_ICEinitNode:function(){this.$parent=this._ICEOptions.parent,this.$children=[],this.$root=this.$parent?this.$parent.$root:this,this.$parent&&this.$parent.$children.push(this)},compileHTML:function(e,t){return o.compile(e)(t)},broadcast:function(e){var t="string"==typeof e;e=t?e:e.name;for(var n=s.toArray(arguments,1),i=this.$children,r=0,o=i.length;o>r;r++){var a=i[r];a.trigger.apply(a,n),a.broadcast.apply(a,n)}return this},dispatch:function(e){var t="string"==typeof e;e=t?e:e.name;for(var n=s.toArray(arguments,1),i=this.$parent;i;)i.trigger.apply(i,n),i=i.$parent}});e.exports=a},function(e,t,n){var i;!function(){function r(e){return e.replace($,"").replace(I,",").replace(C,"").replace(E,"").replace(S,"").split(T)}function o(e){return"'"+e.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function s(e,t){function n(e){return h+=e.split(/\n/).length-1,u&&(e=e.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),e&&(e=g[1]+o(e)+g[2]+"\n"),e}function i(e){var n=h;if(l?e=l(e,t):s&&(e=e.replace(/\n/g,function(){return h++,"$line="+h+";"})),0===e.indexOf("=")){var i=f&&!/^=[=#]/.test(e);if(e=e.replace(/^=[=#]?|[\s;]*$/g,""),i){var o=e.replace(/\s*\([^\)]+\)/,"");v[o]||/^(include|print)$/.test(o)||(e="$escape("+e+")")}else e="$string("+e+")";e=g[1]+e+g[2]}return s&&(e="$line="+n+";"+e),_(r(e),function(e){if(e&&!p[e]){var t;t="print"===e?b:"include"===e?w:v[e]?"$utils."+e:y[e]?"$helpers."+e:"$data."+e,x+=e+"="+t+",",p[e]=!0}}),e+"\n"}var s=t.debug,a=t.openTag,c=t.closeTag,l=t.parser,u=t.compress,f=t.escape,h=1,p={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},d="".trim,g=d?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],m=d?"$out+=text;return $out;":"$out.push(text);",b="function(){var text=''.concat.apply('',arguments);"+m+"}",w="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+m+"}",x="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(s?"$line=0,":""),$=g[0],I="return new String("+g[3]+");";_(e.split(a),function(e){e=e.split(c);var t=e[0],r=e[1];1===e.length?$+=n(t):($+=i(t),r&&($+=n(r)))});var C=x+$+I;s&&(C="try{"+C+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+o(e)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var E=new Function("$data","$filename",C);return E.prototype=v,E}catch(S){throw S.temp="function anonymous($data,$filename) {"+C+"}",S}}var a=function(e,t){return"string"==typeof t?w(t,{filename:e}):u(e,t)};a.version="3.0.0",a.config=function(e,t){c[e]=t};var c=a.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},l=a.cache={};a.render=function(e,t){return w(e,t)};var u=a.renderFile=function(e,t){var n=a.get(e)||b({filename:e,name:"Render Error",message:"Template not found"});return t?n(t):n};a.get=function(e){var t;if(l[e])t=l[e];else if("object"==typeof document){var n=document.getElementById(e);if(n){var i=(n.value||n.innerHTML).replace(/^\s*|\s*$/g,"");t=w(i,{filename:e})}}return t};var f=function(e,t){return"string"!=typeof e&&(t=typeof e,"number"===t?e+="":e="function"===t?f(e.call(e)):""),e},h={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},p=function(e){return h[e]},d=function(e){return f(e).replace(/&(?![\w#]+;)|[<>"']/g,p)},g=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},m=function(e,t){var n,i;if(g(e))for(n=0,i=e.length;i>n;n++)t.call(e,e[n],n,e);else for(n in e)t.call(e,e[n],n)},v=a.utils={$helpers:{},$include:u,$string:f,$escape:d,$each:m};a.helper=function(e,t){y[e]=t};var y=a.helpers=v.$helpers;a.onerror=function(e){var t="Template Error\n\n";for(var n in e)t+="<"+n+">\n"+e[n]+"\n\n";"object"==typeof console&&console.error(t)};var b=function(e){return a.onerror(e),function(){return"{Template Error}"}},w=a.compile=function(e,t){function n(n){try{return new o(n,r)+""}catch(i){return t.debug?b(i)():(t.debug=!0,w(e,t)(n))}}t=t||{};for(var i in c)void 0===t[i]&&(t[i]=c[i]);var r=t.filename;try{var o=s(e,t)}catch(a){return a.filename=r||"anonymous",a.name="Syntax Error",b(a)}return n.prototype=o.prototype,n.toString=function(){return o.toString()},r&&t.cache&&(l[r]=n),n},_=v.$each,x="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",$=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,I=/[^\w$]+/g,C=new RegExp(["\\b"+x.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),E=/^\d[^,]*|,\d[^,]*/g,S=/^,+|,+$/g,T=/^$|,+/;c.openTag="{{",c.closeTag="}}";var k=function(e,t){var n=t.split(":"),i=n.shift(),r=n.join(":")||"";return r&&(r=", "+r),"$helpers."+i+"("+e+r+")"};c.parser=function(e){e=e.replace(/^\s/,"");var t=e.split(" "),n=t.shift(),i=t.join(" ");switch(n){case"if":e="if("+i+"){";break;case"else":t="if"===t.shift()?" if("+t.join(" ")+")":"",e="}else"+t+"{";break;case"/if":e="}";break;case"each":var r=t[0]||"$data",o=t[1]||"as",s=t[2]||"$value",c=t[3]||"$index",l=s+","+c;"as"!==o&&(r="[]"),e="$each("+r+",function("+l+"){";break;case"/each":e="});";break;case"echo":e="print("+i+");";break;case"print":case"include":e=n+"("+t.join(",")+");";break;default:if(/^\s*\|\s*[\w\$]/.test(i)){var u=!0;0===e.indexOf("#")&&(e=e.substr(1),u=!1);for(var f=0,h=e.split("|"),p=h.length,d=h[f++];p>f;f++)d=k(d,h[f]);e=(u?"=":"=#")+d}else e=a.helpers[n]?"=#"+n+"("+t.join(",")+");":"="+e}return e},i=function(){return a}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))}()},function(e,t,n){"use strict";var i=n(14),r=n(15),o=function(e,t){i.debug&&r.warn(e,t)};e.exports=o},function(e,t){var n={scheme:"release",env:{alpha:{url_prefix:"http://beta.yinyuetai.com:9019"},release:{url_prefix:"http://lapi.yinyuetai.com"}},debug:!0,domains:{urlStatic:"http://s.yytcdn.com",loginSite:"http://login.yinyuetai.com",mainSite:"http://www.yinyuetai.com",mvSite:"http://mv.yinyuetai.com",homeSite:"http://i.yinyuetai.com",vchartSite:"http://vchart.yinyuetai.com",commentSite:"http://comment.yinyuetai.com",playlistSite:"http://pl.yinyuetai.com",searcresiehSite:"http://so.yinyuetai.com",vSite:"http://v.yinyuetai.com",fanSite:"",paySite:"",tradeSite:"",shopSite:"",vipSite:""}};e.exports=n},function(e,t){"use strict";var n={};n.warn=function(e,t){var n=void 0!==typeof console;if(n){if(console.warn("[YYT PC Warning]:"+e),t)throw t;var i=new Error("Warning Stack Trace");console.warn(i.stack)}},e.exports=n},function(e,t,n){(function(t){"use strict";!function(n){"object"==typeof self&&self.self==self&&self||"object"==typeof t&&t.global==t&&t;e.exports=n()}(function(){var e={},t=Object.prototype.toString,n="[object Object]";e.isPlainObject=function(e){return t.call(e)===n},e.isObject=function(e){return null!==e&&"object"==typeof e};var i=Object.prototype.hasOwnProperty;return e.hasOwn=function(e,t){return i.call(e,t)},e.toArray=function(e,t){t=t||0;for(var n=e.length-t,i=new Array(n);n--;)i[n]=e[n+t];return i},e.toType=function(e){return t.call(e)},e.exportToNumber=function(e){if("string"!=typeof e)return e;var t=Number(e);return isNaN(t)?e:t},e})}).call(t,function(){return this}())},,function(e,t,n){"use strict";var i=n(19),r=n(22),o=r.sharedInstanceUserModel(),s=n(20),a=i.extend({url:"{{url_prefix}}/user/sig_get.json",beforeEmit:function(e){this.notTokenURL=this.url,this.imData=null},isAnchor:function(){return!!this.$get("data.anchor")},setTokenUrl:function(e){this.imData={deviceinfo:'{"aid":"30001001"}',access_token:"web-"+e}},setNoTokenUrl:function(){this.imData={deviceinfo:'{"aid":"30001001"}'}},fetchIMUserSig:function(e,t){var n=s.get("imSig");if(n)return void("function"==typeof e&&(this.$set({data:n}),e(n)));var i=o.getToken();i&&this.setTokenUrl(i),this.executeJSONP(this.imData,function(t){var n=t.data;s.set("imSig",n),"function"==typeof e&&e(n)},function(e){"function"==typeof t&&t(e)})},updateIMUserSig:function(e,t){s.remove("imSig");var n=o.getToken();n&&this.setTokenUrl(n),this.executeJSONP(function(t){var n=t.data;s.set("imSig",n),e&&e(n)},function(e){t&&t(e)})}}),c=null;a.sharedInstanceIMModel=function(){return c||(c=new a),c},e.exports=a},function(e,t,n){"use strict";var i=window,r=i.Backbone;if(!r)throw new Error("import Backbone");var o=n(20),s=(n(21),n(14)),a=n(16),c=(n(13),1314),l=o.expiration,u=[],f=r.Model.extend({options:{},initialize:function(e){this._store={},this._view=null,this._onQueue=[],this._original=null,this.parameter=null,"function"==typeof this.beforeEmit&&this.beforeEmit(e),this._url=this.url,this.setEnv||this._ICESetEnv(),"string"==typeof this.url&&(this.url=this.url.split("?")[0],this.hostname=this.url)},_ICESetEnv:function(){var e=s.env[s.scheme];/^\{{0,2}(url_prefix)\}{0,2}/.test(this.url)&&(this.url=this.url.replace("{{url_prefix}}",e.url_prefix),this._url=this.url)},_ICESort:function(e,t){var n=e.length;if(2>n)return e;for(var i,r,o,s=0,a=s+1;a>s;s++)for(a=s+1;n>a;a++)i=t.call(this,e[s],e[a]),o=("number"==typeof i?i:i?1:0)>0,o&&(r=e[s],e[s]=e[a],e[a]=r);return e},_ICEOptions:function(){var e=this;return{beforeSend:function(t,n){for(var i in e.headers)t.setRequestHeader(i,e.headers[i])}}},_ICEFetch:function(e,t){var n=this,i=_.extend(this._ICEOptions(),this.options);this.fetch(_.extend({success:function(t,i){i=n._ICEProcessData(i),"function"==typeof e&&e.call(n,i)},error:function(e,i){"function"==typeof t&&t.call(n,i)}},i))},_ICESave:function(e,t,n){var i=this,r=_.extend(this._ICEOptions(),this.options);this.save(e,_.extend({success:function(e,n){n=i._ICEProcessData(n),"function"==typeof t&&t.call(i,n)},error:function(e,t){"function"==typeof n&&n.call(i,t)}},r))},_ICEDestroy:function(e,t){var n=this;this.destroy({success:function(t,i){"function"==typeof e&&e.call(n,i)},error:function(e,i){"function"==typeof t&&t.call(n,i)}})},_ICEJSONP:function(e,t){var n=this,i=$.ajax({url:this.url,data:this.parameter||{},dataType:"jsonp",jsonp:"callback"});i.done(function(t,i,r){t=n._ICEProcessData(t),"function"==typeof e&&e.call(n,t,i,r)}),i.fail(function(e,i,r){"function"==typeof t&&t.call(n,e,i,r)})},_ICESendHelper:function(e){var t=e.success,n=e.error;switch("GET"!==e.type&&(this.url=this.hostname),e.type){case"POST":this._ICESave(e.saveJSON,t,n);break;case"PUT":var i=e.saveJSON.id;i||0===i||(e.saveJSON.id="icepy"+c++),this._ICESave(e.saveJSON,t,n);break;case"DELETE":this._ICEDestroy(t,n);break;case"JSONP":this._ICEJSONP(t,n);break;default:this._ICEFetch(t,n)}},_ICESendMessage:function(e){var t=this;if(this.storageCache&&this.expiration)if(o.enabled){var n=l.get(this.url);if(!n)return this._ICESendHelper(e),!1;var i=e.success;"function"==typeof i&&setTimeout(function(){n=t._ICEProcessData(n,!0),i.call(t,n)},50)}else this._ICESendHelper(e);else this._ICESendHelper(e)},_ICEProcessData:function(e,t){return"function"==typeof this.formatter&&(e=this.formatter(e)),this.storageCache&&this.expiration&&!t&&o.enabled&&l.set(this.url,e,this.expiration),this.$set(e),e},execute:function(e,t){var n={type:"GET",success:e,error:t};this._ICESendMessage(n)},executeGET:function(e,t){var n={type:"GET",success:e,error:t};this._ICESendMessage(n)},executePOST:function(e,t,n){var i={type:"POST",saveJSON:e,success:t,error:n};this._ICESendMessage(i)},executePUT:function(e,t,n){var i={type:"PUT",saveJSON:e,success:t,error:n};this._ICESendMessage(i)},executeDELETE:function(){var e={type:"DELETE",success:success,error:error};this._ICESendMessage(e)},executeJSONP:function(e,t,n){this.parameter=null,this.parameter=e;var i={type:"JSONP",success:t,error:n};this._ICESendMessage(i)},setChangeURL:function(e){var t="";if(e){for(var n in e){var i=e[n];t=t.length?t.replace("{{"+n+"}}",i):this._url.replace("{{"+n+"}}",i)}this.url=t}},setHeaders:function(e){this.headers=null,this.headers=e},setView:function(e){this._view=e},setOnQueueKeys:function(e){"[object Array]"!==a.toType(e)||(this._onQueue.length=0,this._onQueue=e)},$get:function(e){if(!e)return this._store;var t=e.split("."),n=t.length;if(n>0){for(var i=t[0],r=0,o=this._store;i;)r++,o=o[i],i=t[r];return o}},$set:function(e,t,n){if(null==e)return this;if(a.isPlainObject(e))return this._store=null,this._store=e,this.set(this._store),!1;var i=e.split("."),r=i.length;if(r>0){var o=0,s=i[o],c=this._store;if(1!==r)for(;s&&(o++,c=c[s],s=i[o],!(o>r-2)););switch(a.toType(c)){case"[object Object]":c[s]=t;break;case"[object Array]":c[a.exportToNumber(s)]=t;break;default:c=t}}},$filter:function(e,t){var n=this.$get(e),i=[];if("[object Array]"===a.toType(n))for(var r,o=n.length;o--;){var s=n[o];switch(a.toType(t)){case"[object Object]":r=!0;for(var c in t)if(s[c]!==t[c]){r=null;break}break;case"[object Function]":r=t(s,o);break;default:r=s===t}r&&i.push(s)}return i},$sort:function(e,t){var n=this.$get(e);if(u.length=0,"[object Array]"===a.toType(n))switch(a.toType(t)){case"[object Function]":u=this._ICESort(n,t);break;default:if("string"==typeof t){var i=t.split("."),r=null,o=i.length-1;switch(i[o]){case">":r=!0;break;case"<":r=!1;break;default:return u}if(null!==r)return this._ICESort(n,function(e,t){for(var n=i[0],s=0;n&&(e=e[n],t=t[n],s++,s!==o);)n=i[s];return r?e>t:t>e})}}return u},$updateStore:function(){o.enabled&&l.set(self.url,this._store,self.expiration)}});e.exports=f},function(e,t,n){(function(t){"use strict";!function(n){"object"==typeof self&&self.self==self&&self||"object"==typeof t&&t.global==t&&t;e.exports=n()}(function(){var e,t,n={},i=window,r="localStorage",o="sessionStorage",s="ICEStorageCache",a=function(){try{return r in i&&i[r]}catch(e){return!1}},c=function(){try{return o in i&&i[o]}catch(e){return!1}};n.disabled=!1,n.version="0.0.1",n.has=function(e){return void 0!==n.get(e)},n.transact=function(e,t,i){null==i&&(i=t,t=null),null==t&&(t={});var r=n.get(e,t);i(r),n.set(e,r)},n.serialize=function(e){return JSON.stringify(e)},n.deserialize=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e||void 0}},a()&&(e=i[r],n.set=function(t,i){return void 0===i?n.remove(t):(e.setItem(t,n.serialize(i)),i)},n.get=function(t,i){var r=n.deserialize(e.getItem(t));return void 0===r?i:r},n.remove=function(t){e.removeItem(t)},n.clear=function(){e.clear()},n.getAll=function(){var e={};return n.forEach(function(t,n){e[t]=n}),e},n.forEach=function(t){for(var i=0;i<e.length;i++){var r=e.key(i);t(r,n.get(r))}},n.expiration={set:function(e,t,i){var r=n.get(s)||{};r[e]={val:t,exp:36e5*i,time:(new Date).getTime()},n.set(s,r)},get:function(e){var t=n.get(s);if(!t)return null;var i=t[e];return i?(new Date).getTime()-i.time>i.exp?null:i.val:null},getAll:function(){var e=n.get(s);return e||null},resetSave:function(e){n.set(s,e)}},c()&&(t=i[o],n.session={set:function(e,i){if(void 0===i)return n.remove(e);var r;r="[object Object]"===Object.prototype.toString.call(i)?n.serialize(i):i,t.setItem(e,r)},get:function(e){var i=n.deserialize(t.getItem(e));return void 0===i?defaultVal:i}}));try{var l="__storeJs__";n.set(l,l),n.get(l)!=l&&(n.disabled=!0),n.remove(l)}catch(u){n.disabled=!0}if(n.enabled=!n.disabled,n.enabled){var f=n.expiration.getAll();if(f)for(var h in f){var p=f[h];(new Date).getTime()-p.time>p.exp&&(p=null,delete f[h])}n.expiration.resetSave(f)}return n})}).call(t,function(){return this}())},function(e,t,n){(function(t){"use strict";!function(n){"object"==typeof self&&self.self==self&&self||"object"==typeof t&&t.global==t&&t;e.exports=n()}(function(){var e=[];window.location;return{parse:function(e){var t=document.createElement("a");t.href=e;for(var n,i={port:t.port,protocol:t.protocol.replace(":",""),hash:t.hash.replace("#",""),host:t.host,href:t.href,hostname:t.hostname,pathname:t.pathname,search:t.search,query:{}},r=i.search.replace(/^\?/,"").split("&"),o=r.length,s=0;o>s;s++)r[s]&&(n=r[s].split("="),i.query[n[0]]=n[1]);return t=null,i},format:function(t,n){var i=0,r=n.query,o=n.hash;if(e.length=0,e.push(t.lastIndexOf("?")>-1?t:t+"?"),r)for(var s in r){var a=r[s];i?e.push("&"+s+"="+a):(i++,e.push(s+"="+a))}return o&&e.push(o.indexOf("#")>-1?o:"#"+o),e.join("")},resolve:function(e,t){return/^(.\/)/.test(t)&&(t=t.replace(/^(.\/)/,"/")),/^(..\/)/.test(t)&&(e=e.substr(0,e.lastIndexOf("/")),t=t.replace(/^(..\/)/,"/")),e+t},extname:function(e){var t=e.split(".");return t[t.length-1]||""},parseSearch:function(e){for(var t,n,i={},r=e.replace(/^\?/,"").split("&"),o=r.length,s=0;o>s;s++)r[s]&&(n=r[s].split("="),t=n[1],(/^\[/.test(t)&&/\]$/.test(t)||/^{/.test(t)||/\}$/.test(t))&&(t=JSON.parse(t)),i[n[0]]=t);return i}}})}).call(t,function(){return this}())},function(e,t,n){"use strict";var i=n(19),r=n(23),o=n(27),s=n(32),a=n(14),c=a.domains,l=n(33),u=l.replace("{homeSite}",c.homeSite),f=o().dialog,h=i.extend({url:"http://vip.yinyuetai.com/vip/check-vip",setEnv:!0,beforeEmit:function(){}}),p=i.extend({url:c.loginSite+"/login-info",setEnv:!0,beforeEmit:function(){}}),d=i.extend({setEnv:!0,beforeEmit:function(e){this.checkVIPModel=new h,this.fetchUserInfoForDBModel=new p},isLogined:function(){return!!this.getToken()},login:function(e,t){var n=this;this.isLogined()?e.call(this):(this.on("login",e),f.trigger("show"),f.once("hide",function(){n.off("login"),t&&t()}))},getUserInfo:function(e,t){if(this.isLogined()){var n,i=this,r=function(){return"function"==typeof e?i.$get():i.$get(e)},o=this.$get("isEmailVerified");t||(t=e),o?"function"==typeof t&&(n=r(),t.call(this,n)):this.fetchUserInfo(function(){"function"==typeof t&&(n=r(),t.call(i,n))})}},checkUserEmail:function(e){var t=this;this.getUserInfo("isEmailVerified",function(n){n?"function"==typeof e&&e.call(t):r.classInstanceDialog(u,{title:"邮箱验证",width:400,height:100,isAutoShow:!0})})},checkUserVIP:function(e,t){var n=this;if(this.isLogined())this.login(function(){n.fetchVIPInfo(e,t)});else{var i=this.$get("vipInfo");i?i&&!i.error&&i.realVip&&~~i.realVip>0?e(i):cancel():this.fetchVIPInfo(e,t)}},emit:function(){var e=this.getToken(),t=s.get("u_inf");e&&(t&&t.length>0?this.readUserInfoForCookie(t):this.fetchUserInfo())},isVIPUser:function(){var e=s.get("token");if(e){var t=e.split(".");if(t.length>2){var n=t[2];return~~n[0]>0}}return!1},readUserInfoForCookie:function(e){var t=String.fromCharCode(2);e=decodeURIComponent(e);var n=e.split(t);this.$set({userId:~~n[0],userName:n[1],bigheadImg:n[4]})},fetchUserInfo:function(e){var t=this;this.fetchUserInfoForDBModel.executeJSONP(function(n){t.$set(n),"function"==typeof e&&e.call(t)},function(n){"function"==typeof e&&e.call(t,n)})},fetchVIPInfo:function(e,t){var n=this;this.checkVIPModel.executeJSONP(function(t){t&&!t.error&&(t.realVip&&parseInt(t.realVip)>0||t.isWo)&&(n.set("vipInfo",t),"function"==typeof e&&e.call(n,t))},function(e){"function"==typeof t&&t.call(n,e)})},getToken:function(){return s.get("token")},getWebToken:function(){var e=s.get("token");return e?"web-"+e:""},getUserId:function(){return this.$get("userId")}}),g=null;d.sharedInstanceUserModel=function(){return g||(g=new d,g.on("change:userId",function(){g.trigger("login")}),g.emit()),g},e.exports=d},function(e,t,n){"use strict";var i,r=n(11),o=n(24),s=999,a=(document.body,r.extend({clientRender:!1,events:{"click .J_close":"_close"},beforeMount:function(){this.id="YYT_UI_Dialog"+s++,this.options={width:"",height:"",hasMark:!0,hasClose:!0,isRemoveAfterHide:!0,isAutoShow:!0,title:"",className:"",effect:"fade",draggable:!1,mainClass:"dialog",closeClass:"ico_close J_close",closeText:"关闭",onShow:function(){},onHide:function(){}},this.options=_.extend(this.options,this._ICEOptions),this._status=!1,this.$el=$('<div id="'+this.id+'" class="'+this.options.mainClass+'"/>').append(this.$el.show()).addClass(this.options.className).appendTo(document.body),this.$title=this.$el.find(".upload-title"),this._ICEinitEvent()},afterMount:function(){this.closeTemp=n(25),this.titleTemp=n(26)},ready:function(){this._renderTitle(),this._renderClose(),this._adjustPosition(),this.on("show",function(){this._status=!0,this._toggle("show")}),this.on("hide",function(){this._status=!1,this._toggle("hide")}),this.on("show",this.options.onShow,this.$el),this.on("hide",this.options.onHide,this.$el),this.options.isAutoShow&&this.trigger("show"),"function"==typeof this.options.attached&&this.options.attached.call(this)},_renderTitle:function(){var e=this.options.title;e&&this.$title.text(e)},_renderClose:function(){if(this.options.hasClose){var e=this,t="dialogClose"+s++,n=this.compileHTML(this.closeTemp,{closeClass:this.options.closeClass,closeText:this.options.closeText,id:t});$(n).attr("hidefocus","true").appendTo(this.$el),$("#"+t).on("click",function(t){t.preventDefault(),e.hide()})}},_adjustPosition:function(){var e={width:this.options.width||this.$el.innerWidth(),height:this.options.height?this.options.height:this.$el.innerHeight()};this.$el.css(_.extend({marginLeft:-(e.width/2),marginTop:-(e.height/2)},e))},_close:function(){this.trigger("hide")},_toggle:function(e){var t=this.options.effect,n=this;"show"==e?"none"===t?this.$el.css("display","block"):"fade"===t&&this.$el.fadeIn():"hide"==e&&("none"===t?this.$el.css("display","none"):"fade"===t&&this.$el.fadeOut(),this.options.isRemoveAfterHide&&setTimeout(function(){n.$el.remove()},2e3)),this._toggleMask(e)},_toggleMask:function(e){this.options.hasMark&&("show"==e?i.show():"hide"==e&&i.hide())},status:function(){return this._status?"show":"hide"},show:function(){return this.trigger("show"),this},hide:function(){return this.trigger("hide"),this},destroy:function(){this.$el.remove(),i.hide()},resize:function(e,t){return this.options.width=e,this.options.height=t,this._adjustPosition(),this},title:function(e){return this.$title&&this.$title.html(e),this}})),c=null;a.sharedInstanceDialog=function(e){return c||(i||(i=o.classInstanceMask()),c=new a(e||{})),c},a.classInstanceDialog=function(e,t){return t=t||{},t.el=e||"<b></b>",i||(i=o.classInstanceMask()),new a(t)},e.exports=a},function(e,t,n){"use strict";var i=n(11),r=$(document),o=-1!==navigator.userAgent.indexOf("MSIE 6.0"),s={position:o?"absolute":"fixed",top:0,left:0,width:"100%",height:o?r.outerHeight(!0):"100%",display:"none","z-index":998,opacity:.2,"background-color":"black"},a=i.extend({clientRender:!1,beforeMount:function(){this.element=$("<iframe/>").attr({frameborder:0,scrolling:"no"}).css(s).appendTo(document.body)},afterMount:function(){},ready:function(){},show:function(){this.element.fadeIn()},hide:function(){this.element.fadeOut()}}),c=null;a.sharedInstanceMask=function(){return c||(c=new a),c},a.classInstanceMask=function(){return new a},e.exports=a},function(e,t){e.exports='<a  href="" id="{{id}}" class="{{closeClass}}">{{if closeText}}{{closeText}}{{/if}}</a>'},function(e,t){e.exports='<h3 class="dialog_title J_title">{{title}}</h3>\n'},function(e,t,n){"use strict";function i(){h=g.find(".errorinfo"),p=g.find("[name=email]"),d=g.find(".pwd"),r(p),r(d);var e=n(22);y=e.sharedInstanceUserModel(),m=w.classInstanceAjaxForm(g,{success:function(){var e=this.contentWindow,t=(e.location,decodeURIComponent(e.location.search)),n=x.parseSearch(t);n=n.json,n.error?(h.text(n.message).css("visibility","visible"),a()):n.platFormRef?location.href="http://login.yinyuetai.com/platform":(y.$set(n),v.trigger("hide"))},failure:function(){}})}function r(e){"email"===e.attr("name")?(e.focus(function(){$(this).parent().addClass("emailfocus").removeClass("emailerror")}),e.blur(function(){$(this).parent().removeClass("emailfocus")})):(e.focus(function(){$(this).parent().addClass("focus").removeClass("error")}),e.blur(function(){$(this).parent().removeClass("focus")}))}function o(){return[$.trim(p.val())+$.trim(d.val())]}function s(e){e.preventDefault();var t=o();m.encrypto(E.apply(window,t)),l()&&(m.setIframeState(!0),this.submit())}function a(){f.refresh(),k=!1}function c(){var e=$.trim(p.val()),t=$.trim(d.val());if(0===e.length)return h.text("邮箱或手机不能为空").css("visibility","visible"),p.parent().addClass("emailerror"),!1;if(!S.test(e)){if(!T.test(e))return h.text("请输入正确的电子邮箱或手机").css("visibility","visible"),p.parent().addClass("emailerror"),!1;if(11!==e.length)return h.text("请输入正确的电子邮箱或手机").css("visibility","visible"),p.parent().addClass("emailerror"),!1}return 0===t.length?(h.text("密码不能为空").css("visibility","visible"),d.parent().addClass("error"),!1):t.length<4||t.length>20?(h.text("密码长度必须大于4且小于20").css("visibility","visible"),d.parent().addClass("error"),!1):!0}function l(){if(!c())return a(),!1;if(!k){var e="拖动滑块完成验证";return h.text(e).css("visibility","visible"),!1}return 0!=g.find("[name=encpsw]").length?g.find("[name=encpsw]").val(_(d.val())):$("<input />").attr({type:"hidden",name:"encpsw",value:_(d.val())}).appendTo(g),!0}function u(e,t){return C.compile(e)(t)}var f,h,p,d,g,m,v,y,b=n(23),w=n(28),_=n(29),x=n(21),I=n(30),C=n(12),E=n(31),S=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,T=/^[+-]?[1-9][0-9]*(\.[0-9]+)?([eE][+-][1-9][0-9]*)?$|^[+-]?0?\.[0-9]+([eE][+-][1-9][0-9]*)?$/,k=!1;window.gt_custom_ajax=function(e,t){if(e){k=!0;var n=g.find(".errorinfo");"拖动滑块完成验证"==n.html()&&n.css("visibility","hidden")}},e.exports=function(){if(!v){var e=u(I,{url:"http://login.yinyuetai.com"});v=b.classInstanceDialog(e,{width:691,height:342,isRemoveAfterHide:!1,isAutoShow:!1}),g=v.$el.find("#loginBoxForm"),v.on("show",function(){f||(f=new window.Geetest({gt:"cc34bd7df5c42f7d9c3f540fdfb671cf",product:"float"}),f.appendTo("#captcha")),i(),$.getJSON("http://www.yinyuetai.com/partner/get-partner-code?placeIds=reg_window&callback=?",function(e){e&&e.reg_window&&self.dialog.$el.find(".loginbox-placehold").html(e.reg_window)})}),v.on("hide",function(){var e=v.$el.find("form");e.find(".errorinfo").css("visibility","hidden"),e.find("[name=email],[name=password]").parent().removeClass("emailerror").removeClass("error"),$(".J_pop_download").removeClass("v_button_curv"),setTimeout(function(){a()},500)}),g.on("submit",s)}return{dialog:v}}},function(e,t,n){(function(t){"use strict";!function(n){"object"==typeof self&&self.self==self&&self||"object"==typeof t&&t.global==t&&t;e.exports=n()}(function(){var e=999,t=window.ICEPlugs||{},i=t.url;i||(i=n(21));var r=function(t){t=t||{},this.$el="string"==typeof t.el?$(t.el):t.el,this.uid="AjaxForm"+e++,this._iframeLoadState=!1,this._success=t.success,this._before=t.before,this._failure=t.failure,this._init()};r.prototype._init=function(){this._createIframe(),this._addEvent()},r.prototype._createIframe=function(){var e='<iframe id="'+this.uid+'" name="'+this.uid+'"  style="display: none;" src="about:blank"></iframe>';this.$el.attr("target",this.uid),this.$el.append(e),this._iframe=$("#"+this.uid),$("<input />").attr({type:"hidden",name:"cross_post",value:"1"}).appendTo(this.$el)},r.prototype._addEvent=function(){var e=this;this._iframe.on("load",function(){if(e._iframeLoadState){var t=this.contentWindow,n=t.location;if("about:blank"===n.href)"function"==typeof e._failure&&e._failure.call(this);else if("function"==typeof e._success)try{var i=this._iframe[0].contentWindow.document.body;innerText=i.innerText,innerText||(innerText=i.innerHTML),innerText&&e._success.call(this,$.parseJSON(innerText))}catch(r){e._success.call(this)}e._iframeLoadState=!1}})},r.prototype.setIframeState=function(e){this._iframeLoadState=e},r.prototype.encrypto=function(e){var t=this;$.each(e,function(e,n){var i=t.$el.find("[name="+e+"]");0===i.length?$("<input />").attr({type:"hidden",name:e,value:n}).appendTo(t.$el):i.val(n)})};var o=null;return r.sharedInstanceAjaxForm=function(e,t){return o||(t=t||{},t.el=e,o=new r(t)),o},r.classInstanceAjaxForm=function(e,t){return t=t||{},t.el=e,new r(t)},r})}).call(t,function(){return this}())},function(e,t){function n(e){var t=1,n="yytcdn2b",i=new Array(16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756),r=new Array(-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344),o=new Array(520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584),s=new Array(8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928),a=new Array(256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080),c=new Array(536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312),l=new Array(2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154),u=new Array(268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696);
pc2bytes0=new Array(0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964),pc2bytes1=new Array(0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697),pc2bytes2=new Array(0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272),pc2bytes3=new Array(0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144),pc2bytes4=new Array(0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256),pc2bytes5=new Array(0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488),pc2bytes6=new Array(0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746),pc2bytes7=new Array(0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568),pc2bytes8=new Array(0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578),pc2bytes9=new Array(0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488),pc2bytes10=new Array(0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800),pc2bytes11=new Array(0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744),pc2bytes12=new Array(0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128),pc2bytes13=new Array(0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261);for(var f,h,p,d=n.length>8?3:1,g=new Array(32*d),m=new Array(0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0),v=0,y=0,b=0;d>b;b++){$=n.charCodeAt(v++)<<24|n.charCodeAt(v++)<<16|n.charCodeAt(v++)<<8|n.charCodeAt(v++),I=n.charCodeAt(v++)<<24|n.charCodeAt(v++)<<16|n.charCodeAt(v++)<<8|n.charCodeAt(v++),p=252645135&($>>>4^I),I^=p,$^=p<<4,p=65535&(I>>>-16^$),$^=p,I^=p<<-16,p=858993459&($>>>2^I),I^=p,$^=p<<2,p=65535&(I>>>-16^$),$^=p,I^=p<<-16,p=1431655765&($>>>1^I),I^=p,$^=p<<1,p=16711935&(I>>>8^$),$^=p,I^=p<<8,p=1431655765&($>>>1^I),I^=p,$^=p<<1,p=$<<8|I>>>20&240,$=I<<24|I<<8&16711680|I>>>8&65280|I>>>24&240,I=p;for(var w=0;w<m.length;w++)m[w]?($=$<<2|$>>>26,I=I<<2|I>>>26):($=$<<1|$>>>27,I=I<<1|I>>>27),$&=-15,I&=-15,f=pc2bytes0[$>>>28]|pc2bytes1[$>>>24&15]|pc2bytes2[$>>>20&15]|pc2bytes3[$>>>16&15]|pc2bytes4[$>>>12&15]|pc2bytes5[$>>>8&15]|pc2bytes6[$>>>4&15],h=pc2bytes7[I>>>28]|pc2bytes8[I>>>24&15]|pc2bytes9[I>>>20&15]|pc2bytes10[I>>>16&15]|pc2bytes11[I>>>12&15]|pc2bytes12[I>>>8&15]|pc2bytes13[I>>>4&15],p=65535&(h>>>16^f),g[y++]=f^p,g[y++]=h^p<<16}var w,b,p,_,x,$,I,C,E,S,v=0,T=e.length,k=0,d=32==g.length?3:9;for(C=3==d?t?new Array(0,32,2):new Array(30,-2,-2):t?new Array(0,32,2,62,30,-2,64,96,2):new Array(94,62,-2,32,64,2,30,-2,-2),p=8-T%8,e+=String.fromCharCode(p,p,p,p,p,p,p,p),8==p&&(T+=8),result="",tempresult="";T>v;){for($=e.charCodeAt(v++)<<24|e.charCodeAt(v++)<<16|e.charCodeAt(v++)<<8|e.charCodeAt(v++),I=e.charCodeAt(v++)<<24|e.charCodeAt(v++)<<16|e.charCodeAt(v++)<<8|e.charCodeAt(v++),p=252645135&($>>>4^I),I^=p,$^=p<<4,p=65535&($>>>16^I),I^=p,$^=p<<16,p=858993459&(I>>>2^$),$^=p,I^=p<<2,p=16711935&(I>>>8^$),$^=p,I^=p<<8,p=1431655765&($>>>1^I),I^=p,$^=p<<1,$=$<<1|$>>>31,I=I<<1|I>>>31,b=0;d>b;b+=3){for(E=C[b+1],S=C[b+2],w=C[b];w!=E;w+=S)_=I^g[w],x=(I>>>4|I<<28)^g[w+1],p=$,$=I,I=p^(r[_>>>24&63]|s[_>>>16&63]|c[_>>>8&63]|u[63&_]|i[x>>>24&63]|o[x>>>16&63]|a[x>>>8&63]|l[63&x]);p=$,$=I,I=p}$=$>>>1|$<<31,I=I>>>1|I<<31,p=1431655765&($>>>1^I),I^=p,$^=p<<1,p=16711935&(I>>>8^$),$^=p,I^=p<<8,p=858993459&(I>>>2^$),$^=p,I^=p<<2,p=65535&($>>>16^I),I^=p,$^=p<<16,p=252645135&($>>>4^I),I^=p,$^=p<<4,tempresult+=String.fromCharCode($>>>24,$>>>16&255,$>>>8&255,255&$,I>>>24,I>>>16&255,I>>>8&255,255&I),k+=8,512==k&&(result+=tempresult,tempresult="",k=0)}for(var A=result+tempresult,M="",j=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),w=0;w<A.length;w++)M+=j[A.charCodeAt(w)>>4]+j[15&A.charCodeAt(w)];return M}e.exports=n},function(e,t){e.exports='<div class="loginbox">\n	<div class="external">\n		<p class="title">使用合作账号登录<span>(推荐)</span></p>\n		<ul>\n			<li>\n				<a href="{{url}}/api/login/sina-auth" target="_blank" class="weibo" hidefocus>微博帐号</a>\n			</li>\n			<li>\n				<a href="{{url}}/api/login/qq-auth" target="_blank" class="qq" hidefocus>QQ帐号</a>\n			</li>\n			<li>\n				<a href="{{url}}/api/login/renren-auth" target="_blank" class="renren" hidefocus>人人账号</a>\n			</li>\n			<li>\n				<a href="{{url}}/api/login/baidu-auth" target="_blank" class="baidu" hidefocus>百度帐号</a>\n			</li>\n		</ul>\n		<div class="loginbox-placehold"></div>\n		<p class="text">快捷登录，无需注册</p>\n		<p class="text">与你的朋友分享你的爱！</p>\n	</div>\n	<div class="site">\n		<p class="title">音悦Tai账号登录</p>\n		<form id="loginBoxForm" action="https://login.yinyuetai.com/login-ajax" method="post">\n			<p class="errorinfo">错误信息提示</p>\n			<div class="email focuss">\n				<input type="text" name="email" placeholder="您的邮箱地址或绑定手机"/>\n			</div>\n			<div class="password">\n				<input type="password" class="pwd" placeholder="请输入密码"/>\n			</div>\n			<div id="captcha"></div>\n			<div>\n				<p class="autologin"><input type="checkbox" id="autocheckbox" name="autologin" checked hidefocus/><label for="autocheckbox">下次自动登录</label></p>\n				<a class="forgot" href="{{url}}/forgot-password" target="_blank" hidefocus>忘记密码</a>\n			</div>\n			<div>\n				<input class="submit" type="submit" hidefocus/>\n				<p class="reg">还没有音悦Tai账号？<a href="{{url}}/register" target="_blank" hidefocus>立即注册！</a></p>\n			</div>\n		</form>\n	</div>\n</div>'},function(e,t,n){function i(e){return d(o(p(e),8*e.length))}function r(e){var t=i(e);return t=t.substring(8,24),g(t)}function o(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var n=1732584193,i=-271733879,r=-1732584194,o=271733878,s=0;s<e.length;s+=16){var h=n,p=i,d=r,g=o;n=a(n,i,r,o,e[s+0],7,-680876936),o=a(o,n,i,r,e[s+1],12,-389564586),r=a(r,o,n,i,e[s+2],17,606105819),i=a(i,r,o,n,e[s+3],22,-1044525330),n=a(n,i,r,o,e[s+4],7,-176418897),o=a(o,n,i,r,e[s+5],12,1200080426),r=a(r,o,n,i,e[s+6],17,-1473231341),i=a(i,r,o,n,e[s+7],22,-45705983),n=a(n,i,r,o,e[s+8],7,1770035416),o=a(o,n,i,r,e[s+9],12,-1958414417),r=a(r,o,n,i,e[s+10],17,-42063),i=a(i,r,o,n,e[s+11],22,-1990404162),n=a(n,i,r,o,e[s+12],7,1804603682),o=a(o,n,i,r,e[s+13],12,-40341101),r=a(r,o,n,i,e[s+14],17,-1502002290),i=a(i,r,o,n,e[s+15],22,1236535329),n=c(n,i,r,o,e[s+1],5,-165796510),o=c(o,n,i,r,e[s+6],9,-1069501632),r=c(r,o,n,i,e[s+11],14,643717713),i=c(i,r,o,n,e[s+0],20,-373897302),n=c(n,i,r,o,e[s+5],5,-701558691),o=c(o,n,i,r,e[s+10],9,38016083),r=c(r,o,n,i,e[s+15],14,-660478335),i=c(i,r,o,n,e[s+4],20,-405537848),n=c(n,i,r,o,e[s+9],5,568446438),o=c(o,n,i,r,e[s+14],9,-1019803690),r=c(r,o,n,i,e[s+3],14,-187363961),i=c(i,r,o,n,e[s+8],20,1163531501),n=c(n,i,r,o,e[s+13],5,-1444681467),o=c(o,n,i,r,e[s+2],9,-51403784),r=c(r,o,n,i,e[s+7],14,1735328473),i=c(i,r,o,n,e[s+12],20,-1926607734),n=l(n,i,r,o,e[s+5],4,-378558),o=l(o,n,i,r,e[s+8],11,-2022574463),r=l(r,o,n,i,e[s+11],16,1839030562),i=l(i,r,o,n,e[s+14],23,-35309556),n=l(n,i,r,o,e[s+1],4,-1530992060),o=l(o,n,i,r,e[s+4],11,1272893353),r=l(r,o,n,i,e[s+7],16,-155497632),i=l(i,r,o,n,e[s+10],23,-1094730640),n=l(n,i,r,o,e[s+13],4,681279174),o=l(o,n,i,r,e[s+0],11,-358537222),r=l(r,o,n,i,e[s+3],16,-722521979),i=l(i,r,o,n,e[s+6],23,76029189),n=l(n,i,r,o,e[s+9],4,-640364487),o=l(o,n,i,r,e[s+12],11,-421815835),r=l(r,o,n,i,e[s+15],16,530742520),i=l(i,r,o,n,e[s+2],23,-995338651),n=u(n,i,r,o,e[s+0],6,-198630844),o=u(o,n,i,r,e[s+7],10,1126891415),r=u(r,o,n,i,e[s+14],15,-1416354905),i=u(i,r,o,n,e[s+5],21,-57434055),n=u(n,i,r,o,e[s+12],6,1700485571),o=u(o,n,i,r,e[s+3],10,-1894986606),r=u(r,o,n,i,e[s+10],15,-1051523),i=u(i,r,o,n,e[s+1],21,-2054922799),n=u(n,i,r,o,e[s+8],6,1873313359),o=u(o,n,i,r,e[s+15],10,-30611744),r=u(r,o,n,i,e[s+6],15,-1560198380),i=u(i,r,o,n,e[s+13],21,1309151649),n=u(n,i,r,o,e[s+4],6,-145523070),o=u(o,n,i,r,e[s+11],10,-1120210379),r=u(r,o,n,i,e[s+2],15,718787259),i=u(i,r,o,n,e[s+9],21,-343485551),n=f(n,h),i=f(i,p),r=f(r,d),o=f(o,g)}return Array(n,i,r,o)}function s(e,t,n,i,r,o){return f(h(f(f(t,e),f(i,o)),r),n)}function a(e,t,n,i,r,o,a){return s(t&n|~t&i,e,t,r,o,a)}function c(e,t,n,i,r,o,a){return s(t&i|n&~i,e,t,r,o,a)}function l(e,t,n,i,r,o,a){return s(t^n^i,e,t,r,o,a)}function u(e,t,n,i,r,o,a){return s(n^(t|~i),e,t,r,o,a)}function f(e,t){var n=(65535&e)+(65535&t),i=(e>>16)+(t>>16)+(n>>16);return i<<16|65535&n}function h(e,t){return e<<t|e>>>32-t}function p(e){for(var t=Array(),n=(1<<y)-1,i=0;i<e.length*y;i+=y)t[i>>5]|=(e.charCodeAt(i/y)&n)<<i%32;return t}function d(e){for(var t="0123456789abcdef",n="",i=0;i<4*e.length;i++)n+=t.charAt(e[i>>2]>>i%4*8+4&15)+t.charAt(e[i>>2]>>i%4*8&15);return n}function g(e){for(var t="",n=e.length-1;n>=0;n--)t+=e.charAt(n);return t}function m(e,t){return 13!=t.length?(alert("timesign error !!!"),""):i(i(e)+t.substring(5,11))}function v(e,t){return 13!=t.length?(alert("timesign error !!!"),""):i(r(e)+t.substring(5,11))}var y=8,b=n(32);e.exports=function(e){var t,n,i,r;return t=""+(new Date).getTime(),n=g(t),e&&0!=e.length?(i=m(e,t),r=v(e,n)):(i=m(t,n),r=v(n,t)),b.set("p2",r,{domain:"yinyuetai.com",path:"/"}),{_t:t,_p1:i,_p2:r}}},function(e,t,n){(function(t){"use strict";!function(n){"object"==typeof self&&self.self==self&&self||"object"==typeof t&&t.global==t&&t;e.exports=n()}(function(){return{get:function(e){var t,n=encodeURIComponent(e)+"=",i=document.cookie.indexOf(n),r=null;return i>-1&&(t=document.cookie.indexOf(";",i),-1==t&&(t=document.cookie.length),r=decodeURIComponent(document.cookie.substring(i+n.length,t))),r},set:function(e,t,n,i,r,o){var s=encodeURIComponent(e)+"="+encodeURIComponent(t);n instanceof Date&&(s+="; expires="+n.toUTCString()),i&&(s+="; path="+i),r&&(s+="; domain="+r),o&&(s+="; secure"),document.cookie=s},unset:function(e,t,n,i){this.set(e,"",new Date(0),t,n,i)},version:"0.0.1"}})}).call(t,function(){return this}())},function(e,t){e.exports='<div style="padding: 20px 30px;">\n	<p>您好像还没有进行邮箱验证。</p>\n	<p>为不影响部分功能的使用，请先进行 \n		<a href="{homeSite}/settings/bind" target="_blank" class="special f14">邮箱验证</a>\n	</p>\n</div>'},,,,,,,,,,,,,function(e,t){var n={};n.dom={getById:function(e){return document.getElementById(e)},get:function(e){return"string"==typeof e?document.getElementById(e):e},createElementIn:function(e,t,i,r){var o,s=(t=n.dom.get(t)||document.body).ownerDocument.createElement(e||"div");if("object"==typeof r)for(o in r)"class"==o?s.className=r[o]:"style"==o?s.style.cssText=r[o]:s[o]=r[o];return i?t.insertBefore(s,t.firstChild):t.appendChild(s),s},getStyle:function(e,t){if(e=n.dom.get(e),!e||9==e.nodeType)return null;var i=document.defaultView&&document.defaultView.getComputedStyle,r=i?document.defaultView.getComputedStyle(e,""):null;switch(t){case"float":t=i?"cssFloat":"styleFloat";break;case"opacity":if(i)return parseFloat((r||e.style)[t]);var o=100;try{o=e.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(s){try{o=e.filters("alpha").opacity}catch(s){}}return o/100;case"backgroundPositionX":if(i)return t="backgroundPosition",(r||e.style)[t].split(" ")[0];break;case"backgroundPositionY":if(i)return t="backgroundPosition",(r||e.style)[t].split(" ")[1]}return i?(r||e.style)[t]:e.currentStyle[t]||e.style[t]},setStyle:function(e,t,i){if(!(e=n.dom.get(e))||1!=e.nodeType)return!1;var r,o=!0,s=(r=document.defaultView)&&r.getComputedStyle,a=/z-?index|font-?weight|opacity|zoom|line-?height/i;"string"==typeof t&&(r=t,t={},t[r]=i);for(var c in t){if(i=t[c],"float"==c)c=s?"cssFloat":"styleFloat";else if("opacity"==c)s||(c="filter",i=i>=1?"":"alpha(opacity="+Math.round(100*i)+")");else if(("backgroundPositionX"==c||"backgroundPositionY"==c)&&(r="X"==c.slice(-1)?"Y":"X",s)){var l=n.dom.getStyle(e,"backgroundPosition"+r);c="backgroundPosition","number"==typeof i&&(i+="px"),i="Y"==r?i+" "+(l||"top"):(l||"left")+" "+i}"undefined"!=typeof e.style[c]?(e.style[c]=i+("number"!=typeof i||a.test(c)?"":"px"),o=o&&!0):o=o&&!1}return o},getScrollTop:function(e){var t=e||document;return Math.max(t.documentElement.scrollTop,t.body.scrollTop)},getClientHeight:function(e){var t=e||document;return"CSS1Compat"==t.compatMode?t.documentElement.clientHeight:t.body.clientHeight}},n.string={RegExps:{trim:/^\s+|\s+$/g,ltrim:/^\s+/,rtrim:/\s+$/,nl2br:/\n/g,s2nb:/[\x20]{2}/g,URIencode:/[\x09\x0A\x0D\x20\x21-\x29\x2B\x2C\x2F\x3A-\x3F\x5B-\x5E\x60\x7B-\x7E]/g,escHTML:{re_amp:/&/g,re_lt:/</g,re_gt:/>/g,re_apos:/\x27/g,re_quot:/\x22/g},escString:{bsls:/\\/g,sls:/\//g,nl:/\n/g,rt:/\r/g,tab:/\t/g},restXHTML:{re_amp:/&amp;/g,re_lt:/&lt;/g,re_gt:/&gt;/g,re_apos:/&(?:apos|#0?39);/g,re_quot:/&quot;/g},write:/\{(\d{1,2})(?:\:([xodQqb]))?\}/g,isURL:/^(?:ht|f)tp(?:s)?\:\/\/(?:[\w\-\.]+)\.\w+/i,cut:/[\x00-\xFF]/,getRealLen:{r0:/[^\x00-\xFF]/g,r1:/[\x00-\xFF]/g},format:/\{([\d\w\.]+)\}/g},commonReplace:function(e,t,n){return e.replace(t,n)},format:function(e){var t,i=Array.prototype.slice.call(arguments);return e=String(i.shift()),1==i.length&&"object"==typeof i[0]&&(i=i[0]),n.string.RegExps.format.lastIndex=0,e.replace(n.string.RegExps.format,function(e,r){return t=n.object.route(i,r),void 0===t?e:t})}},n.object={routeRE:/([\d\w_]+)/g,route:function(e,t){e=e||{},t=String(t);var i,r=n.object.routeRE;for(r.lastIndex=0;null!==(i=r.exec(t))&&(e=e[i[0]],void 0!==e&&null!==e););return e}};var i=n.userAgent={},r=navigator.userAgent;i.ie=9-(r.indexOf("Trident/5.0")>-1?0:1)-(window.XDomainRequest?0:1)-(window.XMLHttpRequest?0:1),"undefined"==typeof n.msgbox&&(n.msgbox={}),n.msgbox._timer=null,n.msgbox.loadingAnimationPath=n.msgbox.loadingAnimationPath||"loading.gif",n.msgbox.show=function(e,t,i,r){"number"==typeof r&&(r={topPosition:r}),r=r||{};var o,s=n.msgbox,a='<span class="zeng_msgbox_layer" style="display:none;z-index:10000;" id="mode_tips_v2"><span class="gtl_ico_{type}"></span>{loadIcon}{msgHtml}<span class="gtl_end"></span></span>',c='<span class="gtl_ico_loading"></span>',l=[0,0,0,0,"succ","fail","clear"];s._loadCss&&s._loadCss(r.cssPath),o=n.dom.get("q_Msgbox")||n.dom.createElementIn("div",document.body,!1,{className:"zeng_msgbox_layer_wrap"}),o.id="q_Msgbox",o.style.display="",o.innerHTML=n.string.format(a,{type:l[t]||"hits",msgHtml:e||"",loadIcon:6==t?c:""}),s._setPosition(o,i,r.topPosition)},n.msgbox._setPosition=function(e,t,i){t=t||5e3;var r=n.msgbox,o=n.dom.getScrollTop(),s=n.dom.getClientHeight(),a=Math.floor(s/2)-40;n.dom.setStyle(e,"top",("BackCompat"==document.compatMode||n.userAgent.ie<7?o:0)+("number"==typeof i?i:a)+"px"),clearTimeout(r._timer),e.firstChild.style.display="",t&&(r._timer=setTimeout(r.hide,t))},n.msgbox.hide=function(e){var t=n.msgbox;e?(clearTimeout(t._timer),t._timer=setTimeout(t._hide,e)):t._hide()},n.msgbox._hide=function(){var e=n.dom.get("q_Msgbox"),t=n.msgbox;if(clearTimeout(t._timer),e){e.firstChild;n.dom.setStyle(e,"display","none")}},e.exports={showError:function(e){n.msgbox.show(e,5,1e3)},showTip:function(e){n.msgbox.show(e,1,1e3)},showOK:function(e){n.msgbox.show(e,4,1e3)},showLoading:function(e){n.msgbox.show(e,6,1e3)},show:function(e,t,i,r){n.msgbox.show(e,t,i,r)},hide:function(e){n.msgbox.hide(e)}}},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i=n(11),r=n(65),o=i.extend({clientRender:!1,el:"#topBar",events:{},beforeMount:function(){this.loginUserView=new r},afterMount:function(){},ready:function(){var e=this;this.loginUserView.on("topbar-logined",function(){e.trigger("logined")})},showLoginDialog:function(){this.loginUserView.showDialog()},hideLoginDialog:function(){this.loginUserView.hideDialog()}}),s=null;o.sharedInstanceTopBarView=function(){return s||(s=new o),s},e.exports=o},function(e,t,n){"use strict";var i=n(11),r=n(22),o=r.sharedInstanceUserModel(),s=n(27),a=n(66),c=n(67),l=n(20),u=window,f=u.location,h=n(18),p=h.sharedInstanceIMModel(),d=i.extend({clientRender:!1,el:"#loginUser",events:{"click #login":"loginHandler","click .show-drop-menu":"showDropMenu","click #logout":"logoutHandler","mouseover .hoverMenu":"nameHover","mouseout .hoverMenu":"nameOut"},beforeMount:function(){this._dialog=null},afterMount:function(){this.loginBox=s(),this._dialog=this.loginBox.dialog,this.userDromMenu=this.$el.find(".pcNav")},ready:function(){o.isLogined()?this.fetchUserInfo():this.$el.html(a),this.hideDropMenu(),this.defineEventInterface()},loginHandler:function(e){e.preventDefault();var t=this,n=this._dialog.status();"hide"===n?(this._dialog.trigger("show"),this._dialog.once("hide",function(){o.isLogined()&&(t.fetchUserInfo(),t.trigger("topbar-logined"))})):this._dialog.trigger("hide")},logoutHandler:function(e){l.remove("imSig"),l.set("signout",1),f.href="/web/login.html"},fetchUserInfo:function(){var e=this;p.fetchIMUserSig(function(t){var n={userName:t.nickName,bigheadImg:t.largeAvatar};e.render(n)})},render:function(e){var t=this.compileHTML(c,e);this.$el.html(t),this.showDropMenuEle=$(".loginMsg .pcNav")},showDropMenu:function(e){return e.preventDefault(),this.showDropMenuEle.toggle(),!1},hideDropMenu:function(){var e=this;$(document).on("click",function(){e.showDropMenuEle&&e.showDropMenuEle.hide()})},showDialog:function(){var e=this;this._dialog.trigger("show"),this._dialog.once("hide",function(){o.isLogined()&&e.trigger("topbar-logined")})},hideDialog:function(){this._dialog.trigger("hide")},defineEventInterface:function(){var e=this;Backbone.on("event:userProfileChanged",function(t){var n={userName:t.nickName,bigheadImg:t.headImg};e.render(n)})},nameHover:function(){this.showDropMenuEle.show()},nameOut:function(){this.showDropMenuEle.hide()}});e.exports=d},function(e,t){e.exports='<div class="PcMsg fl">\n	<a class="user-login" href="#" id="login">登陆</a>\n</div>'},function(e,t){e.exports='<div class="avator fl">\n	<img style="width: 40px; height: 40px;" src="{{bigheadImg}}" alt="用户头像">\n</div>\n<div class="loginMsg fl hoverMenu">\n	<a class="user-name show-drop-menu" href="#">{{userName}}<span></span></a>\n	<ul class="pcNav hoverMenu">\n	   	<li><a href="/web/anchorsetting.html">个人中心</a></li>\n	   	<li><span class="header-logout" id="logout">退出</span></li>\n	</ul>\n</div>\n'}]);
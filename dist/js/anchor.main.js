webpackJsonp([0],[function(t,n,e){$(function(){var t=e(6);new t;var n=e(50);new n,e(54)})},,,,,,function(t,n,e){"use strict";var r=e(7),s=e(13),i=e(28),o=e(16),a=s.sharedInstanceUserModel(),c=r.extend({clientRender:!1,el:"#anchorContainerBg",events:{},beforeMount:function(){var t=o.parse(location.href);this.roomId=1|t.query.roomId,this.roomId||this.goBack(),this.roomDetail=new i},afterMount:function(){},ready:function(){this.userVerify()},userVerify:function(){var t=this;a.isLogined()?(this.roomDetail.setChangeURL({accessToken:a.getToken(),roomId:this.roomId}),t.initRoom(),t.renderPage()):t.goBack()},initRoom:function(){this.roomDetail.executeGET(function(t){$(document).trigger("event:roomInfoReady",t.data)},function(t){})},renderPage:function(){var t=e(29);new t;var n=e(32);new n;var r=e(36);new r;var s=e(43);new s;var i=e(47);new i},goBack:function(){window.location.href="/web/anchor-setting.html"}});t.exports=c},,,,,,,,,,,,,,,,,,,,,,function(t,n,e){"use strict";var r=e(14),s=r.extend({url:'{{url_prefix}}/room/detail.json?deviceinfo={"aid":"30001001"}&access_token=web-{{accessToken}}&roomId={{roomId}}',beforeEmit:function(t){}});t.exports=s},function(t,n,e){var r=e(7),s=e(30),i=r.extend({el:"#edit_background",rawLoader:function(){return e(31)},events:{"click .id":"handler"},elements:{"#id":"xxBtn"},beforeMount:function(){this.editBgModel=new s},afterMount:function(){this.changeBgBtn=$(".edit_bg_btn")},ready:function(){this.editBgModel.execute(function(t){this.$get("items")},function(t){}),this.on("event-name",function(t){})}});t.exports=i},function(t,n,e){var r=e(14),s=r.extend({url:"{{url_prefix}}/",beforeEmit:function(t){}});t.exports=s},function(t,n){t.exports='<div class="title fl">20160408金在中出道纪念会</div>\r\n<div class="popularity fl">人气:<span>336</span></div>\r\n<div class="edit_bg_btn fr">更换主题背景</div>\r\n<!--上传图片弹出层-->\r\n<div style="display: none;" class="shadow_screen">\r\n  <div class="shadow"></div>\r\n  <div class="edit_Bg_form">\r\n    <h2 class="edit_title">背景图设置<span class="upload-status">正在上传</span><span  class="upload-status">上传完成!</span><span class="close">X</span></h2>\r\n    <div class="formCon clearfix">\r\n      <div class="imgBox fl">\r\n        <img src="" alt="" style="display: none;">\r\n      </div>\r\n      <div class="formBox fl">\r\n        <form action="">\r\n          <div class="pseudo-uploadBtn">\r\n            上传图片\r\n            <input type="file" name="" id="file">\r\n          </div>\r\n          <p>支持5M以内的gif、jpg、jpge、png图片上传</p>\r\n          <div class="submit">保存</div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n'},function(t,n,e){var r=e(7),s=(e(33),r.extend({el:"#currentAnchorInfo",rawLoader:function(){return e(34)},events:{},beforeMount:function(){this.infoTpl=e(35)},afterMount:function(){this.roomInfoWrap=$("#roomInfoWrap")},ready:function(){this.defineEventInterface()},defineEventInterface:function(){var t=this;$(document).on("event:roomInfoReady",function(n,e){var r=_.template(t.infoTpl),s=r(e);t.roomInfoWrap.append(s)})}}));t.exports=s},function(t,n,e){var r=e(14),s=r.extend({url:"{{url_prefix}}/",beforeEmit:function(t){}});t.exports=s},function(t,n){t.exports='<!--<span class="anchor_avator fl"></span>-->\r\n<img id="imgRoomPic" src="" alt="" class="anchor_avator fl">\r\n<dl class="anchorMsg fl" id="roomInfoWrap">\r\n</dl>\r\n'},function(t,n){t.exports="<dt><%=roomName%></dt>\r\n<dd>在线人数:<span><%=onlineMax%></span></dd>\r\n<dd>标签:<i>金在中</i><i>金在</i></dd>"},function(t,n,e){var r=e(7),s=e(37),i=e(39),o=(e(16),e(40),r.extend({el:"#anchorCtrlChat",rawLoader:function(){return e(41)},events:{"click #btn-clear":"clearHandler","click #btn-lock":"lockHandler","click #msgList":"messageClickHandler"},beforeMount:function(){this.roomMsgModel=new i},afterMount:function(){this.themeBgEle=$("#anchorContainerBg"),this.messageTpl="",this.msgList=$("#msgList"),this.chatHistory=$("#chatHistory"),this.defineEventInterface(),s.init({listeners:{onMsgNotify:this.onMsgNotify,onGroupInfoChangeNotify:this.onGroupInfoChangeNotify,groupSystemNotifys:{1:this.groupSystemNotifys,2:this.groupSystemNotifys,3:this.groupSystemNotifys,4:this.groupSystemNotifys,5:this.groupSystemNotifys,6:this.groupSystemNotifys,7:this.groupSystemNotifys,8:this.groupSystemNotifys,9:this.groupSystemNotifys,10:this.groupSystemNotifys,11:this.groupSystemNotifys,255:this.groupSystemNotifys}}})},ready:function(){s.getRoomMsgs.call(this,this.renderGroupMsgs)},clearHandler:function(){s.clearScreen()},lockHandler:function(){s.lockScreen()},messageClickHandler:function(t){var n,e;n=$(t.target).parent(),n.hasClass("controls_forbid_reject")?this.msgControlHandler(t):(e=$(t.target).parents("li"),this.showMsgControlMenu(e))},showMsgControlMenu:function(t){if(!(t.length<=0)){var n=t.find(".controls_forbid_reject"),e=$("#msgList li").index(t);$(".controls_forbid_reject").not(n).hide(),0===e&&n.css("margin-top","33px"),n.toggle()}},msgControlHandler:function(t){var n=$(t.target);"禁言"===n.text()?s.disableSendMsg():"踢出"===n.text()&&s.removeUserFromGroup()},renderGroupMsgs:function(t){var n=this;t&&t.length>0;for(var e=0,r=t.length;r>e;e++)n.addMessage(t[e])},onMsgNotify:function(t){},onGroupInfoChangeNotify:function(t){},groupSystemNotifys:function(t){},getMessageTpl:function(){return e(42)},addMessage:function(t){var n=_.template(this.getMessageTpl());this.msgList.append(n(t)),this.chatHistory.scrollTop(this.msgList.height())},autoAddMsg:function(){var t=this;setInterval(function(){t.addMessage({name:"123123",msg:"ppppp"})},1500)},startLiveClick:function(t){var n=this;return this.roomInfo?void s.createIMChatRoom(function(t){n.startLive(t)},function(t){}):""},startLive:function(t){},defineEventInterface:function(){var t=this;$(document).on("eventStartLiveShow",function(n,e){t.startLiveClick(e)}),$(document).on("event:roomInfoReady",function(n,e){e&&(t.roomInfo=e)})},getMessageFromServer:function(){}}));t.exports=o},function(t,n,e){"use strict";var r=(e(38),e(15)),s={setting:{listeners:{onMsgNotify:null,onGroupInfoChangeNotify:null,groupSystemNotifys:null}}};s.init=function(t){this.options=t,this.setting=_.extend(this.setting,t);var n=r.get("imSig");n&&t&&webim.init({sdkAppID:n.imAppid,appIDAt3rd:n.imAppid,accountType:n.imAccountType,identifier:n.imIdentifier,userSig:n.userSig},this.setting.listeners,null)},s.clearScreen=function(){},s.lockScreen=function(){},s.disableSendMsg=function(){},s.removeUserFromGroup=function(){},s.msgNotify=function(t){},s.getRoomMsgs=function(t){for(var n=[],e=1;;){if(e++>20)break;n.push({name:"Aaron-"+e,msg:"asdfasdfasfjaslfjasklfasdklf"+e})}t&&t.call(this,n)},s.createIMChatRoom=function(t,n){var e=r.get("imSig"),s={Owner_Account:e.imIdentifier,Type:"ChatRoom",Name:"测试聊天室",Notification:"",Introduction:"",MemberList:[]};webim.createGroup(s,function(n){t&&t(n)},function(t){n&&n(t)})},s.getGroupInfo=function(t,n,e){var r={GroupIdList:[group_id],GroupBaseInfoFilter:["Type","Name","Introduction","Notification","FaceUrl","CreateTime","Owner_Account","LastInfoTime","LastMsgTime","NextMsgSeq","MemberNum","MaxMemberNum","ApplyJoinOption"],MemberInfoFilter:["Account","Role","JoinTime","LastSendMsgTime","ShutUpUntil"]};webim.getGroupInfo(r,function(t){n&&n(t)},function(t){alert(t.ErrorInfo),e&&e(t)})},t.exports=s},,function(t,n,e){"use strict";var r=e(14),s=r.extend({url:'{{url_prefix}}/message/get.json?deviceinfo={"aid":"30001001"}&access_token=web-{{accessToken}}&roomId={{roomId}}&startTime={{startTime}}&endTime={{endTime}}&cursor={{cursor}}&limit={{limit}}',beforeEmit:function(t){}});t.exports=s},function(t,n){var e={};e.dom={getById:function(t){return document.getElementById(t)},get:function(t){return"string"==typeof t?document.getElementById(t):t},createElementIn:function(t,n,r,s){var i,o=(n=e.dom.get(n)||document.body).ownerDocument.createElement(t||"div");if("object"==typeof s)for(i in s)"class"==i?o.className=s[i]:"style"==i?o.style.cssText=s[i]:o[i]=s[i];return r?n.insertBefore(o,n.firstChild):n.appendChild(o),o},getStyle:function(t,n){if(t=e.dom.get(t),!t||9==t.nodeType)return null;var r=document.defaultView&&document.defaultView.getComputedStyle,s=r?document.defaultView.getComputedStyle(t,""):null;switch(n){case"float":n=r?"cssFloat":"styleFloat";break;case"opacity":if(r)return parseFloat((s||t.style)[n]);var i=100;try{i=t.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(o){try{i=t.filters("alpha").opacity}catch(o){}}return i/100;case"backgroundPositionX":if(r)return n="backgroundPosition",(s||t.style)[n].split(" ")[0];break;case"backgroundPositionY":if(r)return n="backgroundPosition",(s||t.style)[n].split(" ")[1]}return r?(s||t.style)[n]:t.currentStyle[n]||t.style[n]},setStyle:function(t,n,r){if(!(t=e.dom.get(t))||1!=t.nodeType)return!1;var s,i=!0,o=(s=document.defaultView)&&s.getComputedStyle,a=/z-?index|font-?weight|opacity|zoom|line-?height/i;"string"==typeof n&&(s=n,n={},n[s]=r);for(var c in n){if(r=n[c],"float"==c)c=o?"cssFloat":"styleFloat";else if("opacity"==c)o||(c="filter",r=r>=1?"":"alpha(opacity="+Math.round(100*r)+")");else if(("backgroundPositionX"==c||"backgroundPositionY"==c)&&(s="X"==c.slice(-1)?"Y":"X",o)){var l=e.dom.getStyle(t,"backgroundPosition"+s);c="backgroundPosition","number"==typeof r&&(r+="px"),r="Y"==s?r+" "+(l||"top"):(l||"left")+" "+r}"undefined"!=typeof t.style[c]?(t.style[c]=r+("number"!=typeof r||a.test(c)?"":"px"),i=i&&!0):i=i&&!1}return i},getScrollTop:function(t){var n=t||document;return Math.max(n.documentElement.scrollTop,n.body.scrollTop)},getClientHeight:function(t){var n=t||document;return"CSS1Compat"==n.compatMode?n.documentElement.clientHeight:n.body.clientHeight}},e.string={RegExps:{trim:/^\s+|\s+$/g,ltrim:/^\s+/,rtrim:/\s+$/,nl2br:/\n/g,s2nb:/[\x20]{2}/g,URIencode:/[\x09\x0A\x0D\x20\x21-\x29\x2B\x2C\x2F\x3A-\x3F\x5B-\x5E\x60\x7B-\x7E]/g,escHTML:{re_amp:/&/g,re_lt:/</g,re_gt:/>/g,re_apos:/\x27/g,re_quot:/\x22/g},escString:{bsls:/\\/g,sls:/\//g,nl:/\n/g,rt:/\r/g,tab:/\t/g},restXHTML:{re_amp:/&amp;/g,re_lt:/&lt;/g,re_gt:/&gt;/g,re_apos:/&(?:apos|#0?39);/g,re_quot:/&quot;/g},write:/\{(\d{1,2})(?:\:([xodQqb]))?\}/g,isURL:/^(?:ht|f)tp(?:s)?\:\/\/(?:[\w\-\.]+)\.\w+/i,cut:/[\x00-\xFF]/,getRealLen:{r0:/[^\x00-\xFF]/g,r1:/[\x00-\xFF]/g},format:/\{([\d\w\.]+)\}/g},commonReplace:function(t,n,e){return t.replace(n,e)},format:function(t){var n,r=Array.prototype.slice.call(arguments);return t=String(r.shift()),1==r.length&&"object"==typeof r[0]&&(r=r[0]),e.string.RegExps.format.lastIndex=0,t.replace(e.string.RegExps.format,function(t,s){return n=e.object.route(r,s),void 0===n?t:n})}},e.object={routeRE:/([\d\w_]+)/g,route:function(t,n){t=t||{},n=String(n);var r,s=e.object.routeRE;for(s.lastIndex=0;null!==(r=s.exec(n))&&(t=t[r[0]],void 0!==t&&null!==t););return t}};var r=e.userAgent={},s=navigator.userAgent;r.ie=9-(s.indexOf("Trident/5.0")>-1?0:1)-(window.XDomainRequest?0:1)-(window.XMLHttpRequest?0:1),"undefined"==typeof e.msgbox&&(e.msgbox={}),e.msgbox._timer=null,e.msgbox.loadingAnimationPath=e.msgbox.loadingAnimationPath||"loading.gif",e.msgbox.show=function(t,n,r,s){"number"==typeof s&&(s={topPosition:s}),s=s||{};var i,o=e.msgbox,a='<span class="zeng_msgbox_layer" style="display:none;z-index:10000;" id="mode_tips_v2"><span class="gtl_ico_{type}"></span>{loadIcon}{msgHtml}<span class="gtl_end"></span></span>',c='<span class="gtl_ico_loading"></span>',l=[0,0,0,0,"succ","fail","clear"];o._loadCss&&o._loadCss(s.cssPath),i=e.dom.get("q_Msgbox")||e.dom.createElementIn("div",document.body,!1,{className:"zeng_msgbox_layer_wrap"}),i.id="q_Msgbox",i.style.display="",i.innerHTML=e.string.format(a,{type:l[n]||"hits",msgHtml:t||"",loadIcon:6==n?c:""}),o._setPosition(i,r,s.topPosition)},e.msgbox._setPosition=function(t,n,r){n=n||5e3;var s=e.msgbox,i=e.dom.getScrollTop(),o=e.dom.getClientHeight(),a=Math.floor(o/2)-40;e.dom.setStyle(t,"top",("BackCompat"==document.compatMode||e.userAgent.ie<7?i:0)+("number"==typeof r?r:a)+"px"),clearTimeout(s._timer),t.firstChild.style.display="",n&&(s._timer=setTimeout(s.hide,n))},e.msgbox.hide=function(t){var n=e.msgbox;t?(clearTimeout(n._timer),n._timer=setTimeout(n._hide,t)):n._hide()},e.msgbox._hide=function(){var t=e.dom.get("q_Msgbox"),n=e.msgbox;if(clearTimeout(n._timer),t){t.firstChild;e.dom.setStyle(t,"display","none")}},t.exports={showError:function(t){e.msgbox.show(t,5,1e3)},showTip:function(t){e.msgbox.show(t,1,1e3)},showOK:function(t){e.msgbox.show(t,4,1e3)},showLoading:function(t){e.msgbox.show(t,6,1e3)},show:function(t,n,r,s){e.msgbox.show(t,n,r,s)},hide:function(t){e.msgbox.hide(t)}}},function(t,n){t.exports='<div class="controls clearfix">\r\n  <div id="btn-clear" class="fl"><img src="../img/clear.png" alt="">清屏</div>\r\n  <div id="btn-lock" class="fl"><img src="../img/clock.png" alt="" class="lock">锁屏</div>\r\n</div>\r\n<div class="chatCon" id="chatHistory">\r\n  <!--聊天记录-->\r\n  <ul id="msgList">\r\n    <li class="clearfix">\r\n      <img src="../img/visitor_avator.jpg" alt="" class="fl visitor_avator">\r\n      <p class="visitor_chat fl">\r\n        <span class="visitorName">name:</span>\r\n        你说啥说啥说啥说啥说啥说啥说啥呢哈哈哈啊啊哈啊哈啊啊哈啊哈啊哈asdasds\r\n        <span class="time fr">22秒前</span>\r\n      </p>\r\n      <div class="controls_forbid_reject">\r\n        <a href="#" class="forbid">禁言</a>\r\n        <a href="#" class="reject">踢出</a>\r\n      </div>\r\n    </li>\r\n    <li class="clearfix">\r\n      <img src="../img/visitor_avator.jpg" alt="" class="fl visitor_avator">\r\n      <p class="visitor_chat fl">\r\n        <span class="visitorName">name:</span>\r\n        你说啥说啥说啥说啥说\r\n        <span class="time fr">22秒前</span>\r\n      </p>\r\n      <div class="controls_forbid_reject">\r\n        <a href="#" class="forbid">禁言</a>\r\n        <a href="#" class="reject">踢出</a>\r\n      </div>\r\n    </li>\r\n    <li class="clearfix">\r\n      <img src="../img/visitor_avator.jpg" alt="" class="fl visitor_avator">\r\n      <p class="visitor_chat fl">\r\n        <span class="visitorName">name:</span>\r\n        你说啥说啥说啥说啥说\r\n        <span class="time fr">22秒前</span>\r\n      </p>\r\n      <div class="controls_forbid_reject">\r\n        <a href="#" class="forbid">禁言</a>\r\n        <a href="#" class="reject">踢出</a>\r\n      </div>\r\n    </li>\r\n    <li class="clearfix">\r\n      <img src="../img/visitor_avator.jpg" alt="" class="fl visitor_avator">\r\n      <p class="visitor_chat fl">\r\n        <span class="visitorName">name:</span>\r\n        你说啥说啥说啥说啥说\r\n        <span class="time fr">22秒前</span>\r\n      </p>\r\n      <div class="controls_forbid_reject">\r\n        <a href="#" class="forbid">禁言</a>\r\n        <a href="#" class="reject">踢出</a>\r\n      </div>\r\n    </li>\r\n    <li class="clearfix">\r\n      <img src="../img/visitor_avator.jpg" alt="" class="fl visitor_avator">\r\n      <p class="visitor_chat fl">\r\n        <span class="visitorName">name:</span>\r\n        你说啥说啥说啥说啥说\r\n        <span class="time fr">22秒前</span>\r\n      </p>\r\n      <div class="controls_forbid_reject">\r\n        <a href="#" class="forbid">禁言</a>\r\n        <a href="#" class="reject">踢出</a>\r\n      </div>\r\n    </li>\r\n    <li class="clearfix">\r\n      <img src="../img/visitor_avator.jpg" alt="" class="fl visitor_avator">\r\n      <p class="visitor_chat fl">\r\n        <span class="visitorName">name:</span>\r\n        你说啥说啥说啥说啥说\r\n        <span class="time fr">22秒前</span>\r\n      </p>\r\n      <div class="controls_forbid_reject">\r\n        <a href="#" class="forbid">禁言</a>\r\n        <a href="#" class="reject">踢出</a>\r\n      </div>\r\n    </li>\r\n    <li class="clearfix">\r\n      <img src="../img/visitor_avator.jpg" alt="" class="fl visitor_avator">\r\n      <p class="visitor_chat fl">\r\n        <span class="visitorName">name:</span>\r\n        test\r\n        <span class="time fr">22秒前</span>\r\n      </p>\r\n      <div class="controls_forbid_reject">\r\n        <a href="#" class="forbid">禁言</a>\r\n        <a href="#" class="reject">踢出</a>\r\n      </div>\r\n    </li>\r\n    <li class="clearfix">\r\n      <img src="../img/visitor_avator.jpg" alt="" class="fl visitor_avator">\r\n      <p class="visitor_chat fl">\r\n        <span class="visitorName">name:</span>\r\n        test\r\n        <span class="time fr">22秒前</span>\r\n      </p>\r\n      <div class="controls_forbid_reject">\r\n        <a href="#" class="forbid">禁言</a>\r\n        <a href="#" class="reject">踢出</a>\r\n      </div>\r\n    </li>\r\n    <li class="clearfix">\r\n      <img src="../img/visitor_avator.jpg" alt="" class="fl visitor_avator">\r\n      <p class="visitor_chat fl">\r\n        <span class="visitorName">name:</span>\r\n        test\r\n        <span class="time fr">22秒前</span>\r\n      </p>\r\n      <div class="controls_forbid_reject">\r\n        <a href="#" class="forbid">禁言</a>\r\n        <a href="#" class="reject">踢出</a>\r\n      </div>\r\n    </li>\r\n    <li class="clearfix">\r\n      <img src="../img/visitor_avator.jpg" alt="" class="fl visitor_avator">\r\n      <p class="visitor_chat fl">\r\n        <span class="visitorName">name:</span>\r\n        test\r\n        <span class="time fr">22秒前</span>\r\n      </p>\r\n      <div class="controls_forbid_reject">\r\n        <a href="#" class="forbid">禁言</a>\r\n        <a href="#" class="reject">踢出</a>\r\n      </div>\r\n    </li>\r\n    <li class="clearfix">\r\n      <img src="../img/visitor_avator.jpg" alt="" class="fl visitor_avator">\r\n      <p class="visitor_chat fl">\r\n        <span class="visitorName">name:</span>\r\n        test\r\n        <span class="time fr">22秒前</span>\r\n      </p>\r\n      <div class="controls_forbid_reject">\r\n        <a href="#" class="forbid">禁言</a>\r\n        <a href="#" class="reject">踢出</a>\r\n      </div>\r\n    </li>\r\n    <li class="clearfix">\r\n      <img src="../img/visitor_avator.jpg" alt="" class="fl visitor_avator">\r\n      <p class="visitor_chat fl">\r\n        <span class="visitorName">name:</span>\r\n        test\r\n        <span class="time fr">22秒前</span>\r\n      </p>\r\n      <div class="controls_forbid_reject">\r\n        <a href="#" class="forbid">禁言</a>\r\n        <a href="#" class="reject">踢出</a>\r\n      </div>\r\n    </li>\r\n    <li class="clearfix">\r\n      <img src="../img/visitor_avator.jpg" alt="" class="fl visitor_avator">\r\n      <p class="visitor_chat fl">\r\n        <span class="visitorName">name:</span>\r\n        test\r\n        <span class="time fr">22秒前</span>\r\n      </p>\r\n      <div class="controls_forbid_reject">\r\n        <a href="#" class="forbid">禁言</a>\r\n        <a href="#" class="reject">踢出</a>\r\n      </div>\r\n    </li>\r\n    <li class="clearfix">\r\n      <img src="../img/visitor_avator.jpg" alt="" class="fl visitor_avator">\r\n      <p class="visitor_chat fl">\r\n        <span class="visitorName">name:</span>\r\n        test\r\n        <span class="time fr">22秒前</span>\r\n      </p>\r\n      <div class="controls_forbid_reject">\r\n        <a href="#" class="forbid">禁言</a>\r\n        <a href="#" class="reject">踢出</a>\r\n      </div>\r\n    </li>\r\n  </ul>\r\n</div>\r\n'},function(t,n){t.exports='<li class="clearfix">\r\n  <img onerror="this.src=\'../img/visitor_avator.jpg\'" src="../img/visitor_avator.jpg" alt="" class="fl visitor_avator">\r\n  <p class="visitor_chat fl">\r\n    <span class="visitorName"><%=name%>:</span>\r\n    <%=msg%>\r\n    <span class="time fr">22秒前</span>\r\n  </p>\r\n  <div class="controls_forbid_reject">\r\n    <a href="#" class="forbid">禁言</a>\r\n    <a href="#" class="reject">踢出</a>\r\n  </div>\r\n</li>\r\n'},function(t,n,e){"use strict";var r=e(7),s=e(44),i=e(45),o=e(13),a=e(40),c=o.sharedInstanceUserModel(),l=r.extend({el:"#noticeWraper",rawLoader:function(){return e(46)},events:{"click #btnEditNotice":"editClickHandler","click .closeNoticePanel":"panelDisplay","click #btnSubmitNotice":"submitClickHandler"},beforeMount:function(){this.noticeModel=new s,this.noticeGetModel=new i},afterMount:function(){this.editNoticPanel=$("#editNoticPanel"),this.noticeWrap=$("#noticeWrap"),this.txtNotice=$("#txtNotice"),this.imgRoomPic=$("#imgRoomPic"),this.errNoticeTip=$("#errNoticTip")},ready:function(){this.defineEventInterface()},editClickHandler:function(t){this.panelDisplay(!0)},panelDisplay:function(t){this.errNoticeTip.text(""),t===!0?(this.txtNotice.val(this.roomInfo.desc),this.editNoticPanel.show()):this.editNoticPanel.hide()},submitClickHandler:function(t){var n=this.txtNotice.val().trim(),e=this;return!n||n.length>50||n.length<=0?(this.errNoticeTip.text("公告文字请在50字以内"),null):void this.noticeModel.executePOST({roomId:this.roomInfo.id,content:n},function(t){t&&"0"==t.code?($(document).trigger("event:noticeChanged",n),e.roomInfo.desc=n,e.noticeWrap.text(n),e.panelDisplay()):a.showError("数据保存失败,请稍后重试")},function(t){a.showError("数据保存失败,请稍后重试")})},defineEventInterface:function(){var t=this;$(document).on("event:roomInfoReady",function(n,e){e&&(t.roomInfo=e),t.getNoticeInfo(),e.imageUrl&&t.imgRoomPic.attr("src",e.imageUrl)})},getNoticeInfo:function(){var t=this;this.noticeGetModel.setChangeURL({roomId:this.roomInfo.id,accessToken:c.getToken()}),this.noticeGetModel.executeGET(function(n){if(n&&n.data){var e=null;n.data.placards&&(e=n.data.placards[0]),e&&(t.noticeWrap.text(e.content||"暂无公告"),t.txtNotice.val(e.content))}},function(t){})}});t.exports=l},function(t,n,e){"use strict";var r=e(14),s=r.extend({url:"{{url_prefix}}/room/placard_create.json",beforeEmit:function(t){}});t.exports=s},function(t,n,e){"use strict";var r=e(14),s=r.extend({url:'{{url_prefix}}/room/placard_get.json?deviceinfo={"aid":"30001001"}&access_token=web-{{accessToken}}&roomId={{roomId}}',beforeEmit:function(t){}});t.exports=s},function(t,n){t.exports='<h2 class="clearfix annoucement">\r\n    <span class="fl .annoucement_title">公告</span>\r\n    <span id="btnEditNotice" class="fr annoucement_editr">编辑</span>\r\n</h2>\r\n<p id="noticeWrap"></p>\r\n<!--编辑公告弹出框-->\r\n<div id="editNoticPanel" style="display: none;" class="shadow_screen">\r\n    <div class="shadow closeNoticePanel"></div>\r\n    <div class="edit_annmoucement_con">\r\n        <h2 class="edit_title">文字输入<span class="close closeNoticePanel">X</span></h2>\r\n        <div class="editCon">\r\n            <h3>公告内容:</h3>\r\n            <textarea id="txtNotice" placeholder="(公告文字请在50字以内)" maxlength="50"></textarea>\r\n            <div id="errNoticTip" class="errTip"></div>\r\n            <p style="padding-top: 16px;">\r\n                <a href="####" class="cancel closeNoticePanel">取消</a>\r\n                <a id="btnSubmitNotice" href="####" class="submit">确定</a>\r\n            </p>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},function(t,n,e){"use strict";var r=e(7),s=(e(48),r.extend({el:"#liveShowBtnWraper",rawLoader:function(){return e(49)},events:{"click .endLive":"endLiveShow","click .startLive":"startLiveShow"},beforeMount:function(){},afterMount:function(){this.btnEndLive=$(".endLive")},ready:function(){},startLiveShow:function(t){var n=$(t.target);return n.hasClass("m_disabled")?null:(n.addClass("m_disabled"),this.btnEndLive.removeClass("m_disabled"),void $(document).trigger("eventStartLiveShow",{a:1}))},endLiveShow:function(t){var n=$(t.target);return n.hasClass("m_disabled")?null:void n.addClass("m_disabled")}}));t.exports=s},function(t,n,e){"use strict";var r=e(14),s=r.extend({url:"{{url_prefix}}/",beforeEmit:function(t){},formatter:function(t){},getFirst:function(){}});t.exports=s},function(t,n){t.exports='<div class="endLive m_disabled">结束本次直播</div>\r\n<div class="startLive">开启直播</div>\r\n'},,,,,function(t,n){}]);
/**
 * @project yinyuetai_pc_live_video
 * @description 音悦台直播PC版
 * @version v1.0.0
 * @time 2016-3-17   14:3:7
 * @author YYT
 * @copy http://www.yinyuetai.com
 */
!function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n=window.webpackJsonp;window.webpackJsonp=function(r,s){for(var a,c,l=0,u=[];l<r.length;l++)c=r[l],o[c]&&u.push.apply(u,o[c]),o[c]=0;for(a in s)t[a]=s[a];for(n&&n(r,s);u.length;)u.shift().call(null,e);return s[0]?(i[0]=0,e(0)):void 0};var i={},o={2:0};e.e=function(t,n){if(0===o[t])return n.call(null,e);if(void 0!==o[t])o[t].push(n);else{o[t]=[n];var i=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.charset="utf-8",r.async=!0,r.src=e.p+""+t+"."+({0:"anchor.main",1:"anchorSetting.main"}[t]||t)+".js",i.appendChild(r)}},e.m=t,e.c=i,e.p=""}([,,,,,,,,,,function(t,e,n){"use strict";var i=window,o=i.Backbone;if(!o)throw new Error("import Backbone");var r=n(11),s=(n(12),n(15)),a=o.View.extend({initialize:function(t){return void 0===this.clientRender&&this.clientRender!==!1&&(this.clientRender=!0),this._ICEOptions=t||{},this.beforeMount&&"function"==typeof this.beforeMount&&this.beforeMount(),this._ICEOptions.id&&(this.$el=$(this._ICEOptions.id)),this._ICEinit(),this},_ICEinit:function(){var t=this;this.clientRender?"function"==typeof this.rawLoader&&(t._template=this.rawLoader(),t._template&&t.$el.append(t._template),t._ICEAfterMount(),t._ICEObject()):(t._ICEAfterMount(),t._ICEObject())},_ICEAfterMount:function(){"function"==typeof this.afterMount&&this.afterMount()},_ICEObject:function(){this.clientRender&&this._ICEinitEvent(),this._ICEinitNode(),this._store={},this.__YYTPC__=!0,"function"==typeof this.ready&&this.ready(this._ICEOptions)},_ICEinitEvent:function(){this.delegateEvents(this.events)},_ICEinitNode:function(){this.$parent=this._ICEOptions.parent,this.$children=[],this.$root=this.$parent?this.$parent.$root:this,this.$parent&&this.$parent.$children.push(this)},compileHTML:function(t,e){return r.compile(t)(e)},broadcast:function(t){var e="string"==typeof t;t=e?t:t.name;for(var n=s.toArray(arguments,1),i=this.$children,o=0,r=i.length;r>o;o++){var a=i[o];a.trigger.apply(a,n),a.broadcast.apply(a,n)}return this},dispatch:function(t){var e="string"==typeof t;t=e?t:t.name;for(var n=s.toArray(arguments,1),i=this.$parent;i;)i.trigger.apply(i,n),i=i.$parent}});t.exports=a},function(t,e,n){var i;!function(){function o(t){return t.replace($,"").replace(I,",").replace(C,"").replace(E,"").replace(S,"").split(T)}function r(t){return"'"+t.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function s(t,e){function n(t){return h+=t.split(/\n/).length-1,u&&(t=t.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),t&&(t=g[1]+r(t)+g[2]+"\n"),t}function i(t){var n=h;if(l?t=l(t,e):s&&(t=t.replace(/\n/g,function(){return h++,"$line="+h+";"})),0===t.indexOf("=")){var i=f&&!/^=[=#]/.test(t);if(t=t.replace(/^=[=#]?|[\s;]*$/g,""),i){var r=t.replace(/\s*\([^\)]+\)/,"");v[r]||/^(include|print)$/.test(r)||(t="$escape("+t+")")}else t="$string("+t+")";t=g[1]+t+g[2]}return s&&(t="$line="+n+";"+t),_(o(t),function(t){if(t&&!p[t]){var e;e="print"===t?b:"include"===t?w:v[t]?"$utils."+t:y[t]?"$helpers."+t:"$data."+t,x+=t+"="+e+",",p[t]=!0}}),t+"\n"}var s=e.debug,a=e.openTag,c=e.closeTag,l=e.parser,u=e.compress,f=e.escape,h=1,p={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},d="".trim,g=d?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],m=d?"$out+=text;return $out;":"$out.push(text);",b="function(){var text=''.concat.apply('',arguments);"+m+"}",w="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+m+"}",x="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(s?"$line=0,":""),$=g[0],I="return new String("+g[3]+");";_(t.split(a),function(t){t=t.split(c);var e=t[0],o=t[1];1===t.length?$+=n(e):($+=i(e),o&&($+=n(o)))});var C=x+$+I;s&&(C="try{"+C+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+r(t)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var E=new Function("$data","$filename",C);return E.prototype=v,E}catch(S){throw S.temp="function anonymous($data,$filename) {"+C+"}",S}}var a=function(t,e){return"string"==typeof e?w(e,{filename:t}):u(t,e)};a.version="3.0.0",a.config=function(t,e){c[t]=e};var c=a.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},l=a.cache={};a.render=function(t,e){return w(t,e)};var u=a.renderFile=function(t,e){var n=a.get(t)||b({filename:t,name:"Render Error",message:"Template not found"});return e?n(e):n};a.get=function(t){var e;if(l[t])e=l[t];else if("object"==typeof document){var n=document.getElementById(t);if(n){var i=(n.value||n.innerHTML).replace(/^\s*|\s*$/g,"");e=w(i,{filename:t})}}return e};var f=function(t,e){return"string"!=typeof t&&(e=typeof t,"number"===e?t+="":t="function"===e?f(t.call(t)):""),t},h={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},p=function(t){return h[t]},d=function(t){return f(t).replace(/&(?![\w#]+;)|[<>"']/g,p)},g=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},m=function(t,e){var n,i;if(g(t))for(n=0,i=t.length;i>n;n++)e.call(t,t[n],n,t);else for(n in t)e.call(t,t[n],n)},v=a.utils={$helpers:{},$include:u,$string:f,$escape:d,$each:m};a.helper=function(t,e){y[t]=e};var y=a.helpers=v.$helpers;a.onerror=function(t){var e="Template Error\n\n";for(var n in t)e+="<"+n+">\n"+t[n]+"\n\n";"object"==typeof console&&console.error(e)};var b=function(t){return a.onerror(t),function(){return"{Template Error}"}},w=a.compile=function(t,e){function n(n){try{return new r(n,o)+""}catch(i){return e.debug?b(i)():(e.debug=!0,w(t,e)(n))}}e=e||{};for(var i in c)void 0===e[i]&&(e[i]=c[i]);var o=e.filename;try{var r=s(t,e)}catch(a){return a.filename=o||"anonymous",a.name="Syntax Error",b(a)}return n.prototype=r.prototype,n.toString=function(){return r.toString()},o&&e.cache&&(l[o]=n),n},_=v.$each,x="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",$=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,I=/[^\w$]+/g,C=new RegExp(["\\b"+x.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),E=/^\d[^,]*|,\d[^,]*/g,S=/^,+|,+$/g,T=/^$|,+/;c.openTag="{{",c.closeTag="}}";var k=function(t,e){var n=e.split(":"),i=n.shift(),o=n.join(":")||"";return o&&(o=", "+o),"$helpers."+i+"("+t+o+")"};c.parser=function(t){t=t.replace(/^\s/,"");var e=t.split(" "),n=e.shift(),i=e.join(" ");switch(n){case"if":t="if("+i+"){";break;case"else":e="if"===e.shift()?" if("+e.join(" ")+")":"",t="}else"+e+"{";break;case"/if":t="}";break;case"each":var o=e[0]||"$data",r=e[1]||"as",s=e[2]||"$value",c=e[3]||"$index",l=s+","+c;"as"!==r&&(o="[]"),t="$each("+o+",function("+l+"){";break;case"/each":t="});";break;case"echo":t="print("+i+");";break;case"print":case"include":t=n+"("+e.join(",")+");";break;default:if(/^\s*\|\s*[\w\$]/.test(i)){var u=!0;0===t.indexOf("#")&&(t=t.substr(1),u=!1);for(var f=0,h=t.split("|"),p=h.length,d=h[f++];p>f;f++)d=k(d,h[f]);t=(u?"=":"=#")+d}else t=a.helpers[n]?"=#"+n+"("+e.join(",")+");":"="+t}return t},i=function(){return a}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))}()},function(t,e,n){"use strict";var i=n(13),o=n(14),r=function(t,e){i.debug&&o.warn(t,e)};t.exports=r},function(t,e){var n={scheme:"alpha",env:{alpha:{url_prefix:"http://beta.yinyuetai.com:9019"},release:{url_prefix:""}},debug:!0,domains:{urlStatic:"http://s.yytcdn.com",loginSite:"http://login.yinyuetai.com",mainSite:"http://www.yinyuetai.com",mvSite:"http://mv.yinyuetai.com",homeSite:"http://i.yinyuetai.com",vchartSite:"http://vchart.yinyuetai.com",commentSite:"http://comment.yinyuetai.com",playlistSite:"http://pl.yinyuetai.com",searcresiehSite:"http://so.yinyuetai.com",vSite:"http://v.yinyuetai.com",fanSite:"",paySite:"",tradeSite:"",shopSite:"",vipSite:""}};t.exports=n},function(t,e){"use strict";var n={};n.warn=function(t,e){var n=void 0!==typeof console;if(n){if(console.warn("[YYT PC Warning]:"+t),e)throw e;var i=new Error("Warning Stack Trace");console.warn(i.stack)}},t.exports=n},function(t,e,n){(function(e){"use strict";!function(n){"object"==typeof self&&self.self==self&&self||"object"==typeof e&&e.global==e&&e;t.exports=n()}(function(){var t={},e=Object.prototype.toString,n="[object Object]";t.isPlainObject=function(t){return e.call(t)===n},t.isObject=function(t){return null!==t&&"object"==typeof t};var i=Object.prototype.hasOwnProperty;return t.hasOwn=function(t,e){return i.call(t,e)},t.toArray=function(t,e){e=e||0;for(var n=t.length-e,i=new Array(n);n--;)i[n]=t[n+e];return i},t.toType=function(t){return e.call(t)},t.exportToNumber=function(t){if("string"!=typeof t)return t;var e=Number(t);return isNaN(e)?t:e},t})}).call(e,function(){return this}())},,function(t,e,n){"use strict";var i=n(18),o=n(21),r=o.sharedInstanceUserModel(),s=n(19),a=i.extend({url:"{{url_prefix}}/user/sig_get.json",beforeEmit:function(t){this.notTokenURL=this.url},isAnchor:function(){return!!this.$get("data.anchor")},setTokenUrl:function(t){this.url=this.url+'?deviceinfo={"aid":"30001001"}&access_token=web-'+t},setNoTokenUrl:function(){this.url=this.notTokenURL+'?deviceinfo={"aid":"30001001"}'},fetchIMUserSig:function(t,e){var n=s.get("imSig");if(n)return void("function"==typeof t&&(this.$set({data:n}),t(n)));var i=r.getToken();i&&this.setTokenUrl(i),this.execute(function(e){var n=e.data;s.set("imSig",n),"function"==typeof t&&t(n)},function(t){"function"==typeof e&&e(t)})}}),c=null;a.sharedInstanceIMModel=function(){return c||(c=new a),c},t.exports=a},function(t,e,n){"use strict";var i=window,o=i.Backbone;if(!o)throw new Error("import Backbone");var r=n(19),s=(n(20),n(13)),a=n(15),c=(n(12),1314),l=r.expiration,u=[],f=o.Model.extend({options:{},initialize:function(t){this._store={},this._view=null,this._onQueue=[],this._original=null,"function"==typeof this.beforeEmit&&this.beforeEmit(t),this._url=this.url,this.setEnv||this._ICESetEnv(),"string"==typeof this.url&&(this.url=this.url.split("?")[0],this.hostname=this.url)},_ICESetEnv:function(){var t=s.env[s.scheme];/^\{{0,2}(url_prefix)\}{0,2}/.test(this.url)&&(this.url=this.url.replace("{{url_prefix}}",t.url_prefix),this._url=this.url)},_ICESort:function(t,e){var n=t.length;if(2>n)return t;for(var i,o,r,s=0,a=s+1;a>s;s++)for(a=s+1;n>a;a++)i=e.call(this,t[s],t[a]),r=("number"==typeof i?i:i?1:0)>0,r&&(o=t[s],t[s]=t[a],t[a]=o);return t},_ICEOptions:function(){var t=this;return{beforeSend:function(e,n){for(var i in t.headers)e.setRequestHeader(i,t.headers[i])}}},_ICEFetch:function(t,e){var n=this,i=_.extend(this._ICEOptions(),this.options);this.fetch(_.extend({success:function(e,i){i=n._ICEProcessData(i),"function"==typeof t&&t.call(n,i)},error:function(t,i){"function"==typeof e&&e.call(n,i)}},i))},_ICESave:function(t,e,n){var i=this,o=_.extend(this._ICEOptions(),this.options);this.save(t,_.extend({success:function(t,n){n=i._ICEProcessData(n),"function"==typeof e&&e.call(i,n)},error:function(t,e){"function"==typeof n&&n.call(i,e)}},o))},_ICEDestroy:function(t,e){var n=this;this.destroy({success:function(e,i){"function"==typeof t&&t.call(n,i)},error:function(t,i){"function"==typeof e&&e.call(n,i)}})},_ICEJSONP:function(t,e){var n=this,i=$.ajax({url:this.url,dataType:"jsonp",jsonp:"callback",jsonpCallback:"_YYTPC_"});i.done(function(e,i,o){"function"==typeof t&&t.call(n,e,i,o)}),i.fail(function(t,i,o){"function"==typeof e&&e.call(n,t,i,o)})},_ICESendHelper:function(t){var e=t.success,n=t.error;switch("GET"!==t.type&&(this.url=this.hostname),t.type){case"POST":this._ICESave(t.saveJSON,e,n);break;case"PUT":var i=t.saveJSON.id;i||0===i||(t.saveJSON.id="icepy"+c++),this._ICESave(t.saveJSON,e,n);break;case"DELETE":this._ICEDestroy(e,n);break;case"JSONP":this._ICEJSONP(e,n);break;default:this._ICEFetch(e,n)}},_ICESendMessage:function(t){var e=this;if(this.storageCache&&this.expiration)if(r.enabled){var n=l.get(this.url);if(!n)return this._ICESendHelper(t),!1;var i=t.success;"function"==typeof i&&setTimeout(function(){n=e._ICEProcessData(n,!0),i.call(e,n)},50)}else this._ICESendHelper(t);else this._ICESendHelper(t)},_ICEProcessData:function(t,e){return"function"==typeof this.formatter&&(t=this.formatter(t)),this.storageCache&&this.expiration&&!e&&r.enabled&&l.set(this.url,t,this.expiration),this.$set(t),t},execute:function(t,e){var n={type:"GET",success:t,error:e};this._ICESendMessage(n)},executeGET:function(t,e){var n={type:"GET",success:t,error:e};this._ICESendMessage(n)},executePOST:function(t,e,n){var i={type:"POST",saveJSON:t,success:e,error:n};this._ICESendMessage(i)},executePUT:function(t,e,n){var i={type:"PUT",saveJSON:t,success:e,error:n};this._ICESendMessage(i)},executeDELETE:function(){var t={type:"DELETE",success:success,error:error};this._ICESendMessage(t)},executeJSONP:function(t,e){var n={type:"JSONP",success:t,error:e};this._ICESendMessage(n)},setChangeURL:function(t){var e="";if(t){for(var n in t){var i=t[n];e=e.length?e.replace("{{"+n+"}}",i):this._url.replace("{{"+n+"}}",i)}this.url=e}},setHeaders:function(t){this.headers=null,this.headers=t},setView:function(t){this._view=t},setOnQueueKeys:function(t){"[object Array]"!==a.toType(t)||(this._onQueue.length=0,this._onQueue=t)},$get:function(t){if(!t)return this._store;var e=t.split("."),n=e.length;if(n>0){for(var i=e[0],o=0,r=this._store;i;)o++,r=r[i],i=e[o];return r}},$set:function(t,e,n){if(null==t)return this;if(a.isPlainObject(t))return this._store=null,this._store=t,this.set(this._store),!1;var i=t.split("."),o=i.length;if(o>0){var r=0,s=i[r],c=this._store;if(1!==o)for(;s&&(r++,c=c[s],s=i[r],!(r>o-2)););switch(a.toType(c)){case"[object Object]":c[s]=e;break;case"[object Array]":c[a.exportToNumber(s)]=e;break;default:c=e}}},$filter:function(t,e){var n=this.$get(t),i=[];if("[object Array]"===a.toType(n))for(var o,r=n.length;r--;){var s=n[r];switch(a.toType(e)){case"[object Object]":o=!0;for(var c in e)if(s[c]!==e[c]){o=null;break}break;case"[object Function]":o=e(s,r);break;default:o=s===e}o&&i.push(s)}return i},$sort:function(t,e){var n=this.$get(t);if(u.length=0,"[object Array]"===a.toType(n))switch(a.toType(e)){case"[object Function]":u=this._ICESort(n,e);break;default:if("string"==typeof e){var i=e.split("."),o=null,r=i.length-1;switch(i[r]){case">":o=!0;break;case"<":o=!1;break;default:return u}if(null!==o)return this._ICESort(n,function(t,e){for(var n=i[0],s=0;n&&(t=t[n],e=e[n],s++,s!==r);)n=i[s];return o?t>e:e>t})}}return u},$updateStore:function(){r.enabled&&l.set(self.url,this._store,self.expiration)}});t.exports=f},function(t,e,n){(function(e){"use strict";!function(n){"object"==typeof self&&self.self==self&&self||"object"==typeof e&&e.global==e&&e;t.exports=n()}(function(){var t,e,n={},i=window,o="localStorage",r="sessionStorage",s="ICEStorageCache",a=function(){try{return o in i&&i[o]}catch(t){return!1}},c=function(){try{return r in i&&i[r]}catch(t){return!1}};n.disabled=!1,n.version="0.0.1",n.has=function(t){return void 0!==n.get(t)},n.transact=function(t,e,i){null==i&&(i=e,e=null),null==e&&(e={});var o=n.get(t,e);i(o),n.set(t,o)},n.serialize=function(t){return JSON.stringify(t)},n.deserialize=function(t){if("string"==typeof t)try{return JSON.parse(t)}catch(e){return t||void 0}},a()&&(t=i[o],n.set=function(e,i){return void 0===i?n.remove(e):(t.setItem(e,n.serialize(i)),i)},n.get=function(e,i){var o=n.deserialize(t.getItem(e));return void 0===o?i:o},n.remove=function(e){t.removeItem(e)},n.clear=function(){t.clear()},n.getAll=function(){var t={};return n.forEach(function(e,n){t[e]=n}),t},n.forEach=function(e){for(var i=0;i<t.length;i++){var o=t.key(i);e(o,n.get(o))}},n.expiration={set:function(t,e,i){var o=n.get(s)||{};o[t]={val:e,exp:36e5*i,time:(new Date).getTime()},n.set(s,o)},get:function(t){var e=n.get(s);if(!e)return null;var i=e[t];return i?(new Date).getTime()-i.time>i.exp?null:i.val:null},getAll:function(){var t=n.get(s);return t||null},resetSave:function(t){n.set(s,t)}},c()&&(e=i[r],n.session={set:function(t,i){if(void 0===i)return n.remove(t);var o;o="[object Object]"===Object.prototype.toString.call(i)?n.serialize(i):i,e.setItem(t,o)},get:function(t){var i=n.deserialize(e.getItem(t));return void 0===i?defaultVal:i}}));try{var l="__storeJs__";n.set(l,l),n.get(l)!=l&&(n.disabled=!0),n.remove(l)}catch(u){n.disabled=!0}if(n.enabled=!n.disabled,n.enabled){var f=n.expiration.getAll();if(f)for(var h in f){var p=f[h];(new Date).getTime()-p.time>p.exp&&(p=null,delete f[h])}n.expiration.resetSave(f)}return n})}).call(e,function(){return this}())},function(t,e,n){(function(e){"use strict";!function(n){"object"==typeof self&&self.self==self&&self||"object"==typeof e&&e.global==e&&e;t.exports=n()}(function(){var t=[];window.location;return{parse:function(t){var e=document.createElement("a");e.href=t;for(var n,i={port:e.port,protocol:e.protocol.replace(":",""),hash:e.hash.replace("#",""),host:e.host,href:e.href,hostname:e.hostname,pathname:e.pathname,search:e.search,query:{}},o=i.search.replace(/^\?/,"").split("&"),r=o.length,s=0;r>s;s++)o[s]&&(n=o[s].split("="),i.query[n[0]]=n[1]);return e=null,i},format:function(e,n){var i=0,o=n.query,r=n.hash;if(t.length=0,t.push(e.lastIndexOf("?")>-1?e:e+"?"),o)for(var s in o){var a=o[s];i?t.push("&"+s+"="+a):(i++,t.push(s+"="+a))}return r&&t.push(r.indexOf("#")>-1?r:"#"+r),t.join("")},resolve:function(t,e){return/^(.\/)/.test(e)&&(e=e.replace(/^(.\/)/,"/")),/^(..\/)/.test(e)&&(t=t.substr(0,t.lastIndexOf("/")),e=e.replace(/^(..\/)/,"/")),t+e},extname:function(t){var e=t.split(".");return e[e.length-1]||""},parseSearch:function(t){for(var e,n,i={},o=t.replace(/^\?/,"").split("&"),r=o.length,s=0;r>s;s++)o[s]&&(n=o[s].split("="),e=n[1],(/^\[/.test(e)&&/\]$/.test(e)||/^{/.test(e)||/\}$/.test(e))&&(e=JSON.parse(e)),i[n[0]]=e);return i}}})}).call(e,function(){return this}())},function(t,e,n){var i=n(18),o=n(22),r=n(26),s=n(31),a=n(13),c=a.domains,l=n(32),u=l.replace("{homeSite}",c.homeSite),f=r().dialog,h=i.extend({url:"http://vip.yinyuetai.com/vip/check-vip",setEnv:!0,beforeEmit:function(){}}),p=i.extend({url:c.loginSite+"/login-info",setEnv:!0,beforeEmit:function(){}}),d=i.extend({setEnv:!0,beforeEmit:function(t){this.checkVIPModel=new h,this.fetchUserInfoForDBModel=new p},isLogined:function(){return!!~~this.getUserId()},login:function(t,e){var n=this;this.isLogined()?t.call(this):(this.on("login",t),f.trigger("show"),f.once("hide",function(){n.off("login"),e&&e()}))},getUserInfo:function(t,e){if(this.isLogined()){var n,i=this,o=function(){return"function"==typeof t?i.$get():i.$get(t)},r=this.$get("isEmailVerified");e||(e=t),r?"function"==typeof e&&(n=o(),e.call(this,n)):this.fetchUserInfo(function(){"function"==typeof e&&(n=o(),e.call(i,n))})}},checkUserEmail:function(t){var e=this;this.getUserInfo("isEmailVerified",function(n){n?"function"==typeof t&&t.call(e):o.classInstanceDialog(u,{title:"邮箱验证",width:400,height:100,isAutoShow:!0})})},checkUserVIP:function(t,e){var n=this;if(this.isLogined())this.login(function(){n.fetchVIPInfo(t,e)});else{var i=this.$get("vipInfo");i?i&&!i.error&&i.realVip&&~~i.realVip>0?t(i):cancel():this.fetchVIPInfo(t,e)}},emit:function(){var t=this.getToken(),e=s.get("u_inf");t&&(e&&e.length>0?this.readUserInfoForCookie(e):this.fetchUserInfo())},isVIPUser:function(){var t=s.get("token");if(t){var e=t.split(".");if(e.length>2){var n=e[2];return~~n[0]>0}}return!1},readUserInfoForCookie:function(t){var e=String.fromCharCode(2);t=decodeURIComponent(t);var n=t.split(e);this.$set({userId:~~n[0],userName:n[1],bigheadImg:n[4]})},fetchUserInfo:function(t){var e=this;this.fetchUserInfoForDBModel.executeJSONP(function(n){e.$set(n),"function"==typeof t&&t.call(e)},function(n){"function"==typeof t&&t.call(e,n)})},fetchVIPInfo:function(t,e){var n=this;this.checkVIPModel.executeJSONP(function(e){e&&!e.error&&(e.realVip&&parseInt(e.realVip)>0||e.isWo)&&(n.set("vipInfo",e),"function"==typeof t&&t.call(n,e))},function(t){"function"==typeof e&&e.call(n,t)})},getToken:function(){return s.get("token")},getUserId:function(){return this.$get("userId")}}),g=null;d.sharedInstanceUserModel=function(){return g||(g=new d,g.on("change:userId",function(){g.trigger("login")}),g.emit()),g},t.exports=d},function(t,e,n){"use strict";var i,o=n(10),r=n(23),s=999,a=(document.body,o.extend({clientRender:!1,events:{"click .J_close":"_close"},beforeMount:function(){this.id="YYT_UI_Dialog"+s++,this.options={width:"",height:"",hasMark:!0,hasClose:!0,isRemoveAfterHide:!0,isAutoShow:!0,title:"",className:"",effect:"fade",draggable:!1,mainClass:"dialog",closeClass:"ico_close J_close",closeText:"关闭",onShow:function(){},onHide:function(){}},this.options=_.extend(this.options,this._ICEOptions),this._status=!1,this.$el=$('<div id="'+this.id+'" class="'+this.options.mainClass+'"/>').append(this.$el.show()).addClass(this.options.className).appendTo(document.body),this.$title=this.$el.find(".upload-title"),this._ICEinitEvent()},afterMount:function(){this.closeTemp=n(24),this.titleTemp=n(25)},ready:function(){this._renderTitle(),this._renderClose(),this._adjustPosition(),this.on("show",function(){this._status=!0,this._toggle("show")}),this.on("hide",function(){this._status=!1,this._toggle("hide")}),this.on("show",this.options.onShow,this.$el),this.on("hide",this.options.onHide,this.$el),this.options.isAutoShow&&this.trigger("show"),"function"==typeof this.options.attached&&this.options.attached.call(this)},_renderTitle:function(){var t=this.options.title;t&&this.$title.text(t)},_renderClose:function(){if(this.options.hasClose){var t=this,e="dialogClose"+s++,n=this.compileHTML(this.closeTemp,{closeClass:this.options.closeClass,closeText:this.options.closeText,id:e});$(n).attr("hidefocus","true").appendTo(this.$el),$("#"+e).on("click",function(e){e.preventDefault(),t.hide()})}},_adjustPosition:function(){var t={width:this.options.width||this.$el.innerWidth(),height:this.options.height?this.options.height:this.$el.innerHeight()};this.$el.css(_.extend({marginLeft:-(t.width/2),marginTop:-(t.height/2)},t))},_close:function(){this.trigger("hide")},_toggle:function(t){var e=this.options.effect,n=this;"show"==t?"none"===e?this.$el.css("display","block"):"fade"===e&&this.$el.fadeIn():"hide"==t&&("none"===e?this.$el.css("display","none"):"fade"===e&&this.$el.fadeOut(),this.options.isRemoveAfterHide&&setTimeout(function(){n.$el.remove()},2e3)),this._toggleMask(t)},_toggleMask:function(t){this.options.hasMark&&("show"==t?i.show():"hide"==t&&i.hide())},status:function(){return this._status?"show":"hide"},show:function(){return this.trigger("show"),this},hide:function(){return this.trigger("hide"),this},destroy:function(){this.$el.remove(),i.hide()},resize:function(t,e){return this.options.width=t,this.options.height=e,this._adjustPosition(),this},title:function(t){return this.$title&&this.$title.html(t),this}})),c=null;a.sharedInstanceDialog=function(t){return c||(i||(i=r.classInstanceMask()),c=new a(t||{})),c},a.classInstanceDialog=function(t,e){return e=e||{},e.el=t||"<b></b>",i||(i=r.classInstanceMask()),new a(e)},t.exports=a},function(t,e,n){"use strict";var i=n(10),o=$(document),r=-1!==navigator.userAgent.indexOf("MSIE 6.0"),s={position:r?"absolute":"fixed",top:0,left:0,width:"100%",height:r?o.outerHeight(!0):"100%",display:"none","z-index":998,opacity:.2,"background-color":"black"},a=i.extend({clientRender:!1,beforeMount:function(){this.element=$("<iframe/>").attr({frameborder:0,scrolling:"no"}).css(s).appendTo(document.body)},afterMount:function(){},ready:function(){},show:function(){this.element.fadeIn()},hide:function(){this.element.fadeOut()}}),c=null;a.sharedInstanceMask=function(){return c||(c=new a),c},a.classInstanceMask=function(){return new a},t.exports=a},function(t,e){t.exports='<a  href="" id="{{id}}" class="{{closeClass}}">{{if closeText}}{{closeText}}{{/if}}</a>'},function(t,e){t.exports='<h3 class="dialog_title J_title">{{title}}</h3>\n'},function(t,e,n){"use strict";function i(){h=g.find(".errorinfo"),p=g.find("[name=email]"),d=g.find(".pwd"),o(p),o(d);var t=n(21);y=t.sharedInstanceUserModel(),m=w.classInstanceAjaxForm(g,{success:function(){var t=this.contentWindow,e=(t.location,decodeURIComponent(t.location.search)),n=x.parseSearch(e);n=n.json,n.error?(h.text(n.message).css("visibility","visible"),a()):n.platFormRef?location.href="http://login.yinyuetai.com/platform":(y.$set(n),v.trigger("hide"))},failure:function(){}})}function o(t){"email"===t.attr("name")?(t.focus(function(){$(this).parent().addClass("emailfocus").removeClass("emailerror")}),t.blur(function(){$(this).parent().removeClass("emailfocus")})):(t.focus(function(){$(this).parent().addClass("focus").removeClass("error")}),t.blur(function(){$(this).parent().removeClass("focus")}))}function r(){return[$.trim(p.val())+$.trim(d.val())]}function s(t){t.preventDefault();var e=r();m.encrypto(E.apply(window,e)),l()&&(m.setIframeState(!0),this.submit())}function a(){f.refresh(),k=!1}function c(){var t=$.trim(p.val()),e=$.trim(d.val());if(0===t.length)return h.text("邮箱或手机不能为空").css("visibility","visible"),p.parent().addClass("emailerror"),!1;if(!S.test(t)){if(!T.test(t))return h.text("请输入正确的电子邮箱或手机").css("visibility","visible"),p.parent().addClass("emailerror"),!1;if(11!==t.length)return h.text("请输入正确的电子邮箱或手机").css("visibility","visible"),p.parent().addClass("emailerror"),!1}return 0===e.length?(h.text("密码不能为空").css("visibility","visible"),d.parent().addClass("error"),!1):e.length<4||e.length>20?(h.text("密码长度必须大于4且小于20").css("visibility","visible"),d.parent().addClass("error"),!1):!0}function l(){if(!c())return a(),!1;if(!k){var t="拖动滑块完成验证";return h.text(t).css("visibility","visible"),!1}return 0!=g.find("[name=encpsw]").length?g.find("[name=encpsw]").val(_(d.val())):$("<input />").attr({type:"hidden",name:"encpsw",value:_(d.val())}).appendTo(g),!0}function u(t,e){return C.compile(t)(e)}var f,h,p,d,g,m,v,y,b=n(22),w=n(27),_=n(28),x=n(20),I=n(29),C=n(11),E=n(30),S=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,T=/^[+-]?[1-9][0-9]*(\.[0-9]+)?([eE][+-][1-9][0-9]*)?$|^[+-]?0?\.[0-9]+([eE][+-][1-9][0-9]*)?$/,k=!1;window.gt_custom_ajax=function(t,e){if(t){k=!0;var n=g.find(".errorinfo");"拖动滑块完成验证"==n.html()&&n.css("visibility","hidden")}},t.exports=function(){if(!v){var t=u(I,{url:"http://login.yinyuetai.com"});v=b.classInstanceDialog(t,{width:691,height:342,isRemoveAfterHide:!1,isAutoShow:!1}),g=v.$el.find("#loginBoxForm"),v.on("show",function(){f||(f=new window.Geetest({gt:"cc34bd7df5c42f7d9c3f540fdfb671cf",product:"float"}),f.appendTo("#captcha")),i(),$.getJSON("http://www.yinyuetai.com/partner/get-partner-code?placeIds=reg_window&callback=?",function(t){t&&t.reg_window&&self.dialog.$el.find(".loginbox-placehold").html(t.reg_window)})}),v.on("hide",function(){var t=v.$el.find("form");t.find(".errorinfo").css("visibility","hidden"),t.find("[name=email],[name=password]").parent().removeClass("emailerror").removeClass("error"),$(".J_pop_download").removeClass("v_button_curv"),setTimeout(function(){a()},500)}),g.on("submit",s)}return{dialog:v}}},function(t,e,n){(function(e){"use strict";!function(n){"object"==typeof self&&self.self==self&&self||"object"==typeof e&&e.global==e&&e;t.exports=n()}(function(){var t=999,e=window.ICEPlugs||{},i=e.url;i||(i=n(20));var o=function(e){e=e||{},this.$el="string"==typeof e.el?$(e.el):e.el,this.uid="AjaxForm"+t++,this._iframeLoadState=!1,this._success=e.success,this._before=e.before,this._failure=e.failure,this._init()};o.prototype._init=function(){this._createIframe(),this._addEvent()},o.prototype._createIframe=function(){var t='<iframe id="'+this.uid+'" name="'+this.uid+'"  style="display: none;" src="about:blank"></iframe>';this.$el.attr("target",this.uid),this.$el.append(t),this._iframe=$("#"+this.uid),$("<input />").attr({type:"hidden",name:"cross_post",value:"1"}).appendTo(this.$el)},o.prototype._addEvent=function(){var t=this;this._iframe.on("load",function(){if(t._iframeLoadState){var e=this.contentWindow,n=e.location;if("about:blank"===n.href)"function"==typeof t._failure&&t._failure.call(this);else if("function"==typeof t._success)try{var i=this._iframe[0].contentWindow.document.body;innerText=i.innerText,innerText||(innerText=i.innerHTML),innerText&&t._success.call(this,$.parseJSON(innerText))}catch(o){t._success.call(this)}t._iframeLoadState=!1}})},o.prototype.setIframeState=function(t){this._iframeLoadState=t},o.prototype.encrypto=function(t){var e=this;$.each(t,function(t,n){var i=e.$el.find("[name="+t+"]");0===i.length?$("<input />").attr({type:"hidden",name:t,value:n}).appendTo(e.$el):i.val(n)})};var r=null;return o.sharedInstanceAjaxForm=function(t,e){return r||(e=e||{},e.el=t,r=new o(e)),r},o.classInstanceAjaxForm=function(t,e){return e=e||{},e.el=t,new o(e)},o})}).call(e,function(){return this}())},function(t,e){function n(t){var e=1,n="yytcdn2b",i=new Array(16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756),o=new Array(-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344),r=new Array(520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584),s=new Array(8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928),a=new Array(256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080),c=new Array(536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312),l=new Array(2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154),u=new Array(268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696);
pc2bytes0=new Array(0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964),pc2bytes1=new Array(0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697),pc2bytes2=new Array(0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272),pc2bytes3=new Array(0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144),pc2bytes4=new Array(0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256),pc2bytes5=new Array(0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488),pc2bytes6=new Array(0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746),pc2bytes7=new Array(0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568),pc2bytes8=new Array(0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578),pc2bytes9=new Array(0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488),pc2bytes10=new Array(0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800),pc2bytes11=new Array(0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744),pc2bytes12=new Array(0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128),pc2bytes13=new Array(0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261);for(var f,h,p,d=n.length>8?3:1,g=new Array(32*d),m=new Array(0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0),v=0,y=0,b=0;d>b;b++){$=n.charCodeAt(v++)<<24|n.charCodeAt(v++)<<16|n.charCodeAt(v++)<<8|n.charCodeAt(v++),I=n.charCodeAt(v++)<<24|n.charCodeAt(v++)<<16|n.charCodeAt(v++)<<8|n.charCodeAt(v++),p=252645135&($>>>4^I),I^=p,$^=p<<4,p=65535&(I>>>-16^$),$^=p,I^=p<<-16,p=858993459&($>>>2^I),I^=p,$^=p<<2,p=65535&(I>>>-16^$),$^=p,I^=p<<-16,p=1431655765&($>>>1^I),I^=p,$^=p<<1,p=16711935&(I>>>8^$),$^=p,I^=p<<8,p=1431655765&($>>>1^I),I^=p,$^=p<<1,p=$<<8|I>>>20&240,$=I<<24|I<<8&16711680|I>>>8&65280|I>>>24&240,I=p;for(var w=0;w<m.length;w++)m[w]?($=$<<2|$>>>26,I=I<<2|I>>>26):($=$<<1|$>>>27,I=I<<1|I>>>27),$&=-15,I&=-15,f=pc2bytes0[$>>>28]|pc2bytes1[$>>>24&15]|pc2bytes2[$>>>20&15]|pc2bytes3[$>>>16&15]|pc2bytes4[$>>>12&15]|pc2bytes5[$>>>8&15]|pc2bytes6[$>>>4&15],h=pc2bytes7[I>>>28]|pc2bytes8[I>>>24&15]|pc2bytes9[I>>>20&15]|pc2bytes10[I>>>16&15]|pc2bytes11[I>>>12&15]|pc2bytes12[I>>>8&15]|pc2bytes13[I>>>4&15],p=65535&(h>>>16^f),g[y++]=f^p,g[y++]=h^p<<16}var w,b,p,_,x,$,I,C,E,S,v=0,T=t.length,k=0,d=32==g.length?3:9;for(C=3==d?e?new Array(0,32,2):new Array(30,-2,-2):e?new Array(0,32,2,62,30,-2,64,96,2):new Array(94,62,-2,32,64,2,30,-2,-2),p=8-T%8,t+=String.fromCharCode(p,p,p,p,p,p,p,p),8==p&&(T+=8),result="",tempresult="";T>v;){for($=t.charCodeAt(v++)<<24|t.charCodeAt(v++)<<16|t.charCodeAt(v++)<<8|t.charCodeAt(v++),I=t.charCodeAt(v++)<<24|t.charCodeAt(v++)<<16|t.charCodeAt(v++)<<8|t.charCodeAt(v++),p=252645135&($>>>4^I),I^=p,$^=p<<4,p=65535&($>>>16^I),I^=p,$^=p<<16,p=858993459&(I>>>2^$),$^=p,I^=p<<2,p=16711935&(I>>>8^$),$^=p,I^=p<<8,p=1431655765&($>>>1^I),I^=p,$^=p<<1,$=$<<1|$>>>31,I=I<<1|I>>>31,b=0;d>b;b+=3){for(E=C[b+1],S=C[b+2],w=C[b];w!=E;w+=S)_=I^g[w],x=(I>>>4|I<<28)^g[w+1],p=$,$=I,I=p^(o[_>>>24&63]|s[_>>>16&63]|c[_>>>8&63]|u[63&_]|i[x>>>24&63]|r[x>>>16&63]|a[x>>>8&63]|l[63&x]);p=$,$=I,I=p}$=$>>>1|$<<31,I=I>>>1|I<<31,p=1431655765&($>>>1^I),I^=p,$^=p<<1,p=16711935&(I>>>8^$),$^=p,I^=p<<8,p=858993459&(I>>>2^$),$^=p,I^=p<<2,p=65535&($>>>16^I),I^=p,$^=p<<16,p=252645135&($>>>4^I),I^=p,$^=p<<4,tempresult+=String.fromCharCode($>>>24,$>>>16&255,$>>>8&255,255&$,I>>>24,I>>>16&255,I>>>8&255,255&I),k+=8,512==k&&(result+=tempresult,tempresult="",k=0)}for(var M=result+tempresult,A="",D=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),w=0;w<M.length;w++)A+=D[M.charCodeAt(w)>>4]+D[15&M.charCodeAt(w)];return A}t.exports=n},function(t,e){t.exports='<div class="loginbox">\n	<div class="external">\n		<p class="title">使用合作账号登录<span>(推荐)</span></p>\n		<ul>\n			<li>\n				<a href="{{url}}/api/login/sina-auth" target="_blank" class="weibo" hidefocus>微博帐号</a>\n			</li>\n			<li>\n				<a href="{{url}}/api/login/qq-auth" target="_blank" class="qq" hidefocus>QQ帐号</a>\n			</li>\n			<li>\n				<a href="{{url}}/api/login/renren-auth" target="_blank" class="renren" hidefocus>人人账号</a>\n			</li>\n			<li>\n				<a href="{{url}}/api/login/baidu-auth" target="_blank" class="baidu" hidefocus>百度帐号</a>\n			</li>\n		</ul>\n		<div class="loginbox-placehold"></div>\n		<p class="text">快捷登录，无需注册</p>\n		<p class="text">与你的朋友分享你的爱！</p>\n	</div>\n	<div class="site">\n		<p class="title">音悦Tai账号登录</p>\n		<form id="loginBoxForm" action="https://login.yinyuetai.com/login-ajax" method="post">\n			<p class="errorinfo">错误信息提示</p>\n			<div class="email focuss">\n				<input type="text" name="email" placeholder="您的邮箱地址或绑定手机"/>\n			</div>\n			<div class="password">\n				<input type="password" class="pwd" placeholder="请输入密码"/>\n			</div>\n			<div id="captcha"></div>\n			<div>\n				<p class="autologin"><input type="checkbox" id="autocheckbox" name="autologin" checked hidefocus/><label for="autocheckbox">下次自动登录</label></p>\n				<a class="forgot" href="{{url}}/forgot-password" target="_blank" hidefocus>忘记密码</a>\n			</div>\n			<div>\n				<input class="submit" type="submit" hidefocus/>\n				<p class="reg">还没有音悦Tai账号？<a href="{{url}}/register" target="_blank" hidefocus>立即注册！</a></p>\n			</div>\n		</form>\n	</div>\n</div>'},function(t,e,n){function i(t){return d(r(p(t),8*t.length))}function o(t){var e=i(t);return e=e.substring(8,24),g(e)}function r(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var n=1732584193,i=-271733879,o=-1732584194,r=271733878,s=0;s<t.length;s+=16){var h=n,p=i,d=o,g=r;n=a(n,i,o,r,t[s+0],7,-680876936),r=a(r,n,i,o,t[s+1],12,-389564586),o=a(o,r,n,i,t[s+2],17,606105819),i=a(i,o,r,n,t[s+3],22,-1044525330),n=a(n,i,o,r,t[s+4],7,-176418897),r=a(r,n,i,o,t[s+5],12,1200080426),o=a(o,r,n,i,t[s+6],17,-1473231341),i=a(i,o,r,n,t[s+7],22,-45705983),n=a(n,i,o,r,t[s+8],7,1770035416),r=a(r,n,i,o,t[s+9],12,-1958414417),o=a(o,r,n,i,t[s+10],17,-42063),i=a(i,o,r,n,t[s+11],22,-1990404162),n=a(n,i,o,r,t[s+12],7,1804603682),r=a(r,n,i,o,t[s+13],12,-40341101),o=a(o,r,n,i,t[s+14],17,-1502002290),i=a(i,o,r,n,t[s+15],22,1236535329),n=c(n,i,o,r,t[s+1],5,-165796510),r=c(r,n,i,o,t[s+6],9,-1069501632),o=c(o,r,n,i,t[s+11],14,643717713),i=c(i,o,r,n,t[s+0],20,-373897302),n=c(n,i,o,r,t[s+5],5,-701558691),r=c(r,n,i,o,t[s+10],9,38016083),o=c(o,r,n,i,t[s+15],14,-660478335),i=c(i,o,r,n,t[s+4],20,-405537848),n=c(n,i,o,r,t[s+9],5,568446438),r=c(r,n,i,o,t[s+14],9,-1019803690),o=c(o,r,n,i,t[s+3],14,-187363961),i=c(i,o,r,n,t[s+8],20,1163531501),n=c(n,i,o,r,t[s+13],5,-1444681467),r=c(r,n,i,o,t[s+2],9,-51403784),o=c(o,r,n,i,t[s+7],14,1735328473),i=c(i,o,r,n,t[s+12],20,-1926607734),n=l(n,i,o,r,t[s+5],4,-378558),r=l(r,n,i,o,t[s+8],11,-2022574463),o=l(o,r,n,i,t[s+11],16,1839030562),i=l(i,o,r,n,t[s+14],23,-35309556),n=l(n,i,o,r,t[s+1],4,-1530992060),r=l(r,n,i,o,t[s+4],11,1272893353),o=l(o,r,n,i,t[s+7],16,-155497632),i=l(i,o,r,n,t[s+10],23,-1094730640),n=l(n,i,o,r,t[s+13],4,681279174),r=l(r,n,i,o,t[s+0],11,-358537222),o=l(o,r,n,i,t[s+3],16,-722521979),i=l(i,o,r,n,t[s+6],23,76029189),n=l(n,i,o,r,t[s+9],4,-640364487),r=l(r,n,i,o,t[s+12],11,-421815835),o=l(o,r,n,i,t[s+15],16,530742520),i=l(i,o,r,n,t[s+2],23,-995338651),n=u(n,i,o,r,t[s+0],6,-198630844),r=u(r,n,i,o,t[s+7],10,1126891415),o=u(o,r,n,i,t[s+14],15,-1416354905),i=u(i,o,r,n,t[s+5],21,-57434055),n=u(n,i,o,r,t[s+12],6,1700485571),r=u(r,n,i,o,t[s+3],10,-1894986606),o=u(o,r,n,i,t[s+10],15,-1051523),i=u(i,o,r,n,t[s+1],21,-2054922799),n=u(n,i,o,r,t[s+8],6,1873313359),r=u(r,n,i,o,t[s+15],10,-30611744),o=u(o,r,n,i,t[s+6],15,-1560198380),i=u(i,o,r,n,t[s+13],21,1309151649),n=u(n,i,o,r,t[s+4],6,-145523070),r=u(r,n,i,o,t[s+11],10,-1120210379),o=u(o,r,n,i,t[s+2],15,718787259),i=u(i,o,r,n,t[s+9],21,-343485551),n=f(n,h),i=f(i,p),o=f(o,d),r=f(r,g)}return Array(n,i,o,r)}function s(t,e,n,i,o,r){return f(h(f(f(e,t),f(i,r)),o),n)}function a(t,e,n,i,o,r,a){return s(e&n|~e&i,t,e,o,r,a)}function c(t,e,n,i,o,r,a){return s(e&i|n&~i,t,e,o,r,a)}function l(t,e,n,i,o,r,a){return s(e^n^i,t,e,o,r,a)}function u(t,e,n,i,o,r,a){return s(n^(e|~i),t,e,o,r,a)}function f(t,e){var n=(65535&t)+(65535&e),i=(t>>16)+(e>>16)+(n>>16);return i<<16|65535&n}function h(t,e){return t<<e|t>>>32-e}function p(t){for(var e=Array(),n=(1<<y)-1,i=0;i<t.length*y;i+=y)e[i>>5]|=(t.charCodeAt(i/y)&n)<<i%32;return e}function d(t){for(var e="0123456789abcdef",n="",i=0;i<4*t.length;i++)n+=e.charAt(t[i>>2]>>i%4*8+4&15)+e.charAt(t[i>>2]>>i%4*8&15);return n}function g(t){for(var e="",n=t.length-1;n>=0;n--)e+=t.charAt(n);return e}function m(t,e){return 13!=e.length?(alert("timesign error !!!"),""):i(i(t)+e.substring(5,11))}function v(t,e){return 13!=e.length?(alert("timesign error !!!"),""):i(o(t)+e.substring(5,11))}var y=8,b=n(31);t.exports=function(t){var e,n,i,o;return e=""+(new Date).getTime(),n=g(e),t&&0!=t.length?(i=m(t,e),o=v(t,n)):(i=m(e,n),o=v(n,e)),b.set("p2",o,{domain:"yinyuetai.com",path:"/"}),{_t:e,_p1:i,_p2:o}}},function(t,e,n){(function(e){"use strict";!function(n){"object"==typeof self&&self.self==self&&self||"object"==typeof e&&e.global==e&&e;t.exports=n()}(function(){return{get:function(t){var e,n=encodeURIComponent(t)+"=",i=document.cookie.indexOf(n),o=null;return i>-1&&(e=document.cookie.indexOf(";",i),-1==e&&(e=document.cookie.length),o=decodeURIComponent(document.cookie.substring(i+n.length,e))),o},set:function(t,e,n,i,o,r){var s=encodeURIComponent(t)+"="+encodeURIComponent(e);n instanceof Date&&(s+="; expires="+n.toUTCString()),i&&(s+="; path="+i),o&&(s+="; domain="+o),r&&(s+="; secure"),document.cookie=s},unset:function(t,e,n,i){this.set(t,"",new Date(0),e,n,i)},version:"0.0.1"}})}).call(e,function(){return this}())},function(t,e){t.exports='<div style="padding: 20px 30px;">\n	<p>您好像还没有进行邮箱验证。</p>\n	<p>为不影响部分功能的使用，请先进行 \n		<a href="{homeSite}/settings/bind" target="_blank" class="special f14">邮箱验证</a>\n	</p>\n</div>'},,function(t,e){var n={};n.dom={getById:function(t){return document.getElementById(t)},get:function(t){return"string"==typeof t?document.getElementById(t):t},createElementIn:function(t,e,i,o){var r,s=(e=n.dom.get(e)||document.body).ownerDocument.createElement(t||"div");if("object"==typeof o)for(r in o)"class"==r?s.className=o[r]:"style"==r?s.style.cssText=o[r]:s[r]=o[r];return i?e.insertBefore(s,e.firstChild):e.appendChild(s),s},getStyle:function(t,e){if(t=n.dom.get(t),!t||9==t.nodeType)return null;var i=document.defaultView&&document.defaultView.getComputedStyle,o=i?document.defaultView.getComputedStyle(t,""):null;switch(e){case"float":e=i?"cssFloat":"styleFloat";break;case"opacity":if(i)return parseFloat((o||t.style)[e]);var r=100;try{r=t.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(s){try{r=t.filters("alpha").opacity}catch(s){}}return r/100;case"backgroundPositionX":if(i)return e="backgroundPosition",(o||t.style)[e].split(" ")[0];break;case"backgroundPositionY":if(i)return e="backgroundPosition",(o||t.style)[e].split(" ")[1]}return i?(o||t.style)[e]:t.currentStyle[e]||t.style[e]},setStyle:function(t,e,i){if(!(t=n.dom.get(t))||1!=t.nodeType)return!1;var o,r=!0,s=(o=document.defaultView)&&o.getComputedStyle,a=/z-?index|font-?weight|opacity|zoom|line-?height/i;"string"==typeof e&&(o=e,e={},e[o]=i);for(var c in e){if(i=e[c],"float"==c)c=s?"cssFloat":"styleFloat";else if("opacity"==c)s||(c="filter",i=i>=1?"":"alpha(opacity="+Math.round(100*i)+")");else if(("backgroundPositionX"==c||"backgroundPositionY"==c)&&(o="X"==c.slice(-1)?"Y":"X",s)){var l=n.dom.getStyle(t,"backgroundPosition"+o);c="backgroundPosition","number"==typeof i&&(i+="px"),i="Y"==o?i+" "+(l||"top"):(l||"left")+" "+i}"undefined"!=typeof t.style[c]?(t.style[c]=i+("number"!=typeof i||a.test(c)?"":"px"),r=r&&!0):r=r&&!1}return r},getScrollTop:function(t){var e=t||document;return Math.max(e.documentElement.scrollTop,e.body.scrollTop)},getClientHeight:function(t){var e=t||document;return"CSS1Compat"==e.compatMode?e.documentElement.clientHeight:e.body.clientHeight}},n.string={RegExps:{trim:/^\s+|\s+$/g,ltrim:/^\s+/,rtrim:/\s+$/,nl2br:/\n/g,s2nb:/[\x20]{2}/g,URIencode:/[\x09\x0A\x0D\x20\x21-\x29\x2B\x2C\x2F\x3A-\x3F\x5B-\x5E\x60\x7B-\x7E]/g,escHTML:{re_amp:/&/g,re_lt:/</g,re_gt:/>/g,re_apos:/\x27/g,re_quot:/\x22/g},escString:{bsls:/\\/g,sls:/\//g,nl:/\n/g,rt:/\r/g,tab:/\t/g},restXHTML:{re_amp:/&amp;/g,re_lt:/&lt;/g,re_gt:/&gt;/g,re_apos:/&(?:apos|#0?39);/g,re_quot:/&quot;/g},write:/\{(\d{1,2})(?:\:([xodQqb]))?\}/g,isURL:/^(?:ht|f)tp(?:s)?\:\/\/(?:[\w\-\.]+)\.\w+/i,cut:/[\x00-\xFF]/,getRealLen:{r0:/[^\x00-\xFF]/g,r1:/[\x00-\xFF]/g},format:/\{([\d\w\.]+)\}/g},commonReplace:function(t,e,n){return t.replace(e,n)},format:function(t){var e,i=Array.prototype.slice.call(arguments);return t=String(i.shift()),1==i.length&&"object"==typeof i[0]&&(i=i[0]),n.string.RegExps.format.lastIndex=0,t.replace(n.string.RegExps.format,function(t,o){return e=n.object.route(i,o),void 0===e?t:e})}},n.object={routeRE:/([\d\w_]+)/g,route:function(t,e){t=t||{},e=String(e);var i,o=n.object.routeRE;for(o.lastIndex=0;null!==(i=o.exec(e))&&(t=t[i[0]],void 0!==t&&null!==t););return t}};var i=n.userAgent={},o=navigator.userAgent;i.ie=9-(o.indexOf("Trident/5.0")>-1?0:1)-(window.XDomainRequest?0:1)-(window.XMLHttpRequest?0:1),"undefined"==typeof n.msgbox&&(n.msgbox={}),n.msgbox._timer=null,n.msgbox.loadingAnimationPath=n.msgbox.loadingAnimationPath||"loading.gif",n.msgbox.show=function(t,e,i,o){"number"==typeof o&&(o={topPosition:o}),o=o||{};var r,s=n.msgbox,a='<span class="zeng_msgbox_layer" style="display:none;z-index:10000;" id="mode_tips_v2"><span class="gtl_ico_{type}"></span>{loadIcon}{msgHtml}<span class="gtl_end"></span></span>',c='<span class="gtl_ico_loading"></span>',l=[0,0,0,0,"succ","fail","clear"];s._loadCss&&s._loadCss(o.cssPath),r=n.dom.get("q_Msgbox")||n.dom.createElementIn("div",document.body,!1,{className:"zeng_msgbox_layer_wrap"}),r.id="q_Msgbox",r.style.display="",r.innerHTML=n.string.format(a,{type:l[e]||"hits",msgHtml:t||"",loadIcon:6==e?c:""}),s._setPosition(r,i,o.topPosition)},n.msgbox._setPosition=function(t,e,i){e=e||5e3;var o=n.msgbox,r=n.dom.getScrollTop(),s=n.dom.getClientHeight(),a=Math.floor(s/2)-40;n.dom.setStyle(t,"top",("BackCompat"==document.compatMode||n.userAgent.ie<7?r:0)+("number"==typeof i?i:a)+"px"),clearTimeout(o._timer),t.firstChild.style.display="",e&&(o._timer=setTimeout(o.hide,e))},n.msgbox.hide=function(t){var e=n.msgbox;t?(clearTimeout(e._timer),e._timer=setTimeout(e._hide,t)):e._hide()},n.msgbox._hide=function(){var t=n.dom.get("q_Msgbox"),e=n.msgbox;if(clearTimeout(e._timer),t){t.firstChild;n.dom.setStyle(t,"display","none")}},t.exports={showError:function(t){n.msgbox.show(t,5,1e3)},showTip:function(t){n.msgbox.show(t,1,1e3)},showOK:function(t){n.msgbox.show(t,4,1e3)},showLoading:function(t){n.msgbox.show(t,6,1e3)},show:function(t,e,i,o){n.msgbox.show(t,e,i,o)},hide:function(t){n.msgbox.hide(t)}}},function(t,e,n){var i={},o={title:"消息",content:"",okFn:null,cancelFn:null};i.init=function(t){var e=_.template(this.getHTML()),n=e(t);this.remove(),this.bindEvent(n,t.okFn,t.cancelFn)},i.remove=function(){var t=$("#UIConfigWrap");t&&t.length>=1&&t.remove()},i.getHTML=function(){return n(36)},i.bindEvent=function(t,e,n){var i=this;t=$(t),t.find("#UIConfirmOk").on("click",function(t){return t.preventDefault(),e&&e(),i.remove(),!1}),t.find(".UIConfirmClose").on("click",function(t){return t.preventDefault(),n&&n(),i.remove(),!1}),t.find("#UIConfirmOk").on("click",function(t){return t.preventDefault(),i.remove(),!1}),$("body").append(t)},i.show=function(t){var e=_.extend(o,t);this.init(e)},i.close=function(){this.remove()},t.exports={show:function(t){i.show(t)},close:function(){i.close()}}},function(t,e){t.exports='<div id="UIConfigWrap" class="shadow_screen">\n    <div class="shadow UIConfirmClose"></div>\n    <div class="edit_annmoucement_con" style="margin-bottom: 16px; width: 400px;height: 200px;margin-left:-200px;">\n        <h2 class="edit_title"><span id="UIConfirmTitle"><%=title%></span> <span class="close UIConfirmClose">X</span></h2>\n        <div class="editCon" style="width: 400px;padding-top: inherit;">\n            <div style="padding:16px; font-size: 14px;"><%=content%></div>\n            <p style="padding-top: 16px;">\n                <a href="####" class="cancel UIConfirmClose">取消</a>\n                <a id="UIConfirmOk" href="####" class="submit">确定</a>\n            </p>\n        </div>\n    </div>\n</div>'},,,function(t,e,n){"use strict";var i=n(40),o=n(22),r=n(41),s=function(t){var e=this;this.options=t,t.ready||(t.attached=function(){e.helper=new r({ctrlData:e.options.ctrlData,id:"#"+this.id}),e.helper.on("uploadFileSuccess",function(t){"function"==typeof e.options.uploadFileSuccess&&e.options.uploadFileSuccess(t)}),e.helper.on("saveFile",function(){"function"==typeof e.options.saveFile&&e.options.saveFile()})}),this.dialog=o.classInstanceDialog(i,t)};s.prototype.show=function(){this.dialog.show()},s.prototype.hide=function(){this.dialog.hide()},s.prototype.emptyValue=function(){this.helper&&this.helper.emptyValue()};var a=null;s.sharedInstanceUploadFileDialog=function(t){return a||(a=new s(t)),a},t.exports=s},function(t,e){t.exports='<div class="shadow"></div>\n<div class="edit_Bg_form_x" id="uploadFileDialog">\n	<h2 class="edit_title">\n		<span class="upload-title">背景图设置</span>\n		<span class="upload-status upload-image-state"></span>\n	</h2>\n	<div class="formCon clearfix">\n		<div class="imgBox fl">\n			<img src="" alt="" width="100%" height="100%"  style="display: none;" class="imgboxFile">\n		</div>\n		<div class="formBox fl">\n			<div class="pseudo-uploadBtn">\n				上传图片\n				<form class="upload-form">\n\n				</form>\n			</div>\n			<p>支持5M以内的gif、jpg、jpge、png图片上传</p>\n			<div class="submit">保存</div>\n		</div>\n	</div>\n</div>\n'},function(t,e,n){"use strict";var i=n(10),o=n(42),r="正在上传",s="上传完成!",a=n(34),c=window.location,l=i.extend({rawLoader:function(){},events:{"click .submit":"saveHandler","change .upload-file":"changeFile"},beforeMount:function(){},afterMount:function(){this.formDOM=this.$el.find(".upload-form"),this.imgSrcDOM=this.$el.find(".imgboxFile"),this.imageStateDOM=this.$el.find(".upload-image-state")},ready:function(t){var e=t.ctrlData||{cmd:[{saveOriginal:1,op:"save",plan:"avatar",belongId:"20634338",srcImg:"img"}],redirect:c.origin+"/web/upload.html"},n=this;this.upload=o.classInstanceUploadFile({el:this.formDOM,url:"http://image.yinyuetai.com/edit",data:e,filename:"img",className:"file",success:function(t){n.imageStateDOM.html(s),n.previewImage(t),n.trigger("uploadFileSuccess",t)},failure:function(){a.showError("上传失败")}})},show:function(){this.dialog.show()},hide:function(){this.dialog.hide()},saveHandler:function(t){this.trigger("saveFile")},changeFile:function(t){this.imageStateDOM.html(r),this.upload.submit()},previewImage:function(t){var e=t.images,n=e[0].path;this.imgSrcDOM.attr("src",n),this.imgSrcDOM.show()},emptyValue:function(){this.imageStateDOM.html(""),this.imgSrcDOM.hide()}}),u=null;l.sharedInstanceUploadFileDialog=function(t){return u||(u=new l(t)),u},l.fetchDialogTemplate=function(){return n(40)},t.exports=l},function(t,e,n){(function(e){"use strict";!function(n){"object"==typeof self&&self.self==self&&self||"object"==typeof e&&e.global==e&&e;t.exports=n()}(function(){var t=999,e=window,i=e.ICEPlugs||{},o=i.url;o||(o=n(20));var r=i.tools;r||(r=n(15));var s=i.AjaxForm;s||(s=n(27));var a=null,c=function(e){var n=this;return this.$el="string"==typeof e.el?$(e.el):e.el,this.uid="UploadFile"+t++,this.options=e,this._data=e.data||{},this._filename=e.filename||"image",this._success=e.success,this._before=e.before,this._failure=e.failure,this._url=e.url,this._url?(this._init(),void(this.ajaxForm=s.classInstanceAjaxForm(this.$el,{type:"img",success:function(){var t=this.contentWindow,e=(t.location,decodeURIComponent(t.location.search)),i=o.parseSearch(e);"function"==typeof n._success&&n._success.call(this,i)},failure:function(){"function"==typeof n._failure&&n._failure.call(this)}}))):void console.warn("配置上传URL")};return c.prototype._init=function(){this._createElement()},c.prototype._createElement=function(){var t="";for(var e in this._data){var n=this._data[e],i=r.toType(n);"[object Object]"!==i&&"[object Array]"!==i||(n=JSON.stringify(n)),t+='<input type="hidden" name="'+e+"\" value='"+n+"'/>"}t+='<input type="file" class="upload-file" name="'+this._filename+'" id="'+this.options.className+'" />',this.$el.attr("method","POST"),this.$el.attr("action",this._url),this.$el.attr("enctype","multipart/form-data"),this.$el.append(t)},c.prototype.submit=function(){this.ajaxForm.setIframeState(!0),"function"==typeof this._before&&this._before(),this.$el.submit()},c.sharedInstanceUploadFile=function(t){return a||(a=new c(t)),a},c.classInstanceUploadFile=function(t){return new c(t)},c})}).call(e,function(){return this}())},,,,,,,,function(t,e,n){(function(e){"use strict";!function(n){"object"==typeof self&&self.self==self&&self||"object"==typeof e&&e.global==e&&e;t.exports=n()}(function(){var t=function(t){this.temp=new Date,this.setCurNewDate(t)};t.prototype.changeYear=function(t){this.temp.setFullYear(t)},t.prototype.getCountDays=function(t){return this.temp.setMonth(t),this.temp.setDate(0),this.temp.getDate()},t.prototype.$get=function(t){return this.attrs[t]},t.prototype.ceilYear=function(t){t=~~t;for(var e=0,n=this.$get("year"),i=[];t>=e;e++)i.push(n),n+=1;return i},t.prototype._downDisplacement=function(t){var e,n=this.$get(t),i=[];switch(t){case"month":e=12;break;case"day":e=this.getCountDays(this.$get("month"));break;case"hours":e=23;break;default:e=59}for(;e>=n;n++)i.push(n);return i},t.prototype.downMonth=function(){return this._downDisplacement("month")},t.prototype.downDay=function(){return this._downDisplacement("day")},t.prototype.downHours=function(){return this._downDisplacement("hours")},t.prototype.downMinutes=function(){return this._downDisplacement("minutes")},t.prototype.down=function(t){return this._downDisplacement(t)},t.prototype.getTime=function(t){var e="",n=t.month<10?"0"+t.month:t.month,i=t.day<10?"0"+t.day:t.day,o=t.hours<10?"0"+t.hours:t.hours,r=t.minutes<10?"0"+t.minutes:t.minutes;return e+=t.year+"-"+n+"-"+i+" ",e+=o+":"+r+":00",new Date(e.replace(/-/g,"/")).getTime()},t.prototype.setCurNewDate=function(t){this.date=null,this.date=t?new Date(t):new Date,this._setAttrs()},t.prototype._setAttrs=function(){this.attrs=null,this.attrs={year:this.date.getFullYear(),month:this.date.getMonth()+1,day:this.date.getDate(),hours:this.date.getHours(),minutes:this.date.getMinutes()}},t.difference=function(t){var e={},n=t%864e5,i=Math.floor(n/36e5);e.hours=10>i?"0"+i:i;var o=n%36e5,r=Math.floor(o/6e4);e.minutes=10>r?"0"+r:r;var s=o%6e4,a=Math.floor(s/1e3);return e.seconds=10>a?"0"+a:a,e};var e=null;return t.sharedInstanceDateTime=function(){return e||(e=new t),e},t}),Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t}}).call(e,function(){return this}())},,,,,,,,,,,function(t,e,n){"use strict";var i=n(10),o=n(62),r=i.extend({clientRender:!1,el:"#topBar",events:{},beforeMount:function(){this.loginUserView=new o},afterMount:function(){},ready:function(){var t=this;this.loginUserView.on("topbar-logined",function(){t.trigger("logined")})}}),s=null;r.sharedInstanceTopBarView=function(){return s||(s=new r),s},t.exports=r},function(t,e,n){"use strict";var i=n(10),o=n(21),r=o.sharedInstanceUserModel(),s=n(26),a=n(63),c=n(64),l=n(19),u=(window,i.extend({clientRender:!1,el:"#loginUser",events:{"click #login":"loginHandler","click .show-drop-menu":"showDropMenu","click #logout":"logoutHandler"},beforeMount:function(){this._dialog=null},afterMount:function(){this.loginBox=s(),this._dialog=this.loginBox.dialog},ready:function(){r.isLogined()?this.fetchUserInfo():this.$el.html(a),this.hideDropMenu()},loginHandler:function(t){t.preventDefault();var e=this,n=this._dialog.status();"hide"===n?(this._dialog.trigger("show"),this._dialog.once("hide",function(){r.isLogined()&&(e.fetchUserInfo(),e.trigger("topbar-logined"))})):this._dialog.trigger("hide")},logoutHandler:function(t){t.preventDefault(),l.remove("imSig"),window.location.href="http://login.yinyuetai.com/logout"},fetchUserInfo:function(){var t=(r.getToken(),this.compileHTML(c,{userName:r.$get("userName"),bigheadImg:r.$get("bigheadImg")}));this.$el.html(t),this.showDropMenuEle=$(".loginMsg .pcNav")},showDropMenu:function(t){return t.preventDefault(),this.showDropMenuEle.toggle(),!1},hideDropMenu:function(){var t=this;$(document).on("click",function(){t.showDropMenuEle&&t.showDropMenuEle.hide()})}}));t.exports=u},function(t,e){t.exports='<div class="PcMsg fl">\n	<a class="user-login" href="#" id="login">登陆</a>\n</div>'},function(t,e){t.exports='<div class="avator fl">\n	<img src="{{bigheadImg}}" alt="用户头像">\n</div>\n<div class="loginMsg fl">\n	<a class="user-name show-drop-menu" href="#">{{userName}}<span></span></a>\n	<ul class="pcNav">\n	   	<li><a href="/web/anchorsetting-75b8e5aaa5.html">个人中心</a></li>\n	   	<li><a href="http://login.yinyuetai.com/logout" id="logout">退出</a></li>\n	</ul>\n</div>\n\n'}]);
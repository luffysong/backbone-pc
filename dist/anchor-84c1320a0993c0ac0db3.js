webpackJsonp([1],[function(module,exports,__webpack_require__){eval("/**\r\n * Created by AaronYuan on 4/21/16.\r\n */\r\n\r\nvar $ = __webpack_require__(1);\r\n$(function () {\r\n  var MainView = __webpack_require__(26);\r\n  var TopBarView = __webpack_require__(108);\r\n\r\n  var a = new MainView();\r\n  a = new TopBarView();\r\n  console.log(a);\r\n  // 载入CSS\r\n  __webpack_require__(112);\r\n});\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL2FuY2hvci5qcz82NDE1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQWFyb25ZdWFuIG9uIDQvMjEvMTYuXHJcbiAqL1xyXG5cclxudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIE1haW5WaWV3ID0gcmVxdWlyZSgnLi92aWV3cy9hbmNob3IvbWFpbi52aWV3Jyk7XHJcbiAgdmFyIFRvcEJhclZpZXcgPSByZXF1aXJlKCdUb3BCYXJWaWV3Jyk7XHJcblxyXG4gIHZhciBhID0gbmV3IE1haW5WaWV3KCk7XHJcbiAgYSA9IG5ldyBUb3BCYXJWaWV3KCk7XHJcbiAgY29uc29sZS5sb2coYSk7XHJcbiAgLy8g6L295YWlQ1NTXHJcbiAgcmVxdWlyZSgnLi4vc3R5bGVzaGVldHMvYW5jaG9yLnNjc3MnKTtcclxufSk7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvc3JjL2FuY2hvci5qc1xuICoqIG1vZHVsZSBpZCA9IDBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=")},,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){eval("/*\r\n clientRender:{bool} //默认设置为false，如果为true，内部将不会调用rawLoader方法或者根据templateUrl请求模版\r\n */\r\n\r\n\r\n/**\r\n * @time {时间}\r\n * @author {编写者}\r\n * @info 主播直播间，场控直播间\r\n */\r\n\r\n'use strict';\r\n\r\nvar Backbone = window.Backbone;\r\nvar _ = __webpack_require__(27);\r\nvar base = __webpack_require__(28);\r\nvar BaseView = base.View; // View的基类\r\nvar Auxiliary = __webpack_require__(40);\r\nvar imServer = __webpack_require__(48);\r\nvar UserModel = __webpack_require__(51);\r\nvar user = UserModel.sharedInstanceUserModel();\r\nvar URL = Auxiliary.url;\r\nvar uiConfirm = __webpack_require__(61);\r\nvar store = base.storage;\r\nvar auth = __webpack_require__(63);\r\n\r\nvar RoomDetailModel = __webpack_require__(64);\r\nvar RoomLongPollingModel = __webpack_require__(65);\r\nvar GiftModel = __webpack_require__(66);\r\nvar PermissionModel = __webpack_require__(67);\r\nvar UserInfo = __webpack_require__(68);\r\n\r\nvar AdvertisingWallView = __webpack_require__(70);\r\n\r\nvar View = BaseView.extend({\r\n  clientRender: false,\r\n  el: '#anchorContainerBg', // 设置View对象作用于的根元素，比如id\r\n  events: { // 监听事件\r\n  },\r\n  // 当模板挂载到元素之前\r\n  beforeMount: function () {\r\n    var url = URL.parse(location.href);\r\n\r\n    auth.onlyAnchorUse();\r\n    this.roomId = url.query.roomId || 1;\r\n    // 获取房间信息周期\r\n    this.roomInfoPeriod = 10000;\r\n\r\n    if (!this.roomId) {\r\n      this.goBack();\r\n    }\r\n    this.queryParams = {\r\n      deviceinfo: '{\"aid\": \"30001001\"}',\r\n      access_token: user.getWebToken()\r\n    };\r\n    this.giftModel = GiftModel.sharedInstanceModel();\r\n    this.roomDetail = RoomDetailModel.sharedInstanceModel();\r\n    this.permsssionModel = new PermissionModel();\r\n\r\n    this.roomDetailParams = {\r\n      deviceinfo: '{\"aid\": \"30001001\"}',\r\n      access_token: user.getWebToken(),\r\n      roomId: ''\r\n    };\r\n\r\n    this.giftParams = {\r\n      deviceinfo: '{\"aid\": \"30001001\"}',\r\n      access_token: user.getWebToken(),\r\n      offset: 0,\r\n      size: 90000,\r\n      type: 0\r\n    };\r\n    this.roomLongPolling = RoomLongPollingModel.sharedInstanceModel();\r\n  },\r\n  // 当模板挂载到元素之后\r\n  afterMount: function () {},\r\n\r\n  // 当事件监听器，内部实例初始化完成，模板挂载到文档之后\r\n  ready: function (ops) {\r\n    store.remove('imSig');\r\n    this.options = _.extend({\r\n      assistant: false\r\n    }, ops);\r\n    this.userVerify();\r\n\r\n    // this.fieldControl = new FieldControl();\r\n\r\n    Backbone.on('event:stopLoopRoomInfo', function () {\r\n      // clearTimeout(self.roomInfoTimeId);\r\n    });\r\n    Backbone.on('event:roomInfoReady', this.roomInfoReady.bind(this));\r\n  },\r\n  initWebIM: function () {\r\n    function callback(notifyInfo) {\r\n      Backbone.trigger('event:groupSystemNotifys', notifyInfo);\r\n    }\r\n\r\n    // 注册IM事件处理\r\n    return imServer.init({\r\n      onConnNotify: function (notifyInfo) {\r\n        Backbone.trigger('event:onConnNotify', notifyInfo);\r\n      },\r\n      onMsgNotify: function (notifyInfo) {\r\n        Backbone.trigger('event:onMsgNotify', notifyInfo);\r\n      },\r\n      onGroupInfoChangeNotify: function (notifyInfo) {\r\n        Backbone.trigger('event:onGroupInfoChangeNotify', notifyInfo);\r\n      },\r\n      groupSystemNotifys: {\r\n        1: callback, // 申请加群请求（只有管理员会收到）\r\n        2: callback, // 申请加群被同意（只有申请人能够收到）\r\n        3: callback, // 申请加群被拒绝（只有申请人能够收到）\r\n        4: callback, // 被管理员踢出群(只有被踢者接收到)\r\n        5: callback, // 群被解散(全员接收)\r\n        6: callback, // 创建群(创建者接收)\r\n        7: callback, // 邀请加群(被邀请者接收)\r\n        8: callback, // 主动退群(主动退出者接收)\r\n        9: callback, // 设置管理员(被设置者接收)\r\n        10: callback, // 取消管理员(被取消者接收)\r\n        11: callback, // 群已被回收(全员接收)\r\n        255: callback //  用户自定义通知(默认全员接收,暂不支持)\r\n      }\r\n    });\r\n  },\r\n  goLogin: function () {\r\n    store.remove('imSig');\r\n    store.set('signout', 1);\r\n    window.location.href = '/login.html';\r\n  },\r\n  /**\r\n   * 校验用户\r\n   */\r\n  userVerify: function () {\r\n    var self = this;\r\n\r\n\r\n    if (user.isLogined()) {\r\n      self.initWebIM().then(function () {\r\n        self.initRoom();\r\n      }, function () {\r\n        self.goLogin();\r\n      });\r\n    } else {\r\n      self.goLogin();\r\n    }\r\n  },\r\n  checkRoomAccess: function () {\r\n    var self = this;\r\n    var defer = $.Deferred();\r\n    var promise = this.permsssionModel.executeJSONP(_.extend({\r\n      roomId: this.roomId || 0\r\n    }, this.queryParams));\r\n    promise.done(function (res) {\r\n      if (res && res.data) {\r\n        var curRoom = _.find(res.data, function (item) {\r\n          return item.roomId === ~~self.roomId;\r\n        });\r\n        if (curRoom) {\r\n          if (curRoom.operationRole === 1 || curRoom.operationRole === 2) {\r\n            defer.resolve();\r\n          } else {\r\n            defer.reject();\r\n          }\r\n        } else {\r\n          defer.reject();\r\n        }\r\n      }\r\n    });\r\n    return defer.promise();\r\n  },\r\n  /**\r\n   * 初始化房间信息\r\n   */\r\n  initRoom: function () {\r\n    var self = this;\r\n    // self.roomDetailParams.roomId = self.roomId;\r\n    this.getRoomInfo(function (response) {\r\n      var data = response.data;\r\n      self.videoUrl = {\r\n        streamName: data.streamName,\r\n        url: data.url\r\n      };\r\n      self.renderPage();\r\n      self.checkRoomAccess().done(function () {\r\n        Backbone.trigger('event:roomInfoReady', data);\r\n        if (data.status === 2) {\r\n          self.loopRoomInfo();\r\n        }\r\n      }).fail(function () {\r\n        if (!data.mine) {\r\n          self.goBack();\r\n        } else {\r\n          Backbone.trigger('event:roomInfoReady', data);\r\n        }\r\n      });\r\n    }, function () {\r\n      uiConfirm.show({\r\n        title: '提示',\r\n        content: '获取房间数据失败!',\r\n        okFn: function () {\r\n          self.goBack();\r\n        },\r\n        cancelFn: function () {\r\n          self.goBack();\r\n        }\r\n      });\r\n    });\r\n  },\r\n  loopRoomInfo: function () {\r\n    var self = this;\r\n    self.roomInfoTimeId = setTimeout(function () {\r\n      self.roomDetailParams.roomId = self.roomId;\r\n      // self.getRoomInfo(function (res) {\r\n      self.getRoomLoopInfo(function (res) {\r\n        var data = res.data;\r\n        Backbone.trigger('event:updateRoomInfo', data);\r\n        self.loopRoomInfo();\r\n      });\r\n    }, self.roomInfoPeriod);\r\n  },\r\n  getRoomLoopInfo: function (okFn, errFn) {\r\n    var self = this;\r\n    var promise;\r\n    self.roomDetailParams.roomId = self.roomId;\r\n    promise = this.roomLongPolling.executeJSONP(self.roomDetailParams);\r\n    promise.done(function (response) {\r\n      if (okFn) {\r\n        okFn(response);\r\n      }\r\n    });\r\n    promise.fail(function (err) {\r\n      if (errFn) {\r\n        errFn(err);\r\n      }\r\n    });\r\n  },\r\n  /**\r\n   * 获取房间数据\r\n   * @return {[type]} [description]\r\n   */\r\n  getRoomInfo: function (okFn, errFn) {\r\n    var self = this;\r\n    var promise;\r\n    self.roomDetailParams.roomId = self.roomId;\r\n    promise = this.roomDetail.executeJSONP(self.roomDetailParams);\r\n    promise.done(function (response) {\r\n      if (okFn) {\r\n        okFn(response);\r\n      }\r\n    });\r\n    promise.fail(function (err) {\r\n      if (errFn) {\r\n        errFn(err);\r\n      }\r\n    });\r\n  },\r\n  /**\r\n   * 载入页面其他视图\r\n   */\r\n  renderPage: function () {\r\n    // 组件一，编辑背景图片\r\n    var EditBgView = __webpack_require__(78);\r\n    // 组件二，主播信息\r\n    var InfoView = __webpack_require__(84);\r\n    // 组件三，主播控制消息\r\n    var ChatView = __webpack_require__(87);\r\n    // 公告组件\r\n    var NoticeView = __webpack_require__(99);\r\n    // 直播开始,结束控制\r\n    var LiveShowBtnView = __webpack_require__(103);\r\n\r\n    var AssistantView = __webpack_require__(107);\r\n\r\n    var a = new EditBgView();\r\n    a = new InfoView();\r\n    a = new ChatView(_.extend({\r\n      type: 'control'\r\n    }, this.options));\r\n    a = new NoticeView();\r\n    a = new LiveShowBtnView();\r\n    a = new AssistantView(this.options);\r\n    console.log(a);\r\n  },\r\n  goBack: function () {\r\n    window.location.href = '/anchor-setting.html';\r\n  },\r\n  initGiftList: function () {\r\n    this.giftModel.get(this.giftParams, function () {}, function () {});\r\n  },\r\n  // 读取当前用户信息\r\n  getUserInfo: function () {\r\n    var defer = $.Deferred();\r\n    var self = this;\r\n    UserInfo.getInfo(function (info) {\r\n      self.userInfo = info;\r\n      defer.resolve(info);\r\n    });\r\n    return defer.promise();\r\n  },\r\n  roomInfoReady: function (data) {\r\n    var self = this;\r\n    // if (this.options.assistant) {\r\n    this.getUserInfo().done(function (info) {\r\n      self.adWallView = new AdvertisingWallView({\r\n        el: '#advertisingWall',\r\n        roomId: data.id,\r\n        userInfo: info,\r\n        type: 1 // 直播\r\n      });\r\n    });\r\n    // }\r\n  }\r\n});\r\n\r\nmodule.exports = View;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL3ZpZXdzL2FuY2hvci9tYWluLnZpZXcuanM/ODFkOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLGVBQWUsS0FBSztBQUNwQjs7O0FBR0E7QUFDQSxVQUFVO0FBQ1YsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrQkFBa0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQixrQkFBa0I7QUFDdEM7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0JBQW9CLGtCQUFrQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSw0QkFBNEI7O0FBRTVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxzREFBc0QsZ0JBQWdCO0FBQ3RFLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQSxDQUFDOztBQUVEIiwiZmlsZSI6IjI2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxuIGNsaWVudFJlbmRlcjp7Ym9vbH0gLy/pu5jorqTorr7nva7kuLpmYWxzZe+8jOWmguaenOS4unRydWXvvIzlhoXpg6jlsIbkuI3kvJrosIPnlKhyYXdMb2FkZXLmlrnms5XmiJbogIXmoLnmja50ZW1wbGF0ZVVybOivt+axguaooeeJiFxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuICogQHRpbWUge+aXtumXtH1cclxuICogQGF1dGhvciB757yW5YaZ6ICFfVxyXG4gKiBAaW5mbyDkuLvmkq3nm7Tmkq3pl7TvvIzlnLrmjqfnm7Tmkq3pl7RcclxuICovXHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG52YXIgQmFja2JvbmUgPSB3aW5kb3cuQmFja2JvbmU7XHJcbnZhciBfID0gcmVxdWlyZSgndW5kZXJzY29yZScpO1xyXG52YXIgYmFzZSA9IHJlcXVpcmUoJ2Jhc2UtZXh0ZW5kLWJhY2tib25lJyk7XHJcbnZhciBCYXNlVmlldyA9IGJhc2UuVmlldzsgLy8gVmlld+eahOWfuuexu1xyXG52YXIgQXV4aWxpYXJ5ID0gcmVxdWlyZSgnYXV4aWxpYXJ5LWFkZGl0aW9ucycpO1xyXG52YXIgaW1TZXJ2ZXIgPSByZXF1aXJlKCdpbVNlcnZlcicpO1xyXG52YXIgVXNlck1vZGVsID0gcmVxdWlyZSgnVXNlck1vZGVsJyk7XHJcbnZhciB1c2VyID0gVXNlck1vZGVsLnNoYXJlZEluc3RhbmNlVXNlck1vZGVsKCk7XHJcbnZhciBVUkwgPSBBdXhpbGlhcnkudXJsO1xyXG52YXIgdWlDb25maXJtID0gcmVxdWlyZSgndWkuY29uZmlybScpO1xyXG52YXIgc3RvcmUgPSBiYXNlLnN0b3JhZ2U7XHJcbnZhciBhdXRoID0gcmVxdWlyZSgnYXV0aCcpO1xyXG5cclxudmFyIFJvb21EZXRhaWxNb2RlbCA9IHJlcXVpcmUoJy4uLy4uL21vZGVscy9hbmNob3Ivcm9vbS1kZXRhaWwubW9kZWwnKTtcclxudmFyIFJvb21Mb25nUG9sbGluZ01vZGVsID0gcmVxdWlyZSgnLi4vLi4vbW9kZWxzL2FuY2hvci9yb29tLWxvbmdQb2xsaW5nLm1vZGVsJyk7XHJcbnZhciBHaWZ0TW9kZWwgPSByZXF1aXJlKCcuLi8uLi9tb2RlbHMvYW5jaG9yL2dpZnQubW9kZWwnKTtcclxudmFyIFBlcm1pc3Npb25Nb2RlbCA9IHJlcXVpcmUoJy4uLy4uL21vZGVscy9saXZlLXJvb20vcGVybWlzc2lvbi5tb2RlbCcpO1xyXG52YXIgVXNlckluZm8gPSByZXF1aXJlKCcuLi9saXZlLXJvb20vdXNlci5qcycpO1xyXG5cclxudmFyIEFkdmVydGlzaW5nV2FsbFZpZXcgPSByZXF1aXJlKCcuLi9hZHZlcnRpc2luZy13YWxsL21haW4udmlldycpO1xyXG5cclxudmFyIFZpZXcgPSBCYXNlVmlldy5leHRlbmQoe1xyXG4gIGNsaWVudFJlbmRlcjogZmFsc2UsXHJcbiAgZWw6ICcjYW5jaG9yQ29udGFpbmVyQmcnLCAvLyDorr7nva5WaWV35a+56LGh5L2c55So5LqO55qE5qC55YWD57Sg77yM5q+U5aaCaWRcclxuICBldmVudHM6IHsgLy8g55uR5ZCs5LqL5Lu2XHJcbiAgfSxcclxuICAvLyDlvZPmqKHmnb/mjILovb3liLDlhYPntKDkuYvliY1cclxuICBiZWZvcmVNb3VudDogZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHVybCA9IFVSTC5wYXJzZShsb2NhdGlvbi5ocmVmKTtcclxuXHJcbiAgICBhdXRoLm9ubHlBbmNob3JVc2UoKTtcclxuICAgIHRoaXMucm9vbUlkID0gdXJsLnF1ZXJ5LnJvb21JZCB8fCAxO1xyXG4gICAgLy8g6I635Y+W5oi/6Ze05L+h5oGv5ZGo5pyfXHJcbiAgICB0aGlzLnJvb21JbmZvUGVyaW9kID0gMTAwMDA7XHJcblxyXG4gICAgaWYgKCF0aGlzLnJvb21JZCkge1xyXG4gICAgICB0aGlzLmdvQmFjaygpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5xdWVyeVBhcmFtcyA9IHtcclxuICAgICAgZGV2aWNlaW5mbzogJ3tcImFpZFwiOiBcIjMwMDAxMDAxXCJ9JyxcclxuICAgICAgYWNjZXNzX3Rva2VuOiB1c2VyLmdldFdlYlRva2VuKClcclxuICAgIH07XHJcbiAgICB0aGlzLmdpZnRNb2RlbCA9IEdpZnRNb2RlbC5zaGFyZWRJbnN0YW5jZU1vZGVsKCk7XHJcbiAgICB0aGlzLnJvb21EZXRhaWwgPSBSb29tRGV0YWlsTW9kZWwuc2hhcmVkSW5zdGFuY2VNb2RlbCgpO1xyXG4gICAgdGhpcy5wZXJtc3NzaW9uTW9kZWwgPSBuZXcgUGVybWlzc2lvbk1vZGVsKCk7XHJcblxyXG4gICAgdGhpcy5yb29tRGV0YWlsUGFyYW1zID0ge1xyXG4gICAgICBkZXZpY2VpbmZvOiAne1wiYWlkXCI6IFwiMzAwMDEwMDFcIn0nLFxyXG4gICAgICBhY2Nlc3NfdG9rZW46IHVzZXIuZ2V0V2ViVG9rZW4oKSxcclxuICAgICAgcm9vbUlkOiAnJ1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmdpZnRQYXJhbXMgPSB7XHJcbiAgICAgIGRldmljZWluZm86ICd7XCJhaWRcIjogXCIzMDAwMTAwMVwifScsXHJcbiAgICAgIGFjY2Vzc190b2tlbjogdXNlci5nZXRXZWJUb2tlbigpLFxyXG4gICAgICBvZmZzZXQ6IDAsXHJcbiAgICAgIHNpemU6IDkwMDAwLFxyXG4gICAgICB0eXBlOiAwXHJcbiAgICB9O1xyXG4gICAgdGhpcy5yb29tTG9uZ1BvbGxpbmcgPSBSb29tTG9uZ1BvbGxpbmdNb2RlbC5zaGFyZWRJbnN0YW5jZU1vZGVsKCk7XHJcbiAgfSxcclxuICAvLyDlvZPmqKHmnb/mjILovb3liLDlhYPntKDkuYvlkI5cclxuICBhZnRlck1vdW50OiBmdW5jdGlvbiAoKSB7fSxcclxuXHJcbiAgLy8g5b2T5LqL5Lu255uR5ZCs5Zmo77yM5YaF6YOo5a6e5L6L5Yid5aeL5YyW5a6M5oiQ77yM5qih5p2/5oyC6L295Yiw5paH5qGj5LmL5ZCOXHJcbiAgcmVhZHk6IGZ1bmN0aW9uIChvcHMpIHtcclxuICAgIHN0b3JlLnJlbW92ZSgnaW1TaWcnKTtcclxuICAgIHRoaXMub3B0aW9ucyA9IF8uZXh0ZW5kKHtcclxuICAgICAgYXNzaXN0YW50OiBmYWxzZVxyXG4gICAgfSwgb3BzKTtcclxuICAgIHRoaXMudXNlclZlcmlmeSgpO1xyXG5cclxuICAgIC8vIHRoaXMuZmllbGRDb250cm9sID0gbmV3IEZpZWxkQ29udHJvbCgpO1xyXG5cclxuICAgIEJhY2tib25lLm9uKCdldmVudDpzdG9wTG9vcFJvb21JbmZvJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAvLyBjbGVhclRpbWVvdXQoc2VsZi5yb29tSW5mb1RpbWVJZCk7XHJcbiAgICB9KTtcclxuICAgIEJhY2tib25lLm9uKCdldmVudDpyb29tSW5mb1JlYWR5JywgdGhpcy5yb29tSW5mb1JlYWR5LmJpbmQodGhpcykpO1xyXG4gIH0sXHJcbiAgaW5pdFdlYklNOiBmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBjYWxsYmFjayhub3RpZnlJbmZvKSB7XHJcbiAgICAgIEJhY2tib25lLnRyaWdnZXIoJ2V2ZW50Omdyb3VwU3lzdGVtTm90aWZ5cycsIG5vdGlmeUluZm8pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOazqOWGjElN5LqL5Lu25aSE55CGXHJcbiAgICByZXR1cm4gaW1TZXJ2ZXIuaW5pdCh7XHJcbiAgICAgIG9uQ29ubk5vdGlmeTogZnVuY3Rpb24gKG5vdGlmeUluZm8pIHtcclxuICAgICAgICBCYWNrYm9uZS50cmlnZ2VyKCdldmVudDpvbkNvbm5Ob3RpZnknLCBub3RpZnlJbmZvKTtcclxuICAgICAgfSxcclxuICAgICAgb25Nc2dOb3RpZnk6IGZ1bmN0aW9uIChub3RpZnlJbmZvKSB7XHJcbiAgICAgICAgQmFja2JvbmUudHJpZ2dlcignZXZlbnQ6b25Nc2dOb3RpZnknLCBub3RpZnlJbmZvKTtcclxuICAgICAgfSxcclxuICAgICAgb25Hcm91cEluZm9DaGFuZ2VOb3RpZnk6IGZ1bmN0aW9uIChub3RpZnlJbmZvKSB7XHJcbiAgICAgICAgQmFja2JvbmUudHJpZ2dlcignZXZlbnQ6b25Hcm91cEluZm9DaGFuZ2VOb3RpZnknLCBub3RpZnlJbmZvKTtcclxuICAgICAgfSxcclxuICAgICAgZ3JvdXBTeXN0ZW1Ob3RpZnlzOiB7XHJcbiAgICAgICAgMTogY2FsbGJhY2ssIC8vIOeUs+ivt+WKoOe+pOivt+axgu+8iOWPquacieeuoeeQhuWRmOS8muaUtuWIsO+8iVxyXG4gICAgICAgIDI6IGNhbGxiYWNrLCAvLyDnlLPor7fliqDnvqTooqvlkIzmhI/vvIjlj6rmnInnlLPor7fkurrog73lpJ/mlLbliLDvvIlcclxuICAgICAgICAzOiBjYWxsYmFjaywgLy8g55Sz6K+35Yqg576k6KKr5ouS57ud77yI5Y+q5pyJ55Sz6K+35Lq66IO95aSf5pS25Yiw77yJXHJcbiAgICAgICAgNDogY2FsbGJhY2ssIC8vIOiiq+euoeeQhuWRmOi4ouWHuue+pCjlj6rmnInooqvouKLogIXmjqXmlLbliLApXHJcbiAgICAgICAgNTogY2FsbGJhY2ssIC8vIOe+pOiiq+ino+aVoyjlhajlkZjmjqXmlLYpXHJcbiAgICAgICAgNjogY2FsbGJhY2ssIC8vIOWIm+W7uue+pCjliJvlu7rogIXmjqXmlLYpXHJcbiAgICAgICAgNzogY2FsbGJhY2ssIC8vIOmCgOivt+WKoOe+pCjooqvpgoDor7fogIXmjqXmlLYpXHJcbiAgICAgICAgODogY2FsbGJhY2ssIC8vIOS4u+WKqOmAgOe+pCjkuLvliqjpgIDlh7rogIXmjqXmlLYpXHJcbiAgICAgICAgOTogY2FsbGJhY2ssIC8vIOiuvue9rueuoeeQhuWRmCjooqvorr7nva7ogIXmjqXmlLYpXHJcbiAgICAgICAgMTA6IGNhbGxiYWNrLCAvLyDlj5bmtojnrqHnkIblkZgo6KKr5Y+W5raI6ICF5o6l5pS2KVxyXG4gICAgICAgIDExOiBjYWxsYmFjaywgLy8g576k5bey6KKr5Zue5pS2KOWFqOWRmOaOpeaUtilcclxuICAgICAgICAyNTU6IGNhbGxiYWNrIC8vICDnlKjmiLfoh6rlrprkuYnpgJrnn6Uo6buY6K6k5YWo5ZGY5o6l5pS2LOaaguS4jeaUr+aMgSlcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSxcclxuICBnb0xvZ2luOiBmdW5jdGlvbiAoKSB7XHJcbiAgICBzdG9yZS5yZW1vdmUoJ2ltU2lnJyk7XHJcbiAgICBzdG9yZS5zZXQoJ3NpZ25vdXQnLCAxKTtcclxuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9sb2dpbi5odG1sJztcclxuICB9LFxyXG4gIC8qKlxyXG4gICAqIOagoemqjOeUqOaIt1xyXG4gICAqL1xyXG4gIHVzZXJWZXJpZnk6IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcblxyXG4gICAgaWYgKHVzZXIuaXNMb2dpbmVkKCkpIHtcclxuICAgICAgc2VsZi5pbml0V2ViSU0oKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLmluaXRSb29tKCk7XHJcbiAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLmdvTG9naW4oKTtcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzZWxmLmdvTG9naW4oKTtcclxuICAgIH1cclxuICB9LFxyXG4gIGNoZWNrUm9vbUFjY2VzczogZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIGRlZmVyID0gJC5EZWZlcnJlZCgpO1xyXG4gICAgdmFyIHByb21pc2UgPSB0aGlzLnBlcm1zc3Npb25Nb2RlbC5leGVjdXRlSlNPTlAoXy5leHRlbmQoe1xyXG4gICAgICByb29tSWQ6IHRoaXMucm9vbUlkIHx8IDBcclxuICAgIH0sIHRoaXMucXVlcnlQYXJhbXMpKTtcclxuICAgIHByb21pc2UuZG9uZShmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgIGlmIChyZXMgJiYgcmVzLmRhdGEpIHtcclxuICAgICAgICB2YXIgY3VyUm9vbSA9IF8uZmluZChyZXMuZGF0YSwgZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgIHJldHVybiBpdGVtLnJvb21JZCA9PT0gfn5zZWxmLnJvb21JZDtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoY3VyUm9vbSkge1xyXG4gICAgICAgICAgaWYgKGN1clJvb20ub3BlcmF0aW9uUm9sZSA9PT0gMSB8fCBjdXJSb29tLm9wZXJhdGlvblJvbGUgPT09IDIpIHtcclxuICAgICAgICAgICAgZGVmZXIucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZGVmZXIucmVqZWN0KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGRlZmVyLnJlamVjdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZGVmZXIucHJvbWlzZSgpO1xyXG4gIH0sXHJcbiAgLyoqXHJcbiAgICog5Yid5aeL5YyW5oi/6Ze05L+h5oGvXHJcbiAgICovXHJcbiAgaW5pdFJvb206IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIC8vIHNlbGYucm9vbURldGFpbFBhcmFtcy5yb29tSWQgPSBzZWxmLnJvb21JZDtcclxuICAgIHRoaXMuZ2V0Um9vbUluZm8oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgc2VsZi52aWRlb1VybCA9IHtcclxuICAgICAgICBzdHJlYW1OYW1lOiBkYXRhLnN0cmVhbU5hbWUsXHJcbiAgICAgICAgdXJsOiBkYXRhLnVybFxyXG4gICAgICB9O1xyXG4gICAgICBzZWxmLnJlbmRlclBhZ2UoKTtcclxuICAgICAgc2VsZi5jaGVja1Jvb21BY2Nlc3MoKS5kb25lKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBCYWNrYm9uZS50cmlnZ2VyKCdldmVudDpyb29tSW5mb1JlYWR5JywgZGF0YSk7XHJcbiAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSAyKSB7XHJcbiAgICAgICAgICBzZWxmLmxvb3BSb29tSW5mbygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSkuZmFpbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCFkYXRhLm1pbmUpIHtcclxuICAgICAgICAgIHNlbGYuZ29CYWNrKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIEJhY2tib25lLnRyaWdnZXIoJ2V2ZW50OnJvb21JbmZvUmVhZHknLCBkYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICB1aUNvbmZpcm0uc2hvdyh7XHJcbiAgICAgICAgdGl0bGU6ICfmj5DnpLonLFxyXG4gICAgICAgIGNvbnRlbnQ6ICfojrflj5bmiL/pl7TmlbDmja7lpLHotKUhJyxcclxuICAgICAgICBva0ZuOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBzZWxmLmdvQmFjaygpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2FuY2VsRm46IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHNlbGYuZ29CYWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgbG9vcFJvb21JbmZvOiBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLnJvb21JbmZvVGltZUlkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHNlbGYucm9vbURldGFpbFBhcmFtcy5yb29tSWQgPSBzZWxmLnJvb21JZDtcclxuICAgICAgLy8gc2VsZi5nZXRSb29tSW5mbyhmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgIHNlbGYuZ2V0Um9vbUxvb3BJbmZvKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhO1xyXG4gICAgICAgIEJhY2tib25lLnRyaWdnZXIoJ2V2ZW50OnVwZGF0ZVJvb21JbmZvJywgZGF0YSk7XHJcbiAgICAgICAgc2VsZi5sb29wUm9vbUluZm8oKTtcclxuICAgICAgfSk7XHJcbiAgICB9LCBzZWxmLnJvb21JbmZvUGVyaW9kKTtcclxuICB9LFxyXG4gIGdldFJvb21Mb29wSW5mbzogZnVuY3Rpb24gKG9rRm4sIGVyckZuKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgcHJvbWlzZTtcclxuICAgIHNlbGYucm9vbURldGFpbFBhcmFtcy5yb29tSWQgPSBzZWxmLnJvb21JZDtcclxuICAgIHByb21pc2UgPSB0aGlzLnJvb21Mb25nUG9sbGluZy5leGVjdXRlSlNPTlAoc2VsZi5yb29tRGV0YWlsUGFyYW1zKTtcclxuICAgIHByb21pc2UuZG9uZShmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgaWYgKG9rRm4pIHtcclxuICAgICAgICBva0ZuKHJlc3BvbnNlKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBwcm9taXNlLmZhaWwoZnVuY3Rpb24gKGVycikge1xyXG4gICAgICBpZiAoZXJyRm4pIHtcclxuICAgICAgICBlcnJGbihlcnIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9LFxyXG4gIC8qKlxyXG4gICAqIOiOt+WPluaIv+mXtOaVsOaNrlxyXG4gICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gICAqL1xyXG4gIGdldFJvb21JbmZvOiBmdW5jdGlvbiAob2tGbiwgZXJyRm4pIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBwcm9taXNlO1xyXG4gICAgc2VsZi5yb29tRGV0YWlsUGFyYW1zLnJvb21JZCA9IHNlbGYucm9vbUlkO1xyXG4gICAgcHJvbWlzZSA9IHRoaXMucm9vbURldGFpbC5leGVjdXRlSlNPTlAoc2VsZi5yb29tRGV0YWlsUGFyYW1zKTtcclxuICAgIHByb21pc2UuZG9uZShmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgaWYgKG9rRm4pIHtcclxuICAgICAgICBva0ZuKHJlc3BvbnNlKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBwcm9taXNlLmZhaWwoZnVuY3Rpb24gKGVycikge1xyXG4gICAgICBpZiAoZXJyRm4pIHtcclxuICAgICAgICBlcnJGbihlcnIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9LFxyXG4gIC8qKlxyXG4gICAqIOi9veWFpemhtemdouWFtuS7luinhuWbvlxyXG4gICAqL1xyXG4gIHJlbmRlclBhZ2U6IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vIOe7hOS7tuS4gO+8jOe8lui+keiDjOaZr+WbvueJh1xyXG4gICAgdmFyIEVkaXRCZ1ZpZXcgPSByZXF1aXJlKCcuL2FuY2hvci1lZGl0LWJnLnZpZXcnKTtcclxuICAgIC8vIOe7hOS7tuS6jO+8jOS4u+aSreS/oeaBr1xyXG4gICAgdmFyIEluZm9WaWV3ID0gcmVxdWlyZSgnLi9hbmNob3ItaW5mby52aWV3Jyk7XHJcbiAgICAvLyDnu4Tku7bkuInvvIzkuLvmkq3mjqfliLbmtojmga9cclxuICAgIHZhciBDaGF0VmlldyA9IHJlcXVpcmUoJy4vYW5jaG9yLWNoYXQudmlldycpO1xyXG4gICAgLy8g5YWs5ZGK57uE5Lu2XHJcbiAgICB2YXIgTm90aWNlVmlldyA9IHJlcXVpcmUoJy4vbm90aWNlLnZpZXcnKTtcclxuICAgIC8vIOebtOaSreW8gOWniyznu5PmnZ/mjqfliLZcclxuICAgIHZhciBMaXZlU2hvd0J0blZpZXcgPSByZXF1aXJlKCcuL2xpdmUtc2hvdy1idG4udmlldycpO1xyXG5cclxuICAgIHZhciBBc3Npc3RhbnRWaWV3ID0gcmVxdWlyZSgnLi9hc3Npc3RhbnQudmlldycpO1xyXG5cclxuICAgIHZhciBhID0gbmV3IEVkaXRCZ1ZpZXcoKTtcclxuICAgIGEgPSBuZXcgSW5mb1ZpZXcoKTtcclxuICAgIGEgPSBuZXcgQ2hhdFZpZXcoXy5leHRlbmQoe1xyXG4gICAgICB0eXBlOiAnY29udHJvbCdcclxuICAgIH0sIHRoaXMub3B0aW9ucykpO1xyXG4gICAgYSA9IG5ldyBOb3RpY2VWaWV3KCk7XHJcbiAgICBhID0gbmV3IExpdmVTaG93QnRuVmlldygpO1xyXG4gICAgYSA9IG5ldyBBc3Npc3RhbnRWaWV3KHRoaXMub3B0aW9ucyk7XHJcbiAgICBjb25zb2xlLmxvZyhhKTtcclxuICB9LFxyXG4gIGdvQmFjazogZnVuY3Rpb24gKCkge1xyXG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2FuY2hvci1zZXR0aW5nLmh0bWwnO1xyXG4gIH0sXHJcbiAgaW5pdEdpZnRMaXN0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLmdpZnRNb2RlbC5nZXQodGhpcy5naWZ0UGFyYW1zLCBmdW5jdGlvbiAoKSB7fSwgZnVuY3Rpb24gKCkge30pO1xyXG4gIH0sXHJcbiAgLy8g6K+75Y+W5b2T5YmN55So5oi35L+h5oGvXHJcbiAgZ2V0VXNlckluZm86IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBkZWZlciA9ICQuRGVmZXJyZWQoKTtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIFVzZXJJbmZvLmdldEluZm8oZnVuY3Rpb24gKGluZm8pIHtcclxuICAgICAgc2VsZi51c2VySW5mbyA9IGluZm87XHJcbiAgICAgIGRlZmVyLnJlc29sdmUoaW5mbyk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBkZWZlci5wcm9taXNlKCk7XHJcbiAgfSxcclxuICByb29tSW5mb1JlYWR5OiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgLy8gaWYgKHRoaXMub3B0aW9ucy5hc3Npc3RhbnQpIHtcclxuICAgIHRoaXMuZ2V0VXNlckluZm8oKS5kb25lKGZ1bmN0aW9uIChpbmZvKSB7XHJcbiAgICAgIHNlbGYuYWRXYWxsVmlldyA9IG5ldyBBZHZlcnRpc2luZ1dhbGxWaWV3KHtcclxuICAgICAgICBlbDogJyNhZHZlcnRpc2luZ1dhbGwnLFxyXG4gICAgICAgIHJvb21JZDogZGF0YS5pZCxcclxuICAgICAgICB1c2VySW5mbzogaW5mbyxcclxuICAgICAgICB0eXBlOiAxIC8vIOebtOaSrVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgLy8gfVxyXG4gIH1cclxufSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFZpZXc7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvc3JjL3ZpZXdzL2FuY2hvci9tYWluLnZpZXcuanNcbiAqKiBtb2R1bGUgaWQgPSAyNlxuICoqIG1vZHVsZSBjaHVua3MgPSAxIDNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports){eval("module.exports = window._;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ3aW5kb3cuX1wiPzM3YmQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHdpbmRvdy5fO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogZXh0ZXJuYWwgXCJ3aW5kb3cuX1wiXG4gKiogbW9kdWxlIGlkID0gMjdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMSAyIDMgNCA1IDYgNyA4IDkgMTBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){eval("var BaseView = __webpack_require__(29);\r\nvar BaseModel = __webpack_require__(36);\r\nvar BaseRouter = __webpack_require__(38);\r\nvar ManagedObject = __webpack_require__(39);\r\nvar storage = __webpack_require__(37);\r\nmodule.exports = {\r\n    'View':BaseView,\r\n    'Model':BaseModel,\r\n    'Router':BaseRouter,\r\n    'ManagedObject':ManagedObject,\r\n    'storage':storage\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+Ly5ucG1pbnN0YWxsL2Jhc2UtZXh0ZW5kLWJhY2tib25lLzAuMS40L2Jhc2UtZXh0ZW5kLWJhY2tib25lL3NyYy9pbmRleC5qcz9hZGEyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIyOC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBCYXNlVmlldyA9IHJlcXVpcmUoJy4vaW5zdGFuY2UvYmFzZVZpZXcnKTtcclxudmFyIEJhc2VNb2RlbCA9IHJlcXVpcmUoJy4vaW5zdGFuY2UvYmFzZU1vZGVsJyk7XHJcbnZhciBCYXNlUm91dGVyID0gcmVxdWlyZSgnLi9pbnN0YW5jZS9iYXNlUm91dGVyJyk7XHJcbnZhciBNYW5hZ2VkT2JqZWN0ID0gcmVxdWlyZSgnLi9lbnRpdHkvTWFuYWdlZE9iamVjdCcpO1xyXG52YXIgc3RvcmFnZSA9IHJlcXVpcmUoJy4vc3RvcmUvc3RvcmFnZScpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgICdWaWV3JzpCYXNlVmlldyxcclxuICAgICdNb2RlbCc6QmFzZU1vZGVsLFxyXG4gICAgJ1JvdXRlcic6QmFzZVJvdXRlcixcclxuICAgICdNYW5hZ2VkT2JqZWN0JzpNYW5hZ2VkT2JqZWN0LFxyXG4gICAgJ3N0b3JhZ2UnOnN0b3JhZ2VcclxufTtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vLm5wbWluc3RhbGwvYmFzZS1leHRlbmQtYmFja2JvbmUvMC4xLjQvYmFzZS1leHRlbmQtYmFja2JvbmUvc3JjL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMjhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMSAyIDMgNCA1IDYgNyA4IDkgMTBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){eval("/**\r\n * @time 2012年10月19日\r\n * @author icepy\r\n * @info 完成基础的View类\r\n *\r\n * @time 2016年2月27日\r\n * @author icepy\r\n * @info 改造兼容webpack打包\r\n */\r\n\r\n'use strict';\r\n\r\nvar Backbone = __webpack_require__(30);\r\nvar tplEng = __webpack_require__(31);\r\nvar warn = __webpack_require__(32);\r\nvar Tools = __webpack_require__(34);\r\nvar error = __webpack_require__(35);\r\nvar uid = 999;\r\nvar createID = function(){\r\n\treturn 'view_'+(uid++)+'_'+(new Date().getTime())+Math.floor(Math.random(100)*100);\r\n};\r\nvar BaseView = Backbone.View.extend({\r\n\tinitialize:function(options){\r\n\t\t//初始化参数\r\n\t\tthis._ICEOptions = options || {};\r\n\t\tif (_.isFunction(this.beforeMount)){\r\n\t\t\tthis.beforeMount();\r\n\t\t}else{\r\n\t\t\twarn('推荐使用beforeMount钩子方法，用来初始化自定义属性');\r\n\t\t};\r\n\t\tif (this.router) {\r\n\t\t\tthis.id = createID();\r\n\t\t\tthis.$el.append('<div id=\"'+this.id+'\"></div>');\r\n\t\t\tthis.$el = this.$el.find('#'+this.id);\r\n\t\t};\r\n\t\tthis._ICEinit();\r\n\t\treturn this;\r\n\t},\r\n\t_ICEinit:function(){\r\n\t\tif (_.isFunction(this.rawLoader)) {\r\n\t\t\tthis._template = this.rawLoader();\r\n\t\t\tif (this._template) {\r\n\t\t\t\tthis.$el.append(this._template);\r\n\t\t\t};\r\n\t\t}\r\n\t\tif (typeof this.afterMount === 'function') {\r\n\t\t\tthis.afterMount();\r\n\t\t}else{\r\n\t\t\twarn('推荐使用afterMount钩子方法，在此钩子方法中来获取DOM对象');\r\n\t\t};\r\n\t\tthis._ICEObject();\r\n\t},\r\n\t_ICEObject:function(){\r\n\t\tthis._ICEinitNode();\r\n\t\tthis.__YYTPC__ = true;\r\n\t\tif (_.isFunction(this.ready)) {\r\n\t\t\tthis.ready(this._ICEOptions);\r\n\t\t}else{\r\n\t\t\terror('一个View对象周期内必须实现ready钩子方法');\r\n\t\t};\r\n\t},\r\n\t_ICEinitEvent:function(){\r\n\t\tthis.delegateEvents(this.events);\r\n\t},\r\n\t_ICEinitNode:function(){\r\n\t\tvar self = this;\r\n\t\tthis.$parent = this._ICEOptions.parent;\r\n\t\tthis.$children  = [];\r\n\t\tthis.$root = this.$parent ? this.$parent.$root : this;\r\n\t\tif (this.$parent && this.$parent.__YYTPC__) {\r\n\t\t\tthis.$parent.$children.push(this);\r\n\t\t};\r\n\t\tthis.on('hook:context',function(){\r\n\t\t\tvar args = Tools.toArray(arguments);\r\n\t\t\tif (self && self.__YYTPC__) {\r\n\t\t\t\tif (_.isFunction(self.context)) {\r\n\t\t\t\t\tself.context.apply(self,args);\r\n\t\t\t\t}else{\r\n\t\t\t\t\twarn('未定义context上下文钩子方法');\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\t});\r\n\t},\r\n\t_ICEDestroy:function(){\r\n\t\t//实例销毁之前\r\n\t\tif (_.isFunction(this.beforeDestroy)) {\r\n\t\t\tthis.beforeDestroy();\r\n\t\t};\r\n\t\tthis.remove();\r\n\t\tthis.undelegate();\r\n\t\t//实例销毁之后\r\n\t\tif (_.isFunction(this.destroyed)) {\r\n\t\t\tthis.destroyed();\r\n\t\t};\r\n\t},\r\n\t/**\r\n\t * [triggerHook 触发父对象的Hook]\r\n\t * @return {[type]} [description]\r\n\t */\r\n\ttriggerContextHook:function(){\r\n\t\tif (this.$parent && this.$parent.__YYTPC__) {\r\n\t\t\tvar args = Tools.toArray(arguments);\r\n\t\t\tvar event = args[0];\r\n\t\t\tif (_.isString(event)) {\r\n\t\t\t\targs[0] = 'hook:context';\r\n\t\t\t}else{\r\n\t\t\t\targs.splice(0,0,'hook:context');\r\n\t\t\t};\r\n\t\t\tswitch (event) {\r\n\t\t\t\tcase 'root':\r\n\t\t\t\t\t\tthis.$root.trigger.apply(this.$root,args);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t\tthis.$parent.trigger.apply(this.$parent,args);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\twarn('在View实例对象初始化时未指明对象的结构关系');\r\n\t\t}\r\n\t},\r\n\t/**\r\n\t * [findDOMNode 查找DOM节点]\r\n\t * @param  {[type]} exprs [description]\r\n\t * @return {[type]}       [description]\r\n\t */\r\n\tfindDOMNode:function(exprs){\r\n\t\treturn this.$el && this.$el.find(exprs);\r\n\t},\r\n\t/**\r\n\t * [compileHTML 编译模板]\r\n\t * @param  {[type]} tplStr [description]\r\n\t * @param  {[type]} data   [description]\r\n\t * @return {[type]}        [description]\r\n\t */\r\n\tcompileHTML:function(tplStr,data){\r\n\t\treturn tplEng.compile(tplStr)(data);\r\n\t},\r\n\t/**\r\n\t * [broadcast 触发所有子组件相应的事件]\r\n\t * @param  {[type]} event [description]\r\n\t * @return {[type]}       [description]\r\n\t */\r\n\tbroadcast:function(){\r\n\t\tvar args = Tools.toArray(arguments);\r\n\t\tvar children = this.$children;\r\n\t\tvar i = 0;\r\n\t\tvar j = children.length;\r\n\t\tfor(;i<j;i++){\r\n\t\t\tvar child = children[i];\r\n\t\t\tvar propagate = child.trigger.apply(child,args);\r\n\t\t\tif(propagate){\r\n\t\t\t\tchild.broadcast.apply(child,args);\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\t/**\r\n\t * [dispatch 触发所有父组件相应的事件]\r\n\t * @param  {[type]} event [description]\r\n\t * @return {[type]}       [description]\r\n\t */\r\n\tdispatch:function(){\r\n\t\tvar args = Tools.toArray(arguments);\r\n\t\tvar parent = this.$parent;\r\n\t\twhile(parent){\r\n\t\t\tparent.trigger.apply(parent,args);\r\n\t\t\tparent = parent.$parent;\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\t/**\r\n\t * [destroy 销毁实例]\r\n\t * @return {[type]} [description]\r\n\t */\r\n\tdestroy:function(){\r\n\t\tthis._ICEOptions = null;\r\n\t\tthis.$children.length = 0;\r\n\t\tthis.$parent = null;\r\n\t\tthis.$root = null;\r\n\t\tthis._ICEDestroy();\r\n\t}\r\n});\r\n\r\nmodule.exports = BaseView;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+Ly5ucG1pbnN0YWxsL2Jhc2UtZXh0ZW5kLWJhY2tib25lLzAuMS40L2Jhc2UtZXh0ZW5kLWJhY2tib25lL3NyYy9pbnN0YW5jZS9iYXNlVmlldy5qcz80OWM3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQixhQUFhLE9BQU87QUFDcEIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLElBQUk7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCIsImZpbGUiOiIyOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBAdGltZSAyMDEy5bm0MTDmnIgxOeaXpVxyXG4gKiBAYXV0aG9yIGljZXB5XHJcbiAqIEBpbmZvIOWujOaIkOWfuuehgOeahFZpZXfnsbtcclxuICpcclxuICogQHRpbWUgMjAxNuW5tDLmnIgyN+aXpVxyXG4gKiBAYXV0aG9yIGljZXB5XHJcbiAqIEBpbmZvIOaUuemAoOWFvOWuuXdlYnBhY2vmiZPljIVcclxuICovXHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG52YXIgQmFja2JvbmUgPSByZXF1aXJlKCdiYWNrYm9uZScpO1xyXG52YXIgdHBsRW5nID0gcmVxdWlyZSgndHBsRW5nJyk7XHJcbnZhciB3YXJuID0gcmVxdWlyZSgnLi4vdXRpbC93YXJuJyk7XHJcbnZhciBUb29scyA9IHJlcXVpcmUoJy4uL3V0aWwvdG9vbHMnKTtcclxudmFyIGVycm9yID0gcmVxdWlyZSgnLi4vdXRpbC9lcnJvcicpO1xyXG52YXIgdWlkID0gOTk5O1xyXG52YXIgY3JlYXRlSUQgPSBmdW5jdGlvbigpe1xyXG5cdHJldHVybiAndmlld18nKyh1aWQrKykrJ18nKyhuZXcgRGF0ZSgpLmdldFRpbWUoKSkrTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgxMDApKjEwMCk7XHJcbn07XHJcbnZhciBCYXNlVmlldyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcclxuXHRpbml0aWFsaXplOmZ1bmN0aW9uKG9wdGlvbnMpe1xyXG5cdFx0Ly/liJ3lp4vljJblj4LmlbBcclxuXHRcdHRoaXMuX0lDRU9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG5cdFx0aWYgKF8uaXNGdW5jdGlvbih0aGlzLmJlZm9yZU1vdW50KSl7XHJcblx0XHRcdHRoaXMuYmVmb3JlTW91bnQoKTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHR3YXJuKCfmjqjojZDkvb/nlKhiZWZvcmVNb3VudOmSqeWtkOaWueazle+8jOeUqOadpeWIneWni+WMluiHquWumuS5ieWxnuaApycpO1xyXG5cdFx0fTtcclxuXHRcdGlmICh0aGlzLnJvdXRlcikge1xyXG5cdFx0XHR0aGlzLmlkID0gY3JlYXRlSUQoKTtcclxuXHRcdFx0dGhpcy4kZWwuYXBwZW5kKCc8ZGl2IGlkPVwiJyt0aGlzLmlkKydcIj48L2Rpdj4nKTtcclxuXHRcdFx0dGhpcy4kZWwgPSB0aGlzLiRlbC5maW5kKCcjJyt0aGlzLmlkKTtcclxuXHRcdH07XHJcblx0XHR0aGlzLl9JQ0Vpbml0KCk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cdF9JQ0Vpbml0OmZ1bmN0aW9uKCl7XHJcblx0XHRpZiAoXy5pc0Z1bmN0aW9uKHRoaXMucmF3TG9hZGVyKSkge1xyXG5cdFx0XHR0aGlzLl90ZW1wbGF0ZSA9IHRoaXMucmF3TG9hZGVyKCk7XHJcblx0XHRcdGlmICh0aGlzLl90ZW1wbGF0ZSkge1xyXG5cdFx0XHRcdHRoaXMuJGVsLmFwcGVuZCh0aGlzLl90ZW1wbGF0ZSk7XHJcblx0XHRcdH07XHJcblx0XHR9XHJcblx0XHRpZiAodHlwZW9mIHRoaXMuYWZ0ZXJNb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHR0aGlzLmFmdGVyTW91bnQoKTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHR3YXJuKCfmjqjojZDkvb/nlKhhZnRlck1vdW506ZKp5a2Q5pa55rOV77yM5Zyo5q2k6ZKp5a2Q5pa55rOV5Lit5p2l6I635Y+WRE9N5a+56LGhJyk7XHJcblx0XHR9O1xyXG5cdFx0dGhpcy5fSUNFT2JqZWN0KCk7XHJcblx0fSxcclxuXHRfSUNFT2JqZWN0OmZ1bmN0aW9uKCl7XHJcblx0XHR0aGlzLl9JQ0Vpbml0Tm9kZSgpO1xyXG5cdFx0dGhpcy5fX1lZVFBDX18gPSB0cnVlO1xyXG5cdFx0aWYgKF8uaXNGdW5jdGlvbih0aGlzLnJlYWR5KSkge1xyXG5cdFx0XHR0aGlzLnJlYWR5KHRoaXMuX0lDRU9wdGlvbnMpO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdGVycm9yKCfkuIDkuKpWaWV35a+56LGh5ZGo5pyf5YaF5b+F6aG75a6e546wcmVhZHnpkqnlrZDmlrnms5UnKTtcclxuXHRcdH07XHJcblx0fSxcclxuXHRfSUNFaW5pdEV2ZW50OmZ1bmN0aW9uKCl7XHJcblx0XHR0aGlzLmRlbGVnYXRlRXZlbnRzKHRoaXMuZXZlbnRzKTtcclxuXHR9LFxyXG5cdF9JQ0Vpbml0Tm9kZTpmdW5jdGlvbigpe1xyXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0dGhpcy4kcGFyZW50ID0gdGhpcy5fSUNFT3B0aW9ucy5wYXJlbnQ7XHJcblx0XHR0aGlzLiRjaGlsZHJlbiAgPSBbXTtcclxuXHRcdHRoaXMuJHJvb3QgPSB0aGlzLiRwYXJlbnQgPyB0aGlzLiRwYXJlbnQuJHJvb3QgOiB0aGlzO1xyXG5cdFx0aWYgKHRoaXMuJHBhcmVudCAmJiB0aGlzLiRwYXJlbnQuX19ZWVRQQ19fKSB7XHJcblx0XHRcdHRoaXMuJHBhcmVudC4kY2hpbGRyZW4ucHVzaCh0aGlzKTtcclxuXHRcdH07XHJcblx0XHR0aGlzLm9uKCdob29rOmNvbnRleHQnLGZ1bmN0aW9uKCl7XHJcblx0XHRcdHZhciBhcmdzID0gVG9vbHMudG9BcnJheShhcmd1bWVudHMpO1xyXG5cdFx0XHRpZiAoc2VsZiAmJiBzZWxmLl9fWVlUUENfXykge1xyXG5cdFx0XHRcdGlmIChfLmlzRnVuY3Rpb24oc2VsZi5jb250ZXh0KSkge1xyXG5cdFx0XHRcdFx0c2VsZi5jb250ZXh0LmFwcGx5KHNlbGYsYXJncyk7XHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHR3YXJuKCfmnKrlrprkuYljb250ZXh05LiK5LiL5paH6ZKp5a2Q5pa55rOVJyk7XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fTtcclxuXHRcdH0pO1xyXG5cdH0sXHJcblx0X0lDRURlc3Ryb3k6ZnVuY3Rpb24oKXtcclxuXHRcdC8v5a6e5L6L6ZSA5q+B5LmL5YmNXHJcblx0XHRpZiAoXy5pc0Z1bmN0aW9uKHRoaXMuYmVmb3JlRGVzdHJveSkpIHtcclxuXHRcdFx0dGhpcy5iZWZvcmVEZXN0cm95KCk7XHJcblx0XHR9O1xyXG5cdFx0dGhpcy5yZW1vdmUoKTtcclxuXHRcdHRoaXMudW5kZWxlZ2F0ZSgpO1xyXG5cdFx0Ly/lrp7kvovplIDmr4HkuYvlkI5cclxuXHRcdGlmIChfLmlzRnVuY3Rpb24odGhpcy5kZXN0cm95ZWQpKSB7XHJcblx0XHRcdHRoaXMuZGVzdHJveWVkKCk7XHJcblx0XHR9O1xyXG5cdH0sXHJcblx0LyoqXHJcblx0ICogW3RyaWdnZXJIb29rIOinpuWPkeeItuWvueixoeeahEhvb2tdXHJcblx0ICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcblx0ICovXHJcblx0dHJpZ2dlckNvbnRleHRIb29rOmZ1bmN0aW9uKCl7XHJcblx0XHRpZiAodGhpcy4kcGFyZW50ICYmIHRoaXMuJHBhcmVudC5fX1lZVFBDX18pIHtcclxuXHRcdFx0dmFyIGFyZ3MgPSBUb29scy50b0FycmF5KGFyZ3VtZW50cyk7XHJcblx0XHRcdHZhciBldmVudCA9IGFyZ3NbMF07XHJcblx0XHRcdGlmIChfLmlzU3RyaW5nKGV2ZW50KSkge1xyXG5cdFx0XHRcdGFyZ3NbMF0gPSAnaG9vazpjb250ZXh0JztcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0YXJncy5zcGxpY2UoMCwwLCdob29rOmNvbnRleHQnKTtcclxuXHRcdFx0fTtcclxuXHRcdFx0c3dpdGNoIChldmVudCkge1xyXG5cdFx0XHRcdGNhc2UgJ3Jvb3QnOlxyXG5cdFx0XHRcdFx0XHR0aGlzLiRyb290LnRyaWdnZXIuYXBwbHkodGhpcy4kcm9vdCxhcmdzKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0XHRcdHRoaXMuJHBhcmVudC50cmlnZ2VyLmFwcGx5KHRoaXMuJHBhcmVudCxhcmdzKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0d2Fybign5ZyoVmlld+WunuS+i+WvueixoeWIneWni+WMluaXtuacquaMh+aYjuWvueixoeeahOe7k+aehOWFs+ezuycpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblx0LyoqXHJcblx0ICogW2ZpbmRET01Ob2RlIOafpeaJvkRPTeiKgueCuV1cclxuXHQgKiBAcGFyYW0gIHtbdHlwZV19IGV4cHJzIFtkZXNjcmlwdGlvbl1cclxuXHQgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgIFtkZXNjcmlwdGlvbl1cclxuXHQgKi9cclxuXHRmaW5kRE9NTm9kZTpmdW5jdGlvbihleHBycyl7XHJcblx0XHRyZXR1cm4gdGhpcy4kZWwgJiYgdGhpcy4kZWwuZmluZChleHBycyk7XHJcblx0fSxcclxuXHQvKipcclxuXHQgKiBbY29tcGlsZUhUTUwg57yW6K+R5qih5p2/XVxyXG5cdCAqIEBwYXJhbSAge1t0eXBlXX0gdHBsU3RyIFtkZXNjcmlwdGlvbl1cclxuXHQgKiBAcGFyYW0gIHtbdHlwZV19IGRhdGEgICBbZGVzY3JpcHRpb25dXHJcblx0ICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG5cdCAqL1xyXG5cdGNvbXBpbGVIVE1MOmZ1bmN0aW9uKHRwbFN0cixkYXRhKXtcclxuXHRcdHJldHVybiB0cGxFbmcuY29tcGlsZSh0cGxTdHIpKGRhdGEpO1xyXG5cdH0sXHJcblx0LyoqXHJcblx0ICogW2Jyb2FkY2FzdCDop6blj5HmiYDmnInlrZDnu4Tku7bnm7jlupTnmoTkuovku7ZdXHJcblx0ICogQHBhcmFtICB7W3R5cGVdfSBldmVudCBbZGVzY3JpcHRpb25dXHJcblx0ICogQHJldHVybiB7W3R5cGVdfSAgICAgICBbZGVzY3JpcHRpb25dXHJcblx0ICovXHJcblx0YnJvYWRjYXN0OmZ1bmN0aW9uKCl7XHJcblx0XHR2YXIgYXJncyA9IFRvb2xzLnRvQXJyYXkoYXJndW1lbnRzKTtcclxuXHRcdHZhciBjaGlsZHJlbiA9IHRoaXMuJGNoaWxkcmVuO1xyXG5cdFx0dmFyIGkgPSAwO1xyXG5cdFx0dmFyIGogPSBjaGlsZHJlbi5sZW5ndGg7XHJcblx0XHRmb3IoO2k8ajtpKyspe1xyXG5cdFx0XHR2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcclxuXHRcdFx0dmFyIHByb3BhZ2F0ZSA9IGNoaWxkLnRyaWdnZXIuYXBwbHkoY2hpbGQsYXJncyk7XHJcblx0XHRcdGlmKHByb3BhZ2F0ZSl7XHJcblx0XHRcdFx0Y2hpbGQuYnJvYWRjYXN0LmFwcGx5KGNoaWxkLGFyZ3MpO1xyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHQvKipcclxuXHQgKiBbZGlzcGF0Y2gg6Kem5Y+R5omA5pyJ54i257uE5Lu255u45bqU55qE5LqL5Lu2XVxyXG5cdCAqIEBwYXJhbSAge1t0eXBlXX0gZXZlbnQgW2Rlc2NyaXB0aW9uXVxyXG5cdCAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgW2Rlc2NyaXB0aW9uXVxyXG5cdCAqL1xyXG5cdGRpc3BhdGNoOmZ1bmN0aW9uKCl7XHJcblx0XHR2YXIgYXJncyA9IFRvb2xzLnRvQXJyYXkoYXJndW1lbnRzKTtcclxuXHRcdHZhciBwYXJlbnQgPSB0aGlzLiRwYXJlbnQ7XHJcblx0XHR3aGlsZShwYXJlbnQpe1xyXG5cdFx0XHRwYXJlbnQudHJpZ2dlci5hcHBseShwYXJlbnQsYXJncyk7XHJcblx0XHRcdHBhcmVudCA9IHBhcmVudC4kcGFyZW50O1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHQvKipcclxuXHQgKiBbZGVzdHJveSDplIDmr4Hlrp7kvotdXHJcblx0ICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcblx0ICovXHJcblx0ZGVzdHJveTpmdW5jdGlvbigpe1xyXG5cdFx0dGhpcy5fSUNFT3B0aW9ucyA9IG51bGw7XHJcblx0XHR0aGlzLiRjaGlsZHJlbi5sZW5ndGggPSAwO1xyXG5cdFx0dGhpcy4kcGFyZW50ID0gbnVsbDtcclxuXHRcdHRoaXMuJHJvb3QgPSBudWxsO1xyXG5cdFx0dGhpcy5fSUNFRGVzdHJveSgpO1xyXG5cdH1cclxufSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IEJhc2VWaWV3O1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi8ubnBtaW5zdGFsbC9iYXNlLWV4dGVuZC1iYWNrYm9uZS8wLjEuNC9iYXNlLWV4dGVuZC1iYWNrYm9uZS9zcmMvaW5zdGFuY2UvYmFzZVZpZXcuanNcbiAqKiBtb2R1bGUgaWQgPSAyOVxuICoqIG1vZHVsZSBjaHVua3MgPSAxIDIgMyA0IDUgNiA3IDggOSAxMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");
},function(module,exports){eval("module.exports = window.Backbone;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ3aW5kb3cuQmFja2JvbmVcIj83NzZlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjMwLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB3aW5kb3cuQmFja2JvbmU7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiBleHRlcm5hbCBcIndpbmRvdy5CYWNrYm9uZVwiXG4gKiogbW9kdWxlIGlkID0gMzBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMSAyIDMgNCA1IDYgNyA4IDkgMTBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_RESULT__;/*!art-template - Template Engine | http://aui.github.com/artTemplate/*/\r\n!function(){function a(a){return a.replace(t,"").replace(u,",").replace(v,"").replace(w,"").replace(x,"").split(/^$|,+/)}function b(a){return"\'"+a.replace(/(\'|\\\\)/g,"\\\\$1").replace(/\\r/g,"\\\\r").replace(/\\n/g,"\\\\n")+"\'"}function c(c,d){function e(a){return m+=a.split(/\\n/).length-1,k&&(a=a.replace(/\\s+/g," ").replace(/<!--.*?-->/g,"")),a&&(a=s[1]+b(a)+s[2]+"\\n"),a}function f(b){var c=m;if(j?b=j(b,d):g&&(b=b.replace(/\\n/g,function(){return m++,"$line="+m+";"})),0===b.indexOf("=")){var e=l&&!/^=[=#]/.test(b);if(b=b.replace(/^=[=#]?|[\\s;]*$/g,""),e){var f=b.replace(/\\s*\\([^\\)]+\\)/,"");n[f]||/^(include|print)$/.test(f)||(b="$escape("+b+")")}else b="$string("+b+")";b=s[1]+b+s[2]}return g&&(b="$line="+c+";"+b),r(a(b),function(a){if(a&&!p[a]){var b;b="print"===a?u:"include"===a?v:n[a]?"$utils."+a:o[a]?"$helpers."+a:"$data."+a,w+=a+"="+b+",",p[a]=!0}}),b+"\\n"}var g=d.debug,h=d.openTag,i=d.closeTag,j=d.parser,k=d.compress,l=d.escape,m=1,p={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},q="".trim,s=q?["$out=\'\';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join(\'\')"],t=q?"$out+=text;return $out;":"$out.push(text);",u="function(){var text=\'\'.concat.apply(\'\',arguments);"+t+"}",v="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+t+"}",w="\'use strict\';var $utils=this,$helpers=$utils.$helpers,"+(g?"$line=0,":""),x=s[0],y="return new String("+s[3]+");";r(c.split(h),function(a){a=a.split(i);var b=a[0],c=a[1];1===a.length?x+=e(b):(x+=f(b),c&&(x+=e(c)))});var z=w+x+y;g&&(z="try{"+z+"}catch(e){throw {filename:$filename,name:\'Render Error\',message:e.message,line:$line,source:"+b(c)+".split(/\\\\n/)[$line-1].replace(/^\\\\s+/,\'\')};}");try{var A=new Function("$data","$filename",z);return A.prototype=n,A}catch(B){throw B.temp="function anonymous($data,$filename) {"+z+"}",B}}var d=function(a,b){return"string"==typeof b?q(b,{filename:a}):g(a,b)};d.version="3.0.0",d.config=function(a,b){e[a]=b};var e=d.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},f=d.cache={};d.render=function(a,b){return q(a,b)};var g=d.renderFile=function(a,b){var c=d.get(a)||p({filename:a,name:"Render Error",message:"Template not found"});return b?c(b):c};d.get=function(a){var b;if(f[a])b=f[a];else if("object"==typeof document){var c=document.getElementById(a);if(c){var d=(c.value||c.innerHTML).replace(/^\\s*|\\s*$/g,"");b=q(d,{filename:a})}}return b};var h=function(a,b){return"string"!=typeof a&&(b=typeof a,"number"===b?a+="":a="function"===b?h(a.call(a)):""),a},i={"<":"&#60;",">":"&#62;",\'"\':"&#34;","\'":"&#39;","&":"&#38;"},j=function(a){return i[a]},k=function(a){return h(a).replace(/&(?![\\w#]+;)|[<>"\']/g,j)},l=Array.isArray||function(a){return"[object Array]"==={}.toString.call(a)},m=function(a,b){var c,d;if(l(a))for(c=0,d=a.length;d>c;c++)b.call(a,a[c],c,a);else for(c in a)b.call(a,a[c],c)},n=d.utils={$helpers:{},$include:g,$string:h,$escape:k,$each:m};d.helper=function(a,b){o[a]=b};var o=d.helpers=n.$helpers;d.onerror=function(a){var b="Template Error\\n\\n";for(var c in a)b+="<"+c+">\\n"+a[c]+"\\n\\n";"object"==typeof console&&console.error(b)};var p=function(a){return d.onerror(a),function(){return"{Template Error}"}},q=d.compile=function(a,b){function d(c){try{return new i(c,h)+""}catch(d){return b.debug?p(d)():(b.debug=!0,q(a,b)(c))}}b=b||{};for(var g in e)void 0===b[g]&&(b[g]=e[g]);var h=b.filename;try{var i=c(a,b)}catch(j){return j.filename=h||"anonymous",j.name="Syntax Error",p(j)}return d.prototype=i.prototype,d.toString=function(){return i.toString()},h&&b.cache&&(f[h]=d),d},r=n.$each,s="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",t=/\\/\\*[\\w\\W]*?\\*\\/|\\/\\/[^\\n]*\\n|\\/\\/[^\\n]*$|"(?:[^"\\\\]|\\\\[\\w\\W])*"|\'(?:[^\'\\\\]|\\\\[\\w\\W])*\'|\\s*\\.\\s*[$\\w\\.]+/g,u=/[^\\w$]+/g,v=new RegExp(["\\\\b"+s.replace(/,/g,"\\\\b|\\\\b")+"\\\\b"].join("|"),"g"),w=/^\\d[^,]*|,\\d[^,]*/g,x=/^,+|,+$/g;e.openTag="{{",e.closeTag="}}";var y=function(a,b){var c=b.split(":"),d=c.shift(),e=c.join(":")||"";return e&&(e=", "+e),"$helpers."+d+"("+a+e+")"};e.parser=function(a,b){a=a.replace(/^\\s/,"");var c=a.split(" "),e=c.shift(),f=c.join(" ");switch(e){case"if":a="if("+f+"){";break;case"else":c="if"===c.shift()?" if("+c.join(" ")+")":"",a="}else"+c+"{";break;case"/if":a="}";break;case"each":var g=c[0]||"$data",h=c[1]||"as",i=c[2]||"$value",j=c[3]||"$index",k=i+","+j;"as"!==h&&(g="[]"),a="$each("+g+",function("+k+"){";break;case"/each":a="});";break;case"echo":a="print("+f+");";break;case"print":case"include":a=e+"("+c.join(",")+");";break;default:if(-1!==f.indexOf("|")){var l=b.escape;0===a.indexOf("#")&&(a=a.substr(1),l=!1);for(var m=0,n=a.split("|"),o=n.length,p=l?"$escape":"$string",q=p+"("+n[m++]+")";o>m;m++)q=y(q,n[m]);a="=#"+q}else a=d.helpers[e]?"=#"+e+"("+c.join(",")+");":"="+a}return a}, true?!(__WEBPACK_AMD_DEFINE_RESULT__ = function(){return d}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):"undefined"!=typeof exports?module.exports=d:this.template=d}();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvbGluay9hcnRUZW1wbGF0ZS9kaXN0L3RlbXBsYXRlLmpzPzU0ODciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxZQUFZLGNBQWMsK0ZBQStGLGNBQWMsb0ZBQW9GLGdCQUFnQixjQUFjLHFIQUFxSCxjQUFjLFFBQVEsK0NBQStDLHdCQUF3QixFQUFFLHVCQUF1QiwyQkFBMkIsNEJBQTRCLGFBQWEsb0NBQW9DLHdEQUF3RCx3QkFBd0IsY0FBYywwQkFBMEIsd0JBQXdCLGFBQWEsTUFBTSx1R0FBdUcsU0FBUyxpRkFBaUYsdURBQXVELHlCQUF5QixhQUFhLG9CQUFvQixrQkFBa0IsbUNBQW1DLFlBQVksbUJBQW1CLGdCQUFnQix1Q0FBdUMsTUFBTSw2QkFBNkIsaUJBQWlCLGtEQUFrRCxNQUFNLGtCQUFrQixtR0FBbUcsRUFBRSx5QkFBeUIsYUFBYSxrQkFBa0IsNENBQTRDLEVBQUUsWUFBWSxXQUFXLE1BQU0sU0FBUyxPQUFPLGdJQUFnSSxHQUFHLElBQUksMENBQTBDLHVCQUF1QixTQUFTLG1EQUFtRCxNQUFNLEtBQUssb0JBQW9CLDhCQUE4QixXQUFXLFVBQVUseUNBQXlDLFFBQVEsa0JBQWtCLHNFQUFzRSxjQUFjLHVCQUF1QixlQUFlLGlDQUFpQyxtQkFBbUIsNERBQTRELEVBQUUsaUJBQWlCLGtCQUFrQixNQUFNLGVBQWUsbUNBQW1DLGlDQUFpQyxNQUFNLHNEQUFzRCxPQUFPLFdBQVcsR0FBRyxVQUFVLG9CQUFvQiw2RkFBNkYsSUFBSSxVQUFVLFlBQVksWUFBWSxZQUFZLFlBQVksRUFBRSxlQUFlLFlBQVksZUFBZSxnQ0FBZ0MsY0FBYyw4QkFBOEIsMkJBQTJCLGtCQUFrQixpQkFBaUIsUUFBUSwyQkFBMkIsSUFBSSx1QkFBdUIsaUNBQWlDLFlBQVksV0FBVyx5Q0FBeUMsdUJBQXVCLFFBQVEsMkJBQTJCLHNCQUFzQiwyQkFBMkIsMENBQTBDLDRDQUE0QyxrQkFBa0IsK0JBQStCLFFBQVEsZUFBZSxHQUFHLDJCQUEyQixjQUFjLElBQUkscUJBQXFCLFNBQVMsOENBQThDLFFBQVEsMENBQTBDLGlCQUFpQixJQUFJLGFBQWEsU0FBUyw0REFBNEQscURBQXFELG9CQUFvQix3QkFBd0Isc3BCQUFzcEIsYUFBYSxnQkFBZ0IsRUFBRSxvQkFBb0IsaURBQWlELGdEQUFnRCx1QkFBdUIsc0JBQXNCLDZDQUE2QyxVQUFVLHNCQUFzQixFQUFFLE1BQU0sNERBQTRELFVBQVUsRUFBRSxNQUFNLGNBQWMsRUFBRSxNQUFNLHdGQUF3RixrREFBa0QsRUFBRSxNQUFNLGdCQUFnQixFQUFFLEVBQUUsTUFBTSwyQkFBMkIsRUFBRSxNQUFNLGlEQUFpRCxFQUFFLE1BQU0sZ0NBQWdDLGVBQWUseUNBQXlDLGlGQUFpRixJQUFJLGdCQUFnQixTQUFTLDhDQUE4QyxRQUFRLFNBQVMsb0RBQTZDLFNBQVMsb05BQStEIiwiZmlsZSI6IjMxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohYXJ0LXRlbXBsYXRlIC0gVGVtcGxhdGUgRW5naW5lIHwgaHR0cDovL2F1aS5naXRodWIuY29tL2FydFRlbXBsYXRlLyovXHJcbiFmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7cmV0dXJuIGEucmVwbGFjZSh0LFwiXCIpLnJlcGxhY2UodSxcIixcIikucmVwbGFjZSh2LFwiXCIpLnJlcGxhY2UodyxcIlwiKS5yZXBsYWNlKHgsXCJcIikuc3BsaXQoL14kfCwrLyl9ZnVuY3Rpb24gYihhKXtyZXR1cm5cIidcIithLnJlcGxhY2UoLygnfFxcXFwpL2csXCJcXFxcJDFcIikucmVwbGFjZSgvXFxyL2csXCJcXFxcclwiKS5yZXBsYWNlKC9cXG4vZyxcIlxcXFxuXCIpK1wiJ1wifWZ1bmN0aW9uIGMoYyxkKXtmdW5jdGlvbiBlKGEpe3JldHVybiBtKz1hLnNwbGl0KC9cXG4vKS5sZW5ndGgtMSxrJiYoYT1hLnJlcGxhY2UoL1xccysvZyxcIiBcIikucmVwbGFjZSgvPCEtLS4qPy0tPi9nLFwiXCIpKSxhJiYoYT1zWzFdK2IoYSkrc1syXStcIlxcblwiKSxhfWZ1bmN0aW9uIGYoYil7dmFyIGM9bTtpZihqP2I9aihiLGQpOmcmJihiPWIucmVwbGFjZSgvXFxuL2csZnVuY3Rpb24oKXtyZXR1cm4gbSsrLFwiJGxpbmU9XCIrbStcIjtcIn0pKSwwPT09Yi5pbmRleE9mKFwiPVwiKSl7dmFyIGU9bCYmIS9ePVs9I10vLnRlc3QoYik7aWYoYj1iLnJlcGxhY2UoL149Wz0jXT98W1xccztdKiQvZyxcIlwiKSxlKXt2YXIgZj1iLnJlcGxhY2UoL1xccypcXChbXlxcKV0rXFwpLyxcIlwiKTtuW2ZdfHwvXihpbmNsdWRlfHByaW50KSQvLnRlc3QoZil8fChiPVwiJGVzY2FwZShcIitiK1wiKVwiKX1lbHNlIGI9XCIkc3RyaW5nKFwiK2IrXCIpXCI7Yj1zWzFdK2Irc1syXX1yZXR1cm4gZyYmKGI9XCIkbGluZT1cIitjK1wiO1wiK2IpLHIoYShiKSxmdW5jdGlvbihhKXtpZihhJiYhcFthXSl7dmFyIGI7Yj1cInByaW50XCI9PT1hP3U6XCJpbmNsdWRlXCI9PT1hP3Y6blthXT9cIiR1dGlscy5cIithOm9bYV0/XCIkaGVscGVycy5cIithOlwiJGRhdGEuXCIrYSx3Kz1hK1wiPVwiK2IrXCIsXCIscFthXT0hMH19KSxiK1wiXFxuXCJ9dmFyIGc9ZC5kZWJ1ZyxoPWQub3BlblRhZyxpPWQuY2xvc2VUYWcsaj1kLnBhcnNlcixrPWQuY29tcHJlc3MsbD1kLmVzY2FwZSxtPTEscD17JGRhdGE6MSwkZmlsZW5hbWU6MSwkdXRpbHM6MSwkaGVscGVyczoxLCRvdXQ6MSwkbGluZToxfSxxPVwiXCIudHJpbSxzPXE/W1wiJG91dD0nJztcIixcIiRvdXQrPVwiLFwiO1wiLFwiJG91dFwiXTpbXCIkb3V0PVtdO1wiLFwiJG91dC5wdXNoKFwiLFwiKTtcIixcIiRvdXQuam9pbignJylcIl0sdD1xP1wiJG91dCs9dGV4dDtyZXR1cm4gJG91dDtcIjpcIiRvdXQucHVzaCh0ZXh0KTtcIix1PVwiZnVuY3Rpb24oKXt2YXIgdGV4dD0nJy5jb25jYXQuYXBwbHkoJycsYXJndW1lbnRzKTtcIit0K1wifVwiLHY9XCJmdW5jdGlvbihmaWxlbmFtZSxkYXRhKXtkYXRhPWRhdGF8fCRkYXRhO3ZhciB0ZXh0PSR1dGlscy4kaW5jbHVkZShmaWxlbmFtZSxkYXRhLCRmaWxlbmFtZSk7XCIrdCtcIn1cIix3PVwiJ3VzZSBzdHJpY3QnO3ZhciAkdXRpbHM9dGhpcywkaGVscGVycz0kdXRpbHMuJGhlbHBlcnMsXCIrKGc/XCIkbGluZT0wLFwiOlwiXCIpLHg9c1swXSx5PVwicmV0dXJuIG5ldyBTdHJpbmcoXCIrc1szXStcIik7XCI7cihjLnNwbGl0KGgpLGZ1bmN0aW9uKGEpe2E9YS5zcGxpdChpKTt2YXIgYj1hWzBdLGM9YVsxXTsxPT09YS5sZW5ndGg/eCs9ZShiKTooeCs9ZihiKSxjJiYoeCs9ZShjKSkpfSk7dmFyIHo9dyt4K3k7ZyYmKHo9XCJ0cnl7XCIreitcIn1jYXRjaChlKXt0aHJvdyB7ZmlsZW5hbWU6JGZpbGVuYW1lLG5hbWU6J1JlbmRlciBFcnJvcicsbWVzc2FnZTplLm1lc3NhZ2UsbGluZTokbGluZSxzb3VyY2U6XCIrYihjKStcIi5zcGxpdCgvXFxcXG4vKVskbGluZS0xXS5yZXBsYWNlKC9eXFxcXHMrLywnJyl9O31cIik7dHJ5e3ZhciBBPW5ldyBGdW5jdGlvbihcIiRkYXRhXCIsXCIkZmlsZW5hbWVcIix6KTtyZXR1cm4gQS5wcm90b3R5cGU9bixBfWNhdGNoKEIpe3Rocm93IEIudGVtcD1cImZ1bmN0aW9uIGFub255bW91cygkZGF0YSwkZmlsZW5hbWUpIHtcIit6K1wifVwiLEJ9fXZhciBkPWZ1bmN0aW9uKGEsYil7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGI/cShiLHtmaWxlbmFtZTphfSk6ZyhhLGIpfTtkLnZlcnNpb249XCIzLjAuMFwiLGQuY29uZmlnPWZ1bmN0aW9uKGEsYil7ZVthXT1ifTt2YXIgZT1kLmRlZmF1bHRzPXtvcGVuVGFnOlwiPCVcIixjbG9zZVRhZzpcIiU+XCIsZXNjYXBlOiEwLGNhY2hlOiEwLGNvbXByZXNzOiExLHBhcnNlcjpudWxsfSxmPWQuY2FjaGU9e307ZC5yZW5kZXI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gcShhLGIpfTt2YXIgZz1kLnJlbmRlckZpbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1kLmdldChhKXx8cCh7ZmlsZW5hbWU6YSxuYW1lOlwiUmVuZGVyIEVycm9yXCIsbWVzc2FnZTpcIlRlbXBsYXRlIG5vdCBmb3VuZFwifSk7cmV0dXJuIGI/YyhiKTpjfTtkLmdldD1mdW5jdGlvbihhKXt2YXIgYjtpZihmW2FdKWI9ZlthXTtlbHNlIGlmKFwib2JqZWN0XCI9PXR5cGVvZiBkb2N1bWVudCl7dmFyIGM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSk7aWYoYyl7dmFyIGQ9KGMudmFsdWV8fGMuaW5uZXJIVE1MKS5yZXBsYWNlKC9eXFxzKnxcXHMqJC9nLFwiXCIpO2I9cShkLHtmaWxlbmFtZTphfSl9fXJldHVybiBifTt2YXIgaD1mdW5jdGlvbihhLGIpe3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBhJiYoYj10eXBlb2YgYSxcIm51bWJlclwiPT09Yj9hKz1cIlwiOmE9XCJmdW5jdGlvblwiPT09Yj9oKGEuY2FsbChhKSk6XCJcIiksYX0saT17XCI8XCI6XCImIzYwO1wiLFwiPlwiOlwiJiM2MjtcIiwnXCInOlwiJiMzNDtcIixcIidcIjpcIiYjMzk7XCIsXCImXCI6XCImIzM4O1wifSxqPWZ1bmN0aW9uKGEpe3JldHVybiBpW2FdfSxrPWZ1bmN0aW9uKGEpe3JldHVybiBoKGEpLnJlcGxhY2UoLyYoPyFbXFx3I10rOyl8Wzw+XCInXS9nLGopfSxsPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGEpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PXt9LnRvU3RyaW5nLmNhbGwoYSl9LG09ZnVuY3Rpb24oYSxiKXt2YXIgYyxkO2lmKGwoYSkpZm9yKGM9MCxkPWEubGVuZ3RoO2Q+YztjKyspYi5jYWxsKGEsYVtjXSxjLGEpO2Vsc2UgZm9yKGMgaW4gYSliLmNhbGwoYSxhW2NdLGMpfSxuPWQudXRpbHM9eyRoZWxwZXJzOnt9LCRpbmNsdWRlOmcsJHN0cmluZzpoLCRlc2NhcGU6aywkZWFjaDptfTtkLmhlbHBlcj1mdW5jdGlvbihhLGIpe29bYV09Yn07dmFyIG89ZC5oZWxwZXJzPW4uJGhlbHBlcnM7ZC5vbmVycm9yPWZ1bmN0aW9uKGEpe3ZhciBiPVwiVGVtcGxhdGUgRXJyb3JcXG5cXG5cIjtmb3IodmFyIGMgaW4gYSliKz1cIjxcIitjK1wiPlxcblwiK2FbY10rXCJcXG5cXG5cIjtcIm9iamVjdFwiPT10eXBlb2YgY29uc29sZSYmY29uc29sZS5lcnJvcihiKX07dmFyIHA9ZnVuY3Rpb24oYSl7cmV0dXJuIGQub25lcnJvcihhKSxmdW5jdGlvbigpe3JldHVyblwie1RlbXBsYXRlIEVycm9yfVwifX0scT1kLmNvbXBpbGU9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBkKGMpe3RyeXtyZXR1cm4gbmV3IGkoYyxoKStcIlwifWNhdGNoKGQpe3JldHVybiBiLmRlYnVnP3AoZCkoKTooYi5kZWJ1Zz0hMCxxKGEsYikoYykpfX1iPWJ8fHt9O2Zvcih2YXIgZyBpbiBlKXZvaWQgMD09PWJbZ10mJihiW2ddPWVbZ10pO3ZhciBoPWIuZmlsZW5hbWU7dHJ5e3ZhciBpPWMoYSxiKX1jYXRjaChqKXtyZXR1cm4gai5maWxlbmFtZT1ofHxcImFub255bW91c1wiLGoubmFtZT1cIlN5bnRheCBFcnJvclwiLHAoail9cmV0dXJuIGQucHJvdG90eXBlPWkucHJvdG90eXBlLGQudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gaS50b1N0cmluZygpfSxoJiZiLmNhY2hlJiYoZltoXT1kKSxkfSxyPW4uJGVhY2gscz1cImJyZWFrLGNhc2UsY2F0Y2gsY29udGludWUsZGVidWdnZXIsZGVmYXVsdCxkZWxldGUsZG8sZWxzZSxmYWxzZSxmaW5hbGx5LGZvcixmdW5jdGlvbixpZixpbixpbnN0YW5jZW9mLG5ldyxudWxsLHJldHVybixzd2l0Y2gsdGhpcyx0aHJvdyx0cnVlLHRyeSx0eXBlb2YsdmFyLHZvaWQsd2hpbGUsd2l0aCxhYnN0cmFjdCxib29sZWFuLGJ5dGUsY2hhcixjbGFzcyxjb25zdCxkb3VibGUsZW51bSxleHBvcnQsZXh0ZW5kcyxmaW5hbCxmbG9hdCxnb3RvLGltcGxlbWVudHMsaW1wb3J0LGludCxpbnRlcmZhY2UsbG9uZyxuYXRpdmUscGFja2FnZSxwcml2YXRlLHByb3RlY3RlZCxwdWJsaWMsc2hvcnQsc3RhdGljLHN1cGVyLHN5bmNocm9uaXplZCx0aHJvd3MsdHJhbnNpZW50LHZvbGF0aWxlLGFyZ3VtZW50cyxsZXQseWllbGQsdW5kZWZpbmVkXCIsdD0vXFwvXFwqW1xcd1xcV10qP1xcKlxcL3xcXC9cXC9bXlxcbl0qXFxufFxcL1xcL1teXFxuXSokfFwiKD86W15cIlxcXFxdfFxcXFxbXFx3XFxXXSkqXCJ8Jyg/OlteJ1xcXFxdfFxcXFxbXFx3XFxXXSkqJ3xcXHMqXFwuXFxzKlskXFx3XFwuXSsvZyx1PS9bXlxcdyRdKy9nLHY9bmV3IFJlZ0V4cChbXCJcXFxcYlwiK3MucmVwbGFjZSgvLC9nLFwiXFxcXGJ8XFxcXGJcIikrXCJcXFxcYlwiXS5qb2luKFwifFwiKSxcImdcIiksdz0vXlxcZFteLF0qfCxcXGRbXixdKi9nLHg9L14sK3wsKyQvZztlLm9wZW5UYWc9XCJ7e1wiLGUuY2xvc2VUYWc9XCJ9fVwiO3ZhciB5PWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5zcGxpdChcIjpcIiksZD1jLnNoaWZ0KCksZT1jLmpvaW4oXCI6XCIpfHxcIlwiO3JldHVybiBlJiYoZT1cIiwgXCIrZSksXCIkaGVscGVycy5cIitkK1wiKFwiK2ErZStcIilcIn07ZS5wYXJzZXI9ZnVuY3Rpb24oYSxiKXthPWEucmVwbGFjZSgvXlxccy8sXCJcIik7dmFyIGM9YS5zcGxpdChcIiBcIiksZT1jLnNoaWZ0KCksZj1jLmpvaW4oXCIgXCIpO3N3aXRjaChlKXtjYXNlXCJpZlwiOmE9XCJpZihcIitmK1wiKXtcIjticmVhaztjYXNlXCJlbHNlXCI6Yz1cImlmXCI9PT1jLnNoaWZ0KCk/XCIgaWYoXCIrYy5qb2luKFwiIFwiKStcIilcIjpcIlwiLGE9XCJ9ZWxzZVwiK2MrXCJ7XCI7YnJlYWs7Y2FzZVwiL2lmXCI6YT1cIn1cIjticmVhaztjYXNlXCJlYWNoXCI6dmFyIGc9Y1swXXx8XCIkZGF0YVwiLGg9Y1sxXXx8XCJhc1wiLGk9Y1syXXx8XCIkdmFsdWVcIixqPWNbM118fFwiJGluZGV4XCIsaz1pK1wiLFwiK2o7XCJhc1wiIT09aCYmKGc9XCJbXVwiKSxhPVwiJGVhY2goXCIrZytcIixmdW5jdGlvbihcIitrK1wiKXtcIjticmVhaztjYXNlXCIvZWFjaFwiOmE9XCJ9KTtcIjticmVhaztjYXNlXCJlY2hvXCI6YT1cInByaW50KFwiK2YrXCIpO1wiO2JyZWFrO2Nhc2VcInByaW50XCI6Y2FzZVwiaW5jbHVkZVwiOmE9ZStcIihcIitjLmpvaW4oXCIsXCIpK1wiKTtcIjticmVhaztkZWZhdWx0OmlmKC0xIT09Zi5pbmRleE9mKFwifFwiKSl7dmFyIGw9Yi5lc2NhcGU7MD09PWEuaW5kZXhPZihcIiNcIikmJihhPWEuc3Vic3RyKDEpLGw9ITEpO2Zvcih2YXIgbT0wLG49YS5zcGxpdChcInxcIiksbz1uLmxlbmd0aCxwPWw/XCIkZXNjYXBlXCI6XCIkc3RyaW5nXCIscT1wK1wiKFwiK25bbSsrXStcIilcIjtvPm07bSsrKXE9eShxLG5bbV0pO2E9XCI9I1wiK3F9ZWxzZSBhPWQuaGVscGVyc1tlXT9cIj0jXCIrZStcIihcIitjLmpvaW4oXCIsXCIpK1wiKTtcIjpcIj1cIithfXJldHVybiBhfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmU/ZGVmaW5lKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KTpcInVuZGVmaW5lZFwiIT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1kOnRoaXMudGVtcGxhdGU9ZH0oKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2xpbmsvYXJ0VGVtcGxhdGUvZGlzdC90ZW1wbGF0ZS5qc1xuICoqIG1vZHVsZSBpZCA9IDMxXG4gKiogbW9kdWxlIGNodW5rcyA9IDEgMiAzIDQgNSA2IDcgOCA5IDEwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports,__webpack_require__){eval("/**\r\n * @time 2012年10月26日\r\n * @author icepy\r\n * @info 完成warn包装\r\n */\r\n\r\n'use strict';\r\n\r\nvar log = __webpack_require__(33);\r\n\r\nvar warn = function(msg,e){\r\n\tlog.warn(msg,e);\r\n}\r\nmodule.exports = warn;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+Ly5ucG1pbnN0YWxsL2Jhc2UtZXh0ZW5kLWJhY2tib25lLzAuMS40L2Jhc2UtZXh0ZW5kLWJhY2tib25lL3NyYy91dGlsL3dhcm4uanM/YTJjNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjMyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEB0aW1lIDIwMTLlubQxMOaciDI25pelXHJcbiAqIEBhdXRob3IgaWNlcHlcclxuICogQGluZm8g5a6M5oiQd2FybuWMheijhVxyXG4gKi9cclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbnZhciBsb2cgPSByZXF1aXJlKCcuL2xvZycpO1xyXG5cclxudmFyIHdhcm4gPSBmdW5jdGlvbihtc2csZSl7XHJcblx0bG9nLndhcm4obXNnLGUpO1xyXG59XHJcbm1vZHVsZS5leHBvcnRzID0gd2FybjtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vLm5wbWluc3RhbGwvYmFzZS1leHRlbmQtYmFja2JvbmUvMC4xLjQvYmFzZS1leHRlbmQtYmFja2JvbmUvc3JjL3V0aWwvd2Fybi5qc1xuICoqIG1vZHVsZSBpZCA9IDMyXG4gKiogbW9kdWxlIGNodW5rcyA9IDEgMiAzIDQgNSA2IDcgOCA5IDEwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval("/**\r\n * @time 2012年10月26日\r\n * @author icepy\r\n * @info debug信息打印\r\n */\r\n\r\n'use strict';\r\n\r\nvar log = {\r\n\twarn:function(){},\r\n\terror:function(){},\r\n\tinfo:function(){},\r\n\tdir:function(){}\r\n};\r\nif ((undefined) !== 'product') {\r\n\tvar hasConsole =  typeof console !== undefined;\r\n\tlog.warn = function(msg,e){\r\n\t\tif (hasConsole) {\r\n\t\t\tconsole.warn('[YYT PC Warning]:'+ msg);\r\n\t\t\tif (e) {\r\n\t\t\t\tthrow e;\r\n\t\t\t}else{\r\n\t\t\t\tvar warning = new Error('Warning Stack Trace');\r\n\t\t\t\tconsole.warn(warning.stack);\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\tlog.error = function(msg){\r\n\t\tvar error = new Error(msg);\r\n\t\tthrow error.stack;\r\n\t};\r\n\tlog.info = function(msg){\r\n\t\tif (hasConsole) {\r\n\t\t\tconsole.info('[YYT PC INFO]'+msg);\r\n\t\t}\r\n\t};\r\n\tlog.dir = function(tag){\r\n\t\tvar arr = document.querySelectorAll(tag);\r\n\t\tif (arr && arr.length) {\r\n\t\t\tarr.forEach(function(element){\r\n\t\t\t\tconsole.dir(element);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n}\r\nmodule.exports = log;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+Ly5ucG1pbnN0YWxsL2Jhc2UtZXh0ZW5kLWJhY2tib25lLzAuMS40L2Jhc2UtZXh0ZW5kLWJhY2tib25lL3NyYy91dGlsL2xvZy5qcz80OTlhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxrQkFBa0I7QUFDbEIsbUJBQW1CO0FBQ25CLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMzMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQHRpbWUgMjAxMuW5tDEw5pyIMjbml6VcclxuICogQGF1dGhvciBpY2VweVxyXG4gKiBAaW5mbyBkZWJ1Z+S/oeaBr+aJk+WNsFxyXG4gKi9cclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbnZhciBsb2cgPSB7XHJcblx0d2FybjpmdW5jdGlvbigpe30sXHJcblx0ZXJyb3I6ZnVuY3Rpb24oKXt9LFxyXG5cdGluZm86ZnVuY3Rpb24oKXt9LFxyXG5cdGRpcjpmdW5jdGlvbigpe31cclxufTtcclxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdCcpIHtcclxuXHR2YXIgaGFzQ29uc29sZSA9ICB0eXBlb2YgY29uc29sZSAhPT0gdW5kZWZpbmVkO1xyXG5cdGxvZy53YXJuID0gZnVuY3Rpb24obXNnLGUpe1xyXG5cdFx0aWYgKGhhc0NvbnNvbGUpIHtcclxuXHRcdFx0Y29uc29sZS53YXJuKCdbWVlUIFBDIFdhcm5pbmddOicrIG1zZyk7XHJcblx0XHRcdGlmIChlKSB7XHJcblx0XHRcdFx0dGhyb3cgZTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0dmFyIHdhcm5pbmcgPSBuZXcgRXJyb3IoJ1dhcm5pbmcgU3RhY2sgVHJhY2UnKTtcclxuXHRcdFx0XHRjb25zb2xlLndhcm4od2FybmluZy5zdGFjayk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fTtcclxuXHRsb2cuZXJyb3IgPSBmdW5jdGlvbihtc2cpe1xyXG5cdFx0dmFyIGVycm9yID0gbmV3IEVycm9yKG1zZyk7XHJcblx0XHR0aHJvdyBlcnJvci5zdGFjaztcclxuXHR9O1xyXG5cdGxvZy5pbmZvID0gZnVuY3Rpb24obXNnKXtcclxuXHRcdGlmIChoYXNDb25zb2xlKSB7XHJcblx0XHRcdGNvbnNvbGUuaW5mbygnW1lZVCBQQyBJTkZPXScrbXNnKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cdGxvZy5kaXIgPSBmdW5jdGlvbih0YWcpe1xyXG5cdFx0dmFyIGFyciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGFnKTtcclxuXHRcdGlmIChhcnIgJiYgYXJyLmxlbmd0aCkge1xyXG5cdFx0XHRhcnIuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KXtcclxuXHRcdFx0XHRjb25zb2xlLmRpcihlbGVtZW50KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fTtcclxufVxyXG5tb2R1bGUuZXhwb3J0cyA9IGxvZztcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vLm5wbWluc3RhbGwvYmFzZS1leHRlbmQtYmFja2JvbmUvMC4xLjQvYmFzZS1leHRlbmQtYmFja2JvbmUvc3JjL3V0aWwvbG9nLmpzXG4gKiogbW9kdWxlIGlkID0gMzNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMSAyIDMgNCA1IDYgNyA4IDkgMTBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){eval("/* WEBPACK VAR INJECTION */(function(global) {/**\r\n * @time 2012年10月26日\r\n * @author icepy\r\n * @info 完成处理tools对象\r\n */\r\n\r\n'use strict';\r\n\r\n(function (factory) {\r\n    var root = (typeof self == 'object' && self.self == self && self) ||\r\n        (typeof global == 'object' && global.global == global && global);\r\n    if (true) {\r\n        module.exports = factory();\r\n    } else if (typeof exports === 'object') {\r\n        exports['tools'] = factory()\r\n    } else {\r\n        if (!root.ICEPlugs) {\r\n            root.ICEPlugs = {};\r\n        }\r\n        root.ICEPlugs.tools = factory();\r\n    }\r\n})(function () {\r\n    var tools = {};\r\n    var toString = Object.prototype.toString;\r\n    var OBJECT_TYPE = '[object Object]';\r\n    /**\r\n     * [isPlainObject 判断是否为普通对象]\r\n     * @param  {[Object]}  obj [对象]\r\n     * @return {Boolean}\r\n     */\r\n    tools.isPlainObject = function (obj) {\r\n        return toString.call(obj) === OBJECT_TYPE;\r\n    };\r\n    /**\r\n     * [isObject 判断是否为对象]\r\n     * @param  {[*]}  obj [任意一个元素]\r\n     * @return {Boolean}\r\n     */\r\n    tools.isObject = function (obj) {\r\n        return obj !== null && typeof obj === 'object';\r\n    };\r\n    var hasOwnProperty = Object.prototype.hasOwnProperty;\r\n    /**\r\n     * [hasOwn 检查对象是否为自身的属性]\r\n     * @param  {[Object]}  obj [description]\r\n     * @param  {[String]}  key [description]\r\n     * @return {Boolean}     [description]\r\n     */\r\n    tools.hasOwn = function (obj, key) {\r\n        return hasOwnProperty.call(obj, key);\r\n    };\r\n    /**\r\n     * [toArray 类数组对象转数组]\r\n     * @param  {[Array-like]} list  [类数组]\r\n     * @param  {[Number]} index [起始索引]\r\n     * @return {[Array]}       [返回一个新的真实数组]\r\n     */\r\n    tools.toArray = function (list, index) {\r\n        index = index || 0;\r\n        var i = list.length - index;\r\n        var _array = new Array(i);\r\n        while (i--) {\r\n            _array[i] = list[i + index];\r\n        }\r\n        return _array;\r\n    };\r\n    /**\r\n     * [toType 导出类型字符串]\r\n     * @param  {[type]} value [description]\r\n     * @return {[type]}       [description]\r\n     */\r\n    tools.toType = function (value) {\r\n        return toString.call(value);\r\n    };\r\n    /**\r\n     * [exportToNumber 导出数字]\r\n     * @param  {[*]} value [description]\r\n     * @return {[*|Number]}       [description]\r\n     */\r\n    tools.exportToNumber = function (value) {\r\n        if (typeof value !== 'string') {\r\n            return value;\r\n        } else {\r\n            var number = Number(value);\r\n            return isNaN(number) ? value : number;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * [isArray 判断是否为数组]\r\n     * @param  {*} value [description]\r\n     * @return {Boolean}       [description]\r\n     */\r\n    tools.isArray = function(obj){\r\n        return tools.toType(obj) === '[object Array]';\r\n    };\r\n\r\n    /**\r\n     * [mergeData 合并数据]\r\n     * @param  {obj} value [description]\r\n     * @param  {obj} value [description]\r\n     * @return {obj}       [description]\r\n     */\r\n    tools.mergeData = function(to,from){\r\n        var key,toVal,fromVal;\r\n        for(key in from){\r\n            toVal = to[key];\r\n            fromVal = from[key];\r\n            if (tools.isPlainObject(toVal) && tools.isPlainObject(fromVal)) {\r\n                tools.mergeData(toVal,fromVal);\r\n            }\r\n        }\r\n        return to;\r\n    };\r\n    return tools;\r\n});\r\n\n/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+Ly5ucG1pbnN0YWxsL2Jhc2UtZXh0ZW5kLWJhY2tib25lLzAuMS40L2Jhc2UtZXh0ZW5kLWJhY2tib25lL3NyYy91dGlsL3Rvb2xzLmpzP2E4YjQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixTQUFTO0FBQ3pCLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsSUFBSTtBQUNwQixnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsU0FBUztBQUN6QixnQkFBZ0IsU0FBUztBQUN6QixnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsYUFBYTtBQUM3QixnQkFBZ0IsU0FBUztBQUN6QixnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsT0FBTztBQUN2QixnQkFBZ0IsT0FBTztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsSUFBSTtBQUNwQixnQkFBZ0IsV0FBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0JBQWdCLEVBQUU7QUFDbEIsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQixJQUFJO0FBQ3BCLGdCQUFnQixJQUFJO0FBQ3BCLGdCQUFnQixJQUFJO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsImZpbGUiOiIzNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBAdGltZSAyMDEy5bm0MTDmnIgyNuaXpVxyXG4gKiBAYXV0aG9yIGljZXB5XHJcbiAqIEBpbmZvIOWujOaIkOWkhOeQhnRvb2xz5a+56LGhXHJcbiAqL1xyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxuKGZ1bmN0aW9uIChmYWN0b3J5KSB7XHJcbiAgICB2YXIgcm9vdCA9ICh0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmLnNlbGYgPT0gc2VsZiAmJiBzZWxmKSB8fFxyXG4gICAgICAgICh0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbC5nbG9iYWwgPT0gZ2xvYmFsICYmIGdsb2JhbCk7XHJcbiAgICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIGV4cG9ydHNbJ3Rvb2xzJ10gPSBmYWN0b3J5KClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKCFyb290LklDRVBsdWdzKSB7XHJcbiAgICAgICAgICAgIHJvb3QuSUNFUGx1Z3MgPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcm9vdC5JQ0VQbHVncy50b29scyA9IGZhY3RvcnkoKTtcclxuICAgIH1cclxufSkoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHRvb2xzID0ge307XHJcbiAgICB2YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xyXG4gICAgdmFyIE9CSkVDVF9UWVBFID0gJ1tvYmplY3QgT2JqZWN0XSc7XHJcbiAgICAvKipcclxuICAgICAqIFtpc1BsYWluT2JqZWN0IOWIpOaWreaYr+WQpuS4uuaZrumAmuWvueixoV1cclxuICAgICAqIEBwYXJhbSAge1tPYmplY3RdfSAgb2JqIFvlr7nosaFdXHJcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICB0b29scy5pc1BsYWluT2JqZWN0ID0gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikgPT09IE9CSkVDVF9UWVBFO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogW2lzT2JqZWN0IOWIpOaWreaYr+WQpuS4uuWvueixoV1cclxuICAgICAqIEBwYXJhbSAge1sqXX0gIG9iaiBb5Lu75oSP5LiA5Liq5YWD57SgXVxyXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgdG9vbHMuaXNPYmplY3QgPSBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgcmV0dXJuIG9iaiAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JztcclxuICAgIH07XHJcbiAgICB2YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xyXG4gICAgLyoqXHJcbiAgICAgKiBbaGFzT3duIOajgOafpeWvueixoeaYr+WQpuS4uuiHqui6q+eahOWxnuaAp11cclxuICAgICAqIEBwYXJhbSAge1tPYmplY3RdfSAgb2JqIFtkZXNjcmlwdGlvbl1cclxuICAgICAqIEBwYXJhbSAge1tTdHJpbmddfSAga2V5IFtkZXNjcmlwdGlvbl1cclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59ICAgICBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIHRvb2xzLmhhc093biA9IGZ1bmN0aW9uIChvYmosIGtleSkge1xyXG4gICAgICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFt0b0FycmF5IOexu+aVsOe7hOWvueixoei9rOaVsOe7hF1cclxuICAgICAqIEBwYXJhbSAge1tBcnJheS1saWtlXX0gbGlzdCAgW+exu+aVsOe7hF1cclxuICAgICAqIEBwYXJhbSAge1tOdW1iZXJdfSBpbmRleCBb6LW35aeL57Si5byVXVxyXG4gICAgICogQHJldHVybiB7W0FycmF5XX0gICAgICAgW+i/lOWbnuS4gOS4quaWsOeahOecn+WunuaVsOe7hF1cclxuICAgICAqL1xyXG4gICAgdG9vbHMudG9BcnJheSA9IGZ1bmN0aW9uIChsaXN0LCBpbmRleCkge1xyXG4gICAgICAgIGluZGV4ID0gaW5kZXggfHwgMDtcclxuICAgICAgICB2YXIgaSA9IGxpc3QubGVuZ3RoIC0gaW5kZXg7XHJcbiAgICAgICAgdmFyIF9hcnJheSA9IG5ldyBBcnJheShpKTtcclxuICAgICAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgICAgICAgIF9hcnJheVtpXSA9IGxpc3RbaSArIGluZGV4XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIF9hcnJheTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFt0b1R5cGUg5a+85Ye657G75Z6L5a2X56ym5LiyXVxyXG4gICAgICogQHBhcmFtICB7W3R5cGVdfSB2YWx1ZSBbZGVzY3JpcHRpb25dXHJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgICAqL1xyXG4gICAgdG9vbHMudG9UeXBlID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsdWUpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogW2V4cG9ydFRvTnVtYmVyIOWvvOWHuuaVsOWtl11cclxuICAgICAqIEBwYXJhbSAge1sqXX0gdmFsdWUgW2Rlc2NyaXB0aW9uXVxyXG4gICAgICogQHJldHVybiB7Wyp8TnVtYmVyXX0gICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICB0b29scy5leHBvcnRUb051bWJlciA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgbnVtYmVyID0gTnVtYmVyKHZhbHVlKTtcclxuICAgICAgICAgICAgcmV0dXJuIGlzTmFOKG51bWJlcikgPyB2YWx1ZSA6IG51bWJlcjtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogW2lzQXJyYXkg5Yik5pat5piv5ZCm5Li65pWw57uEXVxyXG4gICAgICogQHBhcmFtICB7Kn0gdmFsdWUgW2Rlc2NyaXB0aW9uXVxyXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gICAgICovXHJcbiAgICB0b29scy5pc0FycmF5ID0gZnVuY3Rpb24ob2JqKXtcclxuICAgICAgICByZXR1cm4gdG9vbHMudG9UeXBlKG9iaikgPT09ICdbb2JqZWN0IEFycmF5XSc7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogW21lcmdlRGF0YSDlkIjlubbmlbDmja5dXHJcbiAgICAgKiBAcGFyYW0gIHtvYmp9IHZhbHVlIFtkZXNjcmlwdGlvbl1cclxuICAgICAqIEBwYXJhbSAge29ian0gdmFsdWUgW2Rlc2NyaXB0aW9uXVxyXG4gICAgICogQHJldHVybiB7b2JqfSAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAgICAgKi9cclxuICAgIHRvb2xzLm1lcmdlRGF0YSA9IGZ1bmN0aW9uKHRvLGZyb20pe1xyXG4gICAgICAgIHZhciBrZXksdG9WYWwsZnJvbVZhbDtcclxuICAgICAgICBmb3Ioa2V5IGluIGZyb20pe1xyXG4gICAgICAgICAgICB0b1ZhbCA9IHRvW2tleV07XHJcbiAgICAgICAgICAgIGZyb21WYWwgPSBmcm9tW2tleV07XHJcbiAgICAgICAgICAgIGlmICh0b29scy5pc1BsYWluT2JqZWN0KHRvVmFsKSAmJiB0b29scy5pc1BsYWluT2JqZWN0KGZyb21WYWwpKSB7XHJcbiAgICAgICAgICAgICAgICB0b29scy5tZXJnZURhdGEodG9WYWwsZnJvbVZhbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRvO1xyXG4gICAgfTtcclxuICAgIHJldHVybiB0b29scztcclxufSk7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+Ly5ucG1pbnN0YWxsL2Jhc2UtZXh0ZW5kLWJhY2tib25lLzAuMS40L2Jhc2UtZXh0ZW5kLWJhY2tib25lL3NyYy91dGlsL3Rvb2xzLmpzXG4gKiogbW9kdWxlIGlkID0gMzRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMSAyIDMgNCA1IDYgNyA4IDkgMTBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){eval("/**\r\n * @time 2012年10月26日\r\n * @author icepy\r\n * @info 完成error包装\r\n */\r\n\r\n'use strict';\r\n\r\nvar log = __webpack_require__(33);\r\n\r\nvar error = function(msg,e){\r\n\tlog.error(msg,e);\r\n}\r\nmodule.exports = error;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+Ly5ucG1pbnN0YWxsL2Jhc2UtZXh0ZW5kLWJhY2tib25lLzAuMS40L2Jhc2UtZXh0ZW5kLWJhY2tib25lL3NyYy91dGlsL2Vycm9yLmpzPzQwYTMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIzNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBAdGltZSAyMDEy5bm0MTDmnIgyNuaXpVxyXG4gKiBAYXV0aG9yIGljZXB5XHJcbiAqIEBpbmZvIOWujOaIkGVycm9y5YyF6KOFXHJcbiAqL1xyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxudmFyIGxvZyA9IHJlcXVpcmUoJy4vbG9nJyk7XHJcblxyXG52YXIgZXJyb3IgPSBmdW5jdGlvbihtc2csZSl7XHJcblx0bG9nLmVycm9yKG1zZyxlKTtcclxufVxyXG5tb2R1bGUuZXhwb3J0cyA9IGVycm9yO1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi8ubnBtaW5zdGFsbC9iYXNlLWV4dGVuZC1iYWNrYm9uZS8wLjEuNC9iYXNlLWV4dGVuZC1iYWNrYm9uZS9zcmMvdXRpbC9lcnJvci5qc1xuICoqIG1vZHVsZSBpZCA9IDM1XG4gKiogbW9kdWxlIGNodW5rcyA9IDEgMiAzIDQgNSA2IDcgOCA5IDEwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");
},function(module,exports,__webpack_require__){eval("/**\r\n * @time 2012年10月19日\r\n * @author icepy\r\n * @info 实现基础的模型类\r\n *\r\n * @time 2012年10月27日\r\n * @author icepy\r\n * @info 现实对请求进行本地缓存\r\n *\r\n * @time 2016年2月27日\r\n * @author icepy\r\n * @info 改造兼容webpack打包以及扩展Model\r\n *\r\n */\r\n\r\n\r\n'use strict';\r\nvar Backbone = __webpack_require__(30)\r\nvar storage = __webpack_require__(37);\r\nvar Tools = __webpack_require__(34);\r\nvar warn = __webpack_require__(32);\r\nvar uid = 1314;\r\nvar expiration = storage.expiration;\r\nvar BaseModel = Backbone.Model.extend({\r\n\tinitialize:function(options){\r\n\t\tif (_.isFunction(this.beforeEmit)) {\r\n\t\t\tthis.beforeEmit(options);\r\n\t\t};\r\n\t\tthis._url = this.url;\r\n\t},\r\n\t_ICEFetch:function(options){\r\n\t\tthis.fetch(options);\r\n\t},\r\n\t_ICESave:function(HTTPBody,options){\r\n\t\tthis.save(HTTPBody,options);\r\n\t},\r\n\t_ICEDestroy:function(options){\r\n\t\tthis.destroy(options);\r\n\t},\r\n\t_ICEJSONP:function(parameter,options){\r\n\t\t$.ajax($.extend({\r\n\t\t\turl:this.url,\r\n\t\t\tdata:parameter || {},\r\n\t\t\tdataType:'jsonp',\r\n\t\t\tjsonp:'callback'\r\n\t\t},options));\r\n\t},\r\n\t_ICESendHelper:function(message,defer){\r\n\t\tvar self = this;\r\n\t\tif (message.url) {\r\n\t\t\t//如果存在url，将this的url替换\r\n\t\t\tthis.url = message.url;\r\n\t\t};\r\n\t\tvar options = {};\r\n\t\toptions.beforeSend = function(xhr,setting){\r\n\t\t\tfor(var key in this.headers){\r\n\t\t\t\txhr.setRequestHeader(key,this.headers[key]);\r\n\t\t\t}\r\n\t\t};\r\n\t\toptions.success = function(model,response,afterSetting){\r\n\t\t\tresponse = self._ICEProcessData(response);\r\n\t\t\tdefer.resolve.call(model,response,afterSetting.xhr);\r\n\t\t}\r\n\t\toptions.error = function(model,xhr){\r\n\t\t\tdefer.reject.call(model,xhr);\r\n\t\t}\r\n\t\tswitch(message.type){\r\n\t\t\tcase 'POST':\r\n\t\t\t\tthis._ICESave(message.HTTPBody,options);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'PUT':\r\n\t\t\t\tvar id = message.HTTPBody.id;\r\n\t\t\t\tif(!id && id !== 0){\r\n\t\t\t\t\tmessage.HTTPBody.id = 'icepy'+(uid++);\r\n\t\t\t\t};\r\n\t\t\t\tthis._ICESave(message.HTTPBody,options);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'DELETE':\r\n\t\t\t\tthis._ICEDestroy(options);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'JSONP':\r\n\t\t\t\tthis._ICEJSONP(message.parameter,{\r\n\t\t\t\t\tsuccess:function(response,state,xhr){\r\n\t\t\t\t\t\tresponse = self._ICEProcessData(response);\r\n\t\t\t\t\t\tdefer.resolve.call(self,response,state,xhr);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror:function(xhr,state,errors){\r\n\t\t\t\t\t\tdefer.reject.call(self,xhr,state,errors);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthis._ICEFetch(options);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\t_ICESendMessage:function(message,defer){\r\n\t\tvar self = this;\r\n\t\tif (this.storageCache && this.expiration){\r\n\t\t\tif (!storage.enabled){\r\n\t\t\t\tthis._ICESendHelper(message,defer);\r\n\t\t\t}else{\r\n\t\t\t\tvar data = expiration.get(this.url);\r\n\t\t\t\tif (!data) {\r\n\t\t\t\t\tthis._ICESendHelper(message,defer);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t};\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\tdata = self._ICEProcessData(data,true);\r\n\t\t\t\t\tdefer.reslove(data)\r\n\t\t\t\t},50);\r\n\t\t\t};\r\n\t\t}else{\r\n\t\t\tthis._ICESendHelper(message,defer);\r\n\t\t};\r\n\t},\r\n\t_ICEProcessData:function(response,before){\r\n\t\t//如果自定义了formatter方法，先对数据进行格式化\r\n\t\tif (_.isFunction(this.formatter)) {\r\n\t\t\tresponse = this.formatter(response);\r\n\t\t};\r\n\t\t//如果开启了缓存，对数据源进行本地存储\r\n\t\tif (this.storageCache && this.expiration && !before) {\r\n\t\t\tif (storage.enabled){\r\n\t\t\t\texpiration.set(this.url,response,this.expiration);\r\n\t\t\t};\r\n\t\t};\r\n\t\tthis.set(response);\r\n\t\treturn response;\r\n\t},\r\n\t/**\r\n\t * [execute GET请求简化版]\r\n\t * @param  {[type]} success [description]\r\n\t * @param  {[type]} error   [description]\r\n\t * @return {[type]}         [description]\r\n\t */\r\n\texecute:function(){\r\n\t\tvar defer = $.Deferred();\r\n\t\tvar message = {\r\n\t\t\ttype:'GET'\r\n\t\t};\r\n\t\tvar args = Tools.toArray(arguments);\r\n\t\tvar g = args.splice(0,1)[0];\r\n\t\tif (Tools.isPlainObject(g)) {\r\n\t\t\tmessage = _.extend(message,g);\r\n\t\t}\r\n\t\tthis._ICESendMessage(message,defer);\r\n\t\treturn defer.promise();\r\n\t},\r\n\t/**\r\n\t * [executeGET 发起GET请求]\r\n\t * @param  {[type]} success [description]\r\n\t * @param  {[type]} error   [description]\r\n\t * @return {[type]}         [description]\r\n\t */\r\n\texecuteGET:function(){\r\n\t\tvar message = {\r\n\t\t\ttype:'GET'\r\n\t\t};\r\n\t\treturn this.execute(message);\r\n\t},\r\n\t/**\r\n\t * [executePOST 发起POST请求]\r\n\t * @param  {[type]} HTTPBody [description]\r\n\t * @param  {[type]} success  [description]\r\n\t * @param  {[type]} error    [description]\r\n\t * @return {[type]}          [description]\r\n\t */\r\n\texecutePOST:function(HTTPBody){\r\n\t\tvar message = {\r\n\t\t\ttype:'POST',\r\n\t\t\tHTTPBody:HTTPBody\r\n\t\t};\r\n\t\treturn this.execute(message);\r\n\t},\r\n\t/**\r\n\t * [executePUT 发起PUT请求]\r\n\t * @param  {[type]} HTTPBody [description]\r\n\t * @param  {[type]} success  [description]\r\n\t * @param  {[type]} error    [description]\r\n\t * @return {[type]}          [description]\r\n\t */\r\n\texecutePUT:function(HTTPBody){\r\n\t\tvar message = {\r\n\t\t\ttype:'PUT',\r\n\t\t\tHTTPBody:HTTPBody\r\n\t\t};\r\n\t\treturn this.execute(message);\r\n\t},\r\n\t/**\r\n\t * [executeDELETE 发起delete请求]\r\n\t * @return {[type]} [description]\r\n\t */\r\n\texecuteDELETE:function(){\r\n\t\tvar message = {\r\n\t\t\ttype:'DELETE'\r\n\t\t};\r\n\t\treturn this.execute(message);\r\n\t},\r\n\t/**\r\n\t * [executeJSONP 发起JSONP跨域请求]\r\n\t * @param  {[type]} success [description]\r\n\t * @param  {[type]} error   [description]\r\n\t * @return {[type]}         [description]\r\n\t */\r\n\texecuteJSONP:function(parameter){\r\n\t\tvar message = {\r\n\t\t\ttype:'JSONP',\r\n\t\t\tparameter:parameter\r\n\t\t};\r\n\t\treturn this.execute(message);\r\n\t},\r\n\t/**\r\n\t * [setChangeURL 辅助拼接URL参数]\r\n\t * @param {[type]} parameter [description]\r\n\t */\r\n\tsetChangeURL:function(parameter){\r\n\t\tvar url = ''\r\n\t\tif (!parameter) {\r\n\t\t\treturn this.url;\r\n\t\t};\r\n\t\tfor(var key in parameter){\r\n\t\t\tvar value = parameter[key];\r\n\t\t\tif (!url.length) {\r\n\t\t\t\turl += '?'+key+'='+value;\r\n\t\t\t}else{\r\n\t\t\t\turl += '&'+key+'='+value;\r\n\t\t\t};\r\n\t\t};\r\n\t\tthis.url = this._url + url;\r\n\t},\r\n\t/**\r\n\t * [setHeaders 设置XHR 头信息]\r\n\t * @param {[string|object]} headers [description]\r\n\t */\r\n\tsetHeaders:function(){\r\n\t\tif (!this.headers) {\r\n\t\t\tthis.headers = {};\r\n\t\t};\r\n\t\tvar args = Tools.toArray(arguments);\r\n\t\tif (args.length === 1) {\r\n\t\t\tvar headers = args[0];\r\n\t\t\tfor(var key in headers){\r\n\t\t\t\tthis.headers[key] = headers[key];\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tif (args.length) {\r\n\t\t\t\tvar key = args[0];\r\n\t\t\t\tvar value = args[1];\r\n\t\t\t\tthis.headers[key] = value;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t/**\r\n\t * [setUpdateStorage 将实体数据更新到本地缓存]\r\n\t * @return {[type]} [description]\r\n\t */\r\n\tsetUpdateStorage:function(){\r\n\t\tif (storage.enabled){\r\n\t\t\texpiration.set(self.url,this.manager.$get(),self.expiration);\r\n\t\t};\r\n\t}\r\n});\r\nmodule.exports = BaseModel;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+Ly5ucG1pbnN0YWxsL2Jhc2UtZXh0ZW5kLWJhY2tib25lLzAuMS40L2Jhc2UtZXh0ZW5kLWJhY2tib25lL3NyYy9pbnN0YW5jZS9iYXNlTW9kZWwuanM/YjFjZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQixhQUFhLE9BQU87QUFDcEIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQixhQUFhLE9BQU87QUFDcEIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQixhQUFhLE9BQU87QUFDcEIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLFlBQVksZ0JBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEIiwiZmlsZSI6IjM2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEB0aW1lIDIwMTLlubQxMOaciDE55pelXHJcbiAqIEBhdXRob3IgaWNlcHlcclxuICogQGluZm8g5a6e546w5Z+656GA55qE5qih5Z6L57G7XHJcbiAqXHJcbiAqIEB0aW1lIDIwMTLlubQxMOaciDI35pelXHJcbiAqIEBhdXRob3IgaWNlcHlcclxuICogQGluZm8g546w5a6e5a+56K+35rGC6L+b6KGM5pys5Zyw57yT5a2YXHJcbiAqXHJcbiAqIEB0aW1lIDIwMTblubQy5pyIMjfml6VcclxuICogQGF1dGhvciBpY2VweVxyXG4gKiBAaW5mbyDmlLnpgKDlhbzlrrl3ZWJwYWNr5omT5YyF5Lul5Y+K5omp5bGVTW9kZWxcclxuICpcclxuICovXHJcblxyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG52YXIgQmFja2JvbmUgPSByZXF1aXJlKCdiYWNrYm9uZScpXHJcbnZhciBzdG9yYWdlID0gcmVxdWlyZSgnLi4vc3RvcmUvc3RvcmFnZScpO1xyXG52YXIgVG9vbHMgPSByZXF1aXJlKCcuLi91dGlsL3Rvb2xzJyk7XHJcbnZhciB3YXJuID0gcmVxdWlyZSgnLi4vdXRpbC93YXJuJyk7XHJcbnZhciB1aWQgPSAxMzE0O1xyXG52YXIgZXhwaXJhdGlvbiA9IHN0b3JhZ2UuZXhwaXJhdGlvbjtcclxudmFyIEJhc2VNb2RlbCA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7XHJcblx0aW5pdGlhbGl6ZTpmdW5jdGlvbihvcHRpb25zKXtcclxuXHRcdGlmIChfLmlzRnVuY3Rpb24odGhpcy5iZWZvcmVFbWl0KSkge1xyXG5cdFx0XHR0aGlzLmJlZm9yZUVtaXQob3B0aW9ucyk7XHJcblx0XHR9O1xyXG5cdFx0dGhpcy5fdXJsID0gdGhpcy51cmw7XHJcblx0fSxcclxuXHRfSUNFRmV0Y2g6ZnVuY3Rpb24ob3B0aW9ucyl7XHJcblx0XHR0aGlzLmZldGNoKG9wdGlvbnMpO1xyXG5cdH0sXHJcblx0X0lDRVNhdmU6ZnVuY3Rpb24oSFRUUEJvZHksb3B0aW9ucyl7XHJcblx0XHR0aGlzLnNhdmUoSFRUUEJvZHksb3B0aW9ucyk7XHJcblx0fSxcclxuXHRfSUNFRGVzdHJveTpmdW5jdGlvbihvcHRpb25zKXtcclxuXHRcdHRoaXMuZGVzdHJveShvcHRpb25zKTtcclxuXHR9LFxyXG5cdF9JQ0VKU09OUDpmdW5jdGlvbihwYXJhbWV0ZXIsb3B0aW9ucyl7XHJcblx0XHQkLmFqYXgoJC5leHRlbmQoe1xyXG5cdFx0XHR1cmw6dGhpcy51cmwsXHJcblx0XHRcdGRhdGE6cGFyYW1ldGVyIHx8IHt9LFxyXG5cdFx0XHRkYXRhVHlwZTonanNvbnAnLFxyXG5cdFx0XHRqc29ucDonY2FsbGJhY2snXHJcblx0XHR9LG9wdGlvbnMpKTtcclxuXHR9LFxyXG5cdF9JQ0VTZW5kSGVscGVyOmZ1bmN0aW9uKG1lc3NhZ2UsZGVmZXIpe1xyXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0aWYgKG1lc3NhZ2UudXJsKSB7XHJcblx0XHRcdC8v5aaC5p6c5a2Y5ZyodXJs77yM5bCGdGhpc+eahHVybOabv+aNolxyXG5cdFx0XHR0aGlzLnVybCA9IG1lc3NhZ2UudXJsO1xyXG5cdFx0fTtcclxuXHRcdHZhciBvcHRpb25zID0ge307XHJcblx0XHRvcHRpb25zLmJlZm9yZVNlbmQgPSBmdW5jdGlvbih4aHIsc2V0dGluZyl7XHJcblx0XHRcdGZvcih2YXIga2V5IGluIHRoaXMuaGVhZGVycyl7XHJcblx0XHRcdFx0eGhyLnNldFJlcXVlc3RIZWFkZXIoa2V5LHRoaXMuaGVhZGVyc1trZXldKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHRcdG9wdGlvbnMuc3VjY2VzcyA9IGZ1bmN0aW9uKG1vZGVsLHJlc3BvbnNlLGFmdGVyU2V0dGluZyl7XHJcblx0XHRcdHJlc3BvbnNlID0gc2VsZi5fSUNFUHJvY2Vzc0RhdGEocmVzcG9uc2UpO1xyXG5cdFx0XHRkZWZlci5yZXNvbHZlLmNhbGwobW9kZWwscmVzcG9uc2UsYWZ0ZXJTZXR0aW5nLnhocik7XHJcblx0XHR9XHJcblx0XHRvcHRpb25zLmVycm9yID0gZnVuY3Rpb24obW9kZWwseGhyKXtcclxuXHRcdFx0ZGVmZXIucmVqZWN0LmNhbGwobW9kZWwseGhyKTtcclxuXHRcdH1cclxuXHRcdHN3aXRjaChtZXNzYWdlLnR5cGUpe1xyXG5cdFx0XHRjYXNlICdQT1NUJzpcclxuXHRcdFx0XHR0aGlzLl9JQ0VTYXZlKG1lc3NhZ2UuSFRUUEJvZHksb3B0aW9ucyk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ1BVVCc6XHJcblx0XHRcdFx0dmFyIGlkID0gbWVzc2FnZS5IVFRQQm9keS5pZDtcclxuXHRcdFx0XHRpZighaWQgJiYgaWQgIT09IDApe1xyXG5cdFx0XHRcdFx0bWVzc2FnZS5IVFRQQm9keS5pZCA9ICdpY2VweScrKHVpZCsrKTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdHRoaXMuX0lDRVNhdmUobWVzc2FnZS5IVFRQQm9keSxvcHRpb25zKTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAnREVMRVRFJzpcclxuXHRcdFx0XHR0aGlzLl9JQ0VEZXN0cm95KG9wdGlvbnMpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICdKU09OUCc6XHJcblx0XHRcdFx0dGhpcy5fSUNFSlNPTlAobWVzc2FnZS5wYXJhbWV0ZXIse1xyXG5cdFx0XHRcdFx0c3VjY2VzczpmdW5jdGlvbihyZXNwb25zZSxzdGF0ZSx4aHIpe1xyXG5cdFx0XHRcdFx0XHRyZXNwb25zZSA9IHNlbGYuX0lDRVByb2Nlc3NEYXRhKHJlc3BvbnNlKTtcclxuXHRcdFx0XHRcdFx0ZGVmZXIucmVzb2x2ZS5jYWxsKHNlbGYscmVzcG9uc2Usc3RhdGUseGhyKTtcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRlcnJvcjpmdW5jdGlvbih4aHIsc3RhdGUsZXJyb3JzKXtcclxuXHRcdFx0XHRcdFx0ZGVmZXIucmVqZWN0LmNhbGwoc2VsZix4aHIsc3RhdGUsZXJyb3JzKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHR0aGlzLl9JQ0VGZXRjaChvcHRpb25zKTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdH1cclxuXHR9LFxyXG5cdF9JQ0VTZW5kTWVzc2FnZTpmdW5jdGlvbihtZXNzYWdlLGRlZmVyKXtcclxuXHRcdHZhciBzZWxmID0gdGhpcztcclxuXHRcdGlmICh0aGlzLnN0b3JhZ2VDYWNoZSAmJiB0aGlzLmV4cGlyYXRpb24pe1xyXG5cdFx0XHRpZiAoIXN0b3JhZ2UuZW5hYmxlZCl7XHJcblx0XHRcdFx0dGhpcy5fSUNFU2VuZEhlbHBlcihtZXNzYWdlLGRlZmVyKTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0dmFyIGRhdGEgPSBleHBpcmF0aW9uLmdldCh0aGlzLnVybCk7XHJcblx0XHRcdFx0aWYgKCFkYXRhKSB7XHJcblx0XHRcdFx0XHR0aGlzLl9JQ0VTZW5kSGVscGVyKG1lc3NhZ2UsZGVmZXIpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpe1xyXG5cdFx0XHRcdFx0ZGF0YSA9IHNlbGYuX0lDRVByb2Nlc3NEYXRhKGRhdGEsdHJ1ZSk7XHJcblx0XHRcdFx0XHRkZWZlci5yZXNsb3ZlKGRhdGEpXHJcblx0XHRcdFx0fSw1MCk7XHJcblx0XHRcdH07XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0dGhpcy5fSUNFU2VuZEhlbHBlcihtZXNzYWdlLGRlZmVyKTtcclxuXHRcdH07XHJcblx0fSxcclxuXHRfSUNFUHJvY2Vzc0RhdGE6ZnVuY3Rpb24ocmVzcG9uc2UsYmVmb3JlKXtcclxuXHRcdC8v5aaC5p6c6Ieq5a6a5LmJ5LqGZm9ybWF0dGVy5pa55rOV77yM5YWI5a+55pWw5o2u6L+b6KGM5qC85byP5YyWXHJcblx0XHRpZiAoXy5pc0Z1bmN0aW9uKHRoaXMuZm9ybWF0dGVyKSkge1xyXG5cdFx0XHRyZXNwb25zZSA9IHRoaXMuZm9ybWF0dGVyKHJlc3BvbnNlKTtcclxuXHRcdH07XHJcblx0XHQvL+WmguaenOW8gOWQr+S6hue8k+WtmO+8jOWvueaVsOaNrua6kOi/m+ihjOacrOWcsOWtmOWCqFxyXG5cdFx0aWYgKHRoaXMuc3RvcmFnZUNhY2hlICYmIHRoaXMuZXhwaXJhdGlvbiAmJiAhYmVmb3JlKSB7XHJcblx0XHRcdGlmIChzdG9yYWdlLmVuYWJsZWQpe1xyXG5cdFx0XHRcdGV4cGlyYXRpb24uc2V0KHRoaXMudXJsLHJlc3BvbnNlLHRoaXMuZXhwaXJhdGlvbik7XHJcblx0XHRcdH07XHJcblx0XHR9O1xyXG5cdFx0dGhpcy5zZXQocmVzcG9uc2UpO1xyXG5cdFx0cmV0dXJuIHJlc3BvbnNlO1xyXG5cdH0sXHJcblx0LyoqXHJcblx0ICogW2V4ZWN1dGUgR0VU6K+35rGC566A5YyW54mIXVxyXG5cdCAqIEBwYXJhbSAge1t0eXBlXX0gc3VjY2VzcyBbZGVzY3JpcHRpb25dXHJcblx0ICogQHBhcmFtICB7W3R5cGVdfSBlcnJvciAgIFtkZXNjcmlwdGlvbl1cclxuXHQgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG5cdCAqL1xyXG5cdGV4ZWN1dGU6ZnVuY3Rpb24oKXtcclxuXHRcdHZhciBkZWZlciA9ICQuRGVmZXJyZWQoKTtcclxuXHRcdHZhciBtZXNzYWdlID0ge1xyXG5cdFx0XHR0eXBlOidHRVQnXHJcblx0XHR9O1xyXG5cdFx0dmFyIGFyZ3MgPSBUb29scy50b0FycmF5KGFyZ3VtZW50cyk7XHJcblx0XHR2YXIgZyA9IGFyZ3Muc3BsaWNlKDAsMSlbMF07XHJcblx0XHRpZiAoVG9vbHMuaXNQbGFpbk9iamVjdChnKSkge1xyXG5cdFx0XHRtZXNzYWdlID0gXy5leHRlbmQobWVzc2FnZSxnKTtcclxuXHRcdH1cclxuXHRcdHRoaXMuX0lDRVNlbmRNZXNzYWdlKG1lc3NhZ2UsZGVmZXIpO1xyXG5cdFx0cmV0dXJuIGRlZmVyLnByb21pc2UoKTtcclxuXHR9LFxyXG5cdC8qKlxyXG5cdCAqIFtleGVjdXRlR0VUIOWPkei1t0dFVOivt+axgl1cclxuXHQgKiBAcGFyYW0gIHtbdHlwZV19IHN1Y2Nlc3MgW2Rlc2NyaXB0aW9uXVxyXG5cdCAqIEBwYXJhbSAge1t0eXBlXX0gZXJyb3IgICBbZGVzY3JpcHRpb25dXHJcblx0ICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuXHQgKi9cclxuXHRleGVjdXRlR0VUOmZ1bmN0aW9uKCl7XHJcblx0XHR2YXIgbWVzc2FnZSA9IHtcclxuXHRcdFx0dHlwZTonR0VUJ1xyXG5cdFx0fTtcclxuXHRcdHJldHVybiB0aGlzLmV4ZWN1dGUobWVzc2FnZSk7XHJcblx0fSxcclxuXHQvKipcclxuXHQgKiBbZXhlY3V0ZVBPU1Qg5Y+R6LW3UE9TVOivt+axgl1cclxuXHQgKiBAcGFyYW0gIHtbdHlwZV19IEhUVFBCb2R5IFtkZXNjcmlwdGlvbl1cclxuXHQgKiBAcGFyYW0gIHtbdHlwZV19IHN1Y2Nlc3MgIFtkZXNjcmlwdGlvbl1cclxuXHQgKiBAcGFyYW0gIHtbdHlwZV19IGVycm9yICAgIFtkZXNjcmlwdGlvbl1cclxuXHQgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuXHQgKi9cclxuXHRleGVjdXRlUE9TVDpmdW5jdGlvbihIVFRQQm9keSl7XHJcblx0XHR2YXIgbWVzc2FnZSA9IHtcclxuXHRcdFx0dHlwZTonUE9TVCcsXHJcblx0XHRcdEhUVFBCb2R5OkhUVFBCb2R5XHJcblx0XHR9O1xyXG5cdFx0cmV0dXJuIHRoaXMuZXhlY3V0ZShtZXNzYWdlKTtcclxuXHR9LFxyXG5cdC8qKlxyXG5cdCAqIFtleGVjdXRlUFVUIOWPkei1t1BVVOivt+axgl1cclxuXHQgKiBAcGFyYW0gIHtbdHlwZV19IEhUVFBCb2R5IFtkZXNjcmlwdGlvbl1cclxuXHQgKiBAcGFyYW0gIHtbdHlwZV19IHN1Y2Nlc3MgIFtkZXNjcmlwdGlvbl1cclxuXHQgKiBAcGFyYW0gIHtbdHlwZV19IGVycm9yICAgIFtkZXNjcmlwdGlvbl1cclxuXHQgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuXHQgKi9cclxuXHRleGVjdXRlUFVUOmZ1bmN0aW9uKEhUVFBCb2R5KXtcclxuXHRcdHZhciBtZXNzYWdlID0ge1xyXG5cdFx0XHR0eXBlOidQVVQnLFxyXG5cdFx0XHRIVFRQQm9keTpIVFRQQm9keVxyXG5cdFx0fTtcclxuXHRcdHJldHVybiB0aGlzLmV4ZWN1dGUobWVzc2FnZSk7XHJcblx0fSxcclxuXHQvKipcclxuXHQgKiBbZXhlY3V0ZURFTEVURSDlj5HotbdkZWxldGXor7fmsYJdXHJcblx0ICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcblx0ICovXHJcblx0ZXhlY3V0ZURFTEVURTpmdW5jdGlvbigpe1xyXG5cdFx0dmFyIG1lc3NhZ2UgPSB7XHJcblx0XHRcdHR5cGU6J0RFTEVURSdcclxuXHRcdH07XHJcblx0XHRyZXR1cm4gdGhpcy5leGVjdXRlKG1lc3NhZ2UpO1xyXG5cdH0sXHJcblx0LyoqXHJcblx0ICogW2V4ZWN1dGVKU09OUCDlj5HotbdKU09OUOi3qOWfn+ivt+axgl1cclxuXHQgKiBAcGFyYW0gIHtbdHlwZV19IHN1Y2Nlc3MgW2Rlc2NyaXB0aW9uXVxyXG5cdCAqIEBwYXJhbSAge1t0eXBlXX0gZXJyb3IgICBbZGVzY3JpcHRpb25dXHJcblx0ICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuXHQgKi9cclxuXHRleGVjdXRlSlNPTlA6ZnVuY3Rpb24ocGFyYW1ldGVyKXtcclxuXHRcdHZhciBtZXNzYWdlID0ge1xyXG5cdFx0XHR0eXBlOidKU09OUCcsXHJcblx0XHRcdHBhcmFtZXRlcjpwYXJhbWV0ZXJcclxuXHRcdH07XHJcblx0XHRyZXR1cm4gdGhpcy5leGVjdXRlKG1lc3NhZ2UpO1xyXG5cdH0sXHJcblx0LyoqXHJcblx0ICogW3NldENoYW5nZVVSTCDovoXliqnmi7zmjqVVUkzlj4LmlbBdXHJcblx0ICogQHBhcmFtIHtbdHlwZV19IHBhcmFtZXRlciBbZGVzY3JpcHRpb25dXHJcblx0ICovXHJcblx0c2V0Q2hhbmdlVVJMOmZ1bmN0aW9uKHBhcmFtZXRlcil7XHJcblx0XHR2YXIgdXJsID0gJydcclxuXHRcdGlmICghcGFyYW1ldGVyKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLnVybDtcclxuXHRcdH07XHJcblx0XHRmb3IodmFyIGtleSBpbiBwYXJhbWV0ZXIpe1xyXG5cdFx0XHR2YXIgdmFsdWUgPSBwYXJhbWV0ZXJba2V5XTtcclxuXHRcdFx0aWYgKCF1cmwubGVuZ3RoKSB7XHJcblx0XHRcdFx0dXJsICs9ICc/JytrZXkrJz0nK3ZhbHVlO1xyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHR1cmwgKz0gJyYnK2tleSsnPScrdmFsdWU7XHJcblx0XHRcdH07XHJcblx0XHR9O1xyXG5cdFx0dGhpcy51cmwgPSB0aGlzLl91cmwgKyB1cmw7XHJcblx0fSxcclxuXHQvKipcclxuXHQgKiBbc2V0SGVhZGVycyDorr7nva5YSFIg5aS05L+h5oGvXVxyXG5cdCAqIEBwYXJhbSB7W3N0cmluZ3xvYmplY3RdfSBoZWFkZXJzIFtkZXNjcmlwdGlvbl1cclxuXHQgKi9cclxuXHRzZXRIZWFkZXJzOmZ1bmN0aW9uKCl7XHJcblx0XHRpZiAoIXRoaXMuaGVhZGVycykge1xyXG5cdFx0XHR0aGlzLmhlYWRlcnMgPSB7fTtcclxuXHRcdH07XHJcblx0XHR2YXIgYXJncyA9IFRvb2xzLnRvQXJyYXkoYXJndW1lbnRzKTtcclxuXHRcdGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xyXG5cdFx0XHR2YXIgaGVhZGVycyA9IGFyZ3NbMF07XHJcblx0XHRcdGZvcih2YXIga2V5IGluIGhlYWRlcnMpe1xyXG5cdFx0XHRcdHRoaXMuaGVhZGVyc1trZXldID0gaGVhZGVyc1trZXldO1xyXG5cdFx0XHR9XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0aWYgKGFyZ3MubGVuZ3RoKSB7XHJcblx0XHRcdFx0dmFyIGtleSA9IGFyZ3NbMF07XHJcblx0XHRcdFx0dmFyIHZhbHVlID0gYXJnc1sxXTtcclxuXHRcdFx0XHR0aGlzLmhlYWRlcnNba2V5XSA9IHZhbHVlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSxcclxuXHQvKipcclxuXHQgKiBbc2V0VXBkYXRlU3RvcmFnZSDlsIblrp7kvZPmlbDmja7mm7TmlrDliLDmnKzlnLDnvJPlrZhdXHJcblx0ICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcblx0ICovXHJcblx0c2V0VXBkYXRlU3RvcmFnZTpmdW5jdGlvbigpe1xyXG5cdFx0aWYgKHN0b3JhZ2UuZW5hYmxlZCl7XHJcblx0XHRcdGV4cGlyYXRpb24uc2V0KHNlbGYudXJsLHRoaXMubWFuYWdlci4kZ2V0KCksc2VsZi5leHBpcmF0aW9uKTtcclxuXHRcdH07XHJcblx0fVxyXG59KTtcclxubW9kdWxlLmV4cG9ydHMgPSBCYXNlTW9kZWw7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+Ly5ucG1pbnN0YWxsL2Jhc2UtZXh0ZW5kLWJhY2tib25lLzAuMS40L2Jhc2UtZXh0ZW5kLWJhY2tib25lL3NyYy9pbnN0YW5jZS9iYXNlTW9kZWwuanNcbiAqKiBtb2R1bGUgaWQgPSAzNlxuICoqIG1vZHVsZSBjaHVua3MgPSAxIDIgMyA0IDUgNiA3IDggOSAxMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("/* WEBPACK VAR INJECTION */(function(global) {/**\r\n * @time 2012年10月27日\r\n * @author icepy\r\n * @info 封装完成本地缓存API\r\n *\r\n * @time 2016年2月27日\r\n * @author icepy\r\n * @info 改造兼容webpack打包\r\n */\r\n\r\n'use strict';\r\n\r\n(function(factory) {\r\n\tvar root = (typeof self == 'object' && self.self == self && self) ||\r\n\t\t(typeof global == 'object' && global.global == global && global);\r\n\tif(true){\r\n\t\tmodule.exports = factory();\r\n\t}else if(typeof exports === 'object'){\r\n\t\texports['storage'] = factory()\r\n\t}else{\r\n\t\tif (!root.ICEPlugs) {\r\n\t\t\troot.ICEPlugs = {};\r\n\t\t};\r\n\t\troot.ICEPlugs.storage = factory();\r\n\t};\r\n})(function() {\r\n\tvar store = {};\r\n\tvar _window = window;\r\n\tvar localStorageName = 'localStorage';\r\n\tvar sessionStorageName = 'sessionStorage';\r\n\tvar rootKey = 'ICEStorageCache';\r\n\tvar storage, session;\r\n\tvar isLocalStorageNameSupported = function() {\r\n\t\ttry {\r\n\t\t\treturn (localStorageName in _window && _window[localStorageName]);\r\n\t\t} catch (err) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\tvar isSessionStorageNameSupported = function() {\r\n\t\ttry {\r\n\t\t\treturn (sessionStorageName in _window && _window[sessionStorageName]);\r\n\t\t} catch (err) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\tstore.disabled = false;\r\n\tstore.version = '0.0.1';\r\n\t/**\r\n\t * [has 根据Key判断是否存在]\r\n\t * @param  {[String]}  key [description]\r\n\t * @return {Boolean}     [description]\r\n\t */\r\n\tstore.has = function(key) {\r\n\t\treturn store.get(key) !== undefined;\r\n\t};\r\n\r\n\t/**\r\n\t * [transact 有存储是否成功的回调函数]\r\n\t * @param  {[String]} key           [description]\r\n\t * @param  {[String]} defaultVal    [description]\r\n\t * @param  {[type]} transactionFn [description]\r\n\t */\r\n\tstore.transact = function(key, defaultVal, transactionFn) {\r\n\t\tif (transactionFn == null) {\r\n\t\t\ttransactionFn = defaultVal;\r\n\t\t\tdefaultVal = null;\r\n\t\t}\r\n\r\n\t\tif (defaultVal == null) {\r\n\t\t\tdefaultVal = {};\r\n\t\t}\r\n\r\n\t\tvar val = store.get(key, defaultVal);\r\n\t\ttransactionFn(val);\r\n\t\tstore.set(key, val);\r\n\t};\r\n\t/**\r\n\t * [serialize 对象转字符串]\r\n\t * @param  {[Object]} value [description]\r\n\t * @return {[String]}       [description]\r\n\t */\r\n\tstore.serialize = function(value) {\r\n\t\treturn JSON.stringify(value);\r\n\t};\r\n\t/**\r\n\t * [deserialize 字符串格式化对象]\r\n\t * @param  {[String]} value [description]\r\n\t * @return {[Object]}       [description]\r\n\t */\r\n\tstore.deserialize = function(value) {\r\n\t\tif (typeof value != 'string') {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t\ttry {\r\n\t\t\treturn JSON.parse(value);\r\n\t\t} catch (e) {\r\n\t\t\treturn value || undefined;\r\n\t\t}\r\n\t};\r\n\tif (isLocalStorageNameSupported()) {\r\n\t\tstorage = _window[localStorageName];\r\n\t\t/**\r\n\t\t * [set  存储本地缓存]\r\n\t\t * @param {[String]} key [description]\r\n\t\t * @param {[Object]} val [description]\r\n\t\t */\r\n\t\tstore.set = function(key, val) {\r\n\t\t\tif (val === undefined) {\r\n\t\t\t\treturn store.remove(key);\r\n\t\t\t}\r\n\t\t\tstorage.setItem(key, store.serialize(val));\r\n\t\t\treturn val;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * [get 获取本地缓存]\r\n\t\t * @param  {[String]} key        [description]\r\n\t\t * @param  {[type]} defaultVal [description]\r\n\t\t * @return {[Boolean]}            [description]\r\n\t\t */\r\n\t\tstore.get = function(key, defaultVal) {\r\n\t\t\tvar val = store.deserialize(storage.getItem(key));\r\n\t\t\treturn (val === undefined ? defaultVal : val);\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * [remove 根据key名删除一个本地缓存]\r\n\t\t * @param  {[String]} key [description]\r\n\t\t */\r\n\t\tstore.remove = function(key) {\r\n\t\t\tstorage.removeItem(key);\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * [clear 清除所有的本地缓存]\r\n\t\t */\r\n\t\tstore.clear = function() {\r\n\t\t\tstorage.clear();\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * [getAll description]\r\n\t\t * @return {[Object]} [description]\r\n\t\t */\r\n\t\tstore.getAll = function() {\r\n\t\t\tvar ret = {};\r\n\t\t\tstore.forEach(function(key, val) {\r\n\t\t\t\tret[key] = val;\r\n\t\t\t});\r\n\t\t\treturn ret;\r\n\t\t};\r\n\t\tstore.forEach = function(callback) {\r\n\t\t\tfor (var i = 0; i < storage.length; i++) {\r\n\t\t\t\tvar key = storage.key(i);\r\n\t\t\t\tcallback(key, store.get(key));\r\n\t\t\t}\r\n\t\t};\r\n\t\t//可以设置过期时间\r\n\t\tstore.expiration = {\r\n\t\t\t/**\r\n\t\t\t * [set 存储可以设置过期时间的本地缓存]\r\n\t\t\t * @param {[String]} key [description]\r\n\t\t\t * @param {[Object]} val [description]\r\n\t\t\t * @param {[Number]} exp [description]\r\n\t\t\t */\r\n\t\t\tset: function(key, val, exp) {\r\n\t\t\t\t//exp 接受自然整数，以一小时60分钟为单位\r\n\t\t\t\tvar Root = store.get(rootKey) || {};\r\n\t\t\t\tRoot[key] = {\r\n\t\t\t\t\tval: val,\r\n\t\t\t\t\texp: exp * (1000 * 60 * 60),\r\n\t\t\t\t\ttime: new Date().getTime()\r\n\t\t\t\t};\r\n\t\t\t\tstore.set(rootKey, Root);\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * [get 获取有过期时间的本地缓存]\r\n\t\t\t * @param  {[String]} key [description]\r\n\t\t\t * @return {[*]}     [*]\r\n\t\t\t */\r\n\t\t\tget: function(key) {\r\n\t\t\t\tvar Root = store.get(rootKey);\r\n\t\t\t\tif (!Root) {\r\n\t\t\t\t\t//根节点不存在\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t};\r\n\t\t\t\tvar info = Root[key];\r\n\t\t\t\tif (!info) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t\tif (new Date().getTime() - info.time > info.exp) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t\treturn info.val\r\n\t\t\t},\r\n\t\t\tgetAll: function() {\r\n\t\t\t\tvar Root = store.get(rootKey);\r\n\t\t\t\treturn Root || null;\r\n\t\t\t},\r\n\t\t\tresetSave: function(val) {\r\n\t\t\t\tstore.set(rootKey, val);\r\n\t\t\t}\r\n\t\t};\r\n\t\tif (isSessionStorageNameSupported()) {\r\n\t\t\tsession = _window[sessionStorageName];\r\n\t\t\t//会话模式\r\n\t\t\tstore.session = {\r\n\t\t\t\t/**\r\n\t\t\t\t * [set 存储一个会话]\r\n\t\t\t\t * @param {[String]} key [description]\r\n\t\t\t\t * @param {[*]} val [*]\r\n\t\t\t\t */\r\n\t\t\t\tset: function(key, val) {\r\n\t\t\t\t\tif (val === undefined) {\r\n\t\t\t\t\t\treturn store.remove(key);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar stayStore;\r\n\t\t\t\t\tif (Object.prototype.toString.call(val) === '[object Object]') {\r\n\t\t\t\t\t\tstayStore = store.serialize(val);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tstayStore = val;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tsession.setItem(key, stayStore);\r\n\t\t\t\t},\r\n\t\t\t\t/**\r\n\t\t\t\t * [get 获取一个会话]\r\n\t\t\t\t * @param  {[String]} key [description]\r\n\t\t\t\t * @return {[Boolean]}     [description]\r\n\t\t\t\t */\r\n\t\t\t\tget: function(key) {\r\n\t\t\t\t\tvar val = store.deserialize(session.getItem(key));\r\n\t\t\t\t\treturn (val === undefined ? defaultVal : val);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\ttry {\r\n\t\tvar testKey = '__storeJs__';\r\n\t\tstore.set(testKey, testKey);\r\n\t\tif (store.get(testKey) != testKey) {\r\n\t\t\tstore.disabled = true;\r\n\t\t}\r\n\t\tstore.remove(testKey);\r\n\t} catch (e) {\r\n\t\tstore.disabled = true;\r\n\t}\r\n\tstore.enabled = !store.disabled;\r\n\tif (store.enabled) {\r\n\t\tvar modelCache = store.expiration.getAll();\r\n\t\tif (modelCache) {\r\n\t\t\tfor (var cacheKey in modelCache) {\r\n\t\t\t\tvar cache = modelCache[cacheKey];\r\n\t\t\t\tif (new Date().getTime() - cache.time > cache.exp) {\r\n\t\t\t\t\tcache = null;\r\n\t\t\t\t\tdelete modelCache[cacheKey]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tstore.expiration.resetSave(modelCache);\r\n\t};\r\n\treturn store;\r\n});\r\n\n/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+Ly5ucG1pbnN0YWxsL2Jhc2UtZXh0ZW5kLWJhY2tib25lLzAuMS40L2Jhc2UtZXh0ZW5kLWJhY2tib25lL3NyYy9zdG9yZS9zdG9yYWdlLmpzPzJjN2YiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCLGFBQWEsU0FBUztBQUN0QixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsU0FBUztBQUN0QixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWMsU0FBUztBQUN2QixjQUFjLE9BQU87QUFDckIsY0FBYyxVQUFVO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWMsU0FBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWMsU0FBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixvQkFBb0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsU0FBUztBQUN2QixjQUFjLFNBQVM7QUFDdkIsY0FBYyxTQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEIsZUFBZSxJQUFJO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEIsZUFBZSxJQUFJO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxnQkFBZ0IsU0FBUztBQUN6QixnQkFBZ0IsVUFBVTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJmaWxlIjoiMzcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQHRpbWUgMjAxMuW5tDEw5pyIMjfml6VcclxuICogQGF1dGhvciBpY2VweVxyXG4gKiBAaW5mbyDlsIHoo4XlrozmiJDmnKzlnLDnvJPlrZhBUElcclxuICpcclxuICogQHRpbWUgMjAxNuW5tDLmnIgyN+aXpVxyXG4gKiBAYXV0aG9yIGljZXB5XHJcbiAqIEBpbmZvIOaUuemAoOWFvOWuuXdlYnBhY2vmiZPljIVcclxuICovXHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG4oZnVuY3Rpb24oZmFjdG9yeSkge1xyXG5cdHZhciByb290ID0gKHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYuc2VsZiA9PSBzZWxmICYmIHNlbGYpIHx8XHJcblx0XHQodHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwuZ2xvYmFsID09IGdsb2JhbCAmJiBnbG9iYWwpO1xyXG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jyl7XHJcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcclxuXHR9ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpe1xyXG5cdFx0ZXhwb3J0c1snc3RvcmFnZSddID0gZmFjdG9yeSgpXHJcblx0fWVsc2V7XHJcblx0XHRpZiAoIXJvb3QuSUNFUGx1Z3MpIHtcclxuXHRcdFx0cm9vdC5JQ0VQbHVncyA9IHt9O1xyXG5cdFx0fTtcclxuXHRcdHJvb3QuSUNFUGx1Z3Muc3RvcmFnZSA9IGZhY3RvcnkoKTtcclxuXHR9O1xyXG59KShmdW5jdGlvbigpIHtcclxuXHR2YXIgc3RvcmUgPSB7fTtcclxuXHR2YXIgX3dpbmRvdyA9IHdpbmRvdztcclxuXHR2YXIgbG9jYWxTdG9yYWdlTmFtZSA9ICdsb2NhbFN0b3JhZ2UnO1xyXG5cdHZhciBzZXNzaW9uU3RvcmFnZU5hbWUgPSAnc2Vzc2lvblN0b3JhZ2UnO1xyXG5cdHZhciByb290S2V5ID0gJ0lDRVN0b3JhZ2VDYWNoZSc7XHJcblx0dmFyIHN0b3JhZ2UsIHNlc3Npb247XHJcblx0dmFyIGlzTG9jYWxTdG9yYWdlTmFtZVN1cHBvcnRlZCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0cmV0dXJuIChsb2NhbFN0b3JhZ2VOYW1lIGluIF93aW5kb3cgJiYgX3dpbmRvd1tsb2NhbFN0b3JhZ2VOYW1lXSk7XHJcblx0XHR9IGNhdGNoIChlcnIpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0dmFyIGlzU2Vzc2lvblN0b3JhZ2VOYW1lU3VwcG9ydGVkID0gZnVuY3Rpb24oKSB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRyZXR1cm4gKHNlc3Npb25TdG9yYWdlTmFtZSBpbiBfd2luZG93ICYmIF93aW5kb3dbc2Vzc2lvblN0b3JhZ2VOYW1lXSk7XHJcblx0XHR9IGNhdGNoIChlcnIpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0c3RvcmUuZGlzYWJsZWQgPSBmYWxzZTtcclxuXHRzdG9yZS52ZXJzaW9uID0gJzAuMC4xJztcclxuXHQvKipcclxuXHQgKiBbaGFzIOagueaNrktleeWIpOaWreaYr+WQpuWtmOWcqF1cclxuXHQgKiBAcGFyYW0gIHtbU3RyaW5nXX0gIGtleSBbZGVzY3JpcHRpb25dXHJcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gICAgIFtkZXNjcmlwdGlvbl1cclxuXHQgKi9cclxuXHRzdG9yZS5oYXMgPSBmdW5jdGlvbihrZXkpIHtcclxuXHRcdHJldHVybiBzdG9yZS5nZXQoa2V5KSAhPT0gdW5kZWZpbmVkO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFt0cmFuc2FjdCDmnInlrZjlgqjmmK/lkKbmiJDlip/nmoTlm57osIPlh73mlbBdXHJcblx0ICogQHBhcmFtICB7W1N0cmluZ119IGtleSAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG5cdCAqIEBwYXJhbSAge1tTdHJpbmddfSBkZWZhdWx0VmFsICAgIFtkZXNjcmlwdGlvbl1cclxuXHQgKiBAcGFyYW0gIHtbdHlwZV19IHRyYW5zYWN0aW9uRm4gW2Rlc2NyaXB0aW9uXVxyXG5cdCAqL1xyXG5cdHN0b3JlLnRyYW5zYWN0ID0gZnVuY3Rpb24oa2V5LCBkZWZhdWx0VmFsLCB0cmFuc2FjdGlvbkZuKSB7XHJcblx0XHRpZiAodHJhbnNhY3Rpb25GbiA9PSBudWxsKSB7XHJcblx0XHRcdHRyYW5zYWN0aW9uRm4gPSBkZWZhdWx0VmFsO1xyXG5cdFx0XHRkZWZhdWx0VmFsID0gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoZGVmYXVsdFZhbCA9PSBudWxsKSB7XHJcblx0XHRcdGRlZmF1bHRWYWwgPSB7fTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgdmFsID0gc3RvcmUuZ2V0KGtleSwgZGVmYXVsdFZhbCk7XHJcblx0XHR0cmFuc2FjdGlvbkZuKHZhbCk7XHJcblx0XHRzdG9yZS5zZXQoa2V5LCB2YWwpO1xyXG5cdH07XHJcblx0LyoqXHJcblx0ICogW3NlcmlhbGl6ZSDlr7nosaHovazlrZfnrKbkuLJdXHJcblx0ICogQHBhcmFtICB7W09iamVjdF19IHZhbHVlIFtkZXNjcmlwdGlvbl1cclxuXHQgKiBAcmV0dXJuIHtbU3RyaW5nXX0gICAgICAgW2Rlc2NyaXB0aW9uXVxyXG5cdCAqL1xyXG5cdHN0b3JlLnNlcmlhbGl6ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcblx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xyXG5cdH07XHJcblx0LyoqXHJcblx0ICogW2Rlc2VyaWFsaXplIOWtl+espuS4suagvOW8j+WMluWvueixoV1cclxuXHQgKiBAcGFyYW0gIHtbU3RyaW5nXX0gdmFsdWUgW2Rlc2NyaXB0aW9uXVxyXG5cdCAqIEByZXR1cm4ge1tPYmplY3RdfSAgICAgICBbZGVzY3JpcHRpb25dXHJcblx0ICovXHJcblx0c3RvcmUuZGVzZXJpYWxpemUgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG5cdFx0aWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xyXG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdFx0fVxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0cmV0dXJuIEpTT04ucGFyc2UodmFsdWUpO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRyZXR1cm4gdmFsdWUgfHwgdW5kZWZpbmVkO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0aWYgKGlzTG9jYWxTdG9yYWdlTmFtZVN1cHBvcnRlZCgpKSB7XHJcblx0XHRzdG9yYWdlID0gX3dpbmRvd1tsb2NhbFN0b3JhZ2VOYW1lXTtcclxuXHRcdC8qKlxyXG5cdFx0ICogW3NldCAg5a2Y5YKo5pys5Zyw57yT5a2YXVxyXG5cdFx0ICogQHBhcmFtIHtbU3RyaW5nXX0ga2V5IFtkZXNjcmlwdGlvbl1cclxuXHRcdCAqIEBwYXJhbSB7W09iamVjdF19IHZhbCBbZGVzY3JpcHRpb25dXHJcblx0XHQgKi9cclxuXHRcdHN0b3JlLnNldCA9IGZ1bmN0aW9uKGtleSwgdmFsKSB7XHJcblx0XHRcdGlmICh2YWwgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdHJldHVybiBzdG9yZS5yZW1vdmUoa2V5KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRzdG9yYWdlLnNldEl0ZW0oa2V5LCBzdG9yZS5zZXJpYWxpemUodmFsKSk7XHJcblx0XHRcdHJldHVybiB2YWw7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogW2dldCDojrflj5bmnKzlnLDnvJPlrZhdXHJcblx0XHQgKiBAcGFyYW0gIHtbU3RyaW5nXX0ga2V5ICAgICAgICBbZGVzY3JpcHRpb25dXHJcblx0XHQgKiBAcGFyYW0gIHtbdHlwZV19IGRlZmF1bHRWYWwgW2Rlc2NyaXB0aW9uXVxyXG5cdFx0ICogQHJldHVybiB7W0Jvb2xlYW5dfSAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuXHRcdCAqL1xyXG5cdFx0c3RvcmUuZ2V0ID0gZnVuY3Rpb24oa2V5LCBkZWZhdWx0VmFsKSB7XHJcblx0XHRcdHZhciB2YWwgPSBzdG9yZS5kZXNlcmlhbGl6ZShzdG9yYWdlLmdldEl0ZW0oa2V5KSk7XHJcblx0XHRcdHJldHVybiAodmFsID09PSB1bmRlZmluZWQgPyBkZWZhdWx0VmFsIDogdmFsKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBbcmVtb3ZlIOagueaNrmtleeWQjeWIoOmZpOS4gOS4quacrOWcsOe8k+WtmF1cclxuXHRcdCAqIEBwYXJhbSAge1tTdHJpbmddfSBrZXkgW2Rlc2NyaXB0aW9uXVxyXG5cdFx0ICovXHJcblx0XHRzdG9yZS5yZW1vdmUgPSBmdW5jdGlvbihrZXkpIHtcclxuXHRcdFx0c3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogW2NsZWFyIOa4hemZpOaJgOacieeahOacrOWcsOe8k+WtmF1cclxuXHRcdCAqL1xyXG5cdFx0c3RvcmUuY2xlYXIgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0c3RvcmFnZS5jbGVhcigpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFtnZXRBbGwgZGVzY3JpcHRpb25dXHJcblx0XHQgKiBAcmV0dXJuIHtbT2JqZWN0XX0gW2Rlc2NyaXB0aW9uXVxyXG5cdFx0ICovXHJcblx0XHRzdG9yZS5nZXRBbGwgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHJldCA9IHt9O1xyXG5cdFx0XHRzdG9yZS5mb3JFYWNoKGZ1bmN0aW9uKGtleSwgdmFsKSB7XHJcblx0XHRcdFx0cmV0W2tleV0gPSB2YWw7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4gcmV0O1xyXG5cdFx0fTtcclxuXHRcdHN0b3JlLmZvckVhY2ggPSBmdW5jdGlvbihjYWxsYmFjaykge1xyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN0b3JhZ2UubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIga2V5ID0gc3RvcmFnZS5rZXkoaSk7XHJcblx0XHRcdFx0Y2FsbGJhY2soa2V5LCBzdG9yZS5nZXQoa2V5KSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0XHQvL+WPr+S7peiuvue9rui/h+acn+aXtumXtFxyXG5cdFx0c3RvcmUuZXhwaXJhdGlvbiA9IHtcclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIFtzZXQg5a2Y5YKo5Y+v5Lul6K6+572u6L+H5pyf5pe26Ze055qE5pys5Zyw57yT5a2YXVxyXG5cdFx0XHQgKiBAcGFyYW0ge1tTdHJpbmddfSBrZXkgW2Rlc2NyaXB0aW9uXVxyXG5cdFx0XHQgKiBAcGFyYW0ge1tPYmplY3RdfSB2YWwgW2Rlc2NyaXB0aW9uXVxyXG5cdFx0XHQgKiBAcGFyYW0ge1tOdW1iZXJdfSBleHAgW2Rlc2NyaXB0aW9uXVxyXG5cdFx0XHQgKi9cclxuXHRcdFx0c2V0OiBmdW5jdGlvbihrZXksIHZhbCwgZXhwKSB7XHJcblx0XHRcdFx0Ly9leHAg5o6l5Y+X6Ieq54S25pW05pWw77yM5Lul5LiA5bCP5pe2NjDliIbpkp/kuLrljZXkvY1cclxuXHRcdFx0XHR2YXIgUm9vdCA9IHN0b3JlLmdldChyb290S2V5KSB8fCB7fTtcclxuXHRcdFx0XHRSb290W2tleV0gPSB7XHJcblx0XHRcdFx0XHR2YWw6IHZhbCxcclxuXHRcdFx0XHRcdGV4cDogZXhwICogKDEwMDAgKiA2MCAqIDYwKSxcclxuXHRcdFx0XHRcdHRpbWU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHRzdG9yZS5zZXQocm9vdEtleSwgUm9vdCk7XHJcblx0XHRcdH0sXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBbZ2V0IOiOt+WPluaciei/h+acn+aXtumXtOeahOacrOWcsOe8k+WtmF1cclxuXHRcdFx0ICogQHBhcmFtICB7W1N0cmluZ119IGtleSBbZGVzY3JpcHRpb25dXHJcblx0XHRcdCAqIEByZXR1cm4ge1sqXX0gICAgIFsqXVxyXG5cdFx0XHQgKi9cclxuXHRcdFx0Z2V0OiBmdW5jdGlvbihrZXkpIHtcclxuXHRcdFx0XHR2YXIgUm9vdCA9IHN0b3JlLmdldChyb290S2V5KTtcclxuXHRcdFx0XHRpZiAoIVJvb3QpIHtcclxuXHRcdFx0XHRcdC8v5qC56IqC54K55LiN5a2Y5ZyoXHJcblx0XHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdHZhciBpbmZvID0gUm9vdFtrZXldO1xyXG5cdFx0XHRcdGlmICghaW5mbykge1xyXG5cdFx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIGluZm8udGltZSA+IGluZm8uZXhwKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIGluZm8udmFsXHJcblx0XHRcdH0sXHJcblx0XHRcdGdldEFsbDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0dmFyIFJvb3QgPSBzdG9yZS5nZXQocm9vdEtleSk7XHJcblx0XHRcdFx0cmV0dXJuIFJvb3QgfHwgbnVsbDtcclxuXHRcdFx0fSxcclxuXHRcdFx0cmVzZXRTYXZlOiBmdW5jdGlvbih2YWwpIHtcclxuXHRcdFx0XHRzdG9yZS5zZXQocm9vdEtleSwgdmFsKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHRcdGlmIChpc1Nlc3Npb25TdG9yYWdlTmFtZVN1cHBvcnRlZCgpKSB7XHJcblx0XHRcdHNlc3Npb24gPSBfd2luZG93W3Nlc3Npb25TdG9yYWdlTmFtZV07XHJcblx0XHRcdC8v5Lya6K+d5qih5byPXHJcblx0XHRcdHN0b3JlLnNlc3Npb24gPSB7XHJcblx0XHRcdFx0LyoqXHJcblx0XHRcdFx0ICogW3NldCDlrZjlgqjkuIDkuKrkvJror51dXHJcblx0XHRcdFx0ICogQHBhcmFtIHtbU3RyaW5nXX0ga2V5IFtkZXNjcmlwdGlvbl1cclxuXHRcdFx0XHQgKiBAcGFyYW0ge1sqXX0gdmFsIFsqXVxyXG5cdFx0XHRcdCAqL1xyXG5cdFx0XHRcdHNldDogZnVuY3Rpb24oa2V5LCB2YWwpIHtcclxuXHRcdFx0XHRcdGlmICh2YWwgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gc3RvcmUucmVtb3ZlKGtleSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR2YXIgc3RheVN0b3JlO1xyXG5cdFx0XHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBPYmplY3RdJykge1xyXG5cdFx0XHRcdFx0XHRzdGF5U3RvcmUgPSBzdG9yZS5zZXJpYWxpemUodmFsKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHN0YXlTdG9yZSA9IHZhbDtcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRzZXNzaW9uLnNldEl0ZW0oa2V5LCBzdGF5U3RvcmUpO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0LyoqXHJcblx0XHRcdFx0ICogW2dldCDojrflj5bkuIDkuKrkvJror51dXHJcblx0XHRcdFx0ICogQHBhcmFtICB7W1N0cmluZ119IGtleSBbZGVzY3JpcHRpb25dXHJcblx0XHRcdFx0ICogQHJldHVybiB7W0Jvb2xlYW5dfSAgICAgW2Rlc2NyaXB0aW9uXVxyXG5cdFx0XHRcdCAqL1xyXG5cdFx0XHRcdGdldDogZnVuY3Rpb24oa2V5KSB7XHJcblx0XHRcdFx0XHR2YXIgdmFsID0gc3RvcmUuZGVzZXJpYWxpemUoc2Vzc2lvbi5nZXRJdGVtKGtleSkpO1xyXG5cdFx0XHRcdFx0cmV0dXJuICh2YWwgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRWYWwgOiB2YWwpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcblx0dHJ5IHtcclxuXHRcdHZhciB0ZXN0S2V5ID0gJ19fc3RvcmVKc19fJztcclxuXHRcdHN0b3JlLnNldCh0ZXN0S2V5LCB0ZXN0S2V5KTtcclxuXHRcdGlmIChzdG9yZS5nZXQodGVzdEtleSkgIT0gdGVzdEtleSkge1xyXG5cdFx0XHRzdG9yZS5kaXNhYmxlZCA9IHRydWU7XHJcblx0XHR9XHJcblx0XHRzdG9yZS5yZW1vdmUodGVzdEtleSk7XHJcblx0fSBjYXRjaCAoZSkge1xyXG5cdFx0c3RvcmUuZGlzYWJsZWQgPSB0cnVlO1xyXG5cdH1cclxuXHRzdG9yZS5lbmFibGVkID0gIXN0b3JlLmRpc2FibGVkO1xyXG5cdGlmIChzdG9yZS5lbmFibGVkKSB7XHJcblx0XHR2YXIgbW9kZWxDYWNoZSA9IHN0b3JlLmV4cGlyYXRpb24uZ2V0QWxsKCk7XHJcblx0XHRpZiAobW9kZWxDYWNoZSkge1xyXG5cdFx0XHRmb3IgKHZhciBjYWNoZUtleSBpbiBtb2RlbENhY2hlKSB7XHJcblx0XHRcdFx0dmFyIGNhY2hlID0gbW9kZWxDYWNoZVtjYWNoZUtleV07XHJcblx0XHRcdFx0aWYgKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gY2FjaGUudGltZSA+IGNhY2hlLmV4cCkge1xyXG5cdFx0XHRcdFx0Y2FjaGUgPSBudWxsO1xyXG5cdFx0XHRcdFx0ZGVsZXRlIG1vZGVsQ2FjaGVbY2FjaGVLZXldXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdFx0c3RvcmUuZXhwaXJhdGlvbi5yZXNldFNhdmUobW9kZWxDYWNoZSk7XHJcblx0fTtcclxuXHRyZXR1cm4gc3RvcmU7XHJcbn0pO1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi8ubnBtaW5zdGFsbC9iYXNlLWV4dGVuZC1iYWNrYm9uZS8wLjEuNC9iYXNlLWV4dGVuZC1iYWNrYm9uZS9zcmMvc3RvcmUvc3RvcmFnZS5qc1xuICoqIG1vZHVsZSBpZCA9IDM3XG4gKiogbW9kdWxlIGNodW5rcyA9IDEgMiAzIDQgNSA2IDcgOCA5IDEwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");
},function(module,exports,__webpack_require__){eval("/**\r\n * @time 2016年3月21日\r\n * @author icepy\r\n * @info 基于路由的生命周期\r\n */\r\n\r\n'use strict'\r\n\r\nvar Backbone = __webpack_require__(30);\r\nvar warn = __webpack_require__(32);\r\nvar stack = [];\r\nvar routerHash = {};\r\nvar curr = null;\r\nvar router = null;\r\nvar routerHashTop = function(key) {\r\n    return routerHash[key];\r\n};\r\nvar routerHashRmove = function(key) {\r\n    delete routerHash[key];\r\n};\r\nvar BaseRouter = Backbone.Router.extend({\r\n    addLifeCycleHelper: function(name, view, parameter) {\r\n        var top = routerHashTop(name);\r\n        var stackCheckHandler = function() {\r\n            if (curr) {\r\n                //视图隐藏或者销毁之前\r\n                if (_.isFunction(router.viewWillDisappear)) {\r\n                    router.viewWillDisappear.call(curr);\r\n                }else{\r\n                    if (router.dealloc) {\r\n                        warn('销毁实例{dealloc = true}之前必须存在viewWillDisappear，在此进行解除其他对象的引用或者调用（每个）destroy方法');\r\n                    };\r\n                };\r\n                if (router.dealloc) {\r\n                    //进入实例销毁流程\r\n                    curr.destroy();\r\n                    var obj = routerHashTop(curr._router);\r\n                    if (obj) {\r\n                        routerHashRmove(curr._router);\r\n                        stack.splice(stack.indexOf(curr.cid), 1);\r\n                        obj = null;\r\n                    };\r\n                }\r\n                //视图隐藏或者销毁之后\r\n                if (_.isFunction(router.viewDidDisappear)) {\r\n                    router.viewDidDisappear.call(curr);\r\n                };\r\n            }\r\n        }\r\n        if (top) {\r\n            stackCheckHandler();\r\n            curr = null;\r\n            curr = top;\r\n            curr.trigger('viewWillAppear');\r\n        } else {\r\n            stackCheckHandler();\r\n            curr = parameter ? new view({\r\n                '$parameter': parameter\r\n            }) : new view();\r\n            stack.push(curr.cid);\r\n            curr._router = name;\r\n            curr._didLoad = false; //记录viewDidLoad跟随路由呈现的生命周期状态\r\n            router = curr.router;\r\n            routerHash[name] = curr;\r\n            //视图呈现的生命周期只会触发一次\r\n            curr.once('viewDidLoad', function() {\r\n                if (_.isFunction(router.viewDidLoad)) {\r\n                    router.viewDidLoad.call(curr);\r\n                }else{\r\n                    warn('基于路由的Root Component，必须存在viewDidLoad钩子');\r\n                };\r\n                if (!curr._didLoad) {\r\n                    curr._didLoad = true;\r\n                    curr.trigger('viewDidAppear');\r\n                };\r\n            });\r\n            //视图将要呈现之前\r\n            curr.on('viewWillAppear', function() {\r\n                if (_.isFunction(router.viewWillAppear)) {\r\n                    router.viewWillAppear.call(curr);\r\n                }else{\r\n                    warn('基于路由的Root Component，必须存在viewWillAppear');\r\n                };\r\n                if (!curr._didLoad) {\r\n                    //viewDidLoad事件还未触发\r\n                    curr.trigger('viewDidLoad');\r\n                }else{\r\n                    curr.trigger('viewDidAppear');\r\n                };\r\n            });\r\n            //视图已经呈现之后\r\n            curr.on('viewDidAppear', function() {\r\n                if (_.isFunction(router.viewDidAppear)) {\r\n                    router.viewDidAppear.call(curr);\r\n                }else{\r\n                    warn('基于路由的Root Component，必须存在viewDidAppear');\r\n                };\r\n            });\r\n            curr.trigger('viewWillAppear');\r\n        }\r\n        return curr;\r\n    }\r\n});\r\nmodule.exports = BaseRouter;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+Ly5ucG1pbnN0YWxsL2Jhc2UtZXh0ZW5kLWJhY2tib25lLzAuMS40L2Jhc2UtZXh0ZW5kLWJhY2tib25lL3NyYy9pbnN0YW5jZS9iYXNlUm91dGVyLmpzPzcyNjMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsbUNBQW1DLGVBQWU7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEIiwiZmlsZSI6IjM4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEB0aW1lIDIwMTblubQz5pyIMjHml6VcclxuICogQGF1dGhvciBpY2VweVxyXG4gKiBAaW5mbyDln7rkuo7ot6/nlLHnmoTnlJ/lkb3lkajmnJ9cclxuICovXHJcblxyXG4ndXNlIHN0cmljdCdcclxuXHJcbnZhciBCYWNrYm9uZSA9IHJlcXVpcmUoJ2JhY2tib25lJyk7XHJcbnZhciB3YXJuID0gcmVxdWlyZSgnLi4vdXRpbC93YXJuJyk7XHJcbnZhciBzdGFjayA9IFtdO1xyXG52YXIgcm91dGVySGFzaCA9IHt9O1xyXG52YXIgY3VyciA9IG51bGw7XHJcbnZhciByb3V0ZXIgPSBudWxsO1xyXG52YXIgcm91dGVySGFzaFRvcCA9IGZ1bmN0aW9uKGtleSkge1xyXG4gICAgcmV0dXJuIHJvdXRlckhhc2hba2V5XTtcclxufTtcclxudmFyIHJvdXRlckhhc2hSbW92ZSA9IGZ1bmN0aW9uKGtleSkge1xyXG4gICAgZGVsZXRlIHJvdXRlckhhc2hba2V5XTtcclxufTtcclxudmFyIEJhc2VSb3V0ZXIgPSBCYWNrYm9uZS5Sb3V0ZXIuZXh0ZW5kKHtcclxuICAgIGFkZExpZmVDeWNsZUhlbHBlcjogZnVuY3Rpb24obmFtZSwgdmlldywgcGFyYW1ldGVyKSB7XHJcbiAgICAgICAgdmFyIHRvcCA9IHJvdXRlckhhc2hUb3AobmFtZSk7XHJcbiAgICAgICAgdmFyIHN0YWNrQ2hlY2tIYW5kbGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmIChjdXJyKSB7XHJcbiAgICAgICAgICAgICAgICAvL+inhuWbvumakOiXj+aIluiAhemUgOavgeS5i+WJjVxyXG4gICAgICAgICAgICAgICAgaWYgKF8uaXNGdW5jdGlvbihyb3V0ZXIudmlld1dpbGxEaXNhcHBlYXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm91dGVyLnZpZXdXaWxsRGlzYXBwZWFyLmNhbGwoY3Vycik7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocm91dGVyLmRlYWxsb2MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2Fybign6ZSA5q+B5a6e5L6Le2RlYWxsb2MgPSB0cnVlfeS5i+WJjeW/hemhu+WtmOWcqHZpZXdXaWxsRGlzYXBwZWFy77yM5Zyo5q2k6L+b6KGM6Kej6Zmk5YW25LuW5a+56LGh55qE5byV55So5oiW6ICF6LCD55So77yI5q+P5Liq77yJZGVzdHJveeaWueazlScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgaWYgKHJvdXRlci5kZWFsbG9jKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy/ov5vlhaXlrp7kvovplIDmr4HmtYHnqItcclxuICAgICAgICAgICAgICAgICAgICBjdXJyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0gcm91dGVySGFzaFRvcChjdXJyLl9yb3V0ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVySGFzaFJtb3ZlKGN1cnIuX3JvdXRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnNwbGljZShzdGFjay5pbmRleE9mKGN1cnIuY2lkKSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iaiA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8v6KeG5Zu+6ZqQ6JeP5oiW6ICF6ZSA5q+B5LmL5ZCOXHJcbiAgICAgICAgICAgICAgICBpZiAoXy5pc0Z1bmN0aW9uKHJvdXRlci52aWV3RGlkRGlzYXBwZWFyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvdXRlci52aWV3RGlkRGlzYXBwZWFyLmNhbGwoY3Vycik7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0b3ApIHtcclxuICAgICAgICAgICAgc3RhY2tDaGVja0hhbmRsZXIoKTtcclxuICAgICAgICAgICAgY3VyciA9IG51bGw7XHJcbiAgICAgICAgICAgIGN1cnIgPSB0b3A7XHJcbiAgICAgICAgICAgIGN1cnIudHJpZ2dlcigndmlld1dpbGxBcHBlYXInKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdGFja0NoZWNrSGFuZGxlcigpO1xyXG4gICAgICAgICAgICBjdXJyID0gcGFyYW1ldGVyID8gbmV3IHZpZXcoe1xyXG4gICAgICAgICAgICAgICAgJyRwYXJhbWV0ZXInOiBwYXJhbWV0ZXJcclxuICAgICAgICAgICAgfSkgOiBuZXcgdmlldygpO1xyXG4gICAgICAgICAgICBzdGFjay5wdXNoKGN1cnIuY2lkKTtcclxuICAgICAgICAgICAgY3Vyci5fcm91dGVyID0gbmFtZTtcclxuICAgICAgICAgICAgY3Vyci5fZGlkTG9hZCA9IGZhbHNlOyAvL+iusOW9lXZpZXdEaWRMb2Fk6Lef6ZqP6Lev55Sx5ZGI546w55qE55Sf5ZG95ZGo5pyf54q25oCBXHJcbiAgICAgICAgICAgIHJvdXRlciA9IGN1cnIucm91dGVyO1xyXG4gICAgICAgICAgICByb3V0ZXJIYXNoW25hbWVdID0gY3VycjtcclxuICAgICAgICAgICAgLy/op4blm77lkYjnjrDnmoTnlJ/lkb3lkajmnJ/lj6rkvJrop6blj5HkuIDmrKFcclxuICAgICAgICAgICAgY3Vyci5vbmNlKCd2aWV3RGlkTG9hZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKF8uaXNGdW5jdGlvbihyb3V0ZXIudmlld0RpZExvYWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm91dGVyLnZpZXdEaWRMb2FkLmNhbGwoY3Vycik7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKCfln7rkuo7ot6/nlLHnmoRSb290IENvbXBvbmVudO+8jOW/hemhu+WtmOWcqHZpZXdEaWRMb2Fk6ZKp5a2QJyk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgaWYgKCFjdXJyLl9kaWRMb2FkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3Vyci5fZGlkTG9hZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgY3Vyci50cmlnZ2VyKCd2aWV3RGlkQXBwZWFyJyk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy/op4blm77lsIbopoHlkYjnjrDkuYvliY1cclxuICAgICAgICAgICAgY3Vyci5vbigndmlld1dpbGxBcHBlYXInLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmIChfLmlzRnVuY3Rpb24ocm91dGVyLnZpZXdXaWxsQXBwZWFyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvdXRlci52aWV3V2lsbEFwcGVhci5jYWxsKGN1cnIpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgd2Fybign5Z+65LqO6Lev55Sx55qEUm9vdCBDb21wb25lbnTvvIzlv4XpobvlrZjlnKh2aWV3V2lsbEFwcGVhcicpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGlmICghY3Vyci5fZGlkTG9hZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdmlld0RpZExvYWTkuovku7bov5jmnKrop6blj5FcclxuICAgICAgICAgICAgICAgICAgICBjdXJyLnRyaWdnZXIoJ3ZpZXdEaWRMb2FkJyk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyLnRyaWdnZXIoJ3ZpZXdEaWRBcHBlYXInKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvL+inhuWbvuW3sue7j+WRiOeOsOS5i+WQjlxyXG4gICAgICAgICAgICBjdXJyLm9uKCd2aWV3RGlkQXBwZWFyJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoXy5pc0Z1bmN0aW9uKHJvdXRlci52aWV3RGlkQXBwZWFyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvdXRlci52aWV3RGlkQXBwZWFyLmNhbGwoY3Vycik7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKCfln7rkuo7ot6/nlLHnmoRSb290IENvbXBvbmVudO+8jOW/hemhu+WtmOWcqHZpZXdEaWRBcHBlYXInKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjdXJyLnRyaWdnZXIoJ3ZpZXdXaWxsQXBwZWFyJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjdXJyO1xyXG4gICAgfVxyXG59KTtcclxubW9kdWxlLmV4cG9ydHMgPSBCYXNlUm91dGVyO1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi8ubnBtaW5zdGFsbC9iYXNlLWV4dGVuZC1iYWNrYm9uZS8wLjEuNC9iYXNlLWV4dGVuZC1iYWNrYm9uZS9zcmMvaW5zdGFuY2UvYmFzZVJvdXRlci5qc1xuICoqIG1vZHVsZSBpZCA9IDM4XG4gKiogbW9kdWxlIGNodW5rcyA9IDEgMiAzIDQgNSA2IDcgOCA5IDEwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval("/**\r\n * @time 2016年3月29日\r\n * @author icepy\r\n * @info 实体管理类\r\n */\r\nvar Tools = __webpack_require__(34);\r\nvar baseModelSort = [];\r\n\r\nvar ManagedObject = function(options){\r\n    options = options || {};\r\n    this.entity = options.entity || {};\r\n};\r\n\r\nManagedObject.prototype.$update = function(obj){\r\n    var entity = _.extend(this.entity,obj);\r\n    this.entity = null;\r\n    this.entity = entity;\r\n};\r\n/**\r\n * [$get 从实体中获取数据，无参将返回所有数据，参数使用.结构化表达式（this.$get('items.0.id')）]\r\n * @param  {[type]} expression [description]\r\n * @return {[type]}            [description]\r\n */\r\nManagedObject.prototype.$get = function(expression){\r\n    if (!expression) {\r\n        return this.entity;\r\n    }\r\n    var attrNodes = expression.split('.');\r\n    var lh = attrNodes.length;\r\n    if (lh > 0) {\r\n        var node = attrNodes[0];\r\n        var i = 0;\r\n        var entity = this.entity;\r\n        while(node){\r\n            i++\r\n            entity = entity[node];\r\n            node = attrNodes[i];\r\n        }\r\n        return entity;\r\n    }\r\n};\r\n/**\r\n * [$set 向实体内部更新数据，以key/value的方式，第一个参数使用结构化表达式，第二个参数可以是任意类型的数据]\r\n * @param {[type]} expression [description]\r\n * @param {[type]} value      [description]\r\n */\r\nManagedObject.prototype.$set = function(expression,value,options){\r\n    if (expression === null || expression === undefined) {\r\n        return this;\r\n    };\r\n    if (Tools.isPlainObject(expression)) {\r\n        this.entity = null;\r\n        this.entity = expression;\r\n        return this.entity;\r\n    };\r\n    var attrNodes = expression.split('.');\r\n    var lh = attrNodes.length;\r\n    if (lh > 0) {\r\n        var i = 0;\r\n        var node = attrNodes[i];\r\n        var entity = this.entity;\r\n        if (lh !== 1) {\r\n            while(node){\r\n                i++\r\n                entity = entity[node];\r\n                node = attrNodes[i];\r\n                if (i > (lh - 2)) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        switch(Tools.toType(entity)){\r\n            case '[object Object]':\r\n                entity[node] = value;\r\n                break;\r\n            case '[object Array]':\r\n                entity[Tools.exportToNumber(node)] = value;\r\n                break;\r\n            default:\r\n                entity = value;\r\n                break;\r\n        };\r\n    }\r\n};\r\n/**\r\n * [$filter 向实体内部的某项数据进行筛选，第一个参数是要筛选数据的.结构化表达式，第二个参数是筛选根据]\r\n * @param  {[type]} expression [description]\r\n * @param  {[type]} value      [description]\r\n * @return {[type]}            [description]\r\n */\r\nManagedObject.prototype.$filter = function(expression,value){\r\n    var data = this.$get(expression);\r\n    var result = [];\r\n    if (Tools.isArray(data)) {\r\n        var i = data.length;\r\n        var n;\r\n        while(i--){\r\n            var val = data[i];\r\n            switch(Tools.toType(value)){\r\n                case '[object Object]':\r\n                    n = true;\r\n                    for(var k in value){\r\n                        if (!(val[k] === value[k])) {\r\n                            n = null;\r\n                            break;\r\n                        }\r\n                    }\r\n                    break\r\n                case '[object Function]':\r\n                    n = value(val,i);\r\n                    break\r\n                default:\r\n                    n = (val === value);\r\n                    break\r\n            };\r\n            if (n) {\r\n                result.push(val)\r\n            };\r\n        };\r\n    };\r\n    return result;\r\n};\r\n/**\r\n * [$sort 对实体内部的某项数据进行排序，第二个参数是要排序数据的.结构化表达式，第二个参数是排序的根据]\r\n * @param  {[type]} expression [description]\r\n * @param  {[type]} value      [description]\r\n * @return {[type]}            [description]\r\n */\r\nManagedObject.prototype.$sort = function(expression,value){\r\n    // > 大于 true\r\n    // < 小于 false\r\n    var data = this.$get(expression);\r\n    baseModelSort.length = 0;\r\n    if (Tools.isArray(data)) {\r\n        switch(Tools.toType(value)){\r\n            case '[object Function]':\r\n                baseModelSort = this._sort(data,value)\r\n                break\r\n            default:\r\n                if (typeof value === 'string') {\r\n                    var attrNodes = value.split('.');\r\n                    var logic = null;\r\n                    var lh = attrNodes.length - 1;\r\n                    switch(attrNodes[lh]){\r\n                        case '>':\r\n                            logic = true;\r\n                            break\r\n                        case '<':\r\n                            logic = false;\r\n                            break\r\n                        default:\r\n                            return baseModelSort;\r\n                            break\r\n                    };\r\n                    if (logic !== null) {\r\n                        return this._sort(data,function(val1,val2){\r\n                            var node = attrNodes[0];\r\n                            var i = 0;\r\n                            while(node){\r\n                                val1 = val1[node];\r\n                                val2 = val2[node];\r\n                                i++\r\n                                if (i === lh) {\r\n                                    break;\r\n                                };\r\n                                node = attrNodes[i];\r\n                            }\r\n                            if (logic) {\r\n                                return val1 > val2;\r\n                            }else{\r\n                                return val1 < val2;\r\n                            };\r\n                        });\r\n                    }\r\n\r\n                };\r\n                break\r\n        }\r\n    };\r\n    return baseModelSort;\r\n};\r\n\r\nManagedObject.prototype._sort = function(data,fun){\r\n    var n = data.length;\r\n    if (n < 2) {\r\n        return data;\r\n    };\r\n    var i = 0;\r\n    var j = i+1;\r\n    var logic,temp,key;\r\n    for(;i<j;i++){\r\n        for(j = i+1;j<n;j++){\r\n            logic = fun.call(this,data[i],data[j]);\r\n            key = (typeof logic === 'number' ? logic : !!logic ? 1 : 0) > 0 ? true : false;\r\n            if (key) {\r\n                temp = data[i];\r\n                data[i] = data[j];\r\n                data[j] = temp;\r\n            }\r\n        }\r\n    }\r\n    return data;\r\n};\r\n\r\nmodule.exports = ManagedObject;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+Ly5ucG1pbnN0YWxsL2Jhc2UtZXh0ZW5kLWJhY2tib25lLzAuMS40L2Jhc2UtZXh0ZW5kLWJhY2tib25lL3NyYy9lbnRpdHkvTWFuYWdlZE9iamVjdC5qcz9mNGE1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CLFlBQVksT0FBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkIsWUFBWSxPQUFPO0FBQ25CLFlBQVksT0FBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CLFlBQVksT0FBTztBQUNuQixZQUFZLE9BQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLElBQUk7QUFDYixvQkFBb0IsSUFBSTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjM5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEB0aW1lIDIwMTblubQz5pyIMjnml6VcclxuICogQGF1dGhvciBpY2VweVxyXG4gKiBAaW5mbyDlrp7kvZPnrqHnkIbnsbtcclxuICovXHJcbnZhciBUb29scyA9IHJlcXVpcmUoJy4uL3V0aWwvdG9vbHMnKTtcclxudmFyIGJhc2VNb2RlbFNvcnQgPSBbXTtcclxuXHJcbnZhciBNYW5hZ2VkT2JqZWN0ID0gZnVuY3Rpb24ob3B0aW9ucyl7XHJcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuICAgIHRoaXMuZW50aXR5ID0gb3B0aW9ucy5lbnRpdHkgfHwge307XHJcbn07XHJcblxyXG5NYW5hZ2VkT2JqZWN0LnByb3RvdHlwZS4kdXBkYXRlID0gZnVuY3Rpb24ob2JqKXtcclxuICAgIHZhciBlbnRpdHkgPSBfLmV4dGVuZCh0aGlzLmVudGl0eSxvYmopO1xyXG4gICAgdGhpcy5lbnRpdHkgPSBudWxsO1xyXG4gICAgdGhpcy5lbnRpdHkgPSBlbnRpdHk7XHJcbn07XHJcbi8qKlxyXG4gKiBbJGdldCDku47lrp7kvZPkuK3ojrflj5bmlbDmja7vvIzml6Dlj4LlsIbov5Tlm57miYDmnInmlbDmja7vvIzlj4LmlbDkvb/nlKgu57uT5p6E5YyW6KGo6L6+5byP77yIdGhpcy4kZ2V0KCdpdGVtcy4wLmlkJynvvIldXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gZXhwcmVzc2lvbiBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5NYW5hZ2VkT2JqZWN0LnByb3RvdHlwZS4kZ2V0ID0gZnVuY3Rpb24oZXhwcmVzc2lvbil7XHJcbiAgICBpZiAoIWV4cHJlc3Npb24pIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5lbnRpdHk7XHJcbiAgICB9XHJcbiAgICB2YXIgYXR0ck5vZGVzID0gZXhwcmVzc2lvbi5zcGxpdCgnLicpO1xyXG4gICAgdmFyIGxoID0gYXR0ck5vZGVzLmxlbmd0aDtcclxuICAgIGlmIChsaCA+IDApIHtcclxuICAgICAgICB2YXIgbm9kZSA9IGF0dHJOb2Rlc1swXTtcclxuICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgdmFyIGVudGl0eSA9IHRoaXMuZW50aXR5O1xyXG4gICAgICAgIHdoaWxlKG5vZGUpe1xyXG4gICAgICAgICAgICBpKytcclxuICAgICAgICAgICAgZW50aXR5ID0gZW50aXR5W25vZGVdO1xyXG4gICAgICAgICAgICBub2RlID0gYXR0ck5vZGVzW2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZW50aXR5O1xyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogWyRzZXQg5ZCR5a6e5L2T5YaF6YOo5pu05paw5pWw5o2u77yM5Lula2V5L3ZhbHVl55qE5pa55byP77yM56ys5LiA5Liq5Y+C5pWw5L2/55So57uT5p6E5YyW6KGo6L6+5byP77yM56ys5LqM5Liq5Y+C5pWw5Y+v5Lul5piv5Lu75oSP57G75Z6L55qE5pWw5o2uXVxyXG4gKiBAcGFyYW0ge1t0eXBlXX0gZXhwcmVzc2lvbiBbZGVzY3JpcHRpb25dXHJcbiAqIEBwYXJhbSB7W3R5cGVdfSB2YWx1ZSAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbk1hbmFnZWRPYmplY3QucHJvdG90eXBlLiRzZXQgPSBmdW5jdGlvbihleHByZXNzaW9uLHZhbHVlLG9wdGlvbnMpe1xyXG4gICAgaWYgKGV4cHJlc3Npb24gPT09IG51bGwgfHwgZXhwcmVzc2lvbiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgaWYgKFRvb2xzLmlzUGxhaW5PYmplY3QoZXhwcmVzc2lvbikpIHtcclxuICAgICAgICB0aGlzLmVudGl0eSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5lbnRpdHkgPSBleHByZXNzaW9uO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVudGl0eTtcclxuICAgIH07XHJcbiAgICB2YXIgYXR0ck5vZGVzID0gZXhwcmVzc2lvbi5zcGxpdCgnLicpO1xyXG4gICAgdmFyIGxoID0gYXR0ck5vZGVzLmxlbmd0aDtcclxuICAgIGlmIChsaCA+IDApIHtcclxuICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgdmFyIG5vZGUgPSBhdHRyTm9kZXNbaV07XHJcbiAgICAgICAgdmFyIGVudGl0eSA9IHRoaXMuZW50aXR5O1xyXG4gICAgICAgIGlmIChsaCAhPT0gMSkge1xyXG4gICAgICAgICAgICB3aGlsZShub2RlKXtcclxuICAgICAgICAgICAgICAgIGkrK1xyXG4gICAgICAgICAgICAgICAgZW50aXR5ID0gZW50aXR5W25vZGVdO1xyXG4gICAgICAgICAgICAgICAgbm9kZSA9IGF0dHJOb2Rlc1tpXTtcclxuICAgICAgICAgICAgICAgIGlmIChpID4gKGxoIC0gMikpIHtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBzd2l0Y2goVG9vbHMudG9UeXBlKGVudGl0eSkpe1xyXG4gICAgICAgICAgICBjYXNlICdbb2JqZWN0IE9iamVjdF0nOlxyXG4gICAgICAgICAgICAgICAgZW50aXR5W25vZGVdID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnW29iamVjdCBBcnJheV0nOlxyXG4gICAgICAgICAgICAgICAgZW50aXR5W1Rvb2xzLmV4cG9ydFRvTnVtYmVyKG5vZGUpXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBlbnRpdHkgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn07XHJcbi8qKlxyXG4gKiBbJGZpbHRlciDlkJHlrp7kvZPlhoXpg6jnmoTmn5DpobnmlbDmja7ov5vooYznrZvpgInvvIznrKzkuIDkuKrlj4LmlbDmmK/opoHnrZvpgInmlbDmja7nmoQu57uT5p6E5YyW6KGo6L6+5byP77yM56ys5LqM5Liq5Y+C5pWw5piv562b6YCJ5qC55o2uXVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IGV4cHJlc3Npb24gW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IHZhbHVlICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuTWFuYWdlZE9iamVjdC5wcm90b3R5cGUuJGZpbHRlciA9IGZ1bmN0aW9uKGV4cHJlc3Npb24sdmFsdWUpe1xyXG4gICAgdmFyIGRhdGEgPSB0aGlzLiRnZXQoZXhwcmVzc2lvbik7XHJcbiAgICB2YXIgcmVzdWx0ID0gW107XHJcbiAgICBpZiAoVG9vbHMuaXNBcnJheShkYXRhKSkge1xyXG4gICAgICAgIHZhciBpID0gZGF0YS5sZW5ndGg7XHJcbiAgICAgICAgdmFyIG47XHJcbiAgICAgICAgd2hpbGUoaS0tKXtcclxuICAgICAgICAgICAgdmFyIHZhbCA9IGRhdGFbaV07XHJcbiAgICAgICAgICAgIHN3aXRjaChUb29scy50b1R5cGUodmFsdWUpKXtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1tvYmplY3QgT2JqZWN0XSc6XHJcbiAgICAgICAgICAgICAgICAgICAgbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBrIGluIHZhbHVlKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEodmFsW2tdID09PSB2YWx1ZVtrXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1tvYmplY3QgRnVuY3Rpb25dJzpcclxuICAgICAgICAgICAgICAgICAgICBuID0gdmFsdWUodmFsLGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIG4gPSAodmFsID09PSB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaWYgKG4pIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbClcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn07XHJcbi8qKlxyXG4gKiBbJHNvcnQg5a+55a6e5L2T5YaF6YOo55qE5p+Q6aG55pWw5o2u6L+b6KGM5o6S5bqP77yM56ys5LqM5Liq5Y+C5pWw5piv6KaB5o6S5bqP5pWw5o2u55qELue7k+aehOWMluihqOi+vuW8j++8jOesrOS6jOS4quWPguaVsOaYr+aOkuW6j+eahOagueaNrl1cclxuICogQHBhcmFtICB7W3R5cGVdfSBleHByZXNzaW9uIFtkZXNjcmlwdGlvbl1cclxuICogQHBhcmFtICB7W3R5cGVdfSB2YWx1ZSAgICAgIFtkZXNjcmlwdGlvbl1cclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbk1hbmFnZWRPYmplY3QucHJvdG90eXBlLiRzb3J0ID0gZnVuY3Rpb24oZXhwcmVzc2lvbix2YWx1ZSl7XHJcbiAgICAvLyA+IOWkp+S6jiB0cnVlXHJcbiAgICAvLyA8IOWwj+S6jiBmYWxzZVxyXG4gICAgdmFyIGRhdGEgPSB0aGlzLiRnZXQoZXhwcmVzc2lvbik7XHJcbiAgICBiYXNlTW9kZWxTb3J0Lmxlbmd0aCA9IDA7XHJcbiAgICBpZiAoVG9vbHMuaXNBcnJheShkYXRhKSkge1xyXG4gICAgICAgIHN3aXRjaChUb29scy50b1R5cGUodmFsdWUpKXtcclxuICAgICAgICAgICAgY2FzZSAnW29iamVjdCBGdW5jdGlvbl0nOlxyXG4gICAgICAgICAgICAgICAgYmFzZU1vZGVsU29ydCA9IHRoaXMuX3NvcnQoZGF0YSx2YWx1ZSlcclxuICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhdHRyTm9kZXMgPSB2YWx1ZS5zcGxpdCgnLicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsb2dpYyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxoID0gYXR0ck5vZGVzLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoKGF0dHJOb2Rlc1tsaF0pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICc+JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2ljID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJzwnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9naWMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmFzZU1vZGVsU29ydDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobG9naWMgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NvcnQoZGF0YSxmdW5jdGlvbih2YWwxLHZhbDIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGUgPSBhdHRyTm9kZXNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZShub2RlKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwxID0gdmFsMVtub2RlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwyID0gdmFsMltub2RlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpKytcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gbGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gYXR0ck5vZGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvZ2ljKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbDEgPiB2YWwyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbDEgPCB2YWwyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gYmFzZU1vZGVsU29ydDtcclxufTtcclxuXHJcbk1hbmFnZWRPYmplY3QucHJvdG90eXBlLl9zb3J0ID0gZnVuY3Rpb24oZGF0YSxmdW4pe1xyXG4gICAgdmFyIG4gPSBkYXRhLmxlbmd0aDtcclxuICAgIGlmIChuIDwgMikge1xyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfTtcclxuICAgIHZhciBpID0gMDtcclxuICAgIHZhciBqID0gaSsxO1xyXG4gICAgdmFyIGxvZ2ljLHRlbXAsa2V5O1xyXG4gICAgZm9yKDtpPGo7aSsrKXtcclxuICAgICAgICBmb3IoaiA9IGkrMTtqPG47aisrKXtcclxuICAgICAgICAgICAgbG9naWMgPSBmdW4uY2FsbCh0aGlzLGRhdGFbaV0sZGF0YVtqXSk7XHJcbiAgICAgICAgICAgIGtleSA9ICh0eXBlb2YgbG9naWMgPT09ICdudW1iZXInID8gbG9naWMgOiAhIWxvZ2ljID8gMSA6IDApID4gMCA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKGtleSkge1xyXG4gICAgICAgICAgICAgICAgdGVtcCA9IGRhdGFbaV07XHJcbiAgICAgICAgICAgICAgICBkYXRhW2ldID0gZGF0YVtqXTtcclxuICAgICAgICAgICAgICAgIGRhdGFbal0gPSB0ZW1wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRhdGE7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IE1hbmFnZWRPYmplY3Q7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+Ly5ucG1pbnN0YWxsL2Jhc2UtZXh0ZW5kLWJhY2tib25lLzAuMS40L2Jhc2UtZXh0ZW5kLWJhY2tib25lL3NyYy9lbnRpdHkvTWFuYWdlZE9iamVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDM5XG4gKiogbW9kdWxlIGNodW5rcyA9IDEgMiAzIDQgNSA2IDcgOCA5IDEwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval("var url = __webpack_require__(41);\r\nvar sheet = __webpack_require__(42);\r\nvar isNativeFunction = __webpack_require__(43);\r\nvar cookie = __webpack_require__(44);\r\nvar AjaxForm = __webpack_require__(45);\r\nvar UploadFile = __webpack_require__(47);\r\n\r\nmodule.exports = {\r\n  'url':url,\r\n  'sheet':sheet,\r\n  'isNativeFunction':isNativeFunction,\r\n  'cookie':cookie,\r\n  'AjaxForm':AjaxForm,\r\n  'UploadFile':UploadFile\r\n}\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+Ly5ucG1pbnN0YWxsL2F1eGlsaWFyeS1hZGRpdGlvbnMvMC4wLjMvYXV4aWxpYXJ5LWFkZGl0aW9ucy9zcmMvaW5kZXguanM/YjE3MSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiI0MC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciB1cmwgPSByZXF1aXJlKCcuL3V0aWwvdXJsJyk7XHJcbnZhciBzaGVldCA9IHJlcXVpcmUoJy4vdXRpbC9zaGVldCcpO1xyXG52YXIgaXNOYXRpdmVGdW5jdGlvbiA9IHJlcXVpcmUoJy4vdXRpbC9pc05hdGl2ZUZ1bmN0aW9uJyk7XHJcbnZhciBjb29raWUgPSByZXF1aXJlKCcuL3N0b3JlL2Nvb2tpZScpO1xyXG52YXIgQWpheEZvcm0gPSByZXF1aXJlKCcuL3VwbG9hZC9BamF4Rm9ybScpO1xyXG52YXIgVXBsb2FkRmlsZSA9IHJlcXVpcmUoJy4vdXBsb2FkL1VwbG9hZEZpbGUnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICd1cmwnOnVybCxcclxuICAnc2hlZXQnOnNoZWV0LFxyXG4gICdpc05hdGl2ZUZ1bmN0aW9uJzppc05hdGl2ZUZ1bmN0aW9uLFxyXG4gICdjb29raWUnOmNvb2tpZSxcclxuICAnQWpheEZvcm0nOkFqYXhGb3JtLFxyXG4gICdVcGxvYWRGaWxlJzpVcGxvYWRGaWxlXHJcbn1cclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vLm5wbWluc3RhbGwvYXV4aWxpYXJ5LWFkZGl0aW9ucy8wLjAuMy9hdXhpbGlhcnktYWRkaXRpb25zL3NyYy9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDQwXG4gKiogbW9kdWxlIGNodW5rcyA9IDEgMiAzIDQgNSA2IDcgOCA5IDEwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports){eval("/**\r\n * @time 2012年10月26日\r\n * @author icepy\r\n * @info 完成处理URL字符串\r\n *\r\n */\r\n\r\n'use strict';\r\nvar urlString = [];\r\nvar location = window.location;\r\n\r\nmodule.exports = {\r\n\t/**\r\n\t * [parse 处理一个字符串URL]\r\n\t * @param  {[String]} url [传入一个字符串url]\r\n\t * @return {[Object]}     [返回一个object对象]\r\n\t */\r\n\tparse: function(url) {\r\n\t\tvar temp = document.createElement('a');\r\n\t\ttemp.href = url;\r\n\t\tvar result = {\r\n\t\t\t\"port\": temp.port,\r\n\t\t\t\"protocol\": temp.protocol.replace(':', ''),\r\n\t\t\t\"hash\": temp.hash.replace('#', ''),\r\n\t\t\t\"host\": temp.host,\r\n\t\t\t\"href\": temp.href,\r\n\t\t\t\"hostname\": temp.hostname,\r\n\t\t\t\"pathname\": temp.pathname,\r\n\t\t\t\"search\": temp.search,\r\n\t\t\t\"query\": {}\r\n\t\t};\r\n\t\tvar seg = result.search.replace(/^\\?/, '').split('&'),\r\n\t\t\tleng = seg.length,\r\n\t\t\ti = 0,\r\n\t\t\ttarget;\r\n\t\tfor (; i < leng; i++) {\r\n\t\t\tif (!seg[i]) continue;\r\n\t\t\ttarget = seg[i].split('=');\r\n\t\t\tresult.query[target[0]] = target[1];\r\n\t\t}\r\n\t\ttemp = null;\r\n\t\treturn result;\r\n\t},\r\n\t/**\r\n\t * [format 拼接一个完整的url字符串]\r\n\t * @param  {[String]} url [URL]\r\n\t * @param  {[Object]} obj [需要拼接的query或者hash参数]\r\n\t * @return {[String]}     [返回一个完整的URL字符串]\r\n\t */\r\n\tformat: function(url, obj) {\r\n\t\tvar i = 0,\r\n\t\t\tquery = obj.query,\r\n\t\t\thash = obj.hash;\r\n\t\turlString.length = 0;\r\n\t\turlString.push(url.lastIndexOf('?') > -1 ? url : url + '?');\r\n\t\tif (query) {\r\n\t\t\tfor (var key in query) {\r\n\t\t\t\tvar val = query[key]\r\n\t\t\t\tif (!i) {\r\n\t\t\t\t\ti++;\r\n\t\t\t\t\turlString.push(key + '=' + val)\r\n\t\t\t\t} else {\r\n\t\t\t\t\turlString.push('&' + key + '=' + val);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tif (hash) {\r\n\t\t\turlString.push(hash.indexOf('#') > -1 ? hash : '#' + hash);\r\n\t\t};\r\n\t\treturn urlString.join('');\r\n\t},\r\n\t/**\r\n\t * [resolve 将参数 to 位置的字符解析到一个绝对路径里]\r\n\t * @param  {[String]} from [源路径]\r\n\t * @param  {[String]} to   [将被解析到绝对路径的字符串]\r\n\t * @return {[String]}      [返回一个绝对路径字符串]\r\n\t */\r\n\tresolve: function(from, to) {\r\n\t\t/**\r\n\t\t *  路径描述 ./当前路径 ../父路径\r\n\t\t */\r\n\t\tif (/^(.\\/)/.test(to)) {\r\n\t\t\tto = to.replace(/^(.\\/)/, '/');\r\n\t\t};\r\n\r\n\t\tif (/^(..\\/)/.test(to)) {\r\n\t\t\tfrom = from.substr(0, from.lastIndexOf('/'));\r\n\t\t\tto = to.replace(/^(..\\/)/, '/');\r\n\t\t};\r\n\t\treturn from + to;\r\n\t},\r\n\t/**\r\n\t * [extname 返回指定文件名的扩展名称]\r\n\t * @param  {[String]} p [description]\r\n\t * @return {[String]}   [description]\r\n\t */\r\n\textname: function(p) {\r\n\t\tvar _p = p.split('.');\r\n\t\treturn _p[_p.length - 1] || '';\r\n\t},\r\n\t/**\r\n\t * [parseSearch 将search参数转换为obj]\r\n\t * @param  {[type]} query [description]\r\n\t * @return {[type]}       [description]\r\n\t */\r\n\tparseSearch:function(query){\r\n\t\tvar _query = {};\r\n\t\tvar seg = query.replace(/^\\?/, '').split('&'),\r\n\t\t\tleng = seg.length,\r\n\t\t\ti = 0,\r\n\t\t\tvalue,\r\n\t\t\ttarget;\r\n\t\tfor (; i < leng; i++) {\r\n\t\t\tif (!seg[i]) continue;\r\n\t\t\ttarget = seg[i].split('=');\r\n\t\t\tvalue = target[1];\r\n\t\t\tif ((/^\\[/.test(value) && /\\]$/.test(value)) || (/^{/.test(value) || /\\}$/.test(value))) {\r\n\t\t\t\tvalue = JSON.parse(value);\r\n\t\t\t};\r\n\t\t\t_query[target[0]] = value;\r\n\t\t}\r\n\t\treturn _query;\r\n\t}\r\n}\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+Ly5ucG1pbnN0YWxsL2F1eGlsaWFyeS1hZGRpdGlvbnMvMC4wLjMvYXV4aWxpYXJ5LWFkZGl0aW9ucy9zcmMvdXRpbC91cmwuanM/YWM3OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsU0FBUztBQUN0QixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLFVBQVU7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEIsYUFBYSxTQUFTO0FBQ3RCLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEIsYUFBYSxTQUFTO0FBQ3RCLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLGFBQWEsU0FBUztBQUN0QixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsVUFBVTtBQUNsQjtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsb0JBQW9CO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjQxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEB0aW1lIDIwMTLlubQxMOaciDI25pelXHJcbiAqIEBhdXRob3IgaWNlcHlcclxuICogQGluZm8g5a6M5oiQ5aSE55CGVVJM5a2X56ym5LiyXHJcbiAqXHJcbiAqL1xyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG52YXIgdXJsU3RyaW5nID0gW107XHJcbnZhciBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbjtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG5cdC8qKlxyXG5cdCAqIFtwYXJzZSDlpITnkIbkuIDkuKrlrZfnrKbkuLJVUkxdXHJcblx0ICogQHBhcmFtICB7W1N0cmluZ119IHVybCBb5Lyg5YWl5LiA5Liq5a2X56ym5LiydXJsXVxyXG5cdCAqIEByZXR1cm4ge1tPYmplY3RdfSAgICAgW+i/lOWbnuS4gOS4qm9iamVjdOWvueixoV1cclxuXHQgKi9cclxuXHRwYXJzZTogZnVuY3Rpb24odXJsKSB7XHJcblx0XHR2YXIgdGVtcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuXHRcdHRlbXAuaHJlZiA9IHVybDtcclxuXHRcdHZhciByZXN1bHQgPSB7XHJcblx0XHRcdFwicG9ydFwiOiB0ZW1wLnBvcnQsXHJcblx0XHRcdFwicHJvdG9jb2xcIjogdGVtcC5wcm90b2NvbC5yZXBsYWNlKCc6JywgJycpLFxyXG5cdFx0XHRcImhhc2hcIjogdGVtcC5oYXNoLnJlcGxhY2UoJyMnLCAnJyksXHJcblx0XHRcdFwiaG9zdFwiOiB0ZW1wLmhvc3QsXHJcblx0XHRcdFwiaHJlZlwiOiB0ZW1wLmhyZWYsXHJcblx0XHRcdFwiaG9zdG5hbWVcIjogdGVtcC5ob3N0bmFtZSxcclxuXHRcdFx0XCJwYXRobmFtZVwiOiB0ZW1wLnBhdGhuYW1lLFxyXG5cdFx0XHRcInNlYXJjaFwiOiB0ZW1wLnNlYXJjaCxcclxuXHRcdFx0XCJxdWVyeVwiOiB7fVxyXG5cdFx0fTtcclxuXHRcdHZhciBzZWcgPSByZXN1bHQuc2VhcmNoLnJlcGxhY2UoL15cXD8vLCAnJykuc3BsaXQoJyYnKSxcclxuXHRcdFx0bGVuZyA9IHNlZy5sZW5ndGgsXHJcblx0XHRcdGkgPSAwLFxyXG5cdFx0XHR0YXJnZXQ7XHJcblx0XHRmb3IgKDsgaSA8IGxlbmc7IGkrKykge1xyXG5cdFx0XHRpZiAoIXNlZ1tpXSkgY29udGludWU7XHJcblx0XHRcdHRhcmdldCA9IHNlZ1tpXS5zcGxpdCgnPScpO1xyXG5cdFx0XHRyZXN1bHQucXVlcnlbdGFyZ2V0WzBdXSA9IHRhcmdldFsxXTtcclxuXHRcdH1cclxuXHRcdHRlbXAgPSBudWxsO1xyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9LFxyXG5cdC8qKlxyXG5cdCAqIFtmb3JtYXQg5ou85o6l5LiA5Liq5a6M5pW055qEdXJs5a2X56ym5LiyXVxyXG5cdCAqIEBwYXJhbSAge1tTdHJpbmddfSB1cmwgW1VSTF1cclxuXHQgKiBAcGFyYW0gIHtbT2JqZWN0XX0gb2JqIFvpnIDopoHmi7zmjqXnmoRxdWVyeeaIluiAhWhhc2jlj4LmlbBdXHJcblx0ICogQHJldHVybiB7W1N0cmluZ119ICAgICBb6L+U5Zue5LiA5Liq5a6M5pW055qEVVJM5a2X56ym5LiyXVxyXG5cdCAqL1xyXG5cdGZvcm1hdDogZnVuY3Rpb24odXJsLCBvYmopIHtcclxuXHRcdHZhciBpID0gMCxcclxuXHRcdFx0cXVlcnkgPSBvYmoucXVlcnksXHJcblx0XHRcdGhhc2ggPSBvYmouaGFzaDtcclxuXHRcdHVybFN0cmluZy5sZW5ndGggPSAwO1xyXG5cdFx0dXJsU3RyaW5nLnB1c2godXJsLmxhc3RJbmRleE9mKCc/JykgPiAtMSA/IHVybCA6IHVybCArICc/Jyk7XHJcblx0XHRpZiAocXVlcnkpIHtcclxuXHRcdFx0Zm9yICh2YXIga2V5IGluIHF1ZXJ5KSB7XHJcblx0XHRcdFx0dmFyIHZhbCA9IHF1ZXJ5W2tleV1cclxuXHRcdFx0XHRpZiAoIWkpIHtcclxuXHRcdFx0XHRcdGkrKztcclxuXHRcdFx0XHRcdHVybFN0cmluZy5wdXNoKGtleSArICc9JyArIHZhbClcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0dXJsU3RyaW5nLnB1c2goJyYnICsga2V5ICsgJz0nICsgdmFsKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0XHRpZiAoaGFzaCkge1xyXG5cdFx0XHR1cmxTdHJpbmcucHVzaChoYXNoLmluZGV4T2YoJyMnKSA+IC0xID8gaGFzaCA6ICcjJyArIGhhc2gpO1xyXG5cdFx0fTtcclxuXHRcdHJldHVybiB1cmxTdHJpbmcuam9pbignJyk7XHJcblx0fSxcclxuXHQvKipcclxuXHQgKiBbcmVzb2x2ZSDlsIblj4LmlbAgdG8g5L2N572u55qE5a2X56ym6Kej5p6Q5Yiw5LiA5Liq57ud5a+56Lev5b6E6YeMXVxyXG5cdCAqIEBwYXJhbSAge1tTdHJpbmddfSBmcm9tIFvmupDot6/lvoRdXHJcblx0ICogQHBhcmFtICB7W1N0cmluZ119IHRvICAgW+Wwhuiiq+ino+aekOWIsOe7neWvuei3r+W+hOeahOWtl+espuS4sl1cclxuXHQgKiBAcmV0dXJuIHtbU3RyaW5nXX0gICAgICBb6L+U5Zue5LiA5Liq57ud5a+56Lev5b6E5a2X56ym5LiyXVxyXG5cdCAqL1xyXG5cdHJlc29sdmU6IGZ1bmN0aW9uKGZyb20sIHRvKSB7XHJcblx0XHQvKipcclxuXHRcdCAqICDot6/lvoTmj4/ov7AgLi/lvZPliY3ot6/lvoQgLi4v54i26Lev5b6EXHJcblx0XHQgKi9cclxuXHRcdGlmICgvXiguXFwvKS8udGVzdCh0bykpIHtcclxuXHRcdFx0dG8gPSB0by5yZXBsYWNlKC9eKC5cXC8pLywgJy8nKTtcclxuXHRcdH07XHJcblxyXG5cdFx0aWYgKC9eKC4uXFwvKS8udGVzdCh0bykpIHtcclxuXHRcdFx0ZnJvbSA9IGZyb20uc3Vic3RyKDAsIGZyb20ubGFzdEluZGV4T2YoJy8nKSk7XHJcblx0XHRcdHRvID0gdG8ucmVwbGFjZSgvXiguLlxcLykvLCAnLycpO1xyXG5cdFx0fTtcclxuXHRcdHJldHVybiBmcm9tICsgdG87XHJcblx0fSxcclxuXHQvKipcclxuXHQgKiBbZXh0bmFtZSDov5Tlm57mjIflrprmlofku7blkI3nmoTmianlsZXlkI3np7BdXHJcblx0ICogQHBhcmFtICB7W1N0cmluZ119IHAgW2Rlc2NyaXB0aW9uXVxyXG5cdCAqIEByZXR1cm4ge1tTdHJpbmddfSAgIFtkZXNjcmlwdGlvbl1cclxuXHQgKi9cclxuXHRleHRuYW1lOiBmdW5jdGlvbihwKSB7XHJcblx0XHR2YXIgX3AgPSBwLnNwbGl0KCcuJyk7XHJcblx0XHRyZXR1cm4gX3BbX3AubGVuZ3RoIC0gMV0gfHwgJyc7XHJcblx0fSxcclxuXHQvKipcclxuXHQgKiBbcGFyc2VTZWFyY2gg5bCGc2VhcmNo5Y+C5pWw6L2s5o2i5Li6b2JqXVxyXG5cdCAqIEBwYXJhbSAge1t0eXBlXX0gcXVlcnkgW2Rlc2NyaXB0aW9uXVxyXG5cdCAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgW2Rlc2NyaXB0aW9uXVxyXG5cdCAqL1xyXG5cdHBhcnNlU2VhcmNoOmZ1bmN0aW9uKHF1ZXJ5KXtcclxuXHRcdHZhciBfcXVlcnkgPSB7fTtcclxuXHRcdHZhciBzZWcgPSBxdWVyeS5yZXBsYWNlKC9eXFw/LywgJycpLnNwbGl0KCcmJyksXHJcblx0XHRcdGxlbmcgPSBzZWcubGVuZ3RoLFxyXG5cdFx0XHRpID0gMCxcclxuXHRcdFx0dmFsdWUsXHJcblx0XHRcdHRhcmdldDtcclxuXHRcdGZvciAoOyBpIDwgbGVuZzsgaSsrKSB7XHJcblx0XHRcdGlmICghc2VnW2ldKSBjb250aW51ZTtcclxuXHRcdFx0dGFyZ2V0ID0gc2VnW2ldLnNwbGl0KCc9Jyk7XHJcblx0XHRcdHZhbHVlID0gdGFyZ2V0WzFdO1xyXG5cdFx0XHRpZiAoKC9eXFxbLy50ZXN0KHZhbHVlKSAmJiAvXFxdJC8udGVzdCh2YWx1ZSkpIHx8ICgvXnsvLnRlc3QodmFsdWUpIHx8IC9cXH0kLy50ZXN0KHZhbHVlKSkpIHtcclxuXHRcdFx0XHR2YWx1ZSA9IEpTT04ucGFyc2UodmFsdWUpO1xyXG5cdFx0XHR9O1xyXG5cdFx0XHRfcXVlcnlbdGFyZ2V0WzBdXSA9IHZhbHVlO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIF9xdWVyeTtcclxuXHR9XHJcbn1cclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vLm5wbWluc3RhbGwvYXV4aWxpYXJ5LWFkZGl0aW9ucy8wLjAuMy9hdXhpbGlhcnktYWRkaXRpb25zL3NyYy91dGlsL3VybC5qc1xuICoqIG1vZHVsZSBpZCA9IDQxXG4gKiogbW9kdWxlIGNodW5rcyA9IDEgMiAzIDQgNSA2IDcgOCA5IDEwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");
},function(module,exports){eval("/**\r\n * @time 2012年9月26日\r\n * @author icepy\r\n * @info 新建一个style.sheet对象，来标注新的css规则等\r\n */\r\n\r\n'use strict';\r\n\r\nmodule.exports = sheet();\r\n\r\nfunction sheet() {\r\n  // 使用style.sheet.insertRule()\r\n  var style = document.createElement('style');\r\n  style.appendChild(document.createTextNode(''));\r\n  document.head.appendChild(style);\r\n  return style.sheet;\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+Ly5ucG1pbnN0YWxsL2F1eGlsaWFyeS1hZGRpdGlvbnMvMC4wLjMvYXV4aWxpYXJ5LWFkZGl0aW9ucy9zcmMvdXRpbC9zaGVldC5qcz82MDRiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiNDIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQHRpbWUgMjAxMuW5tDnmnIgyNuaXpVxyXG4gKiBAYXV0aG9yIGljZXB5XHJcbiAqIEBpbmZvIOaWsOW7uuS4gOS4qnN0eWxlLnNoZWV05a+56LGh77yM5p2l5qCH5rOo5paw55qEY3Nz6KeE5YiZ562JXHJcbiAqL1xyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBzaGVldCgpO1xyXG5cclxuZnVuY3Rpb24gc2hlZXQoKSB7XHJcbiAgLy8g5L2/55Soc3R5bGUuc2hlZXQuaW5zZXJ0UnVsZSgpXHJcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcclxuICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJykpO1xyXG4gIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xyXG4gIHJldHVybiBzdHlsZS5zaGVldDtcclxufTtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vLm5wbWluc3RhbGwvYXV4aWxpYXJ5LWFkZGl0aW9ucy8wLjAuMy9hdXhpbGlhcnktYWRkaXRpb25zL3NyYy91dGlsL3NoZWV0LmpzXG4gKiogbW9kdWxlIGlkID0gNDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMSAyIDMgNCA1IDYgNyA4IDkgMTBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports){eval("/**\r\n * @time 2012年9月27日\r\n * @author icepy\r\n * @info 判断是否是原生函数\r\n */\r\n\r\n'use strict';\r\n\r\nmodule.exports = isNativeFunction;\r\n\r\nvar toString = Object.prototype.toString;\r\nvar funToString = Function.prototype.toString;\r\nvar reConstructor= /^\\[object .+?Constructor\\]$/;\r\nvar reNative = RegExp('^' +\r\n  String(toString)\r\n  .replace(/[.*+?^${}()|[\\]\\/\\\\]/g, '\\\\$&')\r\n  .replace(/toString|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\r\n);\r\n/**\r\n * [判断一个值或者对象是否为原生函数或对象]\r\n * @param  {[type]} value [description]\r\n * @return {[type]}       [description]\r\n */\r\nfunction isNativeFunction(value) {\r\n  var type = typeof value;\r\n  return type === 'function' ? reNative.test(funToString.call(value)) : (value && type === 'object' && reConstructor.test(toString.call(value))) || false;\r\n}\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+Ly5ucG1pbnN0YWxsL2F1eGlsaWFyeS1hZGRpdGlvbnMvMC4wLjMvYXV4aWxpYXJ5LWFkZGl0aW9ucy9zcmMvdXRpbC9pc05hdGl2ZUZ1bmN0aW9uLmpzP2JkZTIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CLFlBQVksT0FBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjQzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEB0aW1lIDIwMTLlubQ55pyIMjfml6VcclxuICogQGF1dGhvciBpY2VweVxyXG4gKiBAaW5mbyDliKTmlq3mmK/lkKbmmK/ljp/nlJ/lh73mlbBcclxuICovXHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGlzTmF0aXZlRnVuY3Rpb247XHJcblxyXG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xyXG52YXIgZnVuVG9TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7XHJcbnZhciByZUNvbnN0cnVjdG9yPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xyXG52YXIgcmVOYXRpdmUgPSBSZWdFeHAoJ14nICtcclxuICBTdHJpbmcodG9TdHJpbmcpXHJcbiAgLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXF1cXC9cXFxcXS9nLCAnXFxcXCQmJylcclxuICAucmVwbGFjZSgvdG9TdHJpbmd8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcclxuKTtcclxuLyoqXHJcbiAqIFvliKTmlq3kuIDkuKrlgLzmiJbogIXlr7nosaHmmK/lkKbkuLrljp/nlJ/lh73mlbDmiJblr7nosaFdXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gdmFsdWUgW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbmZ1bmN0aW9uIGlzTmF0aXZlRnVuY3Rpb24odmFsdWUpIHtcclxuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcclxuICByZXR1cm4gdHlwZSA9PT0gJ2Z1bmN0aW9uJyA/IHJlTmF0aXZlLnRlc3QoZnVuVG9TdHJpbmcuY2FsbCh2YWx1ZSkpIDogKHZhbHVlICYmIHR5cGUgPT09ICdvYmplY3QnICYmIHJlQ29uc3RydWN0b3IudGVzdCh0b1N0cmluZy5jYWxsKHZhbHVlKSkpIHx8IGZhbHNlO1xyXG59XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+Ly5ucG1pbnN0YWxsL2F1eGlsaWFyeS1hZGRpdGlvbnMvMC4wLjMvYXV4aWxpYXJ5LWFkZGl0aW9ucy9zcmMvdXRpbC9pc05hdGl2ZUZ1bmN0aW9uLmpzXG4gKiogbW9kdWxlIGlkID0gNDNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMSAyIDMgNCA1IDYgNyA4IDkgMTBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports){eval("/*\r\n    引用`https://github.com/js-cookie/js-cookie` 2.1.0\r\n */\r\n\r\n'use strict';\r\n\r\nmodule.exports = init(function () {});\r\n\r\nfunction extend () {\r\n  var i = 0;\r\n  var result = {};\r\n  for (; i < arguments.length; i++) {\r\n    var attributes = arguments[ i ];\r\n    for (var key in attributes) {\r\n      result[key] = attributes[key];\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nfunction init (converter) {\r\n  function api (key, value, attributes) {\r\n    var result;\r\n\r\n    // Write\r\n\r\n    if (arguments.length > 1) {\r\n      attributes = extend({\r\n        path: '/'\r\n      }, api.defaults, attributes);\r\n\r\n      if (typeof attributes.expires === 'number') {\r\n        var expires = new Date();\r\n        expires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\r\n        attributes.expires = expires;\r\n      }\r\n\r\n      try {\r\n        result = JSON.stringify(value);\r\n        if (/^[\\{\\[]/.test(result)) {\r\n          value = result;\r\n        }\r\n      } catch (e) {}\r\n\r\n      if (!converter.write) {\r\n        value = encodeURIComponent(String(value))\r\n          .replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\r\n      } else {\r\n        value = converter.write(value, key);\r\n      }\r\n\r\n      key = encodeURIComponent(String(key));\r\n      key = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\r\n      key = key.replace(/[\\(\\)]/g, escape);\r\n\r\n      return (document.cookie = [\r\n        key, '=', value,\r\n        attributes.expires && '; expires=' + attributes.expires.toUTCString(), // use expires attribute, max-age is not supported by IE\r\n        attributes.path    && '; path=' + attributes.path,\r\n        attributes.domain  && '; domain=' + attributes.domain,\r\n        attributes.secure ? '; secure' : ''\r\n      ].join(''));\r\n    }\r\n\r\n    // Read\r\n\r\n    if (!key) {\r\n      result = {};\r\n    }\r\n\r\n    // To prevent the for loop in the first place assign an empty array\r\n    // in case there are no cookies at all. Also prevents odd result when\r\n    // calling \"get()\"\r\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\r\n    var rdecode = /(%[0-9A-Z]{2})+/g;\r\n    var i = 0;\r\n\r\n    for (; i < cookies.length; i++) {\r\n      var parts = cookies[i].split('=');\r\n      var name = parts[0].replace(rdecode, decodeURIComponent);\r\n      var cookie = parts.slice(1).join('=');\r\n\r\n      if (cookie.charAt(0) === '\"') {\r\n        cookie = cookie.slice(1, -1);\r\n      }\r\n\r\n      try {\r\n        cookie = converter.read ?\r\n          converter.read(cookie, name) : converter(cookie, name) ||\r\n          cookie.replace(rdecode, decodeURIComponent);\r\n\r\n        if (this.json) {\r\n          try {\r\n            cookie = JSON.parse(cookie);\r\n          } catch (e) {}\r\n        }\r\n\r\n        if (key === name) {\r\n          result = cookie;\r\n          break;\r\n        }\r\n\r\n        if (!key) {\r\n          result[name] = cookie;\r\n        }\r\n      } catch (e) {}\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  api.get = api.set = api;\r\n  api.getJSON = function () {\r\n    return api.apply({\r\n      json: true\r\n    }, [].slice.call(arguments));\r\n  };\r\n  api.defaults = {};\r\n\r\n  api.remove = function (key, attributes) {\r\n    api(key, '', extend(attributes, {\r\n      expires: -1\r\n    }));\r\n  };\r\n\r\n  api.withConverter = init;\r\n\r\n  return api;\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+Ly5ucG1pbnN0YWxsL2F1eGlsaWFyeS1hZGRpdGlvbnMvMC4wLjMvYXV4aWxpYXJ5LWFkZGl0aW9ucy9zcmMvc3RvcmUvY29va2llLmpzPzhkMzkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLG9DQUFvQzs7QUFFcEM7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzQkFBc0I7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDLGdDQUFnQztBQUNoQyxnQ0FBZ0M7QUFDaEMsOEJBQThCO0FBQzlCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RDtBQUM1RCw4QkFBOEIsRUFBRTtBQUNoQzs7QUFFQSxVQUFVLG9CQUFvQjtBQUM5QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBIiwiZmlsZSI6IjQ0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxuICAgIOW8leeUqGBodHRwczovL2dpdGh1Yi5jb20vanMtY29va2llL2pzLWNvb2tpZWAgMi4xLjBcclxuICovXHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGluaXQoZnVuY3Rpb24gKCkge30pO1xyXG5cclxuZnVuY3Rpb24gZXh0ZW5kICgpIHtcclxuICB2YXIgaSA9IDA7XHJcbiAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gIGZvciAoOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICB2YXIgYXR0cmlidXRlcyA9IGFyZ3VtZW50c1sgaSBdO1xyXG4gICAgZm9yICh2YXIga2V5IGluIGF0dHJpYnV0ZXMpIHtcclxuICAgICAgcmVzdWx0W2tleV0gPSBhdHRyaWJ1dGVzW2tleV07XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXQgKGNvbnZlcnRlcikge1xyXG4gIGZ1bmN0aW9uIGFwaSAoa2V5LCB2YWx1ZSwgYXR0cmlidXRlcykge1xyXG4gICAgdmFyIHJlc3VsdDtcclxuXHJcbiAgICAvLyBXcml0ZVxyXG5cclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xyXG4gICAgICBhdHRyaWJ1dGVzID0gZXh0ZW5kKHtcclxuICAgICAgICBwYXRoOiAnLydcclxuICAgICAgfSwgYXBpLmRlZmF1bHRzLCBhdHRyaWJ1dGVzKTtcclxuXHJcbiAgICAgIGlmICh0eXBlb2YgYXR0cmlidXRlcy5leHBpcmVzID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgIHZhciBleHBpcmVzID0gbmV3IERhdGUoKTtcclxuICAgICAgICBleHBpcmVzLnNldE1pbGxpc2Vjb25kcyhleHBpcmVzLmdldE1pbGxpc2Vjb25kcygpICsgYXR0cmlidXRlcy5leHBpcmVzICogODY0ZSs1KTtcclxuICAgICAgICBhdHRyaWJ1dGVzLmV4cGlyZXMgPSBleHBpcmVzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHJlc3VsdCA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcclxuICAgICAgICBpZiAoL15bXFx7XFxbXS8udGVzdChyZXN1bHQpKSB7XHJcbiAgICAgICAgICB2YWx1ZSA9IHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XHJcblxyXG4gICAgICBpZiAoIWNvbnZlcnRlci53cml0ZSkge1xyXG4gICAgICAgIHZhbHVlID0gZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyh2YWx1ZSkpXHJcbiAgICAgICAgICAucmVwbGFjZSgvJSgyM3wyNHwyNnwyQnwzQXwzQ3wzRXwzRHwyRnwzRnw0MHw1Qnw1RHw1RXw2MHw3Qnw3RHw3QykvZywgZGVjb2RlVVJJQ29tcG9uZW50KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB2YWx1ZSA9IGNvbnZlcnRlci53cml0ZSh2YWx1ZSwga2V5KTtcclxuICAgICAgfVxyXG5cclxuICAgICAga2V5ID0gZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhrZXkpKTtcclxuICAgICAga2V5ID0ga2V5LnJlcGxhY2UoLyUoMjN8MjR8MjZ8MkJ8NUV8NjB8N0MpL2csIGRlY29kZVVSSUNvbXBvbmVudCk7XHJcbiAgICAgIGtleSA9IGtleS5yZXBsYWNlKC9bXFwoXFwpXS9nLCBlc2NhcGUpO1xyXG5cclxuICAgICAgcmV0dXJuIChkb2N1bWVudC5jb29raWUgPSBbXHJcbiAgICAgICAga2V5LCAnPScsIHZhbHVlLFxyXG4gICAgICAgIGF0dHJpYnV0ZXMuZXhwaXJlcyAmJiAnOyBleHBpcmVzPScgKyBhdHRyaWJ1dGVzLmV4cGlyZXMudG9VVENTdHJpbmcoKSwgLy8gdXNlIGV4cGlyZXMgYXR0cmlidXRlLCBtYXgtYWdlIGlzIG5vdCBzdXBwb3J0ZWQgYnkgSUVcclxuICAgICAgICBhdHRyaWJ1dGVzLnBhdGggICAgJiYgJzsgcGF0aD0nICsgYXR0cmlidXRlcy5wYXRoLFxyXG4gICAgICAgIGF0dHJpYnV0ZXMuZG9tYWluICAmJiAnOyBkb21haW49JyArIGF0dHJpYnV0ZXMuZG9tYWluLFxyXG4gICAgICAgIGF0dHJpYnV0ZXMuc2VjdXJlID8gJzsgc2VjdXJlJyA6ICcnXHJcbiAgICAgIF0uam9pbignJykpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlYWRcclxuXHJcbiAgICBpZiAoIWtleSkge1xyXG4gICAgICByZXN1bHQgPSB7fTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUbyBwcmV2ZW50IHRoZSBmb3IgbG9vcCBpbiB0aGUgZmlyc3QgcGxhY2UgYXNzaWduIGFuIGVtcHR5IGFycmF5XHJcbiAgICAvLyBpbiBjYXNlIHRoZXJlIGFyZSBubyBjb29raWVzIGF0IGFsbC4gQWxzbyBwcmV2ZW50cyBvZGQgcmVzdWx0IHdoZW5cclxuICAgIC8vIGNhbGxpbmcgXCJnZXQoKVwiXHJcbiAgICB2YXIgY29va2llcyA9IGRvY3VtZW50LmNvb2tpZSA/IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOyAnKSA6IFtdO1xyXG4gICAgdmFyIHJkZWNvZGUgPSAvKCVbMC05QS1aXXsyfSkrL2c7XHJcbiAgICB2YXIgaSA9IDA7XHJcblxyXG4gICAgZm9yICg7IGkgPCBjb29raWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHZhciBwYXJ0cyA9IGNvb2tpZXNbaV0uc3BsaXQoJz0nKTtcclxuICAgICAgdmFyIG5hbWUgPSBwYXJ0c1swXS5yZXBsYWNlKHJkZWNvZGUsIGRlY29kZVVSSUNvbXBvbmVudCk7XHJcbiAgICAgIHZhciBjb29raWUgPSBwYXJ0cy5zbGljZSgxKS5qb2luKCc9Jyk7XHJcblxyXG4gICAgICBpZiAoY29va2llLmNoYXJBdCgwKSA9PT0gJ1wiJykge1xyXG4gICAgICAgIGNvb2tpZSA9IGNvb2tpZS5zbGljZSgxLCAtMSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29va2llID0gY29udmVydGVyLnJlYWQgP1xyXG4gICAgICAgICAgY29udmVydGVyLnJlYWQoY29va2llLCBuYW1lKSA6IGNvbnZlcnRlcihjb29raWUsIG5hbWUpIHx8XHJcbiAgICAgICAgICBjb29raWUucmVwbGFjZShyZGVjb2RlLCBkZWNvZGVVUklDb21wb25lbnQpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5qc29uKSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb29raWUgPSBKU09OLnBhcnNlKGNvb2tpZSk7XHJcbiAgICAgICAgICB9IGNhdGNoIChlKSB7fVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGtleSA9PT0gbmFtZSkge1xyXG4gICAgICAgICAgcmVzdWx0ID0gY29va2llO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWtleSkge1xyXG4gICAgICAgICAgcmVzdWx0W25hbWVdID0gY29va2llO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZSkge31cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxuXHJcbiAgYXBpLmdldCA9IGFwaS5zZXQgPSBhcGk7XHJcbiAgYXBpLmdldEpTT04gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gYXBpLmFwcGx5KHtcclxuICAgICAganNvbjogdHJ1ZVxyXG4gICAgfSwgW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcclxuICB9O1xyXG4gIGFwaS5kZWZhdWx0cyA9IHt9O1xyXG5cclxuICBhcGkucmVtb3ZlID0gZnVuY3Rpb24gKGtleSwgYXR0cmlidXRlcykge1xyXG4gICAgYXBpKGtleSwgJycsIGV4dGVuZChhdHRyaWJ1dGVzLCB7XHJcbiAgICAgIGV4cGlyZXM6IC0xXHJcbiAgICB9KSk7XHJcbiAgfTtcclxuXHJcbiAgYXBpLndpdGhDb252ZXJ0ZXIgPSBpbml0O1xyXG5cclxuICByZXR1cm4gYXBpO1xyXG59O1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi8ubnBtaW5zdGFsbC9hdXhpbGlhcnktYWRkaXRpb25zLzAuMC4zL2F1eGlsaWFyeS1hZGRpdGlvbnMvc3JjL3N0b3JlL2Nvb2tpZS5qc1xuICoqIG1vZHVsZSBpZCA9IDQ0XG4gKiogbW9kdWxlIGNodW5rcyA9IDEgMiAzIDQgNSA2IDcgOCA5IDEwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval("/**\r\n * @time 2016年3月3日\r\n * @author  icepy\r\n * @info  跨域模拟Ajax的Form表单\r\n */\r\n\r\n'use strict';\r\n\r\nvar url = __webpack_require__(41);\r\nvar uniqueId = __webpack_require__(46);\r\n\r\nvar AjaxForm = function(options){\r\n\toptions = options || {};\r\n\tthis.$el = typeof options.el === 'string' ? $(options.el) : options.el;\r\n\tthis.uid = uniqueId('AjaxForm-');\r\n\tthis.loadState = false;\r\n\tthis._init();\r\n};\r\n\r\nAjaxForm.prototype._init = function(){\r\n\tvar defer = $.Deferred();\r\n\t$.extend(this,defer.promise());\r\n\tthis._createIframe();\r\n\tthis._addEvent(defer);\r\n};\r\n\r\nAjaxForm.prototype._createIframe = function(){\r\n\tvar iframeHTML = '<iframe id=\"'+this.uid+'\" name=\"'+this.uid+'\"  style=\"display: none;\" src=\"about:blank\"></iframe>';\r\n\tthis.$el.attr('target',this.uid);\r\n\tthis.$el.append(iframeHTML);\r\n\tthis._iframe = $('#'+this.uid);\r\n};\r\n\r\nAjaxForm.prototype._addEvent = function(promise){\r\n\tvar self = this;\r\n\tthis._iframe.on('load',function(){\r\n\t\tif (self.loadState) {\r\n\t\t\tvar cw = this.contentWindow;\r\n\t\t\tvar loc = cw.location;\r\n\t\t\tif (loc.href === 'about:blank') {\r\n\t\t\t\tpromise.reject(cw);\r\n\t\t\t}else{\r\n\t\t\t\ttry {//如果后台没有作跨域处理，则需手动触发onComplete\r\n\t\t\t\t\tvar body = this._iframe[0].contentWindow.document.body;\r\n\t\t\t\t\tinnerText = body.innerText;\r\n\t\t\t\t\tif (!innerText) {\r\n\t\t\t\t\t\tinnerText = body.innerHTML;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tif (innerText) {\r\n\t\t\t\t\t\tpromise.resolve($.parseJSON(innerText));\r\n\t\t\t\t\t};\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tpromise.resolve(cw);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tself.loadState = false;\r\n\t\t};\r\n\t});\r\n};\r\n\r\nAjaxForm.prototype.encrypto = function(secret){\r\n\tvar self = this;\r\n\t$.each(secret, function(key, value) {\r\n\t\tvar $item = self.$el.find('[name=' + key + ']');\r\n\t\tif ($item.length === 0) {\r\n\t\t\t$('<input />').attr({\r\n\t\t\t\ttype : 'hidden',\r\n\t\t\t\tname : key,\r\n\t\t\t\tvalue : value\r\n\t\t\t}).appendTo(self.$el);\r\n\t\t} else {\r\n\t\t\t$item.val(value);\r\n\t\t}\r\n\t});\r\n};\r\n\r\nvar shared = null;\r\nAjaxForm.sharedInstanceAjaxForm = function(element,options){\r\n\tif (!shared) {\r\n\t\toptions = options || {};\r\n\t\toptions.el = element;\r\n\t\tshared = new AjaxForm(options);\r\n\t}\r\n\treturn shared;\r\n};\r\nAjaxForm.classInstanceAjaxForm = function(element,options){\r\n\toptions = options || {};\r\n\toptions.el = element;\r\n\treturn new AjaxForm(options);\r\n};\r\n\r\nmodule.exports = AjaxForm;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+Ly5ucG1pbnN0YWxsL2F1eGlsaWFyeS1hZGRpdGlvbnMvMC4wLjMvYXV4aWxpYXJ5LWFkZGl0aW9ucy9zcmMvdXBsb2FkL0FqYXhGb3JtLmpzPzYwOTYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVGQUF1RjtBQUN2RjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSDtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiNDUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQHRpbWUgMjAxNuW5tDPmnIgz5pelXHJcbiAqIEBhdXRob3IgIGljZXB5XHJcbiAqIEBpbmZvICDot6jln5/mqKHmi59BamF455qERm9ybeihqOWNlVxyXG4gKi9cclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbnZhciB1cmwgPSByZXF1aXJlKCcuLi91dGlsL3VybCcpO1xyXG52YXIgdW5pcXVlSWQgPSByZXF1aXJlKCcuLi91dGlsL3VuaXF1ZUlkJyk7XHJcblxyXG52YXIgQWpheEZvcm0gPSBmdW5jdGlvbihvcHRpb25zKXtcclxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHR0aGlzLiRlbCA9IHR5cGVvZiBvcHRpb25zLmVsID09PSAnc3RyaW5nJyA/ICQob3B0aW9ucy5lbCkgOiBvcHRpb25zLmVsO1xyXG5cdHRoaXMudWlkID0gdW5pcXVlSWQoJ0FqYXhGb3JtLScpO1xyXG5cdHRoaXMubG9hZFN0YXRlID0gZmFsc2U7XHJcblx0dGhpcy5faW5pdCgpO1xyXG59O1xyXG5cclxuQWpheEZvcm0ucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24oKXtcclxuXHR2YXIgZGVmZXIgPSAkLkRlZmVycmVkKCk7XHJcblx0JC5leHRlbmQodGhpcyxkZWZlci5wcm9taXNlKCkpO1xyXG5cdHRoaXMuX2NyZWF0ZUlmcmFtZSgpO1xyXG5cdHRoaXMuX2FkZEV2ZW50KGRlZmVyKTtcclxufTtcclxuXHJcbkFqYXhGb3JtLnByb3RvdHlwZS5fY3JlYXRlSWZyYW1lID0gZnVuY3Rpb24oKXtcclxuXHR2YXIgaWZyYW1lSFRNTCA9ICc8aWZyYW1lIGlkPVwiJyt0aGlzLnVpZCsnXCIgbmFtZT1cIicrdGhpcy51aWQrJ1wiICBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCIgc3JjPVwiYWJvdXQ6YmxhbmtcIj48L2lmcmFtZT4nO1xyXG5cdHRoaXMuJGVsLmF0dHIoJ3RhcmdldCcsdGhpcy51aWQpO1xyXG5cdHRoaXMuJGVsLmFwcGVuZChpZnJhbWVIVE1MKTtcclxuXHR0aGlzLl9pZnJhbWUgPSAkKCcjJyt0aGlzLnVpZCk7XHJcbn07XHJcblxyXG5BamF4Rm9ybS5wcm90b3R5cGUuX2FkZEV2ZW50ID0gZnVuY3Rpb24ocHJvbWlzZSl7XHJcblx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdHRoaXMuX2lmcmFtZS5vbignbG9hZCcsZnVuY3Rpb24oKXtcclxuXHRcdGlmIChzZWxmLmxvYWRTdGF0ZSkge1xyXG5cdFx0XHR2YXIgY3cgPSB0aGlzLmNvbnRlbnRXaW5kb3c7XHJcblx0XHRcdHZhciBsb2MgPSBjdy5sb2NhdGlvbjtcclxuXHRcdFx0aWYgKGxvYy5ocmVmID09PSAnYWJvdXQ6YmxhbmsnKSB7XHJcblx0XHRcdFx0cHJvbWlzZS5yZWplY3QoY3cpO1xyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHR0cnkgey8v5aaC5p6c5ZCO5Y+w5rKh5pyJ5L2c6Leo5Z+f5aSE55CG77yM5YiZ6ZyA5omL5Yqo6Kem5Y+Rb25Db21wbGV0ZVxyXG5cdFx0XHRcdFx0dmFyIGJvZHkgPSB0aGlzLl9pZnJhbWVbMF0uY29udGVudFdpbmRvdy5kb2N1bWVudC5ib2R5O1xyXG5cdFx0XHRcdFx0aW5uZXJUZXh0ID0gYm9keS5pbm5lclRleHQ7XHJcblx0XHRcdFx0XHRpZiAoIWlubmVyVGV4dCkge1xyXG5cdFx0XHRcdFx0XHRpbm5lclRleHQgPSBib2R5LmlubmVySFRNTDtcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRpZiAoaW5uZXJUZXh0KSB7XHJcblx0XHRcdFx0XHRcdHByb21pc2UucmVzb2x2ZSgkLnBhcnNlSlNPTihpbm5lclRleHQpKTtcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdFx0cHJvbWlzZS5yZXNvbHZlKGN3KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblx0XHRcdHNlbGYubG9hZFN0YXRlID0gZmFsc2U7XHJcblx0XHR9O1xyXG5cdH0pO1xyXG59O1xyXG5cclxuQWpheEZvcm0ucHJvdG90eXBlLmVuY3J5cHRvID0gZnVuY3Rpb24oc2VjcmV0KXtcclxuXHR2YXIgc2VsZiA9IHRoaXM7XHJcblx0JC5lYWNoKHNlY3JldCwgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xyXG5cdFx0dmFyICRpdGVtID0gc2VsZi4kZWwuZmluZCgnW25hbWU9JyArIGtleSArICddJyk7XHJcblx0XHRpZiAoJGl0ZW0ubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdCQoJzxpbnB1dCAvPicpLmF0dHIoe1xyXG5cdFx0XHRcdHR5cGUgOiAnaGlkZGVuJyxcclxuXHRcdFx0XHRuYW1lIDoga2V5LFxyXG5cdFx0XHRcdHZhbHVlIDogdmFsdWVcclxuXHRcdFx0fSkuYXBwZW5kVG8oc2VsZi4kZWwpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0JGl0ZW0udmFsKHZhbHVlKTtcclxuXHRcdH1cclxuXHR9KTtcclxufTtcclxuXHJcbnZhciBzaGFyZWQgPSBudWxsO1xyXG5BamF4Rm9ybS5zaGFyZWRJbnN0YW5jZUFqYXhGb3JtID0gZnVuY3Rpb24oZWxlbWVudCxvcHRpb25zKXtcclxuXHRpZiAoIXNoYXJlZCkge1xyXG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcblx0XHRvcHRpb25zLmVsID0gZWxlbWVudDtcclxuXHRcdHNoYXJlZCA9IG5ldyBBamF4Rm9ybShvcHRpb25zKTtcclxuXHR9XHJcblx0cmV0dXJuIHNoYXJlZDtcclxufTtcclxuQWpheEZvcm0uY2xhc3NJbnN0YW5jZUFqYXhGb3JtID0gZnVuY3Rpb24oZWxlbWVudCxvcHRpb25zKXtcclxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHRvcHRpb25zLmVsID0gZWxlbWVudDtcclxuXHRyZXR1cm4gbmV3IEFqYXhGb3JtKG9wdGlvbnMpO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBBamF4Rm9ybTtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vLm5wbWluc3RhbGwvYXV4aWxpYXJ5LWFkZGl0aW9ucy8wLjAuMy9hdXhpbGlhcnktYWRkaXRpb25zL3NyYy91cGxvYWQvQWpheEZvcm0uanNcbiAqKiBtb2R1bGUgaWQgPSA0NVxuICoqIG1vZHVsZSBjaHVua3MgPSAxIDIgMyA0IDUgNiA3IDggOSAxMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports){eval("\r\nmodule.exports = uniqueId;\r\n\r\nvar idCounter = 0;\r\nfunction uniqueId(prefix) {\r\n  var id = ++idCounter + '';\r\n  return prefix ? prefix + id : id;\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+Ly5ucG1pbnN0YWxsL2F1eGlsaWFyeS1hZGRpdGlvbnMvMC4wLjMvYXV4aWxpYXJ5LWFkZGl0aW9ucy9zcmMvdXRpbC91bmlxdWVJZC5qcz8xZDE1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjQ2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbm1vZHVsZS5leHBvcnRzID0gdW5pcXVlSWQ7XHJcblxyXG52YXIgaWRDb3VudGVyID0gMDtcclxuZnVuY3Rpb24gdW5pcXVlSWQocHJlZml4KSB7XHJcbiAgdmFyIGlkID0gKytpZENvdW50ZXIgKyAnJztcclxuICByZXR1cm4gcHJlZml4ID8gcHJlZml4ICsgaWQgOiBpZDtcclxufTtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vLm5wbWluc3RhbGwvYXV4aWxpYXJ5LWFkZGl0aW9ucy8wLjAuMy9hdXhpbGlhcnktYWRkaXRpb25zL3NyYy91dGlsL3VuaXF1ZUlkLmpzXG4gKiogbW9kdWxlIGlkID0gNDZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMSAyIDMgNCA1IDYgNyA4IDkgMTBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){eval("/**\r\n * @time 2016年3月3日\r\n * @author  icepy\r\n * @info  跨域上传图片，只支持iframe的方式\r\n */\r\n\r\n'use strict';\r\n\r\nvar url = __webpack_require__(41);\r\nvar AjaxForm = __webpack_require__(45);\r\nvar uniqueId = __webpack_require__(46);\r\n\r\nvar UploadFile = function(options){\r\n\tvar self = this;\r\n\tthis.$el = typeof options.el === 'string' ? $(options.el) : options.el;\r\n\tthis.uid = uniqueId('UploadFile-');\r\n\tthis.options = options;\r\n\tthis._data = options.data || {};\r\n\tthis._filename = options.filename || 'image';\r\n\tthis._url = options.url;\r\n\tif (!this._url) {\r\n\t\tconsole.warn('配置上传URL');\r\n\t\treturn;\r\n\t};\r\n\tthis._init();\r\n};\r\n\r\nUploadFile.prototype._init = function(){\r\n\tthis._createElement();\r\n};\r\n\r\nUploadFile.prototype._createElement = function(){\r\n\tvar inputs = '';\r\n\tfor(var name in this._data){\r\n\t\tvar value = this._data[name];\r\n\t\tvar type = Object.prototype.toString.call(value);\r\n\t\tif (type === '[object Object]' || type === '[object Array]') {\r\n\t\t\tvalue = JSON.stringify(value);\r\n\t\t};\r\n\t\tinputs += '<input type=\"hidden\" name=\"'+name+'\" value=\\''+value+'\\'/>';\r\n\t};\r\n\tinputs += '<input type=\"file\" class=\"opacity0 upload-file '+this.options.className+'\" name=\"'+this._filename+'\"  />';\r\n\tthis.$el.attr('method','POST');\r\n\tthis.$el.attr('action',this._url);\r\n\tthis.$el.attr('enctype','multipart/form-data');\r\n\tthis.$el.append(inputs);\r\n};\r\n\r\n//错误码消息映射\r\nUploadFile.prototype.parseErrorMsg = function(res){\r\n\tif(res && res.state == 'SUCCESS'){\r\n\t\treturn true;\r\n\t}\r\n\tvar code = res.errCode *1 || 0;\r\n\tswitch(code){\r\n\t\tcase 29:\r\n\t\t\treturn '上传的文件太大了,请重新上传';\r\n\t\tcase 31:\r\n\t\t\treturn '请上传JPGE,JPG,PNG,GIF等格式的图片文件';\r\n\t}\r\n\treturn '文件上传失败,请重新上传';\r\n};\r\n\r\n/**\r\n * [submit 提交文件]\r\n * @return {[type]} [description]\r\n */\r\nUploadFile.prototype.submit = function(){\r\n\tthis.ajaxForm.loadState = true;\r\n\tif (typeof this._before === 'function' ) {\r\n\t\tthis._before();\r\n\t};\r\n\tvar defer = $.Deferred();\r\n\tthis.ajaxForm = AjaxForm.classInstanceAjaxForm(this.$el,{\r\n\t\ttype:'img'\r\n\t});\r\n\tthis.ajaxForm.done(function(cw){\r\n\t\tvar loc = cw.location;\r\n\t\tvar search = decodeURIComponent(loc.search);\r\n\t\tvar query = url.parseSearch(search);\r\n\t\tdefer.resolve(query);\r\n\t});\r\n\tthis.ajaxForm.fail(function(){\r\n\t\tdefer.reject(this);\r\n\t});\r\n\tthis.$el.submit();\r\n\treturn defer.promise();\r\n};\r\n\r\nvar shared = null;\r\nUploadFile.sharedInstanceUploadFile = function(options){\r\n\tif (!shared) {\r\n\t\tshared = new UploadFile(options);\r\n\t}\r\n\treturn shared;\r\n};\r\nUploadFile.classInstanceUploadFile = function(options){\r\n\treturn new UploadFile(options);\r\n};\r\n\r\nmodule.exports = UploadFile;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+Ly5ucG1pbnN0YWxsL2F1eGlsaWFyeS1hZGRpdGlvbnMvMC4wLjMvYXV4aWxpYXJ5LWFkZGl0aW9ucy9zcmMvdXBsb2FkL1VwbG9hZEZpbGUuanM/N2JlOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiNDcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQHRpbWUgMjAxNuW5tDPmnIgz5pelXHJcbiAqIEBhdXRob3IgIGljZXB5XHJcbiAqIEBpbmZvICDot6jln5/kuIrkvKDlm77niYfvvIzlj6rmlK/mjIFpZnJhbWXnmoTmlrnlvI9cclxuICovXHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG52YXIgdXJsID0gcmVxdWlyZSgnLi4vdXRpbC91cmwnKTtcclxudmFyIEFqYXhGb3JtID0gcmVxdWlyZSgnLi9BamF4Rm9ybScpO1xyXG52YXIgdW5pcXVlSWQgPSByZXF1aXJlKCcuLi91dGlsL3VuaXF1ZUlkJyk7XHJcblxyXG52YXIgVXBsb2FkRmlsZSA9IGZ1bmN0aW9uKG9wdGlvbnMpe1xyXG5cdHZhciBzZWxmID0gdGhpcztcclxuXHR0aGlzLiRlbCA9IHR5cGVvZiBvcHRpb25zLmVsID09PSAnc3RyaW5nJyA/ICQob3B0aW9ucy5lbCkgOiBvcHRpb25zLmVsO1xyXG5cdHRoaXMudWlkID0gdW5pcXVlSWQoJ1VwbG9hZEZpbGUtJyk7XHJcblx0dGhpcy5vcHRpb25zID0gb3B0aW9ucztcclxuXHR0aGlzLl9kYXRhID0gb3B0aW9ucy5kYXRhIHx8IHt9O1xyXG5cdHRoaXMuX2ZpbGVuYW1lID0gb3B0aW9ucy5maWxlbmFtZSB8fCAnaW1hZ2UnO1xyXG5cdHRoaXMuX3VybCA9IG9wdGlvbnMudXJsO1xyXG5cdGlmICghdGhpcy5fdXJsKSB7XHJcblx0XHRjb25zb2xlLndhcm4oJ+mFjee9ruS4iuS8oFVSTCcpO1xyXG5cdFx0cmV0dXJuO1xyXG5cdH07XHJcblx0dGhpcy5faW5pdCgpO1xyXG59O1xyXG5cclxuVXBsb2FkRmlsZS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbigpe1xyXG5cdHRoaXMuX2NyZWF0ZUVsZW1lbnQoKTtcclxufTtcclxuXHJcblVwbG9hZEZpbGUucHJvdG90eXBlLl9jcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24oKXtcclxuXHR2YXIgaW5wdXRzID0gJyc7XHJcblx0Zm9yKHZhciBuYW1lIGluIHRoaXMuX2RhdGEpe1xyXG5cdFx0dmFyIHZhbHVlID0gdGhpcy5fZGF0YVtuYW1lXTtcclxuXHRcdHZhciB0eXBlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcclxuXHRcdGlmICh0eXBlID09PSAnW29iamVjdCBPYmplY3RdJyB8fCB0eXBlID09PSAnW29iamVjdCBBcnJheV0nKSB7XHJcblx0XHRcdHZhbHVlID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xyXG5cdFx0fTtcclxuXHRcdGlucHV0cyArPSAnPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwiJytuYW1lKydcIiB2YWx1ZT1cXCcnK3ZhbHVlKydcXCcvPic7XHJcblx0fTtcclxuXHRpbnB1dHMgKz0gJzxpbnB1dCB0eXBlPVwiZmlsZVwiIGNsYXNzPVwib3BhY2l0eTAgdXBsb2FkLWZpbGUgJyt0aGlzLm9wdGlvbnMuY2xhc3NOYW1lKydcIiBuYW1lPVwiJyt0aGlzLl9maWxlbmFtZSsnXCIgIC8+JztcclxuXHR0aGlzLiRlbC5hdHRyKCdtZXRob2QnLCdQT1NUJyk7XHJcblx0dGhpcy4kZWwuYXR0cignYWN0aW9uJyx0aGlzLl91cmwpO1xyXG5cdHRoaXMuJGVsLmF0dHIoJ2VuY3R5cGUnLCdtdWx0aXBhcnQvZm9ybS1kYXRhJyk7XHJcblx0dGhpcy4kZWwuYXBwZW5kKGlucHV0cyk7XHJcbn07XHJcblxyXG4vL+mUmeivr+eggea2iOaBr+aYoOWwhFxyXG5VcGxvYWRGaWxlLnByb3RvdHlwZS5wYXJzZUVycm9yTXNnID0gZnVuY3Rpb24ocmVzKXtcclxuXHRpZihyZXMgJiYgcmVzLnN0YXRlID09ICdTVUNDRVNTJyl7XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcblx0dmFyIGNvZGUgPSByZXMuZXJyQ29kZSAqMSB8fCAwO1xyXG5cdHN3aXRjaChjb2RlKXtcclxuXHRcdGNhc2UgMjk6XHJcblx0XHRcdHJldHVybiAn5LiK5Lyg55qE5paH5Lu25aSq5aSn5LqGLOivt+mHjeaWsOS4iuS8oCc7XHJcblx0XHRjYXNlIDMxOlxyXG5cdFx0XHRyZXR1cm4gJ+ivt+S4iuS8oEpQR0UsSlBHLFBORyxHSUbnrYnmoLzlvI/nmoTlm77niYfmlofku7YnO1xyXG5cdH1cclxuXHRyZXR1cm4gJ+aWh+S7tuS4iuS8oOWksei0pSzor7fph43mlrDkuIrkvKAnO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFtzdWJtaXQg5o+Q5Lqk5paH5Lu2XVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcblVwbG9hZEZpbGUucHJvdG90eXBlLnN1Ym1pdCA9IGZ1bmN0aW9uKCl7XHJcblx0dGhpcy5hamF4Rm9ybS5sb2FkU3RhdGUgPSB0cnVlO1xyXG5cdGlmICh0eXBlb2YgdGhpcy5fYmVmb3JlID09PSAnZnVuY3Rpb24nICkge1xyXG5cdFx0dGhpcy5fYmVmb3JlKCk7XHJcblx0fTtcclxuXHR2YXIgZGVmZXIgPSAkLkRlZmVycmVkKCk7XHJcblx0dGhpcy5hamF4Rm9ybSA9IEFqYXhGb3JtLmNsYXNzSW5zdGFuY2VBamF4Rm9ybSh0aGlzLiRlbCx7XHJcblx0XHR0eXBlOidpbWcnXHJcblx0fSk7XHJcblx0dGhpcy5hamF4Rm9ybS5kb25lKGZ1bmN0aW9uKGN3KXtcclxuXHRcdHZhciBsb2MgPSBjdy5sb2NhdGlvbjtcclxuXHRcdHZhciBzZWFyY2ggPSBkZWNvZGVVUklDb21wb25lbnQobG9jLnNlYXJjaCk7XHJcblx0XHR2YXIgcXVlcnkgPSB1cmwucGFyc2VTZWFyY2goc2VhcmNoKTtcclxuXHRcdGRlZmVyLnJlc29sdmUocXVlcnkpO1xyXG5cdH0pO1xyXG5cdHRoaXMuYWpheEZvcm0uZmFpbChmdW5jdGlvbigpe1xyXG5cdFx0ZGVmZXIucmVqZWN0KHRoaXMpO1xyXG5cdH0pO1xyXG5cdHRoaXMuJGVsLnN1Ym1pdCgpO1xyXG5cdHJldHVybiBkZWZlci5wcm9taXNlKCk7XHJcbn07XHJcblxyXG52YXIgc2hhcmVkID0gbnVsbDtcclxuVXBsb2FkRmlsZS5zaGFyZWRJbnN0YW5jZVVwbG9hZEZpbGUgPSBmdW5jdGlvbihvcHRpb25zKXtcclxuXHRpZiAoIXNoYXJlZCkge1xyXG5cdFx0c2hhcmVkID0gbmV3IFVwbG9hZEZpbGUob3B0aW9ucyk7XHJcblx0fVxyXG5cdHJldHVybiBzaGFyZWQ7XHJcbn07XHJcblVwbG9hZEZpbGUuY2xhc3NJbnN0YW5jZVVwbG9hZEZpbGUgPSBmdW5jdGlvbihvcHRpb25zKXtcclxuXHRyZXR1cm4gbmV3IFVwbG9hZEZpbGUob3B0aW9ucyk7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFVwbG9hZEZpbGU7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+Ly5ucG1pbnN0YWxsL2F1eGlsaWFyeS1hZGRpdGlvbnMvMC4wLjMvYXV4aWxpYXJ5LWFkZGl0aW9ucy9zcmMvdXBsb2FkL1VwbG9hZEZpbGUuanNcbiAqKiBtb2R1bGUgaWQgPSA0N1xuICoqIG1vZHVsZSBjaHVua3MgPSAxIDIgMyA0IDUgNiA3IDggOSAxMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("/**\r\n * 主播控制\r\n */\r\n\r\n'use strict';\r\nvar base = __webpack_require__(28);\r\nvar IMModel = __webpack_require__(49);\r\nvar imModel = IMModel.sharedInstanceIMModel();\r\nvar store = base.storage;\r\nvar webim = window.webim;\r\nvar _ = __webpack_require__(27);\r\nvar $ = __webpack_require__(1);\r\n\r\nvar imServer = {\r\n  setting: {\r\n    listeners: {\r\n      onMsgNotify: null,\r\n      onGroupInfoChangeNotify: null,\r\n      groupSystemNotifys: null\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * 初始化\r\n * @param options\r\n */\r\nimServer.init = function (listeners) {\r\n  var self = this;\r\n  var defer = $.Deferred();\r\n  var promise = imModel.fetchIMUserSig();\r\n  promise.then(function (imSig) {\r\n    var loginInfo = {\r\n      sdkAppID: imSig.imAppid, // 用户所属应用id\r\n      appIDAt3rd: imSig.imAppid, // 用户所属应用id\r\n      accountType: imSig.imAccountType, // 用户所属应用帐号类型\r\n      identifier: imSig.imIdentifier, // 当前用户ID\r\n      userSig: imSig.userSig // 当前用户身份凭证\r\n    };\r\n    self.im = imSig;\r\n    if (imSig && listeners) {\r\n      // 腾讯IM初始化\r\n      // webim.init(loginInfo, listeners, null);\r\n      webim.login(loginInfo, listeners, null, function () {\r\n        defer.resolve();\r\n      }, function (err) {\r\n        console.log(err);\r\n        defer.reject();\r\n      });\r\n    } else {\r\n      defer.reject();\r\n    }\r\n  }, function (err) {\r\n    console.log(err);\r\n    defer.reject();\r\n  });\r\n  return defer.promise();\r\n};\r\n\r\n/**\r\n * 发送消息\r\n *\r\n */\r\nimServer.sendMessage = function (attrs, okFn, errFn) {\r\n  var currentSession = webim.MsgStore.sessByTypeId('GROUP', attrs.groupId);\r\n  var random = Math.floor(Math.random() * 10000);\r\n  var sendMsg;\r\n  var msg;\r\n  if (!currentSession) {\r\n    // var currentSession = new webim.Session('GROUP', attrs.groupId, attrs.groupId, '', random);\r\n    currentSession = new webim.Session('GROUP', attrs.groupId, attrs.groupId, '', random);\r\n  }\r\n\r\n  if (currentSession) {\r\n    sendMsg = new webim.Msg(currentSession, true);\r\n    msg = new webim.Msg.Elem('TIMCustomElem', {\r\n      data: JSON.stringify(attrs.msg)\r\n    });\r\n    sendMsg.elems.push(msg);\r\n    sendMsg.fromAccount = this.im.imIdentifier;\r\n    webim.sendMsg(sendMsg, function (resp) {\r\n      if (okFn) {\r\n        okFn(resp);\r\n      }\r\n    }, function (err) {\r\n      if (errFn) {\r\n        errFn(err);\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\n/**\r\n * 1.4 版本发送消息\r\n *  attrs.subType\r\n *  attrs.msg.fromAccount\r\n */\r\nimServer.sendMsg = function (attrs) {\r\n  console.log(attrs);\r\n  var defer = $.Deferred();\r\n  var currentSession = webim.MsgStore.sessByTypeId('GROUP', attrs.groupId);\r\n  var random = Math.round(Math.random() * 4294967296); // 消息随机数，用于去重\r\n\r\n  if (!currentSession) {\r\n    currentSession = new webim.Session(\r\n      webim.SESSION_TYPE.GROUP, attrs.groupId, attrs.groupId, '', random);\r\n  }\r\n  var seq = -1; // 消息序列，-1表示sdk自动生成，用于去重\r\n  var msgTime = Math.round(new Date().getTime() / 1000); // 消息时间戳\r\n  var subType = attrs.subType || webim.GROUP_MSG_SUB_TYPE.REDPACKET;\r\n  var msg = new webim.Msg(\r\n    currentSession,\r\n    true, seq, random, msgTime, attrs.msg.fromAccount, subType, '');\r\n  var textObj = new webim.Msg.Elem('TIMCustomElem', {\r\n    data: JSON.stringify(attrs.msg)\r\n  });\r\n  msg.fromAccount = this.im.imIdentifier;\r\n  msg.elems.push(textObj);\r\n  webim.sendMsg(msg, function (resp) {\r\n    defer.resolve(resp);\r\n  }, function (err) {\r\n    defer.reject(err);\r\n  });\r\n\r\n  return defer.promise();\r\n};\r\n\r\n\r\n/**\r\n * 清屏\r\n */\r\nimServer.clearScreen = function (args) {\r\n  this.sendMessage(args);\r\n};\r\n\r\n/**\r\n * 锁屏\r\n */\r\nimServer.lockScreen = function () {\r\n  console.log('IM lock');\r\n};\r\n\r\n/**\r\n * 禁言\r\n // options = {\r\n    //     'GroupId': '',\r\n    //     'Members_Account': [],\r\n    //     'ShutUpTime': time\r\n    // };\r\n */\r\nimServer.disableSendMsg = function (options, okFn, errFn) {\r\n  var time = webim.Tool.formatTimeStamp(Math.round(new Date().getTime() / 1000) + 10 * 60);\r\n  var ops;\r\n\r\n  time = new Date(time + '').getTime();\r\n  ops = _.extend({\r\n    ShutUpTime: time\r\n  }, options);\r\n\r\n  webim.forbidSendMsg(\r\n    ops,\r\n    function (resp) {\r\n      if (okFn) {\r\n        okFn(resp);\r\n      }\r\n    },\r\n    function (err) {\r\n      if (errFn) {\r\n        errFn(err);\r\n      }\r\n    }\r\n  );\r\n};\r\n\r\n/**\r\n * 踢人\r\n * options : {GroupId: '', MemberToDel_Account: []}\r\n */\r\nimServer.removeUserFromGroup = function (options, okFn, errFn) {\r\n  if (!options || !options.GroupId || options.MemberToDel_Account.length <= 0) {\r\n    if (errFn) {\r\n      errFn({\r\n        msg: '参数不正确'\r\n      });\r\n    }\r\n  }\r\n  webim.deleteGroupMember(\r\n    options,\r\n    function (resp) {\r\n      if (okFn) {\r\n        okFn(resp);\r\n      }\r\n    },\r\n    function (err) {\r\n      if (errFn) {\r\n        errFn(err);\r\n      }\r\n    }\r\n  );\r\n};\r\n\r\n/**\r\n * 消息通知回调\r\n */\r\nimServer.msgNotify = function () {\r\n\r\n};\r\n\r\n/**\r\n * 获取群组消息\r\n */\r\nimServer.getRoomMsgs = function (callback) {\r\n  var data = [];\r\n  var i = 1;\r\n  while (true) {\r\n    if (i++ > 20) {\r\n      break;\r\n    }\r\n    data.push({\r\n      name: 'Aaron-' + i,\r\n      msg: 'asdfasdfasfjaslfjasklfasdklf' + i\r\n    });\r\n  }\r\n  if (callback) {\r\n    callback.call(this, data);\r\n  }\r\n};\r\n\r\n/**\r\n * 创建聊天群\r\n */\r\nimServer.createIMChatRoom = function (okFn, errFn) {\r\n  var imSig = store.get('imSig');\r\n  var options = {\r\n    Owner_Account: imSig.imIdentifier,\r\n    Type: 'ChatRoom', // Private/Public/ChatRoom\r\n    Name: '测试聊天室',\r\n    Notification: '',\r\n    Introduction: '',\r\n    MemberList: []\r\n  };\r\n\r\n  webim.createGroup(\r\n    options,\r\n    function (resp) {\r\n      if (okFn) {\r\n        okFn(resp);\r\n      }\r\n    },\r\n    function (err) {\r\n      if (errFn) {\r\n        errFn(err);\r\n      }\r\n    }\r\n  );\r\n};\r\n\r\nimServer.applyJoinGroup = function (groupId, okFn, errFn) {\r\n  var options = {\r\n    GroupId: groupId,\r\n    ApplyMsg: '直播间',\r\n    UserDefinedField: ''\r\n  };\r\n  webim.applyJoinGroup(\r\n    options,\r\n    function (resp) {\r\n      if (okFn) {\r\n        okFn(resp);\r\n      }\r\n    },\r\n    function (err) {\r\n      if (errFn) {\r\n        errFn(err);\r\n      }\r\n    }\r\n  );\r\n};\r\n\r\n/**\r\n * 获取群组消息\r\n * @param groupId\r\n * @param okFn\r\n * @param errFn\r\n */\r\nimServer.getGroupInfo = function (groupId, okFn, errFn) {\r\n  var options = {\r\n    GroupIdList: [\r\n      groupId\r\n    ],\r\n    GroupBaseInfoFilter: [\r\n      'Type',\r\n      'Name',\r\n      'Introduction',\r\n      'Notification',\r\n      'FaceUrl',\r\n      'CreateTime',\r\n      'Owner_Account',\r\n      'LastInfoTime',\r\n      'LastMsgTime',\r\n      'NextMsgSeq',\r\n      'MemberNum',\r\n      'MaxMemberNum',\r\n      'ApplyJoinOption'\r\n    ],\r\n    MemberInfoFilter: [\r\n      'Account',\r\n      'Role',\r\n      'JoinTime',\r\n      'LastSendMsgTime',\r\n      'ShutUpUntil'\r\n    ]\r\n  };\r\n  webim.getGroupInfo(\r\n    options,\r\n    function (resp) {\r\n      if (okFn) {\r\n        okFn(resp);\r\n      }\r\n    },\r\n    function (err) {\r\n      if (errFn) {\r\n        errFn(err);\r\n      }\r\n    }\r\n  );\r\n};\r\n\r\n/**\r\n * 修改群组消息\r\n * @param options\r\n *      { GroupId: 1, Name: 'xx', Notification: '', Introduction: ''}\r\n * @param okFn\r\n * @param errFn\r\n */\r\nimServer.modifyGroupInfo = function (options, okFn, errFn) {\r\n  webim.modifyGroupBaseInfo(\r\n    options,\r\n    function (resp) {\r\n      if (okFn) {\r\n        okFn(resp);\r\n      }\r\n    },\r\n    function (err) {\r\n      if (errFn) {\r\n        errFn(err);\r\n      }\r\n    }\r\n  );\r\n};\r\n\r\n/**\r\n * 修改组内成员角色\r\n */\r\nimServer.modifyGroupMember = function (ops) {\r\n  var defer = $.Deferred();\r\n  console.log(ops);\r\n  var options = _.extend({\r\n    GroupId: '',\r\n    Member_Account: '',\r\n    Role: ''\r\n  }, ops);\r\n  webim.modifyGroupMember(\r\n    options,\r\n    function (resp) {\r\n      defer.resolve(resp);\r\n    },\r\n    function (err) {\r\n      defer.reject(err);\r\n    }\r\n  );\r\n  return defer.promise();\r\n};\r\n\r\nmodule.exports = imServer;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZHVsZS93ZWJJTS9JTVNlcnZlci5qcz9hMGEyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNEOztBQUV0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZix3REFBd0Q7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiI0OC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDkuLvmkq3mjqfliLZcclxuICovXHJcblxyXG4ndXNlIHN0cmljdCc7XHJcbnZhciBiYXNlID0gcmVxdWlyZSgnYmFzZS1leHRlbmQtYmFja2JvbmUnKTtcclxudmFyIElNTW9kZWwgPSByZXF1aXJlKCdJTU1vZGVsJyk7XHJcbnZhciBpbU1vZGVsID0gSU1Nb2RlbC5zaGFyZWRJbnN0YW5jZUlNTW9kZWwoKTtcclxudmFyIHN0b3JlID0gYmFzZS5zdG9yYWdlO1xyXG52YXIgd2ViaW0gPSB3aW5kb3cud2ViaW07XHJcbnZhciBfID0gcmVxdWlyZSgndW5kZXJzY29yZScpO1xyXG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xyXG5cclxudmFyIGltU2VydmVyID0ge1xyXG4gIHNldHRpbmc6IHtcclxuICAgIGxpc3RlbmVyczoge1xyXG4gICAgICBvbk1zZ05vdGlmeTogbnVsbCxcclxuICAgICAgb25Hcm91cEluZm9DaGFuZ2VOb3RpZnk6IG51bGwsXHJcbiAgICAgIGdyb3VwU3lzdGVtTm90aWZ5czogbnVsbFxyXG4gICAgfVxyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiDliJ3lp4vljJZcclxuICogQHBhcmFtIG9wdGlvbnNcclxuICovXHJcbmltU2VydmVyLmluaXQgPSBmdW5jdGlvbiAobGlzdGVuZXJzKSB7XHJcbiAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gIHZhciBkZWZlciA9ICQuRGVmZXJyZWQoKTtcclxuICB2YXIgcHJvbWlzZSA9IGltTW9kZWwuZmV0Y2hJTVVzZXJTaWcoKTtcclxuICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGltU2lnKSB7XHJcbiAgICB2YXIgbG9naW5JbmZvID0ge1xyXG4gICAgICBzZGtBcHBJRDogaW1TaWcuaW1BcHBpZCwgLy8g55So5oi35omA5bGe5bqU55SoaWRcclxuICAgICAgYXBwSURBdDNyZDogaW1TaWcuaW1BcHBpZCwgLy8g55So5oi35omA5bGe5bqU55SoaWRcclxuICAgICAgYWNjb3VudFR5cGU6IGltU2lnLmltQWNjb3VudFR5cGUsIC8vIOeUqOaIt+aJgOWxnuW6lOeUqOW4kOWPt+exu+Wei1xyXG4gICAgICBpZGVudGlmaWVyOiBpbVNpZy5pbUlkZW50aWZpZXIsIC8vIOW9k+WJjeeUqOaIt0lEXHJcbiAgICAgIHVzZXJTaWc6IGltU2lnLnVzZXJTaWcgLy8g5b2T5YmN55So5oi36Lqr5Lu95Yet6K+BXHJcbiAgICB9O1xyXG4gICAgc2VsZi5pbSA9IGltU2lnO1xyXG4gICAgaWYgKGltU2lnICYmIGxpc3RlbmVycykge1xyXG4gICAgICAvLyDohb7orq9JTeWIneWni+WMllxyXG4gICAgICAvLyB3ZWJpbS5pbml0KGxvZ2luSW5mbywgbGlzdGVuZXJzLCBudWxsKTtcclxuICAgICAgd2ViaW0ubG9naW4obG9naW5JbmZvLCBsaXN0ZW5lcnMsIG51bGwsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBkZWZlci5yZXNvbHZlKCk7XHJcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgIGRlZmVyLnJlamVjdCgpO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRlZmVyLnJlamVjdCgpO1xyXG4gICAgfVxyXG4gIH0sIGZ1bmN0aW9uIChlcnIpIHtcclxuICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICBkZWZlci5yZWplY3QoKTtcclxuICB9KTtcclxuICByZXR1cm4gZGVmZXIucHJvbWlzZSgpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIOWPkemAgea2iOaBr1xyXG4gKlxyXG4gKi9cclxuaW1TZXJ2ZXIuc2VuZE1lc3NhZ2UgPSBmdW5jdGlvbiAoYXR0cnMsIG9rRm4sIGVyckZuKSB7XHJcbiAgdmFyIGN1cnJlbnRTZXNzaW9uID0gd2ViaW0uTXNnU3RvcmUuc2Vzc0J5VHlwZUlkKCdHUk9VUCcsIGF0dHJzLmdyb3VwSWQpO1xyXG4gIHZhciByYW5kb20gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMCk7XHJcbiAgdmFyIHNlbmRNc2c7XHJcbiAgdmFyIG1zZztcclxuICBpZiAoIWN1cnJlbnRTZXNzaW9uKSB7XHJcbiAgICAvLyB2YXIgY3VycmVudFNlc3Npb24gPSBuZXcgd2ViaW0uU2Vzc2lvbignR1JPVVAnLCBhdHRycy5ncm91cElkLCBhdHRycy5ncm91cElkLCAnJywgcmFuZG9tKTtcclxuICAgIGN1cnJlbnRTZXNzaW9uID0gbmV3IHdlYmltLlNlc3Npb24oJ0dST1VQJywgYXR0cnMuZ3JvdXBJZCwgYXR0cnMuZ3JvdXBJZCwgJycsIHJhbmRvbSk7XHJcbiAgfVxyXG5cclxuICBpZiAoY3VycmVudFNlc3Npb24pIHtcclxuICAgIHNlbmRNc2cgPSBuZXcgd2ViaW0uTXNnKGN1cnJlbnRTZXNzaW9uLCB0cnVlKTtcclxuICAgIG1zZyA9IG5ldyB3ZWJpbS5Nc2cuRWxlbSgnVElNQ3VzdG9tRWxlbScsIHtcclxuICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoYXR0cnMubXNnKVxyXG4gICAgfSk7XHJcbiAgICBzZW5kTXNnLmVsZW1zLnB1c2gobXNnKTtcclxuICAgIHNlbmRNc2cuZnJvbUFjY291bnQgPSB0aGlzLmltLmltSWRlbnRpZmllcjtcclxuICAgIHdlYmltLnNlbmRNc2coc2VuZE1zZywgZnVuY3Rpb24gKHJlc3ApIHtcclxuICAgICAgaWYgKG9rRm4pIHtcclxuICAgICAgICBva0ZuKHJlc3ApO1xyXG4gICAgICB9XHJcbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgIGlmIChlcnJGbikge1xyXG4gICAgICAgIGVyckZuKGVycik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiAxLjQg54mI5pys5Y+R6YCB5raI5oGvXHJcbiAqICBhdHRycy5zdWJUeXBlXHJcbiAqICBhdHRycy5tc2cuZnJvbUFjY291bnRcclxuICovXHJcbmltU2VydmVyLnNlbmRNc2cgPSBmdW5jdGlvbiAoYXR0cnMpIHtcclxuICBjb25zb2xlLmxvZyhhdHRycyk7XHJcbiAgdmFyIGRlZmVyID0gJC5EZWZlcnJlZCgpO1xyXG4gIHZhciBjdXJyZW50U2Vzc2lvbiA9IHdlYmltLk1zZ1N0b3JlLnNlc3NCeVR5cGVJZCgnR1JPVVAnLCBhdHRycy5ncm91cElkKTtcclxuICB2YXIgcmFuZG9tID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogNDI5NDk2NzI5Nik7IC8vIOa2iOaBr+maj+acuuaVsO+8jOeUqOS6juWOu+mHjVxyXG5cclxuICBpZiAoIWN1cnJlbnRTZXNzaW9uKSB7XHJcbiAgICBjdXJyZW50U2Vzc2lvbiA9IG5ldyB3ZWJpbS5TZXNzaW9uKFxyXG4gICAgICB3ZWJpbS5TRVNTSU9OX1RZUEUuR1JPVVAsIGF0dHJzLmdyb3VwSWQsIGF0dHJzLmdyb3VwSWQsICcnLCByYW5kb20pO1xyXG4gIH1cclxuICB2YXIgc2VxID0gLTE7IC8vIOa2iOaBr+W6j+WIl++8jC0x6KGo56S6c2Rr6Ieq5Yqo55Sf5oiQ77yM55So5LqO5Y676YeNXHJcbiAgdmFyIG1zZ1RpbWUgPSBNYXRoLnJvdW5kKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCk7IC8vIOa2iOaBr+aXtumXtOaIs1xyXG4gIHZhciBzdWJUeXBlID0gYXR0cnMuc3ViVHlwZSB8fCB3ZWJpbS5HUk9VUF9NU0dfU1VCX1RZUEUuUkVEUEFDS0VUO1xyXG4gIHZhciBtc2cgPSBuZXcgd2ViaW0uTXNnKFxyXG4gICAgY3VycmVudFNlc3Npb24sXHJcbiAgICB0cnVlLCBzZXEsIHJhbmRvbSwgbXNnVGltZSwgYXR0cnMubXNnLmZyb21BY2NvdW50LCBzdWJUeXBlLCAnJyk7XHJcbiAgdmFyIHRleHRPYmogPSBuZXcgd2ViaW0uTXNnLkVsZW0oJ1RJTUN1c3RvbUVsZW0nLCB7XHJcbiAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShhdHRycy5tc2cpXHJcbiAgfSk7XHJcbiAgbXNnLmZyb21BY2NvdW50ID0gdGhpcy5pbS5pbUlkZW50aWZpZXI7XHJcbiAgbXNnLmVsZW1zLnB1c2godGV4dE9iaik7XHJcbiAgd2ViaW0uc2VuZE1zZyhtc2csIGZ1bmN0aW9uIChyZXNwKSB7XHJcbiAgICBkZWZlci5yZXNvbHZlKHJlc3ApO1xyXG4gIH0sIGZ1bmN0aW9uIChlcnIpIHtcclxuICAgIGRlZmVyLnJlamVjdChlcnIpO1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gZGVmZXIucHJvbWlzZSgpO1xyXG59O1xyXG5cclxuXHJcbi8qKlxyXG4gKiDmuIXlsY9cclxuICovXHJcbmltU2VydmVyLmNsZWFyU2NyZWVuID0gZnVuY3Rpb24gKGFyZ3MpIHtcclxuICB0aGlzLnNlbmRNZXNzYWdlKGFyZ3MpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIOmUgeWxj1xyXG4gKi9cclxuaW1TZXJ2ZXIubG9ja1NjcmVlbiA9IGZ1bmN0aW9uICgpIHtcclxuICBjb25zb2xlLmxvZygnSU0gbG9jaycpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIOemgeiogFxyXG4gLy8gb3B0aW9ucyA9IHtcclxuICAgIC8vICAgICAnR3JvdXBJZCc6ICcnLFxyXG4gICAgLy8gICAgICdNZW1iZXJzX0FjY291bnQnOiBbXSxcclxuICAgIC8vICAgICAnU2h1dFVwVGltZSc6IHRpbWVcclxuICAgIC8vIH07XHJcbiAqL1xyXG5pbVNlcnZlci5kaXNhYmxlU2VuZE1zZyA9IGZ1bmN0aW9uIChvcHRpb25zLCBva0ZuLCBlcnJGbikge1xyXG4gIHZhciB0aW1lID0gd2ViaW0uVG9vbC5mb3JtYXRUaW1lU3RhbXAoTWF0aC5yb3VuZChuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDApICsgMTAgKiA2MCk7XHJcbiAgdmFyIG9wcztcclxuXHJcbiAgdGltZSA9IG5ldyBEYXRlKHRpbWUgKyAnJykuZ2V0VGltZSgpO1xyXG4gIG9wcyA9IF8uZXh0ZW5kKHtcclxuICAgIFNodXRVcFRpbWU6IHRpbWVcclxuICB9LCBvcHRpb25zKTtcclxuXHJcbiAgd2ViaW0uZm9yYmlkU2VuZE1zZyhcclxuICAgIG9wcyxcclxuICAgIGZ1bmN0aW9uIChyZXNwKSB7XHJcbiAgICAgIGlmIChva0ZuKSB7XHJcbiAgICAgICAgb2tGbihyZXNwKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgaWYgKGVyckZuKSB7XHJcbiAgICAgICAgZXJyRm4oZXJyKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICk7XHJcbn07XHJcblxyXG4vKipcclxuICog6Lii5Lq6XHJcbiAqIG9wdGlvbnMgOiB7R3JvdXBJZDogJycsIE1lbWJlclRvRGVsX0FjY291bnQ6IFtdfVxyXG4gKi9cclxuaW1TZXJ2ZXIucmVtb3ZlVXNlckZyb21Hcm91cCA9IGZ1bmN0aW9uIChvcHRpb25zLCBva0ZuLCBlcnJGbikge1xyXG4gIGlmICghb3B0aW9ucyB8fCAhb3B0aW9ucy5Hcm91cElkIHx8IG9wdGlvbnMuTWVtYmVyVG9EZWxfQWNjb3VudC5sZW5ndGggPD0gMCkge1xyXG4gICAgaWYgKGVyckZuKSB7XHJcbiAgICAgIGVyckZuKHtcclxuICAgICAgICBtc2c6ICflj4LmlbDkuI3mraPnoa4nXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICB3ZWJpbS5kZWxldGVHcm91cE1lbWJlcihcclxuICAgIG9wdGlvbnMsXHJcbiAgICBmdW5jdGlvbiAocmVzcCkge1xyXG4gICAgICBpZiAob2tGbikge1xyXG4gICAgICAgIG9rRm4ocmVzcCk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgIGlmIChlcnJGbikge1xyXG4gICAgICAgIGVyckZuKGVycik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICApO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIOa2iOaBr+mAmuefpeWbnuiwg1xyXG4gKi9cclxuaW1TZXJ2ZXIubXNnTm90aWZ5ID0gZnVuY3Rpb24gKCkge1xyXG5cclxufTtcclxuXHJcbi8qKlxyXG4gKiDojrflj5bnvqTnu4Tmtojmga9cclxuICovXHJcbmltU2VydmVyLmdldFJvb21Nc2dzID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgdmFyIGRhdGEgPSBbXTtcclxuICB2YXIgaSA9IDE7XHJcbiAgd2hpbGUgKHRydWUpIHtcclxuICAgIGlmIChpKysgPiAyMCkge1xyXG4gICAgICBicmVhaztcclxuICAgIH1cclxuICAgIGRhdGEucHVzaCh7XHJcbiAgICAgIG5hbWU6ICdBYXJvbi0nICsgaSxcclxuICAgICAgbXNnOiAnYXNkZmFzZGZhc2ZqYXNsZmphc2tsZmFzZGtsZicgKyBpXHJcbiAgICB9KTtcclxuICB9XHJcbiAgaWYgKGNhbGxiYWNrKSB7XHJcbiAgICBjYWxsYmFjay5jYWxsKHRoaXMsIGRhdGEpO1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiDliJvlu7rogYrlpKnnvqRcclxuICovXHJcbmltU2VydmVyLmNyZWF0ZUlNQ2hhdFJvb20gPSBmdW5jdGlvbiAob2tGbiwgZXJyRm4pIHtcclxuICB2YXIgaW1TaWcgPSBzdG9yZS5nZXQoJ2ltU2lnJyk7XHJcbiAgdmFyIG9wdGlvbnMgPSB7XHJcbiAgICBPd25lcl9BY2NvdW50OiBpbVNpZy5pbUlkZW50aWZpZXIsXHJcbiAgICBUeXBlOiAnQ2hhdFJvb20nLCAvLyBQcml2YXRlL1B1YmxpYy9DaGF0Um9vbVxyXG4gICAgTmFtZTogJ+a1i+ivleiBiuWkqeWupCcsXHJcbiAgICBOb3RpZmljYXRpb246ICcnLFxyXG4gICAgSW50cm9kdWN0aW9uOiAnJyxcclxuICAgIE1lbWJlckxpc3Q6IFtdXHJcbiAgfTtcclxuXHJcbiAgd2ViaW0uY3JlYXRlR3JvdXAoXHJcbiAgICBvcHRpb25zLFxyXG4gICAgZnVuY3Rpb24gKHJlc3ApIHtcclxuICAgICAgaWYgKG9rRm4pIHtcclxuICAgICAgICBva0ZuKHJlc3ApO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgZnVuY3Rpb24gKGVycikge1xyXG4gICAgICBpZiAoZXJyRm4pIHtcclxuICAgICAgICBlcnJGbihlcnIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgKTtcclxufTtcclxuXHJcbmltU2VydmVyLmFwcGx5Sm9pbkdyb3VwID0gZnVuY3Rpb24gKGdyb3VwSWQsIG9rRm4sIGVyckZuKSB7XHJcbiAgdmFyIG9wdGlvbnMgPSB7XHJcbiAgICBHcm91cElkOiBncm91cElkLFxyXG4gICAgQXBwbHlNc2c6ICfnm7Tmkq3pl7QnLFxyXG4gICAgVXNlckRlZmluZWRGaWVsZDogJydcclxuICB9O1xyXG4gIHdlYmltLmFwcGx5Sm9pbkdyb3VwKFxyXG4gICAgb3B0aW9ucyxcclxuICAgIGZ1bmN0aW9uIChyZXNwKSB7XHJcbiAgICAgIGlmIChva0ZuKSB7XHJcbiAgICAgICAgb2tGbihyZXNwKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgaWYgKGVyckZuKSB7XHJcbiAgICAgICAgZXJyRm4oZXJyKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICk7XHJcbn07XHJcblxyXG4vKipcclxuICog6I635Y+W576k57uE5raI5oGvXHJcbiAqIEBwYXJhbSBncm91cElkXHJcbiAqIEBwYXJhbSBva0ZuXHJcbiAqIEBwYXJhbSBlcnJGblxyXG4gKi9cclxuaW1TZXJ2ZXIuZ2V0R3JvdXBJbmZvID0gZnVuY3Rpb24gKGdyb3VwSWQsIG9rRm4sIGVyckZuKSB7XHJcbiAgdmFyIG9wdGlvbnMgPSB7XHJcbiAgICBHcm91cElkTGlzdDogW1xyXG4gICAgICBncm91cElkXHJcbiAgICBdLFxyXG4gICAgR3JvdXBCYXNlSW5mb0ZpbHRlcjogW1xyXG4gICAgICAnVHlwZScsXHJcbiAgICAgICdOYW1lJyxcclxuICAgICAgJ0ludHJvZHVjdGlvbicsXHJcbiAgICAgICdOb3RpZmljYXRpb24nLFxyXG4gICAgICAnRmFjZVVybCcsXHJcbiAgICAgICdDcmVhdGVUaW1lJyxcclxuICAgICAgJ093bmVyX0FjY291bnQnLFxyXG4gICAgICAnTGFzdEluZm9UaW1lJyxcclxuICAgICAgJ0xhc3RNc2dUaW1lJyxcclxuICAgICAgJ05leHRNc2dTZXEnLFxyXG4gICAgICAnTWVtYmVyTnVtJyxcclxuICAgICAgJ01heE1lbWJlck51bScsXHJcbiAgICAgICdBcHBseUpvaW5PcHRpb24nXHJcbiAgICBdLFxyXG4gICAgTWVtYmVySW5mb0ZpbHRlcjogW1xyXG4gICAgICAnQWNjb3VudCcsXHJcbiAgICAgICdSb2xlJyxcclxuICAgICAgJ0pvaW5UaW1lJyxcclxuICAgICAgJ0xhc3RTZW5kTXNnVGltZScsXHJcbiAgICAgICdTaHV0VXBVbnRpbCdcclxuICAgIF1cclxuICB9O1xyXG4gIHdlYmltLmdldEdyb3VwSW5mbyhcclxuICAgIG9wdGlvbnMsXHJcbiAgICBmdW5jdGlvbiAocmVzcCkge1xyXG4gICAgICBpZiAob2tGbikge1xyXG4gICAgICAgIG9rRm4ocmVzcCk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgIGlmIChlcnJGbikge1xyXG4gICAgICAgIGVyckZuKGVycik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICApO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIOS/ruaUuee+pOe7hOa2iOaBr1xyXG4gKiBAcGFyYW0gb3B0aW9uc1xyXG4gKiAgICAgIHsgR3JvdXBJZDogMSwgTmFtZTogJ3h4JywgTm90aWZpY2F0aW9uOiAnJywgSW50cm9kdWN0aW9uOiAnJ31cclxuICogQHBhcmFtIG9rRm5cclxuICogQHBhcmFtIGVyckZuXHJcbiAqL1xyXG5pbVNlcnZlci5tb2RpZnlHcm91cEluZm8gPSBmdW5jdGlvbiAob3B0aW9ucywgb2tGbiwgZXJyRm4pIHtcclxuICB3ZWJpbS5tb2RpZnlHcm91cEJhc2VJbmZvKFxyXG4gICAgb3B0aW9ucyxcclxuICAgIGZ1bmN0aW9uIChyZXNwKSB7XHJcbiAgICAgIGlmIChva0ZuKSB7XHJcbiAgICAgICAgb2tGbihyZXNwKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgaWYgKGVyckZuKSB7XHJcbiAgICAgICAgZXJyRm4oZXJyKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICk7XHJcbn07XHJcblxyXG4vKipcclxuICog5L+u5pS557uE5YaF5oiQ5ZGY6KeS6ImyXHJcbiAqL1xyXG5pbVNlcnZlci5tb2RpZnlHcm91cE1lbWJlciA9IGZ1bmN0aW9uIChvcHMpIHtcclxuICB2YXIgZGVmZXIgPSAkLkRlZmVycmVkKCk7XHJcbiAgY29uc29sZS5sb2cob3BzKTtcclxuICB2YXIgb3B0aW9ucyA9IF8uZXh0ZW5kKHtcclxuICAgIEdyb3VwSWQ6ICcnLFxyXG4gICAgTWVtYmVyX0FjY291bnQ6ICcnLFxyXG4gICAgUm9sZTogJydcclxuICB9LCBvcHMpO1xyXG4gIHdlYmltLm1vZGlmeUdyb3VwTWVtYmVyKFxyXG4gICAgb3B0aW9ucyxcclxuICAgIGZ1bmN0aW9uIChyZXNwKSB7XHJcbiAgICAgIGRlZmVyLnJlc29sdmUocmVzcCk7XHJcbiAgICB9LFxyXG4gICAgZnVuY3Rpb24gKGVycikge1xyXG4gICAgICBkZWZlci5yZWplY3QoZXJyKTtcclxuICAgIH1cclxuICApO1xyXG4gIHJldHVybiBkZWZlci5wcm9taXNlKCk7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGltU2VydmVyO1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL3NyYy9tb2R1bGUvd2ViSU0vSU1TZXJ2ZXIuanNcbiAqKiBtb2R1bGUgaWQgPSA0OFxuICoqIG1vZHVsZSBjaHVua3MgPSAxIDMgNSA3XG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");
},function(module,exports,__webpack_require__){eval("/**\r\n * @time {时间}\r\n * @author {编写者}\r\n * @info {实现的功能}\r\n */\r\n\r\n'use strict';\r\n\r\nvar $ = __webpack_require__(1);\r\nvar base = __webpack_require__(28);\r\nvar Config = __webpack_require__(50);\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\nvar storage = base.storage;\r\nvar UserModel = __webpack_require__(51);\r\nvar user = UserModel.sharedInstanceUserModel();\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/user/sig_get.json',\r\n  beforeEmit: function () {\r\n    // 如果需要开启对请求数据的本地缓存，可将下列两行注释去掉\r\n    // this.storageCache = true; //开启本地缓存\r\n    // this.expiration = 1; //设置缓存过期时间（1表示60*60*1000 一小时）\r\n    // 给请求地址替换一下环境变量\r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n    this.notTokenURL = this.url;\r\n    this.imData = null;\r\n  },\r\n  /**\r\n   * [isAnchor 判断是否为主播]\r\n   * @return {Boolean} [description]\r\n   */\r\n  isAnchor: function () {\r\n    return !!this.get('data').anchor;\r\n  },\r\n  setTokenUrl: function (token) {\r\n    this.imData = {\r\n      deviceinfo: '{\"aid\":\"30001001\"}',\r\n      access_token: 'web-' + token\r\n    };\r\n  },\r\n  setNoTokenUrl: function () {\r\n    this.imData = {\r\n      deviceinfo: '{\"aid\":\"30001001\"}'\r\n    };\r\n  },\r\n  /**\r\n   * [fetchIMUserSig 获取IM签名]\r\n   * @param  {Function} callback [description]\r\n   * @param  {[type]}   error    [description]\r\n   * @return {[type]}            [description]\r\n   */\r\n  fetchIMUserSig: function () {\r\n    //  先获取本地签名\r\n    var defer = $.Deferred();\r\n    var token;\r\n    var imSig;\r\n    imSig = storage.get('imSig');\r\n    if (imSig) {\r\n      this.set({\r\n        data: imSig\r\n      });\r\n      defer.resolve(imSig);\r\n      return defer.promise();\r\n    }\r\n    token = user.getToken();\r\n    if (token) {\r\n      this.setTokenUrl(token);\r\n    }\r\n    var sigModelPromise = this.executeJSONP(this.imData);\r\n    sigModelPromise.done(function (response) {\r\n      var data = response.data;\r\n      storage.set('imSig', data);\r\n      defer.resolve(data);\r\n    });\r\n    sigModelPromise.fail(function (e) {\r\n      defer.reject(e);\r\n    });\r\n    return defer.promise();\r\n  },\r\n  //  更新缓存\r\n  updateIMUserSig: function () {\r\n    var defer = $.Deferred();\r\n    var token;\r\n    storage.remove('imSig');\r\n    token = user.getToken();\r\n    if (token) {\r\n      this.setTokenUrl(token);\r\n    }\r\n    var sigModelPromise = this.executeJSONP();\r\n    sigModelPromise.done(function (response) {\r\n      var data = response.data;\r\n      storage.set('imSig', data);\r\n      defer.resolve(data);\r\n    });\r\n    sigModelPromise.fail(function (e) {\r\n      defer.reject(e);\r\n    });\r\n    return defer.promise();\r\n  },\r\n  remove: function () {\r\n    storage.remove('imSig');\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceIMModel = function () {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\nmodule.exports = Model;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZHVsZS9JTU1vZGVsL2luZGV4LmpzPzJlOTgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxVQUFVO0FBQ1YsWUFBWTtBQUNaLFVBQVU7QUFDVjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVSxZQUFZO0FBQ3RCO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEMsMkJBQTJCO0FBQzNCO0FBQ0EsYUFBYSxJQUFJLGVBQWUsSUFBSTtBQUNwQyxxQ0FBcUMsWUFBWTtBQUNqRDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLG9CQUFvQixpQkFBaUI7QUFDckM7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0Esb0JBQW9CLGlCQUFpQjtBQUNyQztBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiI0OS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBAdGltZSB75pe26Ze0fVxyXG4gKiBAYXV0aG9yIHvnvJblhpnogIV9XHJcbiAqIEBpbmZvIHvlrp7njrDnmoTlip/og719XHJcbiAqL1xyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcclxudmFyIGJhc2UgPSByZXF1aXJlKCdiYXNlLWV4dGVuZC1iYWNrYm9uZScpO1xyXG52YXIgQ29uZmlnID0gcmVxdWlyZSgnY29uZmlnJyk7XHJcbnZhciBCYXNlTW9kZWwgPSBiYXNlLk1vZGVsO1xyXG52YXIgZW52ID0gQ29uZmlnLmVudltDb25maWcuc2NoZW1lXTtcclxudmFyIHN0b3JhZ2UgPSBiYXNlLnN0b3JhZ2U7XHJcbnZhciBVc2VyTW9kZWwgPSByZXF1aXJlKCdVc2VyTW9kZWwnKTtcclxudmFyIHVzZXIgPSBVc2VyTW9kZWwuc2hhcmVkSW5zdGFuY2VVc2VyTW9kZWwoKTtcclxuXHJcbnZhciBNb2RlbCA9IEJhc2VNb2RlbC5leHRlbmQoe1xyXG4gIHVybDogJ3t7dXJsX3ByZWZpeH19L3VzZXIvc2lnX2dldC5qc29uJyxcclxuICBiZWZvcmVFbWl0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyDlpoLmnpzpnIDopoHlvIDlkK/lr7nor7fmsYLmlbDmja7nmoTmnKzlnLDnvJPlrZjvvIzlj6/lsIbkuIvliJfkuKTooYzms6jph4rljrvmjolcclxuICAgIC8vIHRoaXMuc3RvcmFnZUNhY2hlID0gdHJ1ZTsgLy/lvIDlkK/mnKzlnLDnvJPlrZhcclxuICAgIC8vIHRoaXMuZXhwaXJhdGlvbiA9IDE7IC8v6K6+572u57yT5a2Y6L+H5pyf5pe26Ze077yIMeihqOekujYwKjYwKjEwMDAg5LiA5bCP5pe277yJXHJcbiAgICAvLyDnu5nor7fmsYLlnLDlnYDmm7/mjaLkuIDkuIvnjq/looPlj5jph49cclxuICAgIGlmICgvXlxce3swLDJ9KHVybF9wcmVmaXgpXFx9ezAsMn0vLnRlc3QodGhpcy51cmwpKSB7XHJcbiAgICAgIHRoaXMudXJsID0gdGhpcy51cmwucmVwbGFjZSgne3t1cmxfcHJlZml4fX0nLCBlbnYudXJsX3ByZWZpeCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLm5vdFRva2VuVVJMID0gdGhpcy51cmw7XHJcbiAgICB0aGlzLmltRGF0YSA9IG51bGw7XHJcbiAgfSxcclxuICAvKipcclxuICAgKiBbaXNBbmNob3Ig5Yik5pat5piv5ZCm5Li65Li75pKtXVxyXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IFtkZXNjcmlwdGlvbl1cclxuICAgKi9cclxuICBpc0FuY2hvcjogZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuICEhdGhpcy5nZXQoJ2RhdGEnKS5hbmNob3I7XHJcbiAgfSxcclxuICBzZXRUb2tlblVybDogZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICB0aGlzLmltRGF0YSA9IHtcclxuICAgICAgZGV2aWNlaW5mbzogJ3tcImFpZFwiOlwiMzAwMDEwMDFcIn0nLFxyXG4gICAgICBhY2Nlc3NfdG9rZW46ICd3ZWItJyArIHRva2VuXHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgc2V0Tm9Ub2tlblVybDogZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5pbURhdGEgPSB7XHJcbiAgICAgIGRldmljZWluZm86ICd7XCJhaWRcIjpcIjMwMDAxMDAxXCJ9J1xyXG4gICAgfTtcclxuICB9LFxyXG4gIC8qKlxyXG4gICAqIFtmZXRjaElNVXNlclNpZyDojrflj5ZJTeetvuWQjV1cclxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2sgW2Rlc2NyaXB0aW9uXVxyXG4gICAqIEBwYXJhbSAge1t0eXBlXX0gICBlcnJvciAgICBbZGVzY3JpcHRpb25dXHJcbiAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgKi9cclxuICBmZXRjaElNVXNlclNpZzogZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gIOWFiOiOt+WPluacrOWcsOetvuWQjVxyXG4gICAgdmFyIGRlZmVyID0gJC5EZWZlcnJlZCgpO1xyXG4gICAgdmFyIHRva2VuO1xyXG4gICAgdmFyIGltU2lnO1xyXG4gICAgaW1TaWcgPSBzdG9yYWdlLmdldCgnaW1TaWcnKTtcclxuICAgIGlmIChpbVNpZykge1xyXG4gICAgICB0aGlzLnNldCh7XHJcbiAgICAgICAgZGF0YTogaW1TaWdcclxuICAgICAgfSk7XHJcbiAgICAgIGRlZmVyLnJlc29sdmUoaW1TaWcpO1xyXG4gICAgICByZXR1cm4gZGVmZXIucHJvbWlzZSgpO1xyXG4gICAgfVxyXG4gICAgdG9rZW4gPSB1c2VyLmdldFRva2VuKCk7XHJcbiAgICBpZiAodG9rZW4pIHtcclxuICAgICAgdGhpcy5zZXRUb2tlblVybCh0b2tlbik7XHJcbiAgICB9XHJcbiAgICB2YXIgc2lnTW9kZWxQcm9taXNlID0gdGhpcy5leGVjdXRlSlNPTlAodGhpcy5pbURhdGEpO1xyXG4gICAgc2lnTW9kZWxQcm9taXNlLmRvbmUoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgc3RvcmFnZS5zZXQoJ2ltU2lnJywgZGF0YSk7XHJcbiAgICAgIGRlZmVyLnJlc29sdmUoZGF0YSk7XHJcbiAgICB9KTtcclxuICAgIHNpZ01vZGVsUHJvbWlzZS5mYWlsKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIGRlZmVyLnJlamVjdChlKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGRlZmVyLnByb21pc2UoKTtcclxuICB9LFxyXG4gIC8vICDmm7TmlrDnvJPlrZhcclxuICB1cGRhdGVJTVVzZXJTaWc6IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBkZWZlciA9ICQuRGVmZXJyZWQoKTtcclxuICAgIHZhciB0b2tlbjtcclxuICAgIHN0b3JhZ2UucmVtb3ZlKCdpbVNpZycpO1xyXG4gICAgdG9rZW4gPSB1c2VyLmdldFRva2VuKCk7XHJcbiAgICBpZiAodG9rZW4pIHtcclxuICAgICAgdGhpcy5zZXRUb2tlblVybCh0b2tlbik7XHJcbiAgICB9XHJcbiAgICB2YXIgc2lnTW9kZWxQcm9taXNlID0gdGhpcy5leGVjdXRlSlNPTlAoKTtcclxuICAgIHNpZ01vZGVsUHJvbWlzZS5kb25lKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgIHN0b3JhZ2Uuc2V0KCdpbVNpZycsIGRhdGEpO1xyXG4gICAgICBkZWZlci5yZXNvbHZlKGRhdGEpO1xyXG4gICAgfSk7XHJcbiAgICBzaWdNb2RlbFByb21pc2UuZmFpbChmdW5jdGlvbiAoZSkge1xyXG4gICAgICBkZWZlci5yZWplY3QoZSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBkZWZlci5wcm9taXNlKCk7XHJcbiAgfSxcclxuICByZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgIHN0b3JhZ2UucmVtb3ZlKCdpbVNpZycpO1xyXG4gIH1cclxufSk7XHJcblxyXG52YXIgc2hhcmVkID0gbnVsbDtcclxuTW9kZWwuc2hhcmVkSW5zdGFuY2VJTU1vZGVsID0gZnVuY3Rpb24gKCkge1xyXG4gIGlmICghc2hhcmVkKSB7XHJcbiAgICBzaGFyZWQgPSBuZXcgTW9kZWwoKTtcclxuICB9XHJcbiAgcmV0dXJuIHNoYXJlZDtcclxufTtcclxubW9kdWxlLmV4cG9ydHMgPSBNb2RlbDtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9zcmMvbW9kdWxlL0lNTW9kZWwvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA0OVxuICoqIG1vZHVsZSBjaHVua3MgPSAxIDIgMyA0IDUgNiA3IDggOSAxMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports){eval('var config = {"scheme":"alpha","env":{"alpha":{"url_prefix":"http://beta.yinyuetai.com:9019"},"beta":{"url_prefix":"http://beta.yinyuetai.com:9019"},"release":{"url_prefix":"http://lapi.yinyuetai.com"}},"prefix":"","domains":{"urlStatic":"http://s.yytcdn.com","loginSite":"http://login.yinyuetai.com","mainSite":"http://www.yinyuetai.com","mvSite":"http://mv.yinyuetai.com","homeSite":"http://i.yinyuetai.com","vchartSite":"http://vchart.yinyuetai.com","commentSite":"http://comment.yinyuetai.com","playlistSite":"http://pl.yinyuetai.com","searcresiehSite":"http://so.yinyuetai.com","vSite":"http://v.yinyuetai.com","fanSite":"","paySite":"","tradeSite":"","shopSite":"","vipSite":""}}; module.exports = config;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZHVsZS9jb25maWcuanM/YjYzMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxjQUFjLHdCQUF3QixTQUFTLDhDQUE4QyxTQUFTLDhDQUE4QyxZQUFZLDBDQUEwQyx3QkFBd0IsNGNBQTRjIiwiZmlsZSI6IjUwLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGNvbmZpZyA9IHtcInNjaGVtZVwiOlwiYWxwaGFcIixcImVudlwiOntcImFscGhhXCI6e1widXJsX3ByZWZpeFwiOlwiaHR0cDovL2JldGEueWlueXVldGFpLmNvbTo5MDE5XCJ9LFwiYmV0YVwiOntcInVybF9wcmVmaXhcIjpcImh0dHA6Ly9iZXRhLnlpbnl1ZXRhaS5jb206OTAxOVwifSxcInJlbGVhc2VcIjp7XCJ1cmxfcHJlZml4XCI6XCJodHRwOi8vbGFwaS55aW55dWV0YWkuY29tXCJ9fSxcInByZWZpeFwiOlwiXCIsXCJkb21haW5zXCI6e1widXJsU3RhdGljXCI6XCJodHRwOi8vcy55eXRjZG4uY29tXCIsXCJsb2dpblNpdGVcIjpcImh0dHA6Ly9sb2dpbi55aW55dWV0YWkuY29tXCIsXCJtYWluU2l0ZVwiOlwiaHR0cDovL3d3dy55aW55dWV0YWkuY29tXCIsXCJtdlNpdGVcIjpcImh0dHA6Ly9tdi55aW55dWV0YWkuY29tXCIsXCJob21lU2l0ZVwiOlwiaHR0cDovL2kueWlueXVldGFpLmNvbVwiLFwidmNoYXJ0U2l0ZVwiOlwiaHR0cDovL3ZjaGFydC55aW55dWV0YWkuY29tXCIsXCJjb21tZW50U2l0ZVwiOlwiaHR0cDovL2NvbW1lbnQueWlueXVldGFpLmNvbVwiLFwicGxheWxpc3RTaXRlXCI6XCJodHRwOi8vcGwueWlueXVldGFpLmNvbVwiLFwic2VhcmNyZXNpZWhTaXRlXCI6XCJodHRwOi8vc28ueWlueXVldGFpLmNvbVwiLFwidlNpdGVcIjpcImh0dHA6Ly92Lnlpbnl1ZXRhaS5jb21cIixcImZhblNpdGVcIjpcIlwiLFwicGF5U2l0ZVwiOlwiXCIsXCJ0cmFkZVNpdGVcIjpcIlwiLFwic2hvcFNpdGVcIjpcIlwiLFwidmlwU2l0ZVwiOlwiXCJ9fTsgbW9kdWxlLmV4cG9ydHMgPSBjb25maWc7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9zcmMvbW9kdWxlL2NvbmZpZy5qc1xuICoqIG1vZHVsZSBpZCA9IDUwXG4gKiogbW9kdWxlIGNodW5rcyA9IDEgMiAzIDQgNSA2IDcgOCA5IDEwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports,__webpack_require__){eval("/**\r\n * Created by YYT on 2016/4/20.\r\n */\r\nvar base = __webpack_require__(28);\r\nvar Auxiliary = __webpack_require__(40);\r\nvar _ = __webpack_require__(27);\r\nvar BaseModel = base.Model;\r\nvar Dialog = __webpack_require__(52);\r\nvar loginBox = __webpack_require__(56);\r\nvar cookie = Auxiliary.cookie;\r\nvar Config = __webpack_require__(50);\r\nvar domains = Config.domains;\r\nvar checkEmailTemplate = __webpack_require__(60);\r\nvar checkEmailHTML = checkEmailTemplate.replace('{homeSite}', domains.homeSite);\r\nvar loginbox = loginBox().dialog;\r\n\r\nvar CheckVIPModel = BaseModel.extend({\r\n  url: 'http://vip.yinyuetai.com/vip/check-vip',\r\n  setEnv: true,\r\n  beforeEmit: function () {\r\n    // 如果需要开启对请求数据的本地缓存，可将下列两行注释去掉\r\n    // this.storageCache = true; //开启本地缓存\r\n    // this.expiration = 1; //设置缓存过期时间（1表示60*60*1000 一小时）\r\n  }\r\n});\r\n\r\nvar FetchUserInfoForDB = BaseModel.extend({\r\n  url: domains.loginSite + '/login-info',\r\n  setEnv: true,\r\n  beforeEmit: function () {\r\n    //  如果需要开启对请求数据的本地缓存，可将下列两行注释去掉\r\n    //  this.storageCache = true; //开启本地缓存\r\n    //  this.expiration = 1; //设置缓存过期时间（1表示60*60*1000 一小时）\r\n  }\r\n});\r\n\r\nvar UserModel = BaseModel.extend({\r\n  setEnv: true,\r\n  beforeEmit: function () {\r\n    //  如果需要开启对请求数据的本地缓存，可将下列两行注释去掉\r\n    //  this.storageCache = true; //开启本地缓存\r\n    //  this.expiration = 1; //设置缓存过期时间（1表示60*60*1000 一小时）\r\n    this.checkVIPModel = new CheckVIPModel();\r\n    this.fetchUserInfoForDBModel = new FetchUserInfoForDB();\r\n  },\r\n  /**\r\n   * [isLogined 判断用户是否登录]\r\n   * @return {Boolean} [description]\r\n   */\r\n  isLogined: function () {\r\n    return !!this.getToken();\r\n  },\r\n  /**\r\n   * [login 检查是否登录，如果未登录调出对话框]\r\n   * @param  {Function} callback [description]\r\n   * @param  {[type]}   onCancel [description]\r\n   * @return {[type]}            [description]\r\n   */\r\n  login: function () {\r\n    var defer = $.Deferred();\r\n    if (this.isLogined()) {\r\n      //  已经登录\r\n      defer.resolve();\r\n    } else {\r\n      loginbox.trigger('show');\r\n      loginbox.once('hide', function () {\r\n        defer.resolve();\r\n      });\r\n    }\r\n    return defer.promise();\r\n  },\r\n  /**\r\n   * [getUserInfo 获取用户信息]\r\n   * @param  {[type]}   key      [description]\r\n   * @param  {Function} callback [description]\r\n   * @return {[type]}            [description]\r\n   */\r\n  getUserInfo: function (key, callback) {\r\n    var value;\r\n    var email;\r\n    var self = this;\r\n    var _key = key;\r\n    var _callback = callback;\r\n    var getParam = function () {\r\n      if (_.isFunction(_key)) {\r\n        return self.get();\r\n      }\r\n      return self.get(_key);\r\n    };\r\n    if (this.isLogined()) {\r\n      email = this.get('isEmailVerified');\r\n      if (!_callback) {\r\n        _callback = _key;\r\n      }\r\n      if (email) {\r\n        if (_.isFunction(_callback)) {\r\n          value = getParam();\r\n          _callback.call(this, value);\r\n        }\r\n      } else {\r\n        this.fetchUserInfo(function () {\r\n          if (_.isFunction(_callback)) {\r\n            value = getParam();\r\n            _callback.call(self, value);\r\n          }\r\n        });\r\n      }\r\n    }\r\n  },\r\n  /**\r\n   * [checkUserEmail 检查用户是否绑定邮箱]\r\n   * @param  {Function} callback [description]\r\n   * @return {[type]}            [description]\r\n   */\r\n  checkUserEmail: function (callback) {\r\n    var self = this;\r\n    this.getUserInfo('isEmailVerified', function (isEmailVerified) {\r\n      if (isEmailVerified) {\r\n        if (typeof callback === 'function') {\r\n          callback.call(self);\r\n        }\r\n      } else {\r\n        Dialog.classInstanceDialog(checkEmailHTML, {\r\n          title: '邮箱验证',\r\n          width: 400,\r\n          height: 100,\r\n          isAutoShow: true\r\n        });\r\n      }\r\n    });\r\n  },\r\n  /**\r\n   * [checkVIPUser 检查是否为VIP用户]\r\n   * @return {[type]} [description]\r\n   */\r\n  checkUserVIP: function (success, error) {\r\n    var vip;\r\n    var self = this;\r\n    if (this.isLogined()) {\r\n      this.login(function () {\r\n        self.fetchVIPInfo(success, error);\r\n      });\r\n    } else {\r\n      vip = this.get('vipInfo');\r\n      if (vip) {\r\n        if (vip && !vip.error && vip.realVip && ~~vip.realVip > 0) {\r\n          success(vip);\r\n        }\r\n      } else {\r\n        this.fetchVIPInfo(success, error);\r\n      }\r\n    }\r\n  },\r\n  /**\r\n   * [emit 初始化]\r\n   * @return {[type]} [description]\r\n   */\r\n  emit: function () {\r\n    var token = this.getToken();\r\n    var uinf = cookie.get('u_inf');\r\n    if (token) {\r\n      if (uinf && uinf.length > 0) {\r\n        this.readUserInfoForCookie(uinf);\r\n      } else {\r\n        this.fetchUserInfo();\r\n      }\r\n    }\r\n  },\r\n  /**\r\n   * [isVIPUser 判断是否是vip用户]\r\n   * @return {Boolean} [description]\r\n   */\r\n  isVIPUser: function () {\r\n    var list;\r\n    var token;\r\n    var val;\r\n    token = cookie.get('token');\r\n    if (token) {\r\n      list = token.split('.');\r\n      if (list.length > 2) {\r\n        val = list[2];\r\n        return ~~val[0] > 0;\r\n      }\r\n    }\r\n    return false;\r\n  },\r\n  /**\r\n   * [readUserInfoForCookie 从cookie中读取用户信息]\r\n   * @param  {[type]} u_inf [description]\r\n   * @return {[type]}       [description]\r\n   */\r\n  readUserInfoForCookie: function (uinfs) {\r\n    var uinf;\r\n    var users;\r\n    var splitChar;\r\n    splitChar = String.fromCharCode(2);\r\n    uinf = decodeURIComponent(uinfs);\r\n    users = uinf.split(splitChar);\r\n    this.set({\r\n      userId: ~~users[0],\r\n      userName: users[1],\r\n      bigheadImg: users[4]\r\n    });\r\n  },\r\n  /**\r\n   * [fetchUserInfo 获取用户信息]\r\n   * @param  {Function} callback [description]\r\n   * @return {[type]}            [description]\r\n   */\r\n  fetchUserInfo: function (callback) {\r\n    var self = this;\r\n    var promise = this.fetchUserInfoForDBModel.executeJSONP();\r\n    promise.done(function (response) {\r\n      self.set(response);\r\n      if (_.isFunction(callback)) {\r\n        callback.call(self);\r\n      }\r\n    });\r\n    promise.fail(function () {\r\n      if (_.isFunction(callback)) {\r\n        callback.call(self.e);\r\n      }\r\n    });\r\n  },\r\n  /**\r\n   * [fetchVIPInfo 获取vip信息]\r\n   * @return {[type]}         [description]\r\n   */\r\n  fetchVIPInfo: function () {\r\n    var self = this;\r\n    var defer = $.Deferred();\r\n    var promise = this.checkVIPModel.executeJSONP();\r\n    promise.done(function (result) {\r\n      if (result && !result.error) {\r\n        if ((result.realVip && parseInt(result.realVip, 10) > 0) || result.isWo) {\r\n          self.set('vipInfo', result);\r\n          defer.resolve.call(self, result);\r\n        }\r\n      }\r\n    });\r\n    promise.fail(function (e) {\r\n      defer.reject.call(self, e);\r\n    });\r\n    return defer.promise();\r\n  },\r\n  /**\r\n   * [getToken 获取token]\r\n   * @return {[type]} [description]\r\n   */\r\n  getToken: function () {\r\n    return cookie.get('token');\r\n  },\r\n  getWebToken: function () {\r\n    var token = cookie.get('token');\r\n    return token ? ('web-' + token) : '';\r\n  },\r\n  /**\r\n   * [getUserId 获取userId]\r\n   * @return {[type]} [description]\r\n   */\r\n  getUserId: function () {\r\n    return this.get('userId');\r\n  }\r\n});\r\n\r\n\r\nvar shared = null;\r\nUserModel.sharedInstanceUserModel = function () {\r\n  if (!shared) {\r\n    shared = new UserModel();\r\n    shared.on('change:userId', function () {\r\n      shared.trigger('login');\r\n    });\r\n    shared.emit();\r\n  }\r\n  return shared;\r\n};\r\n\r\nUserModel.get = function (name) {\r\n  if (shared) {\r\n    return shared.get(name);\r\n  }\r\n  return null;\r\n};\r\n\r\nmodule.exports = UserModel;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZHVsZS9Vc2VyTW9kZWwvaW5kZXguanM/YWNiMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxTQUFTO0FBQzNEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEMsMkJBQTJCO0FBQzNCO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDLDRCQUE0QjtBQUM1QjtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGNBQWMsU0FBUztBQUN2QixjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsU0FBUztBQUN2QixjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGNBQWMsU0FBUztBQUN2QixjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0EsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjUxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENyZWF0ZWQgYnkgWVlUIG9uIDIwMTYvNC8yMC5cclxuICovXHJcbnZhciBiYXNlID0gcmVxdWlyZSgnYmFzZS1leHRlbmQtYmFja2JvbmUnKTtcclxudmFyIEF1eGlsaWFyeSA9IHJlcXVpcmUoJ2F1eGlsaWFyeS1hZGRpdGlvbnMnKTtcclxudmFyIF8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJyk7XHJcbnZhciBCYXNlTW9kZWwgPSBiYXNlLk1vZGVsO1xyXG52YXIgRGlhbG9nID0gcmVxdWlyZSgndWkuRGlhbG9nJyk7XHJcbnZhciBsb2dpbkJveCA9IHJlcXVpcmUoJ2xvZ2luQm94Jyk7XHJcbnZhciBjb29raWUgPSBBdXhpbGlhcnkuY29va2llO1xyXG52YXIgQ29uZmlnID0gcmVxdWlyZSgnY29uZmlnJyk7XHJcbnZhciBkb21haW5zID0gQ29uZmlnLmRvbWFpbnM7XHJcbnZhciBjaGVja0VtYWlsVGVtcGxhdGUgPSByZXF1aXJlKCcuL3RlbXBsYXRlL2VtYWlsLmh0bWwnKTtcclxudmFyIGNoZWNrRW1haWxIVE1MID0gY2hlY2tFbWFpbFRlbXBsYXRlLnJlcGxhY2UoJ3tob21lU2l0ZX0nLCBkb21haW5zLmhvbWVTaXRlKTtcclxudmFyIGxvZ2luYm94ID0gbG9naW5Cb3goKS5kaWFsb2c7XHJcblxyXG52YXIgQ2hlY2tWSVBNb2RlbCA9IEJhc2VNb2RlbC5leHRlbmQoe1xyXG4gIHVybDogJ2h0dHA6Ly92aXAueWlueXVldGFpLmNvbS92aXAvY2hlY2stdmlwJyxcclxuICBzZXRFbnY6IHRydWUsXHJcbiAgYmVmb3JlRW1pdDogZnVuY3Rpb24gKCkge1xyXG4gICAgLy8g5aaC5p6c6ZyA6KaB5byA5ZCv5a+56K+35rGC5pWw5o2u55qE5pys5Zyw57yT5a2Y77yM5Y+v5bCG5LiL5YiX5Lik6KGM5rOo6YeK5Y675o6JXHJcbiAgICAvLyB0aGlzLnN0b3JhZ2VDYWNoZSA9IHRydWU7IC8v5byA5ZCv5pys5Zyw57yT5a2YXHJcbiAgICAvLyB0aGlzLmV4cGlyYXRpb24gPSAxOyAvL+iuvue9rue8k+WtmOi/h+acn+aXtumXtO+8iDHooajnpLo2MCo2MCoxMDAwIOS4gOWwj+aXtu+8iVxyXG4gIH1cclxufSk7XHJcblxyXG52YXIgRmV0Y2hVc2VySW5mb0ZvckRCID0gQmFzZU1vZGVsLmV4dGVuZCh7XHJcbiAgdXJsOiBkb21haW5zLmxvZ2luU2l0ZSArICcvbG9naW4taW5mbycsXHJcbiAgc2V0RW52OiB0cnVlLFxyXG4gIGJlZm9yZUVtaXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICDlpoLmnpzpnIDopoHlvIDlkK/lr7nor7fmsYLmlbDmja7nmoTmnKzlnLDnvJPlrZjvvIzlj6/lsIbkuIvliJfkuKTooYzms6jph4rljrvmjolcclxuICAgIC8vICB0aGlzLnN0b3JhZ2VDYWNoZSA9IHRydWU7IC8v5byA5ZCv5pys5Zyw57yT5a2YXHJcbiAgICAvLyAgdGhpcy5leHBpcmF0aW9uID0gMTsgLy/orr7nva7nvJPlrZjov4fmnJ/ml7bpl7TvvIgx6KGo56S6NjAqNjAqMTAwMCDkuIDlsI/ml7bvvIlcclxuICB9XHJcbn0pO1xyXG5cclxudmFyIFVzZXJNb2RlbCA9IEJhc2VNb2RlbC5leHRlbmQoe1xyXG4gIHNldEVudjogdHJ1ZSxcclxuICBiZWZvcmVFbWl0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAg5aaC5p6c6ZyA6KaB5byA5ZCv5a+56K+35rGC5pWw5o2u55qE5pys5Zyw57yT5a2Y77yM5Y+v5bCG5LiL5YiX5Lik6KGM5rOo6YeK5Y675o6JXHJcbiAgICAvLyAgdGhpcy5zdG9yYWdlQ2FjaGUgPSB0cnVlOyAvL+W8gOWQr+acrOWcsOe8k+WtmFxyXG4gICAgLy8gIHRoaXMuZXhwaXJhdGlvbiA9IDE7IC8v6K6+572u57yT5a2Y6L+H5pyf5pe26Ze077yIMeihqOekujYwKjYwKjEwMDAg5LiA5bCP5pe277yJXHJcbiAgICB0aGlzLmNoZWNrVklQTW9kZWwgPSBuZXcgQ2hlY2tWSVBNb2RlbCgpO1xyXG4gICAgdGhpcy5mZXRjaFVzZXJJbmZvRm9yREJNb2RlbCA9IG5ldyBGZXRjaFVzZXJJbmZvRm9yREIoKTtcclxuICB9LFxyXG4gIC8qKlxyXG4gICAqIFtpc0xvZ2luZWQg5Yik5pat55So5oi35piv5ZCm55m75b2VXVxyXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IFtkZXNjcmlwdGlvbl1cclxuICAgKi9cclxuICBpc0xvZ2luZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiAhIXRoaXMuZ2V0VG9rZW4oKTtcclxuICB9LFxyXG4gIC8qKlxyXG4gICAqIFtsb2dpbiDmo4Dmn6XmmK/lkKbnmbvlvZXvvIzlpoLmnpzmnKrnmbvlvZXosIPlh7rlr7nor53moYZdXHJcbiAgICogQHBhcmFtICB7RnVuY3Rpb259IGNhbGxiYWNrIFtkZXNjcmlwdGlvbl1cclxuICAgKiBAcGFyYW0gIHtbdHlwZV19ICAgb25DYW5jZWwgW2Rlc2NyaXB0aW9uXVxyXG4gICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAgICovXHJcbiAgbG9naW46IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBkZWZlciA9ICQuRGVmZXJyZWQoKTtcclxuICAgIGlmICh0aGlzLmlzTG9naW5lZCgpKSB7XHJcbiAgICAgIC8vICDlt7Lnu4/nmbvlvZVcclxuICAgICAgZGVmZXIucmVzb2x2ZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbG9naW5ib3gudHJpZ2dlcignc2hvdycpO1xyXG4gICAgICBsb2dpbmJveC5vbmNlKCdoaWRlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGRlZmVyLnJlc29sdmUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGVmZXIucHJvbWlzZSgpO1xyXG4gIH0sXHJcbiAgLyoqXHJcbiAgICogW2dldFVzZXJJbmZvIOiOt+WPlueUqOaIt+S/oeaBr11cclxuICAgKiBAcGFyYW0gIHtbdHlwZV19ICAga2V5ICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBjYWxsYmFjayBbZGVzY3JpcHRpb25dXHJcbiAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgKi9cclxuICBnZXRVc2VySW5mbzogZnVuY3Rpb24gKGtleSwgY2FsbGJhY2spIHtcclxuICAgIHZhciB2YWx1ZTtcclxuICAgIHZhciBlbWFpbDtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBfa2V5ID0ga2V5O1xyXG4gICAgdmFyIF9jYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgdmFyIGdldFBhcmFtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAoXy5pc0Z1bmN0aW9uKF9rZXkpKSB7XHJcbiAgICAgICAgcmV0dXJuIHNlbGYuZ2V0KCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHNlbGYuZ2V0KF9rZXkpO1xyXG4gICAgfTtcclxuICAgIGlmICh0aGlzLmlzTG9naW5lZCgpKSB7XHJcbiAgICAgIGVtYWlsID0gdGhpcy5nZXQoJ2lzRW1haWxWZXJpZmllZCcpO1xyXG4gICAgICBpZiAoIV9jYWxsYmFjaykge1xyXG4gICAgICAgIF9jYWxsYmFjayA9IF9rZXk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGVtYWlsKSB7XHJcbiAgICAgICAgaWYgKF8uaXNGdW5jdGlvbihfY2FsbGJhY2spKSB7XHJcbiAgICAgICAgICB2YWx1ZSA9IGdldFBhcmFtKCk7XHJcbiAgICAgICAgICBfY2FsbGJhY2suY2FsbCh0aGlzLCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuZmV0Y2hVc2VySW5mbyhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBpZiAoXy5pc0Z1bmN0aW9uKF9jYWxsYmFjaykpIHtcclxuICAgICAgICAgICAgdmFsdWUgPSBnZXRQYXJhbSgpO1xyXG4gICAgICAgICAgICBfY2FsbGJhY2suY2FsbChzZWxmLCB2YWx1ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG4gIC8qKlxyXG4gICAqIFtjaGVja1VzZXJFbWFpbCDmo4Dmn6XnlKjmiLfmmK/lkKbnu5Hlrprpgq7nrrFdXHJcbiAgICogQHBhcmFtICB7RnVuY3Rpb259IGNhbGxiYWNrIFtkZXNjcmlwdGlvbl1cclxuICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gICAqL1xyXG4gIGNoZWNrVXNlckVtYWlsOiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHRoaXMuZ2V0VXNlckluZm8oJ2lzRW1haWxWZXJpZmllZCcsIGZ1bmN0aW9uIChpc0VtYWlsVmVyaWZpZWQpIHtcclxuICAgICAgaWYgKGlzRW1haWxWZXJpZmllZCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgIGNhbGxiYWNrLmNhbGwoc2VsZik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIERpYWxvZy5jbGFzc0luc3RhbmNlRGlhbG9nKGNoZWNrRW1haWxIVE1MLCB7XHJcbiAgICAgICAgICB0aXRsZTogJ+mCrueusemqjOivgScsXHJcbiAgICAgICAgICB3aWR0aDogNDAwLFxyXG4gICAgICAgICAgaGVpZ2h0OiAxMDAsXHJcbiAgICAgICAgICBpc0F1dG9TaG93OiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgLyoqXHJcbiAgICogW2NoZWNrVklQVXNlciDmo4Dmn6XmmK/lkKbkuLpWSVDnlKjmiLddXHJcbiAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICovXHJcbiAgY2hlY2tVc2VyVklQOiBmdW5jdGlvbiAoc3VjY2VzcywgZXJyb3IpIHtcclxuICAgIHZhciB2aXA7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBpZiAodGhpcy5pc0xvZ2luZWQoKSkge1xyXG4gICAgICB0aGlzLmxvZ2luKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLmZldGNoVklQSW5mbyhzdWNjZXNzLCBlcnJvcik7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmlwID0gdGhpcy5nZXQoJ3ZpcEluZm8nKTtcclxuICAgICAgaWYgKHZpcCkge1xyXG4gICAgICAgIGlmICh2aXAgJiYgIXZpcC5lcnJvciAmJiB2aXAucmVhbFZpcCAmJiB+fnZpcC5yZWFsVmlwID4gMCkge1xyXG4gICAgICAgICAgc3VjY2Vzcyh2aXApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmZldGNoVklQSW5mbyhzdWNjZXNzLCBlcnJvcik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG4gIC8qKlxyXG4gICAqIFtlbWl0IOWIneWni+WMll1cclxuICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgKi9cclxuICBlbWl0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgdG9rZW4gPSB0aGlzLmdldFRva2VuKCk7XHJcbiAgICB2YXIgdWluZiA9IGNvb2tpZS5nZXQoJ3VfaW5mJyk7XHJcbiAgICBpZiAodG9rZW4pIHtcclxuICAgICAgaWYgKHVpbmYgJiYgdWluZi5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgdGhpcy5yZWFkVXNlckluZm9Gb3JDb29raWUodWluZik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5mZXRjaFVzZXJJbmZvKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG4gIC8qKlxyXG4gICAqIFtpc1ZJUFVzZXIg5Yik5pat5piv5ZCm5pivdmlw55So5oi3XVxyXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IFtkZXNjcmlwdGlvbl1cclxuICAgKi9cclxuICBpc1ZJUFVzZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBsaXN0O1xyXG4gICAgdmFyIHRva2VuO1xyXG4gICAgdmFyIHZhbDtcclxuICAgIHRva2VuID0gY29va2llLmdldCgndG9rZW4nKTtcclxuICAgIGlmICh0b2tlbikge1xyXG4gICAgICBsaXN0ID0gdG9rZW4uc3BsaXQoJy4nKTtcclxuICAgICAgaWYgKGxpc3QubGVuZ3RoID4gMikge1xyXG4gICAgICAgIHZhbCA9IGxpc3RbMl07XHJcbiAgICAgICAgcmV0dXJuIH5+dmFsWzBdID4gMDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH0sXHJcbiAgLyoqXHJcbiAgICogW3JlYWRVc2VySW5mb0ZvckNvb2tpZSDku45jb29raWXkuK3or7vlj5bnlKjmiLfkv6Hmga9dXHJcbiAgICogQHBhcmFtICB7W3R5cGVdfSB1X2luZiBbZGVzY3JpcHRpb25dXHJcbiAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAgICovXHJcbiAgcmVhZFVzZXJJbmZvRm9yQ29va2llOiBmdW5jdGlvbiAodWluZnMpIHtcclxuICAgIHZhciB1aW5mO1xyXG4gICAgdmFyIHVzZXJzO1xyXG4gICAgdmFyIHNwbGl0Q2hhcjtcclxuICAgIHNwbGl0Q2hhciA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMik7XHJcbiAgICB1aW5mID0gZGVjb2RlVVJJQ29tcG9uZW50KHVpbmZzKTtcclxuICAgIHVzZXJzID0gdWluZi5zcGxpdChzcGxpdENoYXIpO1xyXG4gICAgdGhpcy5zZXQoe1xyXG4gICAgICB1c2VySWQ6IH5+dXNlcnNbMF0sXHJcbiAgICAgIHVzZXJOYW1lOiB1c2Vyc1sxXSxcclxuICAgICAgYmlnaGVhZEltZzogdXNlcnNbNF1cclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgLyoqXHJcbiAgICogW2ZldGNoVXNlckluZm8g6I635Y+W55So5oi35L+h5oGvXVxyXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBjYWxsYmFjayBbZGVzY3JpcHRpb25dXHJcbiAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgKi9cclxuICBmZXRjaFVzZXJJbmZvOiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBwcm9taXNlID0gdGhpcy5mZXRjaFVzZXJJbmZvRm9yREJNb2RlbC5leGVjdXRlSlNPTlAoKTtcclxuICAgIHByb21pc2UuZG9uZShmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgc2VsZi5zZXQocmVzcG9uc2UpO1xyXG4gICAgICBpZiAoXy5pc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xyXG4gICAgICAgIGNhbGxiYWNrLmNhbGwoc2VsZik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcHJvbWlzZS5mYWlsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKF8uaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcclxuICAgICAgICBjYWxsYmFjay5jYWxsKHNlbGYuZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgLyoqXHJcbiAgICogW2ZldGNoVklQSW5mbyDojrflj5Z2aXDkv6Hmga9dXHJcbiAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgKi9cclxuICBmZXRjaFZJUEluZm86IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBkZWZlciA9ICQuRGVmZXJyZWQoKTtcclxuICAgIHZhciBwcm9taXNlID0gdGhpcy5jaGVja1ZJUE1vZGVsLmV4ZWN1dGVKU09OUCgpO1xyXG4gICAgcHJvbWlzZS5kb25lKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgaWYgKHJlc3VsdCAmJiAhcmVzdWx0LmVycm9yKSB7XHJcbiAgICAgICAgaWYgKChyZXN1bHQucmVhbFZpcCAmJiBwYXJzZUludChyZXN1bHQucmVhbFZpcCwgMTApID4gMCkgfHwgcmVzdWx0LmlzV28pIHtcclxuICAgICAgICAgIHNlbGYuc2V0KCd2aXBJbmZvJywgcmVzdWx0KTtcclxuICAgICAgICAgIGRlZmVyLnJlc29sdmUuY2FsbChzZWxmLCByZXN1bHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBwcm9taXNlLmZhaWwoZnVuY3Rpb24gKGUpIHtcclxuICAgICAgZGVmZXIucmVqZWN0LmNhbGwoc2VsZiwgZSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBkZWZlci5wcm9taXNlKCk7XHJcbiAgfSxcclxuICAvKipcclxuICAgKiBbZ2V0VG9rZW4g6I635Y+WdG9rZW5dXHJcbiAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAgICovXHJcbiAgZ2V0VG9rZW46IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiBjb29raWUuZ2V0KCd0b2tlbicpO1xyXG4gIH0sXHJcbiAgZ2V0V2ViVG9rZW46IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB0b2tlbiA9IGNvb2tpZS5nZXQoJ3Rva2VuJyk7XHJcbiAgICByZXR1cm4gdG9rZW4gPyAoJ3dlYi0nICsgdG9rZW4pIDogJyc7XHJcbiAgfSxcclxuICAvKipcclxuICAgKiBbZ2V0VXNlcklkIOiOt+WPlnVzZXJJZF1cclxuICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICAgKi9cclxuICBnZXRVc2VySWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiB0aGlzLmdldCgndXNlcklkJyk7XHJcbiAgfVxyXG59KTtcclxuXHJcblxyXG52YXIgc2hhcmVkID0gbnVsbDtcclxuVXNlck1vZGVsLnNoYXJlZEluc3RhbmNlVXNlck1vZGVsID0gZnVuY3Rpb24gKCkge1xyXG4gIGlmICghc2hhcmVkKSB7XHJcbiAgICBzaGFyZWQgPSBuZXcgVXNlck1vZGVsKCk7XHJcbiAgICBzaGFyZWQub24oJ2NoYW5nZTp1c2VySWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHNoYXJlZC50cmlnZ2VyKCdsb2dpbicpO1xyXG4gICAgfSk7XHJcbiAgICBzaGFyZWQuZW1pdCgpO1xyXG4gIH1cclxuICByZXR1cm4gc2hhcmVkO1xyXG59O1xyXG5cclxuVXNlck1vZGVsLmdldCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgaWYgKHNoYXJlZCkge1xyXG4gICAgcmV0dXJuIHNoYXJlZC5nZXQobmFtZSk7XHJcbiAgfVxyXG4gIHJldHVybiBudWxsO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBVc2VyTW9kZWw7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvc3JjL21vZHVsZS9Vc2VyTW9kZWwvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA1MVxuICoqIG1vZHVsZSBjaHVua3MgPSAxIDIgMyA0IDUgNiA3IDggOSAxMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");
},function(module,exports,__webpack_require__){eval("/*\r\n clientRender:{bool} // 默认设置为false，如果为true，内部将不会调用rawLoader方法或者根据templateUrl请求模版\r\n */\r\n\r\n\r\n/**\r\n * @time {时间}\r\n * @author {编写者}\r\n * @info 场控管理列表\r\n */\r\n\r\n'use strict';\r\nvar base = __webpack_require__(28);\r\nvar BaseView = base.View; // View的基类\r\nvar Mask = __webpack_require__(53);\r\nvar mask;\r\nvar uid = 999;\r\nvar _ = __webpack_require__(27);\r\n\r\nvar View = BaseView.extend({\r\n  clientRender: false,\r\n  events: {\r\n    //  监听事件\r\n    'click .J_close': '_close'\r\n  },\r\n  //  当模板挂载到元素之前\r\n  beforeMount: function () {\r\n    this.id = 'YYT_UI_Dialog' + (uid++);\r\n    this.options = {\r\n      width: '',    // box宽度\r\n      height: '',   // box高度\r\n      hasMark: true, // 是否显示遮罩层\r\n      hasClose: true,    // 是否显示关闭按钮\r\n      isRemoveAfterHide: true,   // 隐藏后是否自动销毁相关dom\r\n      isAutoShow: true,  // 是否自动显示dialog\r\n      title: '',\r\n      className: '',\r\n      effect: 'fade',    // 显示效果 可选none, fade\r\n      draggable: false,\r\n      mainClass: 'dialog',\r\n      closeClass: 'ico_close J_close icons close',\r\n      closeText: '关闭',\r\n      onShow: function () {\r\n      },\r\n      onHide: function () {\r\n      }\r\n    };\r\n    this.options = _.extend(this.options, this._ICEOptions);\r\n    this._status = false;\r\n    this.$el = $('<div id=\"' + this.id + '\" class=\"' + this.options.mainClass + '\"/>')\r\n      .append(this.$el.show())\r\n      .addClass(this.options.className)\r\n      .appendTo(document.body);\r\n    this.$title = this.$el.find('.upload-title');\r\n    this._ICEinitEvent();\r\n  },\r\n  // 当模板挂载到元素之后\r\n  afterMount: function () {\r\n    this.closeTemp = __webpack_require__(54);\r\n    this.titleTemp = __webpack_require__(55);\r\n  },\r\n  // 当事件监听器，内部实例初始化完成，模板挂载到文档之后\r\n  ready: function () {\r\n    this._renderTitle();\r\n    this._renderClose();\r\n    this._adjustPosition();\r\n    this.on('show', function () {\r\n      this._status = true;\r\n      this._toggle('show');\r\n    });\r\n    this.on('hide', function () {\r\n      this._status = false;\r\n      this._toggle('hide');\r\n    });\r\n    this.on('show', this.options.onShow, this.$el);\r\n    this.on('hide', this.options.onHide, this.$el);\r\n    if (this.options.isAutoShow) {\r\n      this.trigger('show');\r\n    }\r\n    if (typeof this.options.attached === 'function') {\r\n      this.options.attached.call(this);\r\n    }\r\n  },\r\n  _renderTitle: function () {\r\n    var title = this.options.title;\r\n    if (title) {\r\n      this.$title.text(title);\r\n      //  var titleHTML = this.titleTemp.replace('{{title}}',title);\r\n      //  this.$title = $(titleHTML).prependTo(this.$el);\r\n    }\r\n  },\r\n  _renderClose: function () {\r\n    var self = this;\r\n    var id = 'dialogClose' + (uid++);\r\n    var closeHTML;\r\n    if (this.options.hasClose) {\r\n      closeHTML = this.compileHTML(this.closeTemp, {\r\n        closeClass: this.options.closeClass,\r\n        closeText: this.options.closeText,\r\n        id: id\r\n      });\r\n      $(closeHTML).attr('hidefocus', 'true').appendTo(this.$el);\r\n      $('#' + id).on('click', function (e) {\r\n        e.preventDefault();\r\n        self.hide();\r\n      });\r\n    }\r\n  },\r\n  _adjustPosition: function () {\r\n    var size = {\r\n      width: this.options.width || this.$el.innerWidth(),\r\n      height: this.options.height ? this.options.height : this.$el.innerHeight()\r\n    };\r\n    this.$el.css(_.extend({\r\n      marginLeft: -(size.width / 2),\r\n      marginTop: -(size.height / 2)\r\n    }, size));\r\n  },\r\n  _close: function () {\r\n    this.trigger('hide');\r\n  },\r\n  _toggle: function (action) {\r\n    var effect = this.options.effect;\r\n    var self = this;\r\n    if (action === 'show') {\r\n      if (effect === 'none') {\r\n        this.$el.css('display', 'block');\r\n      } else if (effect === 'fade') {\r\n        this.$el.fadeIn();\r\n      }\r\n    } else if (action === 'hide') {\r\n      if (effect === 'none') {\r\n        this.$el.css('display', 'none');\r\n      } else if (effect === 'fade') {\r\n        this.$el.fadeOut();\r\n      }\r\n      if (this.options.isRemoveAfterHide) {\r\n        setTimeout(function () {\r\n          self.$el.remove();\r\n        }, 2000);\r\n      }\r\n    }\r\n    this._toggleMask(action);\r\n  },\r\n  _toggleMask: function (action) {\r\n    if (this.options.hasMark) {\r\n      if (action === 'show') {\r\n        mask.show();\r\n      } else if (action === 'hide') {\r\n        mask.hide();\r\n      }\r\n    }\r\n  },\r\n  status: function () {\r\n    return this._status ? 'show' : 'hide';\r\n  },\r\n  show: function () {\r\n    this.trigger('show');\r\n    return this;\r\n  },\r\n  hide: function () {\r\n    this.trigger('hide');\r\n    return this;\r\n  },\r\n  destroy: function () {\r\n    this.$el.remove();\r\n    mask.hide();\r\n  },\r\n  resize: function (width, height) {\r\n    this.options.width = width;\r\n    this.options.height = height;\r\n    this._adjustPosition();\r\n    return this;\r\n  },\r\n  title: function (title) {\r\n    if (this.$title) {\r\n      this.$title.html(title);\r\n    }\r\n    return this;\r\n  }\r\n});\r\nvar shared = null;\r\nView.sharedInstanceDialog = function (options) {\r\n  if (!shared) {\r\n    if (!mask) {\r\n      mask = Mask.classInstanceMask();\r\n    }\r\n    shared = new View(options || {});\r\n  }\r\n  return shared;\r\n};\r\nView.classInstanceDialog = function (content, options) {\r\n  var ops = options || {};\r\n  ops.el = content || '<b>11111111</b>';\r\n  if (!mask) {\r\n    mask = Mask.classInstanceMask();\r\n  }\r\n  return new View(ops);\r\n};\r\nmodule.exports = View;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZHVsZS9kaWFsb2cvaW5kZXguanM/NThjNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLGVBQWUsS0FBSztBQUNwQjs7O0FBR0E7QUFDQSxVQUFVO0FBQ1YsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsT0FBTztBQUMzRDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiI1Mi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiBjbGllbnRSZW5kZXI6e2Jvb2x9IC8vIOm7mOiupOiuvue9ruS4umZhbHNl77yM5aaC5p6c5Li6dHJ1Ze+8jOWGhemDqOWwhuS4jeS8muiwg+eUqHJhd0xvYWRlcuaWueazleaIluiAheagueaNrnRlbXBsYXRlVXJs6K+35rGC5qih54mIXHJcbiAqL1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAdGltZSB75pe26Ze0fVxyXG4gKiBAYXV0aG9yIHvnvJblhpnogIV9XHJcbiAqIEBpbmZvIOWcuuaOp+euoeeQhuWIl+ihqFxyXG4gKi9cclxuXHJcbid1c2Ugc3RyaWN0JztcclxudmFyIGJhc2UgPSByZXF1aXJlKCdiYXNlLWV4dGVuZC1iYWNrYm9uZScpO1xyXG52YXIgQmFzZVZpZXcgPSBiYXNlLlZpZXc7IC8vIFZpZXfnmoTln7rnsbtcclxudmFyIE1hc2sgPSByZXF1aXJlKCcuL21hc2suanMnKTtcclxudmFyIG1hc2s7XHJcbnZhciB1aWQgPSA5OTk7XHJcbnZhciBfID0gcmVxdWlyZSgndW5kZXJzY29yZScpO1xyXG5cclxudmFyIFZpZXcgPSBCYXNlVmlldy5leHRlbmQoe1xyXG4gIGNsaWVudFJlbmRlcjogZmFsc2UsXHJcbiAgZXZlbnRzOiB7XHJcbiAgICAvLyAg55uR5ZCs5LqL5Lu2XHJcbiAgICAnY2xpY2sgLkpfY2xvc2UnOiAnX2Nsb3NlJ1xyXG4gIH0sXHJcbiAgLy8gIOW9k+aooeadv+aMgui9veWIsOWFg+e0oOS5i+WJjVxyXG4gIGJlZm9yZU1vdW50OiBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLmlkID0gJ1lZVF9VSV9EaWFsb2cnICsgKHVpZCsrKTtcclxuICAgIHRoaXMub3B0aW9ucyA9IHtcclxuICAgICAgd2lkdGg6ICcnLCAgICAvLyBib3jlrr3luqZcclxuICAgICAgaGVpZ2h0OiAnJywgICAvLyBib3jpq5jluqZcclxuICAgICAgaGFzTWFyazogdHJ1ZSwgLy8g5piv5ZCm5pi+56S66YGu572p5bGCXHJcbiAgICAgIGhhc0Nsb3NlOiB0cnVlLCAgICAvLyDmmK/lkKbmmL7npLrlhbPpl63mjInpkq5cclxuICAgICAgaXNSZW1vdmVBZnRlckhpZGU6IHRydWUsICAgLy8g6ZqQ6JeP5ZCO5piv5ZCm6Ieq5Yqo6ZSA5q+B55u45YWzZG9tXHJcbiAgICAgIGlzQXV0b1Nob3c6IHRydWUsICAvLyDmmK/lkKboh6rliqjmmL7npLpkaWFsb2dcclxuICAgICAgdGl0bGU6ICcnLFxyXG4gICAgICBjbGFzc05hbWU6ICcnLFxyXG4gICAgICBlZmZlY3Q6ICdmYWRlJywgICAgLy8g5pi+56S65pWI5p6cIOWPr+mAiW5vbmUsIGZhZGVcclxuICAgICAgZHJhZ2dhYmxlOiBmYWxzZSxcclxuICAgICAgbWFpbkNsYXNzOiAnZGlhbG9nJyxcclxuICAgICAgY2xvc2VDbGFzczogJ2ljb19jbG9zZSBKX2Nsb3NlIGljb25zIGNsb3NlJyxcclxuICAgICAgY2xvc2VUZXh0OiAn5YWz6ZetJyxcclxuICAgICAgb25TaG93OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIH0sXHJcbiAgICAgIG9uSGlkZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhpcy5vcHRpb25zID0gXy5leHRlbmQodGhpcy5vcHRpb25zLCB0aGlzLl9JQ0VPcHRpb25zKTtcclxuICAgIHRoaXMuX3N0YXR1cyA9IGZhbHNlO1xyXG4gICAgdGhpcy4kZWwgPSAkKCc8ZGl2IGlkPVwiJyArIHRoaXMuaWQgKyAnXCIgY2xhc3M9XCInICsgdGhpcy5vcHRpb25zLm1haW5DbGFzcyArICdcIi8+JylcclxuICAgICAgLmFwcGVuZCh0aGlzLiRlbC5zaG93KCkpXHJcbiAgICAgIC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3NOYW1lKVxyXG4gICAgICAuYXBwZW5kVG8oZG9jdW1lbnQuYm9keSk7XHJcbiAgICB0aGlzLiR0aXRsZSA9IHRoaXMuJGVsLmZpbmQoJy51cGxvYWQtdGl0bGUnKTtcclxuICAgIHRoaXMuX0lDRWluaXRFdmVudCgpO1xyXG4gIH0sXHJcbiAgLy8g5b2T5qih5p2/5oyC6L295Yiw5YWD57Sg5LmL5ZCOXHJcbiAgYWZ0ZXJNb3VudDogZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5jbG9zZVRlbXAgPSByZXF1aXJlKCcuL3RlbXBsYXRlL2Nsb3NlLmh0bWwnKTtcclxuICAgIHRoaXMudGl0bGVUZW1wID0gcmVxdWlyZSgnLi90ZW1wbGF0ZS90aXRsZS5odG1sJyk7XHJcbiAgfSxcclxuICAvLyDlvZPkuovku7bnm5HlkKzlmajvvIzlhoXpg6jlrp7kvovliJ3lp4vljJblrozmiJDvvIzmqKHmnb/mjILovb3liLDmlofmoaPkuYvlkI5cclxuICByZWFkeTogZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5fcmVuZGVyVGl0bGUoKTtcclxuICAgIHRoaXMuX3JlbmRlckNsb3NlKCk7XHJcbiAgICB0aGlzLl9hZGp1c3RQb3NpdGlvbigpO1xyXG4gICAgdGhpcy5vbignc2hvdycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgdGhpcy5fc3RhdHVzID0gdHJ1ZTtcclxuICAgICAgdGhpcy5fdG9nZ2xlKCdzaG93Jyk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMub24oJ2hpZGUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHRoaXMuX3N0YXR1cyA9IGZhbHNlO1xyXG4gICAgICB0aGlzLl90b2dnbGUoJ2hpZGUnKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5vbignc2hvdycsIHRoaXMub3B0aW9ucy5vblNob3csIHRoaXMuJGVsKTtcclxuICAgIHRoaXMub24oJ2hpZGUnLCB0aGlzLm9wdGlvbnMub25IaWRlLCB0aGlzLiRlbCk7XHJcbiAgICBpZiAodGhpcy5vcHRpb25zLmlzQXV0b1Nob3cpIHtcclxuICAgICAgdGhpcy50cmlnZ2VyKCdzaG93Jyk7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5hdHRhY2hlZCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICB0aGlzLm9wdGlvbnMuYXR0YWNoZWQuY2FsbCh0aGlzKTtcclxuICAgIH1cclxuICB9LFxyXG4gIF9yZW5kZXJUaXRsZTogZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHRpdGxlID0gdGhpcy5vcHRpb25zLnRpdGxlO1xyXG4gICAgaWYgKHRpdGxlKSB7XHJcbiAgICAgIHRoaXMuJHRpdGxlLnRleHQodGl0bGUpO1xyXG4gICAgICAvLyAgdmFyIHRpdGxlSFRNTCA9IHRoaXMudGl0bGVUZW1wLnJlcGxhY2UoJ3t7dGl0bGV9fScsdGl0bGUpO1xyXG4gICAgICAvLyAgdGhpcy4kdGl0bGUgPSAkKHRpdGxlSFRNTCkucHJlcGVuZFRvKHRoaXMuJGVsKTtcclxuICAgIH1cclxuICB9LFxyXG4gIF9yZW5kZXJDbG9zZTogZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIGlkID0gJ2RpYWxvZ0Nsb3NlJyArICh1aWQrKyk7XHJcbiAgICB2YXIgY2xvc2VIVE1MO1xyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5oYXNDbG9zZSkge1xyXG4gICAgICBjbG9zZUhUTUwgPSB0aGlzLmNvbXBpbGVIVE1MKHRoaXMuY2xvc2VUZW1wLCB7XHJcbiAgICAgICAgY2xvc2VDbGFzczogdGhpcy5vcHRpb25zLmNsb3NlQ2xhc3MsXHJcbiAgICAgICAgY2xvc2VUZXh0OiB0aGlzLm9wdGlvbnMuY2xvc2VUZXh0LFxyXG4gICAgICAgIGlkOiBpZFxyXG4gICAgICB9KTtcclxuICAgICAgJChjbG9zZUhUTUwpLmF0dHIoJ2hpZGVmb2N1cycsICd0cnVlJykuYXBwZW5kVG8odGhpcy4kZWwpO1xyXG4gICAgICAkKCcjJyArIGlkKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBzZWxmLmhpZGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSxcclxuICBfYWRqdXN0UG9zaXRpb246IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzaXplID0ge1xyXG4gICAgICB3aWR0aDogdGhpcy5vcHRpb25zLndpZHRoIHx8IHRoaXMuJGVsLmlubmVyV2lkdGgoKSxcclxuICAgICAgaGVpZ2h0OiB0aGlzLm9wdGlvbnMuaGVpZ2h0ID8gdGhpcy5vcHRpb25zLmhlaWdodCA6IHRoaXMuJGVsLmlubmVySGVpZ2h0KClcclxuICAgIH07XHJcbiAgICB0aGlzLiRlbC5jc3MoXy5leHRlbmQoe1xyXG4gICAgICBtYXJnaW5MZWZ0OiAtKHNpemUud2lkdGggLyAyKSxcclxuICAgICAgbWFyZ2luVG9wOiAtKHNpemUuaGVpZ2h0IC8gMilcclxuICAgIH0sIHNpemUpKTtcclxuICB9LFxyXG4gIF9jbG9zZTogZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy50cmlnZ2VyKCdoaWRlJyk7XHJcbiAgfSxcclxuICBfdG9nZ2xlOiBmdW5jdGlvbiAoYWN0aW9uKSB7XHJcbiAgICB2YXIgZWZmZWN0ID0gdGhpcy5vcHRpb25zLmVmZmVjdDtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIGlmIChhY3Rpb24gPT09ICdzaG93Jykge1xyXG4gICAgICBpZiAoZWZmZWN0ID09PSAnbm9uZScpIHtcclxuICAgICAgICB0aGlzLiRlbC5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgfSBlbHNlIGlmIChlZmZlY3QgPT09ICdmYWRlJykge1xyXG4gICAgICAgIHRoaXMuJGVsLmZhZGVJbigpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gJ2hpZGUnKSB7XHJcbiAgICAgIGlmIChlZmZlY3QgPT09ICdub25lJykge1xyXG4gICAgICAgIHRoaXMuJGVsLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgIH0gZWxzZSBpZiAoZWZmZWN0ID09PSAnZmFkZScpIHtcclxuICAgICAgICB0aGlzLiRlbC5mYWRlT3V0KCk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5pc1JlbW92ZUFmdGVySGlkZSkge1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgc2VsZi4kZWwucmVtb3ZlKCk7XHJcbiAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMuX3RvZ2dsZU1hc2soYWN0aW9uKTtcclxuICB9LFxyXG4gIF90b2dnbGVNYXNrOiBmdW5jdGlvbiAoYWN0aW9uKSB7XHJcbiAgICBpZiAodGhpcy5vcHRpb25zLmhhc01hcmspIHtcclxuICAgICAgaWYgKGFjdGlvbiA9PT0gJ3Nob3cnKSB7XHJcbiAgICAgICAgbWFzay5zaG93KCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSAnaGlkZScpIHtcclxuICAgICAgICBtYXNrLmhpZGUoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgc3RhdHVzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fc3RhdHVzID8gJ3Nob3cnIDogJ2hpZGUnO1xyXG4gIH0sXHJcbiAgc2hvdzogZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy50cmlnZ2VyKCdzaG93Jyk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9LFxyXG4gIGhpZGU6IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMudHJpZ2dlcignaGlkZScpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfSxcclxuICBkZXN0cm95OiBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLiRlbC5yZW1vdmUoKTtcclxuICAgIG1hc2suaGlkZSgpO1xyXG4gIH0sXHJcbiAgcmVzaXplOiBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkge1xyXG4gICAgdGhpcy5vcHRpb25zLndpZHRoID0gd2lkdGg7XHJcbiAgICB0aGlzLm9wdGlvbnMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgdGhpcy5fYWRqdXN0UG9zaXRpb24oKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH0sXHJcbiAgdGl0bGU6IGZ1bmN0aW9uICh0aXRsZSkge1xyXG4gICAgaWYgKHRoaXMuJHRpdGxlKSB7XHJcbiAgICAgIHRoaXMuJHRpdGxlLmh0bWwodGl0bGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG59KTtcclxudmFyIHNoYXJlZCA9IG51bGw7XHJcblZpZXcuc2hhcmVkSW5zdGFuY2VEaWFsb2cgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gIGlmICghc2hhcmVkKSB7XHJcbiAgICBpZiAoIW1hc2spIHtcclxuICAgICAgbWFzayA9IE1hc2suY2xhc3NJbnN0YW5jZU1hc2soKTtcclxuICAgIH1cclxuICAgIHNoYXJlZCA9IG5ldyBWaWV3KG9wdGlvbnMgfHwge30pO1xyXG4gIH1cclxuICByZXR1cm4gc2hhcmVkO1xyXG59O1xyXG5WaWV3LmNsYXNzSW5zdGFuY2VEaWFsb2cgPSBmdW5jdGlvbiAoY29udGVudCwgb3B0aW9ucykge1xyXG4gIHZhciBvcHMgPSBvcHRpb25zIHx8IHt9O1xyXG4gIG9wcy5lbCA9IGNvbnRlbnQgfHwgJzxiPjExMTExMTExPC9iPic7XHJcbiAgaWYgKCFtYXNrKSB7XHJcbiAgICBtYXNrID0gTWFzay5jbGFzc0luc3RhbmNlTWFzaygpO1xyXG4gIH1cclxuICByZXR1cm4gbmV3IFZpZXcob3BzKTtcclxufTtcclxubW9kdWxlLmV4cG9ydHMgPSBWaWV3O1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL3NyYy9tb2R1bGUvZGlhbG9nL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gNTJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMSAyIDMgNCA1IDYgNyA4IDkgMTBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){eval("/*\r\n clientRender:{bool} // 默认设置为false，如果为true，内部将不会调用rawLoader方法或者根据templateUrl请求模版\r\n */\r\n\r\n\r\n/**\r\n * @time {时间}\r\n * @author {编写者}\r\n * @info {实现的功能}\r\n */\r\n\r\n'use strict';\r\n\r\nvar base = __webpack_require__(28);\r\nvar BaseView = base.View; //  View的基类\r\nvar doc = $(document);\r\nvar isIE6 = navigator.userAgent.indexOf('MSIE 6.0') !== -1;\r\nvar style = {\r\n  position: isIE6 ? 'absolute' : 'fixed',\r\n  top: 0,\r\n  left: 0,\r\n  width: '100%',\r\n  height: isIE6 ? doc.outerHeight(true) : '100%',\r\n  display: 'none',\r\n  'z-index': 998,\r\n  opacity: 0.2,\r\n  'background-color': 'black'\r\n};\r\nvar View = BaseView.extend({\r\n  clientRender: false,\r\n  // 当模板挂载到元素之前\r\n  beforeMount: function () {\r\n    this.element = $('<iframe/>').attr({\r\n      frameborder: 0,\r\n      scrolling: 'no'\r\n    }).css(style).appendTo(document.body);\r\n  },\r\n  // 当模板挂载到元素之后\r\n  afterMount: function () {\r\n\r\n  },\r\n  // 当事件监听器，内部实例初始化完成，模板挂载到文档之后\r\n  ready: function () {\r\n\r\n  },\r\n  show: function () {\r\n    this.element.fadeIn();\r\n  },\r\n  hide: function () {\r\n    this.element.fadeOut();\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nView.sharedInstanceMask = function () {\r\n  if (!shared) {\r\n    shared = new View();\r\n  }\r\n  return shared;\r\n};\r\nView.classInstanceMask = function () {\r\n  return new View();\r\n};\r\nmodule.exports = View;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZHVsZS9kaWFsb2cvbWFzay5qcz9jMDZlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsZUFBZSxLQUFLO0FBQ3BCOzs7QUFHQTtBQUNBLFVBQVU7QUFDVixZQUFZO0FBQ1osVUFBVTtBQUNWOztBQUVBOztBQUVBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjUzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxuIGNsaWVudFJlbmRlcjp7Ym9vbH0gLy8g6buY6K6k6K6+572u5Li6ZmFsc2XvvIzlpoLmnpzkuLp0cnVl77yM5YaF6YOo5bCG5LiN5Lya6LCD55SocmF3TG9hZGVy5pa55rOV5oiW6ICF5qC55o2udGVtcGxhdGVVcmzor7fmsYLmqKHniYhcclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEB0aW1lIHvml7bpl7R9XHJcbiAqIEBhdXRob3Ige+e8luWGmeiAhX1cclxuICogQGluZm8ge+WunueOsOeahOWKn+iDvX1cclxuICovXHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG52YXIgYmFzZSA9IHJlcXVpcmUoJ2Jhc2UtZXh0ZW5kLWJhY2tib25lJyk7XHJcbnZhciBCYXNlVmlldyA9IGJhc2UuVmlldzsgLy8gIFZpZXfnmoTln7rnsbtcclxudmFyIGRvYyA9ICQoZG9jdW1lbnQpO1xyXG52YXIgaXNJRTYgPSBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ01TSUUgNi4wJykgIT09IC0xO1xyXG52YXIgc3R5bGUgPSB7XHJcbiAgcG9zaXRpb246IGlzSUU2ID8gJ2Fic29sdXRlJyA6ICdmaXhlZCcsXHJcbiAgdG9wOiAwLFxyXG4gIGxlZnQ6IDAsXHJcbiAgd2lkdGg6ICcxMDAlJyxcclxuICBoZWlnaHQ6IGlzSUU2ID8gZG9jLm91dGVySGVpZ2h0KHRydWUpIDogJzEwMCUnLFxyXG4gIGRpc3BsYXk6ICdub25lJyxcclxuICAnei1pbmRleCc6IDk5OCxcclxuICBvcGFjaXR5OiAwLjIsXHJcbiAgJ2JhY2tncm91bmQtY29sb3InOiAnYmxhY2snXHJcbn07XHJcbnZhciBWaWV3ID0gQmFzZVZpZXcuZXh0ZW5kKHtcclxuICBjbGllbnRSZW5kZXI6IGZhbHNlLFxyXG4gIC8vIOW9k+aooeadv+aMgui9veWIsOWFg+e0oOS5i+WJjVxyXG4gIGJlZm9yZU1vdW50OiBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLmVsZW1lbnQgPSAkKCc8aWZyYW1lLz4nKS5hdHRyKHtcclxuICAgICAgZnJhbWVib3JkZXI6IDAsXHJcbiAgICAgIHNjcm9sbGluZzogJ25vJ1xyXG4gICAgfSkuY3NzKHN0eWxlKS5hcHBlbmRUbyhkb2N1bWVudC5ib2R5KTtcclxuICB9LFxyXG4gIC8vIOW9k+aooeadv+aMgui9veWIsOWFg+e0oOS5i+WQjlxyXG4gIGFmdGVyTW91bnQ6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgfSxcclxuICAvLyDlvZPkuovku7bnm5HlkKzlmajvvIzlhoXpg6jlrp7kvovliJ3lp4vljJblrozmiJDvvIzmqKHmnb/mjILovb3liLDmlofmoaPkuYvlkI5cclxuICByZWFkeTogZnVuY3Rpb24gKCkge1xyXG5cclxuICB9LFxyXG4gIHNob3c6IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuZWxlbWVudC5mYWRlSW4oKTtcclxuICB9LFxyXG4gIGhpZGU6IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuZWxlbWVudC5mYWRlT3V0KCk7XHJcbiAgfVxyXG59KTtcclxuXHJcbnZhciBzaGFyZWQgPSBudWxsO1xyXG5WaWV3LnNoYXJlZEluc3RhbmNlTWFzayA9IGZ1bmN0aW9uICgpIHtcclxuICBpZiAoIXNoYXJlZCkge1xyXG4gICAgc2hhcmVkID0gbmV3IFZpZXcoKTtcclxuICB9XHJcbiAgcmV0dXJuIHNoYXJlZDtcclxufTtcclxuVmlldy5jbGFzc0luc3RhbmNlTWFzayA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gbmV3IFZpZXcoKTtcclxufTtcclxubW9kdWxlLmV4cG9ydHMgPSBWaWV3O1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL3NyYy9tb2R1bGUvZGlhbG9nL21hc2suanNcbiAqKiBtb2R1bGUgaWQgPSA1M1xuICoqIG1vZHVsZSBjaHVua3MgPSAxIDIgMyA0IDUgNiA3IDggOSAxMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports){eval('module.exports = "<!-- <a  href=\\"\\" id=\\"{{id}}\\" class=\\"{{closeClass}}\\">{{if closeText}}{{closeText}}{{/if}}</a> -->\\r\\n{{if closeClass === \'editor_bg_close_x\'}}\\r\\n<a  href=\\"\\" id=\\"{{id}}\\" class=\\"{{closeClass}} icons am-yyt-close close-white\\"></a>\\r\\n{{else}}\\r\\n<a  href=\\"\\" id=\\"{{id}}\\" class=\\"{{closeClass}}\\"></a>\\r\\n{{/if}}\\r\\n"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZHVsZS9kaWFsb2cvdGVtcGxhdGUvY2xvc2UuaHRtbD82OTZmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDRDQUE0QyxJQUFJLGFBQWEsWUFBWSxLQUFLLGdCQUFnQixhQUFhLEtBQUssY0FBYyx1Q0FBdUMseUJBQXlCLElBQUksYUFBYSxZQUFZLDRDQUE0QyxNQUFNLHlCQUF5QixJQUFJLGFBQWEsWUFBWSxhQUFhLEtBQUsiLCJmaWxlIjoiNTQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPCEtLSA8YSAgaHJlZj1cXFwiXFxcIiBpZD1cXFwie3tpZH19XFxcIiBjbGFzcz1cXFwie3tjbG9zZUNsYXNzfX1cXFwiPnt7aWYgY2xvc2VUZXh0fX17e2Nsb3NlVGV4dH19e3svaWZ9fTwvYT4gLS0+XFxyXFxue3tpZiBjbG9zZUNsYXNzID09PSAnZWRpdG9yX2JnX2Nsb3NlX3gnfX1cXHJcXG48YSAgaHJlZj1cXFwiXFxcIiBpZD1cXFwie3tpZH19XFxcIiBjbGFzcz1cXFwie3tjbG9zZUNsYXNzfX0gaWNvbnMgYW0teXl0LWNsb3NlIGNsb3NlLXdoaXRlXFxcIj48L2E+XFxyXFxue3tlbHNlfX1cXHJcXG48YSAgaHJlZj1cXFwiXFxcIiBpZD1cXFwie3tpZH19XFxcIiBjbGFzcz1cXFwie3tjbG9zZUNsYXNzfX1cXFwiPjwvYT5cXHJcXG57ey9pZn19XFxyXFxuXCJcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL3NyYy9tb2R1bGUvZGlhbG9nL3RlbXBsYXRlL2Nsb3NlLmh0bWxcbiAqKiBtb2R1bGUgaWQgPSA1NFxuICoqIG1vZHVsZSBjaHVua3MgPSAxIDIgMyA0IDUgNiA3IDggOSAxMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports){eval('module.exports = "<h3 class=\\"dialog_title J_title\\">{{title}}</h3>\\r\\n"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZHVsZS9kaWFsb2cvdGVtcGxhdGUvdGl0bGUuaHRtbD9jY2E0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHVEQUF1RCxPQUFPIiwiZmlsZSI6IjU1LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxoMyBjbGFzcz1cXFwiZGlhbG9nX3RpdGxlIEpfdGl0bGVcXFwiPnt7dGl0bGV9fTwvaDM+XFxyXFxuXCJcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL3NyYy9tb2R1bGUvZGlhbG9nL3RlbXBsYXRlL3RpdGxlLmh0bWxcbiAqKiBtb2R1bGUgaWQgPSA1NVxuICoqIG1vZHVsZSBjaHVua3MgPSAxIDIgMyA0IDUgNiA3IDggOSAxMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports,__webpack_require__){eval("/**\r\n * @time {时间}\r\n * @author {编写者}\r\n * @info {实现的功能}\r\n */\r\n\r\n'use strict';\r\n\r\nvar Auxiliary = __webpack_require__(40);\r\n// Diglog类\r\nvar Dialog = __webpack_require__(52);\r\nvar AjaxForm = Auxiliary.AjaxForm;\r\nvar url = Auxiliary.url;\r\nvar pwdencrypt = __webpack_require__(57);\r\nvar loginBoxTemp = __webpack_require__(58);\r\nvar tplEng = __webpack_require__(31);\r\nvar secret = __webpack_require__(59);\r\n// 邮件\r\nvar EMAIL_PATTERN =\r\n  /^([a-zA-Z0-9_\\.\\-\\+])+@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\r\n// 数字\r\nvar NUMBER_PATTERN =\r\n  /^[+-]?[1-9][0-9]*(\\.[0-9]+)?([eE][+-][1-9][0-9]*)?$|^[+-]?0?\\.[0-9]+([eE][+-][1-9][0-9]*)?$/;\r\n\r\n/* 标记是否极验验证通过 */\r\nvar isGeetest = false;\r\nvar Geetest;\r\nvar errorinfo;\r\nvar email;\r\nvar password;\r\nvar loginBoxForm;\r\nvar ajaxForm;\r\nvar dialog;\r\nvar user;\r\n\r\n// 验证成功\r\nwindow.gt_custom_ajax = function (result) {\r\n  var info;\r\n  if (result) {\r\n    isGeetest = true;\r\n    info = loginBoxForm.find('.errorinfo');\r\n    if (info.html() === '拖动滑块完成验证') {\r\n      info.css('visibility', 'hidden');\r\n    }\r\n  }\r\n};\r\n\r\n// 加密字段\r\nfunction _setFocusEffect(input) {\r\n  if (input.attr('name') === 'email') {\r\n    input.focus(function () {\r\n      $(this).parent().addClass('emailfocus').removeClass('emailerror');\r\n    });\r\n    input.blur(function () {\r\n      $(this).parent().removeClass('emailfocus');\r\n    });\r\n  } else {\r\n    input.focus(function () {\r\n      $(this).parent().addClass('focus').removeClass('error');\r\n    });\r\n    input.blur(function () {\r\n      $(this).parent().removeClass('focus');\r\n    });\r\n  }\r\n}\r\n\r\n// 验证码\r\nfunction refreshGeetest() {\r\n  Geetest.refresh();\r\n  isGeetest = false;\r\n}\r\n// 初始化登录表单\r\nfunction _initForm() {\r\n  var UserModel = __webpack_require__(51);\r\n  errorinfo = loginBoxForm.find('.errorinfo');\r\n  email = loginBoxForm.find('[name=email]');\r\n  password = loginBoxForm.find('.pwd');\r\n  _setFocusEffect(email);\r\n  _setFocusEffect(password);\r\n  user = UserModel.sharedInstanceUserModel();\r\n  $('<input />').attr({\r\n    type: 'hidden',\r\n    name: 'cross_post',\r\n    value: '1'\r\n  }).appendTo(loginBoxForm);\r\n}\r\n// 加密字段\r\nfunction cryptoParam() {\r\n  return [$.trim(email.val()) + $.trim(password.val())];\r\n}\r\n\r\nfunction validator() {\r\n  var emailVal = $.trim(email.val());\r\n  var passwordVal = $.trim(password.val());\r\n  if (emailVal.length === 0) {\r\n    errorinfo.text('邮箱或手机不能为空').css('visibility', 'visible');\r\n    email.parent().addClass('emailerror');\r\n    return false;\r\n  }\r\n  if (!EMAIL_PATTERN.test(emailVal)) {\r\n    if (NUMBER_PATTERN.test(emailVal)) {\r\n      if (emailVal.length !== 11) {\r\n        errorinfo.text('请输入正确的电子邮箱或手机').css('visibility', 'visible');\r\n        email.parent().addClass('emailerror');\r\n        return false;\r\n      }\r\n    } else {\r\n      errorinfo.text('请输入正确的电子邮箱或手机').css('visibility', 'visible');\r\n      email.parent().addClass('emailerror');\r\n      return false;\r\n    }\r\n  }\r\n  if (passwordVal.length === 0) {\r\n    errorinfo.text('密码不能为空').css('visibility', 'visible');\r\n    password.parent().addClass('error');\r\n    return false;\r\n  }\r\n  if (passwordVal.length < 4 || passwordVal.length > 20) {\r\n    errorinfo.text('密码长度必须大于4且小于20').css('visibility', 'visible');\r\n    password.parent().addClass('error');\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction isPassTest() {\r\n  var errorText = '拖动滑块完成验证';\r\n  if (!validator()) {\r\n    refreshGeetest();\r\n    return false;\r\n  }\r\n  if (!isGeetest) {\r\n    errorinfo.text(errorText).css('visibility', 'visible');\r\n    return false;\r\n  }\r\n  if (loginBoxForm.find('[name=encpsw]').length !== 0) {\r\n    loginBoxForm.find('[name=encpsw]').val(pwdencrypt(password.val()));\r\n  } else {\r\n    $('<input />').attr({\r\n      type: 'hidden',\r\n      name: 'encpsw',\r\n      value: pwdencrypt(password.val())\r\n    }).appendTo(loginBoxForm);\r\n  }\r\n  return true;\r\n}\r\n\r\n// 模拟submit\r\nfunction loginSubmit(e) {\r\n  var _crytoP = cryptoParam();\r\n  e.preventDefault();\r\n  if (isPassTest()) {\r\n    ajaxForm = AjaxForm.classInstanceAjaxForm(loginBoxForm);\r\n    ajaxForm.encrypto(secret.apply(window, _crytoP));\r\n    ajaxForm.done(function (cw) {\r\n      var search = decodeURIComponent(cw.location.search);\r\n      var response = url.parseSearch(search);\r\n      response = response.json;\r\n      if (!response.error) {\r\n        if (response.platFormRef) {\r\n          location.href = 'http://login.yinyuetai.com/platform';\r\n        } else {\r\n          user.set(response);\r\n          dialog.trigger('hide');\r\n        }\r\n      } else {\r\n        errorinfo.text(response.message).css('visibility', 'visible');\r\n        refreshGeetest();\r\n      }\r\n    });\r\n    ajaxForm.fail(function (cw) {\r\n      console.log(cw);\r\n    });\r\n    ajaxForm.loadState = true;\r\n    this.submit();\r\n  }\r\n}\r\n\r\nfunction compileHTML(tplStr, data) {\r\n  return tplEng.compile(tplStr)(data);\r\n}\r\n\r\nfunction LoginBox() {\r\n  var dialogHTML = compileHTML(loginBoxTemp, {\r\n    url: 'http://login.yinyuetai.com'\r\n  });\r\n  if (!dialog) {\r\n    dialog = Dialog.classInstanceDialog(dialogHTML, {\r\n      width: 691,\r\n      height: 342,\r\n      isRemoveAfterHide: false,\r\n      isAutoShow: false\r\n    });\r\n    loginBoxForm = dialog.$el.find('#loginBoxForm');\r\n    dialog.on('show', function () {\r\n      if (!Geetest) {\r\n        /* 添加验证框*/\r\n        Geetest = new window.Geetest({\r\n          gt: 'cc34bd7df5c42f7d9c3f540fdfb671cf',\r\n          product: 'float'\r\n        });\r\n        Geetest.appendTo('#captcha');\r\n      }\r\n      _initForm();\r\n      // UA_Opt.reload();\r\n      $.getJSON('http://www.yinyuetai.com/partner/get-partner-code?placeIds=reg_window&callback=?', function (data) {\r\n        if (data && data.reg_window) {\r\n          self.dialog.$el.find('.loginbox-placehold').html(data.reg_window);\r\n        }\r\n      });\r\n    });\r\n    dialog.on('hide', function () {\r\n      var form = dialog.$el.find('form');\r\n      form.find('.errorinfo').css('visibility', 'hidden');\r\n      form.find('[name=email],[name=password]')\r\n          .parent()\r\n          .removeClass('emailerror')\r\n          .removeClass('error');\r\n      // 去掉悦单播放页面中下载悦单的active效果\r\n      $('.J_pop_download').removeClass('v_button_curv');\r\n      setTimeout(function () {\r\n        refreshGeetest();\r\n      }, 500);\r\n    });\r\n    loginBoxForm.on('submit', loginSubmit);\r\n  }\r\n  return {\r\n    dialog: dialog\r\n  };\r\n}\r\n\r\nmodule.exports = LoginBox;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZHVsZS9sb2dpbkJveC9pbmRleC5qcz8zYjI3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsVUFBVTtBQUNWLFlBQVk7QUFDWixVQUFVO0FBQ1Y7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxJQUFJO0FBQ2hFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiNTYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQHRpbWUge+aXtumXtH1cclxuICogQGF1dGhvciB757yW5YaZ6ICFfVxyXG4gKiBAaW5mbyB75a6e546w55qE5Yqf6IO9fVxyXG4gKi9cclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbnZhciBBdXhpbGlhcnkgPSByZXF1aXJlKCdhdXhpbGlhcnktYWRkaXRpb25zJyk7XHJcbi8vIERpZ2xvZ+exu1xyXG52YXIgRGlhbG9nID0gcmVxdWlyZSgndWkuRGlhbG9nJyk7XHJcbnZhciBBamF4Rm9ybSA9IEF1eGlsaWFyeS5BamF4Rm9ybTtcclxudmFyIHVybCA9IEF1eGlsaWFyeS51cmw7XHJcbnZhciBwd2RlbmNyeXB0ID0gcmVxdWlyZSgncHdkZW5jcnlwdCcpO1xyXG52YXIgbG9naW5Cb3hUZW1wID0gcmVxdWlyZSgnLi90ZW1wbGF0ZS9sb2dpbkJveC5odG1sJyk7XHJcbnZhciB0cGxFbmcgPSByZXF1aXJlKCd0cGxFbmcnKTtcclxudmFyIHNlY3JldCA9IHJlcXVpcmUoJ3NlY3JldCcpO1xyXG4vLyDpgq7ku7ZcclxudmFyIEVNQUlMX1BBVFRFUk4gPVxyXG4gIC9eKFthLXpBLVowLTlfXFwuXFwtXFwrXSkrQCgoW2EtekEtWjAtOVxcLV0pK1xcLikrKFthLXpBLVowLTldezIsNH0pKyQvO1xyXG4vLyDmlbDlrZdcclxudmFyIE5VTUJFUl9QQVRURVJOID1cclxuICAvXlsrLV0/WzEtOV1bMC05XSooXFwuWzAtOV0rKT8oW2VFXVsrLV1bMS05XVswLTldKik/JHxeWystXT8wP1xcLlswLTldKyhbZUVdWystXVsxLTldWzAtOV0qKT8kLztcclxuXHJcbi8qIOagh+iusOaYr+WQpuaegemqjOmqjOivgemAmui/hyAqL1xyXG52YXIgaXNHZWV0ZXN0ID0gZmFsc2U7XHJcbnZhciBHZWV0ZXN0O1xyXG52YXIgZXJyb3JpbmZvO1xyXG52YXIgZW1haWw7XHJcbnZhciBwYXNzd29yZDtcclxudmFyIGxvZ2luQm94Rm9ybTtcclxudmFyIGFqYXhGb3JtO1xyXG52YXIgZGlhbG9nO1xyXG52YXIgdXNlcjtcclxuXHJcbi8vIOmqjOivgeaIkOWKn1xyXG53aW5kb3cuZ3RfY3VzdG9tX2FqYXggPSBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgdmFyIGluZm87XHJcbiAgaWYgKHJlc3VsdCkge1xyXG4gICAgaXNHZWV0ZXN0ID0gdHJ1ZTtcclxuICAgIGluZm8gPSBsb2dpbkJveEZvcm0uZmluZCgnLmVycm9yaW5mbycpO1xyXG4gICAgaWYgKGluZm8uaHRtbCgpID09PSAn5ouW5Yqo5ruR5Z2X5a6M5oiQ6aqM6K+BJykge1xyXG4gICAgICBpbmZvLmNzcygndmlzaWJpbGl0eScsICdoaWRkZW4nKTtcclxuICAgIH1cclxuICB9XHJcbn07XHJcblxyXG4vLyDliqDlr4blrZfmrrVcclxuZnVuY3Rpb24gX3NldEZvY3VzRWZmZWN0KGlucHV0KSB7XHJcbiAgaWYgKGlucHV0LmF0dHIoJ25hbWUnKSA9PT0gJ2VtYWlsJykge1xyXG4gICAgaW5wdXQuZm9jdXMoZnVuY3Rpb24gKCkge1xyXG4gICAgICAkKHRoaXMpLnBhcmVudCgpLmFkZENsYXNzKCdlbWFpbGZvY3VzJykucmVtb3ZlQ2xhc3MoJ2VtYWlsZXJyb3InKTtcclxuICAgIH0pO1xyXG4gICAgaW5wdXQuYmx1cihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICQodGhpcykucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ2VtYWlsZm9jdXMnKTtcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBpbnB1dC5mb2N1cyhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICQodGhpcykucGFyZW50KCkuYWRkQ2xhc3MoJ2ZvY3VzJykucmVtb3ZlQ2xhc3MoJ2Vycm9yJyk7XHJcbiAgICB9KTtcclxuICAgIGlucHV0LmJsdXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAkKHRoaXMpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdmb2N1cycpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyDpqozor4HnoIFcclxuZnVuY3Rpb24gcmVmcmVzaEdlZXRlc3QoKSB7XHJcbiAgR2VldGVzdC5yZWZyZXNoKCk7XHJcbiAgaXNHZWV0ZXN0ID0gZmFsc2U7XHJcbn1cclxuLy8g5Yid5aeL5YyW55m75b2V6KGo5Y2VXHJcbmZ1bmN0aW9uIF9pbml0Rm9ybSgpIHtcclxuICB2YXIgVXNlck1vZGVsID0gcmVxdWlyZSgnVXNlck1vZGVsJyk7XHJcbiAgZXJyb3JpbmZvID0gbG9naW5Cb3hGb3JtLmZpbmQoJy5lcnJvcmluZm8nKTtcclxuICBlbWFpbCA9IGxvZ2luQm94Rm9ybS5maW5kKCdbbmFtZT1lbWFpbF0nKTtcclxuICBwYXNzd29yZCA9IGxvZ2luQm94Rm9ybS5maW5kKCcucHdkJyk7XHJcbiAgX3NldEZvY3VzRWZmZWN0KGVtYWlsKTtcclxuICBfc2V0Rm9jdXNFZmZlY3QocGFzc3dvcmQpO1xyXG4gIHVzZXIgPSBVc2VyTW9kZWwuc2hhcmVkSW5zdGFuY2VVc2VyTW9kZWwoKTtcclxuICAkKCc8aW5wdXQgLz4nKS5hdHRyKHtcclxuICAgIHR5cGU6ICdoaWRkZW4nLFxyXG4gICAgbmFtZTogJ2Nyb3NzX3Bvc3QnLFxyXG4gICAgdmFsdWU6ICcxJ1xyXG4gIH0pLmFwcGVuZFRvKGxvZ2luQm94Rm9ybSk7XHJcbn1cclxuLy8g5Yqg5a+G5a2X5q61XHJcbmZ1bmN0aW9uIGNyeXB0b1BhcmFtKCkge1xyXG4gIHJldHVybiBbJC50cmltKGVtYWlsLnZhbCgpKSArICQudHJpbShwYXNzd29yZC52YWwoKSldO1xyXG59XHJcblxyXG5mdW5jdGlvbiB2YWxpZGF0b3IoKSB7XHJcbiAgdmFyIGVtYWlsVmFsID0gJC50cmltKGVtYWlsLnZhbCgpKTtcclxuICB2YXIgcGFzc3dvcmRWYWwgPSAkLnRyaW0ocGFzc3dvcmQudmFsKCkpO1xyXG4gIGlmIChlbWFpbFZhbC5sZW5ndGggPT09IDApIHtcclxuICAgIGVycm9yaW5mby50ZXh0KCfpgq7nrrHmiJbmiYvmnLrkuI3og73kuLrnqbonKS5jc3MoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xyXG4gICAgZW1haWwucGFyZW50KCkuYWRkQ2xhc3MoJ2VtYWlsZXJyb3InKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgaWYgKCFFTUFJTF9QQVRURVJOLnRlc3QoZW1haWxWYWwpKSB7XHJcbiAgICBpZiAoTlVNQkVSX1BBVFRFUk4udGVzdChlbWFpbFZhbCkpIHtcclxuICAgICAgaWYgKGVtYWlsVmFsLmxlbmd0aCAhPT0gMTEpIHtcclxuICAgICAgICBlcnJvcmluZm8udGV4dCgn6K+36L6T5YWl5q2j56Gu55qE55S15a2Q6YKu566x5oiW5omL5py6JykuY3NzKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTtcclxuICAgICAgICBlbWFpbC5wYXJlbnQoKS5hZGRDbGFzcygnZW1haWxlcnJvcicpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZXJyb3JpbmZvLnRleHQoJ+ivt+i+k+WFpeato+ehrueahOeUteWtkOmCrueuseaIluaJi+acuicpLmNzcygndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XHJcbiAgICAgIGVtYWlsLnBhcmVudCgpLmFkZENsYXNzKCdlbWFpbGVycm9yJyk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcbiAgaWYgKHBhc3N3b3JkVmFsLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgZXJyb3JpbmZvLnRleHQoJ+WvhueggeS4jeiDveS4uuepuicpLmNzcygndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XHJcbiAgICBwYXNzd29yZC5wYXJlbnQoKS5hZGRDbGFzcygnZXJyb3InKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgaWYgKHBhc3N3b3JkVmFsLmxlbmd0aCA8IDQgfHwgcGFzc3dvcmRWYWwubGVuZ3RoID4gMjApIHtcclxuICAgIGVycm9yaW5mby50ZXh0KCflr4bnoIHplb/luqblv4XpobvlpKfkuo405LiU5bCP5LqOMjAnKS5jc3MoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xyXG4gICAgcGFzc3dvcmQucGFyZW50KCkuYWRkQ2xhc3MoJ2Vycm9yJyk7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc1Bhc3NUZXN0KCkge1xyXG4gIHZhciBlcnJvclRleHQgPSAn5ouW5Yqo5ruR5Z2X5a6M5oiQ6aqM6K+BJztcclxuICBpZiAoIXZhbGlkYXRvcigpKSB7XHJcbiAgICByZWZyZXNoR2VldGVzdCgpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuICBpZiAoIWlzR2VldGVzdCkge1xyXG4gICAgZXJyb3JpbmZvLnRleHQoZXJyb3JUZXh0KS5jc3MoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuICBpZiAobG9naW5Cb3hGb3JtLmZpbmQoJ1tuYW1lPWVuY3Bzd10nKS5sZW5ndGggIT09IDApIHtcclxuICAgIGxvZ2luQm94Rm9ybS5maW5kKCdbbmFtZT1lbmNwc3ddJykudmFsKHB3ZGVuY3J5cHQocGFzc3dvcmQudmFsKCkpKTtcclxuICB9IGVsc2Uge1xyXG4gICAgJCgnPGlucHV0IC8+JykuYXR0cih7XHJcbiAgICAgIHR5cGU6ICdoaWRkZW4nLFxyXG4gICAgICBuYW1lOiAnZW5jcHN3JyxcclxuICAgICAgdmFsdWU6IHB3ZGVuY3J5cHQocGFzc3dvcmQudmFsKCkpXHJcbiAgICB9KS5hcHBlbmRUbyhsb2dpbkJveEZvcm0pO1xyXG4gIH1cclxuICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuLy8g5qih5oufc3VibWl0XHJcbmZ1bmN0aW9uIGxvZ2luU3VibWl0KGUpIHtcclxuICB2YXIgX2NyeXRvUCA9IGNyeXB0b1BhcmFtKCk7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGlmIChpc1Bhc3NUZXN0KCkpIHtcclxuICAgIGFqYXhGb3JtID0gQWpheEZvcm0uY2xhc3NJbnN0YW5jZUFqYXhGb3JtKGxvZ2luQm94Rm9ybSk7XHJcbiAgICBhamF4Rm9ybS5lbmNyeXB0byhzZWNyZXQuYXBwbHkod2luZG93LCBfY3J5dG9QKSk7XHJcbiAgICBhamF4Rm9ybS5kb25lKGZ1bmN0aW9uIChjdykge1xyXG4gICAgICB2YXIgc2VhcmNoID0gZGVjb2RlVVJJQ29tcG9uZW50KGN3LmxvY2F0aW9uLnNlYXJjaCk7XHJcbiAgICAgIHZhciByZXNwb25zZSA9IHVybC5wYXJzZVNlYXJjaChzZWFyY2gpO1xyXG4gICAgICByZXNwb25zZSA9IHJlc3BvbnNlLmpzb247XHJcbiAgICAgIGlmICghcmVzcG9uc2UuZXJyb3IpIHtcclxuICAgICAgICBpZiAocmVzcG9uc2UucGxhdEZvcm1SZWYpIHtcclxuICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSAnaHR0cDovL2xvZ2luLnlpbnl1ZXRhaS5jb20vcGxhdGZvcm0nO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB1c2VyLnNldChyZXNwb25zZSk7XHJcbiAgICAgICAgICBkaWFsb2cudHJpZ2dlcignaGlkZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBlcnJvcmluZm8udGV4dChyZXNwb25zZS5tZXNzYWdlKS5jc3MoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xyXG4gICAgICAgIHJlZnJlc2hHZWV0ZXN0KCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgYWpheEZvcm0uZmFpbChmdW5jdGlvbiAoY3cpIHtcclxuICAgICAgY29uc29sZS5sb2coY3cpO1xyXG4gICAgfSk7XHJcbiAgICBhamF4Rm9ybS5sb2FkU3RhdGUgPSB0cnVlO1xyXG4gICAgdGhpcy5zdWJtaXQoKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbXBpbGVIVE1MKHRwbFN0ciwgZGF0YSkge1xyXG4gIHJldHVybiB0cGxFbmcuY29tcGlsZSh0cGxTdHIpKGRhdGEpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBMb2dpbkJveCgpIHtcclxuICB2YXIgZGlhbG9nSFRNTCA9IGNvbXBpbGVIVE1MKGxvZ2luQm94VGVtcCwge1xyXG4gICAgdXJsOiAnaHR0cDovL2xvZ2luLnlpbnl1ZXRhaS5jb20nXHJcbiAgfSk7XHJcbiAgaWYgKCFkaWFsb2cpIHtcclxuICAgIGRpYWxvZyA9IERpYWxvZy5jbGFzc0luc3RhbmNlRGlhbG9nKGRpYWxvZ0hUTUwsIHtcclxuICAgICAgd2lkdGg6IDY5MSxcclxuICAgICAgaGVpZ2h0OiAzNDIsXHJcbiAgICAgIGlzUmVtb3ZlQWZ0ZXJIaWRlOiBmYWxzZSxcclxuICAgICAgaXNBdXRvU2hvdzogZmFsc2VcclxuICAgIH0pO1xyXG4gICAgbG9naW5Cb3hGb3JtID0gZGlhbG9nLiRlbC5maW5kKCcjbG9naW5Cb3hGb3JtJyk7XHJcbiAgICBkaWFsb2cub24oJ3Nob3cnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmICghR2VldGVzdCkge1xyXG4gICAgICAgIC8qIOa3u+WKoOmqjOivgeahhiovXHJcbiAgICAgICAgR2VldGVzdCA9IG5ldyB3aW5kb3cuR2VldGVzdCh7XHJcbiAgICAgICAgICBndDogJ2NjMzRiZDdkZjVjNDJmN2Q5YzNmNTQwZmRmYjY3MWNmJyxcclxuICAgICAgICAgIHByb2R1Y3Q6ICdmbG9hdCdcclxuICAgICAgICB9KTtcclxuICAgICAgICBHZWV0ZXN0LmFwcGVuZFRvKCcjY2FwdGNoYScpO1xyXG4gICAgICB9XHJcbiAgICAgIF9pbml0Rm9ybSgpO1xyXG4gICAgICAvLyBVQV9PcHQucmVsb2FkKCk7XHJcbiAgICAgICQuZ2V0SlNPTignaHR0cDovL3d3dy55aW55dWV0YWkuY29tL3BhcnRuZXIvZ2V0LXBhcnRuZXItY29kZT9wbGFjZUlkcz1yZWdfd2luZG93JmNhbGxiYWNrPT8nLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIGlmIChkYXRhICYmIGRhdGEucmVnX3dpbmRvdykge1xyXG4gICAgICAgICAgc2VsZi5kaWFsb2cuJGVsLmZpbmQoJy5sb2dpbmJveC1wbGFjZWhvbGQnKS5odG1sKGRhdGEucmVnX3dpbmRvdyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgZGlhbG9nLm9uKCdoaWRlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgZm9ybSA9IGRpYWxvZy4kZWwuZmluZCgnZm9ybScpO1xyXG4gICAgICBmb3JtLmZpbmQoJy5lcnJvcmluZm8nKS5jc3MoJ3Zpc2liaWxpdHknLCAnaGlkZGVuJyk7XHJcbiAgICAgIGZvcm0uZmluZCgnW25hbWU9ZW1haWxdLFtuYW1lPXBhc3N3b3JkXScpXHJcbiAgICAgICAgICAucGFyZW50KClcclxuICAgICAgICAgIC5yZW1vdmVDbGFzcygnZW1haWxlcnJvcicpXHJcbiAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2Vycm9yJyk7XHJcbiAgICAgIC8vIOWOu+aOieaCpuWNleaSreaUvumhtemdouS4reS4i+i9veaCpuWNleeahGFjdGl2ZeaViOaenFxyXG4gICAgICAkKCcuSl9wb3BfZG93bmxvYWQnKS5yZW1vdmVDbGFzcygndl9idXR0b25fY3VydicpO1xyXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZWZyZXNoR2VldGVzdCgpO1xyXG4gICAgICB9LCA1MDApO1xyXG4gICAgfSk7XHJcbiAgICBsb2dpbkJveEZvcm0ub24oJ3N1Ym1pdCcsIGxvZ2luU3VibWl0KTtcclxuICB9XHJcbiAgcmV0dXJuIHtcclxuICAgIGRpYWxvZzogZGlhbG9nXHJcbiAgfTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBMb2dpbkJveDtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9zcmMvbW9kdWxlL2xvZ2luQm94L2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gNTZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMSAyIDMgNCA1IDYgNyA4IDkgMTBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");
},function(module,exports){eval('function yytcrypt(o) {\r\n\tvar l = 0, S = 1, t = "inputvec", O = 1, C = "yytcdn2b";\r\n\tvar B = new Array(16843776, 0, 65536, 16843780, 16842756, 66564, 4, 65536, 1024, 16843776, 16843780, 1024, 16778244, 16842756,\r\n\t\t\t16777216, 4, 1028, 16778240, 16778240, 66560, 66560, 16842752, 16842752, 16778244, 65540, 16777220, 16777220, 65540, 0,\r\n\t\t\t1028, 66564, 16777216, 65536, 16843780, 4, 16842752, 16843776, 16777216, 16777216, 1024, 16842756, 65536, 66560, 16777220,\r\n\t\t\t1024, 4, 16778244, 66564, 16843780, 65540, 16842752, 16778244, 16777220, 1028, 66564, 16843776, 1028, 16778240, 16778240, 0,\r\n\t\t\t65540, 66560, 0, 16842756);\r\n\tvar A = new Array(-2146402272, -2147450880, 32768, 1081376, 1048576, 32, -2146435040, -2147450848, -2147483616, -2146402272,\r\n\t\t\t-2146402304, -2147483648, -2147450880, 1048576, 32, -2146435040, 1081344, 1048608, -2147450848, 0, -2147483648, 32768,\r\n\t\t\t1081376, -2146435072, 1048608, -2147483616, 0, 1081344, 32800, -2146402304, -2146435072, 32800, 0, 1081376, -2146435040,\r\n\t\t\t1048576, -2147450848, -2146435072, -2146402304, 32768, -2146435072, -2147450880, 32, -2146402272, 1081376, 32, 32768,\r\n\t\t\t-2147483648, 32800, -2146402304, 1048576, -2147483616, 1048608, -2147450848, -2147483616, 1048608, 1081344, 0, -2147450880,\r\n\t\t\t32800, -2147483648, -2146435040, -2146402272, 1081344);\r\n\tvar z = new Array(520, 134349312, 0, 134348808, 134218240, 0, 131592, 134218240, 131080, 134217736, 134217736, 131072, 134349320,\r\n\t\t\t131080, 134348800, 520, 134217728, 8, 134349312, 512, 131584, 134348800, 134348808, 131592, 134218248, 131584, 131072,\r\n\t\t\t134218248, 8, 134349320, 512, 134217728, 134349312, 134217728, 131080, 520, 131072, 134349312, 134218240, 0, 512, 131080,\r\n\t\t\t134349320, 134218240, 134217736, 512, 0, 134348808, 134218248, 131072, 134217728, 134349320, 8, 131592, 131584, 134217736,\r\n\t\t\t134348800, 134218248, 520, 134348800, 131592, 8, 134348808, 131584);\r\n\tvar x = new Array(8396801, 8321, 8321, 128, 8396928, 8388737, 8388609, 8193, 0, 8396800, 8396800, 8396929, 129, 0, 8388736, 8388609,\r\n\t\t\t1, 8192, 8388608, 8396801, 128, 8388608, 8193, 8320, 8388737, 1, 8320, 8388736, 8192, 8396928, 8396929, 129, 8388736,\r\n\t\t\t8388609, 8396800, 8396929, 129, 0, 0, 8396800, 8320, 8388736, 8388737, 1, 8396801, 8321, 8321, 128, 8396929, 129, 1, 8192,\r\n\t\t\t8388609, 8193, 8396928, 8388737, 8193, 8320, 8388608, 8396801, 128, 8388608, 8192, 8396928);\r\n\tvar w = new Array(256, 34078976, 34078720, 1107296512, 524288, 256, 1073741824, 34078720, 1074266368, 524288, 33554688, 1074266368,\r\n\t\t\t1107296512, 1107820544, 524544, 1073741824, 33554432, 1074266112, 1074266112, 0, 1073742080, 1107820800, 1107820800,\r\n\t\t\t33554688, 1107820544, 1073742080, 0, 1107296256, 34078976, 33554432, 1107296256, 524544, 524288, 1107296512, 256, 33554432,\r\n\t\t\t1073741824, 34078720, 1107296512, 1074266368, 33554688, 1073741824, 1107820544, 34078976, 1074266368, 256, 33554432,\r\n\t\t\t1107820544, 1107820800, 524544, 1107296256, 1107820800, 34078720, 0, 1074266112, 1107296256, 524544, 33554688, 1073742080,\r\n\t\t\t524288, 0, 1074266112, 34078976, 1073742080);\r\n\tvar v = new Array(536870928, 541065216, 16384, 541081616, 541065216, 16, 541081616, 4194304, 536887296, 4210704, 4194304, 536870928,\r\n\t\t\t4194320, 536887296, 536870912, 16400, 0, 4194320, 536887312, 16384, 4210688, 536887312, 16, 541065232, 541065232, 0,\r\n\t\t\t4210704, 541081600, 16400, 4210688, 541081600, 536870912, 536887296, 16, 541065232, 4210688, 541081616, 4194304, 16400,\r\n\t\t\t536870928, 4194304, 536887296, 536870912, 16400, 536870928, 541081616, 4210688, 541065216, 4210704, 541081600, 0, 541065232,\r\n\t\t\t16, 16384, 541065216, 4210704, 16384, 4194320, 536887312, 0, 541081600, 536870912, 4194320, 536887312);\r\n\tvar u = new Array(2097152, 69206018, 67110914, 0, 2048, 67110914, 2099202, 69208064, 69208066, 2097152, 0, 67108866, 2, 67108864,\r\n\t\t\t69206018, 2050, 67110912, 2099202, 2097154, 67110912, 67108866, 69206016, 69208064, 2097154, 69206016, 2048, 2050, 69208066,\r\n\t\t\t2099200, 2, 67108864, 2099200, 67108864, 2099200, 2097152, 67110914, 67110914, 69206018, 69206018, 2, 2097154, 67108864,\r\n\t\t\t67110912, 2097152, 69208064, 2050, 2099202, 69208064, 2050, 67108866, 69208066, 69206016, 2099200, 0, 2, 69208066, 0,\r\n\t\t\t2099202, 69206016, 2048, 67108866, 67110912, 2048, 2097154);\r\n\tvar q = new Array(268439616, 4096, 262144, 268701760, 268435456, 268439616, 64, 268435456, 262208, 268697600, 268701760, 266240,\r\n\t\t\t268701696, 266304, 4096, 64, 268697600, 268435520, 268439552, 4160, 266240, 262208, 268697664, 268701696, 4160, 0, 0,\r\n\t\t\t268697664, 268435520, 268439552, 266304, 262144, 266304, 262144, 268701696, 4096, 64, 268697664, 4096, 266304, 268439552,\r\n\t\t\t64, 268435520, 268697600, 268697664, 268435456, 262144, 268439616, 0, 268701760, 262208, 268435520, 268697600, 268439552,\r\n\t\t\t268439616, 0, 268701760, 266240, 266240, 4160, 4160, 262208, 268435456, 268701696);\r\n\tpc2bytes0 = new Array(0, 4, 536870912, 536870916, 65536, 65540, 536936448, 536936452, 512, 516, 536871424, 536871428, 66048, 66052,\r\n\t\t\t536936960, 536936964);\r\n\tpc2bytes1 =\r\n\t\t\tnew Array(0, 1, 1048576, 1048577, 67108864, 67108865, 68157440, 68157441, 256, 257, 1048832, 1048833, 67109120, 67109121,\r\n\t\t\t\t\t68157696, 68157697);\r\n\tpc2bytes2 = new Array(0, 8, 2048, 2056, 16777216, 16777224, 16779264, 16779272, 0, 8, 2048, 2056, 16777216, 16777224, 16779264,\r\n\t\t\t16779272);\r\n\tpc2bytes3 = new Array(0, 2097152, 134217728, 136314880, 8192, 2105344, 134225920, 136323072, 131072, 2228224, 134348800, 136445952,\r\n\t\t\t139264, 2236416, 134356992, 136454144);\r\n\tpc2bytes4 = new Array(0, 262144, 16, 262160, 0, 262144, 16, 262160, 4096, 266240, 4112, 266256, 4096, 266240, 4112, 266256);\r\n\tpc2bytes5 = new Array(0, 1024, 32, 1056, 0, 1024, 32, 1056, 33554432, 33555456, 33554464, 33555488, 33554432, 33555456, 33554464,\r\n\t\t\t33555488);\r\n\tpc2bytes6 =\r\n\t\t\tnew Array(0, 268435456, 524288, 268959744, 2, 268435458, 524290, 268959746, 0, 268435456, 524288, 268959744, 2, 268435458,\r\n\t\t\t\t\t524290, 268959746);\r\n\tpc2bytes7 = new Array(0, 65536, 2048, 67584, 536870912, 536936448, 536872960, 536938496, 131072, 196608, 133120, 198656, 537001984,\r\n\t\t\t537067520, 537004032, 537069568);\r\n\tpc2bytes8 =\r\n\t\t\tnew Array(0, 262144, 0, 262144, 2, 262146, 2, 262146, 33554432, 33816576, 33554432, 33816576, 33554434, 33816578, 33554434,\r\n\t\t\t\t\t33816578);\r\n\tpc2bytes9 =\r\n\t\t\tnew Array(0, 268435456, 8, 268435464, 0, 268435456, 8, 268435464, 1024, 268436480, 1032, 268436488, 1024, 268436480, 1032,\r\n\t\t\t\t\t268436488);\r\n\tpc2bytes10 =\r\n\t\t\tnew Array(0, 32, 0, 32, 1048576, 1048608, 1048576, 1048608, 8192, 8224, 8192, 8224, 1056768, 1056800, 1056768, 1056800);\r\n\tpc2bytes11 = new Array(0, 16777216, 512, 16777728, 2097152, 18874368, 2097664, 18874880, 67108864, 83886080, 67109376, 83886592,\r\n\t\t\t69206016, 85983232, 69206528, 85983744);\r\n\tpc2bytes12 = new Array(0, 4096, 134217728, 134221824, 524288, 528384, 134742016, 134746112, 16, 4112, 134217744, 134221840, 524304,\r\n\t\t\t528400, 134742032, 134746128);\r\n\tpc2bytes13 = new Array(0, 4, 256, 260, 0, 4, 256, 260, 1, 5, 257, 261, 1, 5, 257, 261);\r\n\tvar M = C.length > 8 ? 3 : 1;\r\n\tvar y = new Array(32 * M);\r\n\tvar f = new Array(0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0);\r\n\tvar E, h, K = 0, J = 0, k;\r\n\tfor (var N = 0; N < M; N++) {\r\n\t\tg = (C.charCodeAt(K++) << 24) | (C.charCodeAt(K++) << 16) | (C.charCodeAt(K++) << 8) | C.charCodeAt(K++);\r\n\t\tI = (C.charCodeAt(K++) << 24) | (C.charCodeAt(K++) << 16) | (C.charCodeAt(K++) << 8) | C.charCodeAt(K++);\r\n\t\tk = ((g >>> 4) ^ I) & 252645135;\r\n\t\tI ^= k;\r\n\t\tg ^= (k << 4);\r\n\t\tk = ((I >>> -16) ^ g) & 65535;\r\n\t\tg ^= k;\r\n\t\tI ^= (k << -16);\r\n\t\tk = ((g >>> 2) ^ I) & 858993459;\r\n\t\tI ^= k;\r\n\t\tg ^= (k << 2);\r\n\t\tk = ((I >>> -16) ^ g) & 65535;\r\n\t\tg ^= k;\r\n\t\tI ^= (k << -16);\r\n\t\tk = ((g >>> 1) ^ I) & 1431655765;\r\n\t\tI ^= k;\r\n\t\tg ^= (k << 1);\r\n\t\tk = ((I >>> 8) ^ g) & 16711935;\r\n\t\tg ^= k;\r\n\t\tI ^= (k << 8);\r\n\t\tk = ((g >>> 1) ^ I) & 1431655765;\r\n\t\tI ^= k;\r\n\t\tg ^= (k << 1);\r\n\t\tk = (g << 8) | ((I >>> 20) & 240);\r\n\t\tg = (I << 24) | ((I << 8) & 16711680) | ((I >>> 8) & 65280) | ((I >>> 24) & 240);\r\n\t\tI = k;\r\n\t\tfor (var P = 0; P < f.length; P++) {\r\n\t\t\tif (f[P]) {\r\n\t\t\t\tg = (g << 2) | (g >>> 26);\r\n\t\t\t\tI = (I << 2) | (I >>> 26)\r\n\t\t\t} else {\r\n\t\t\t\tg = (g << 1) | (g >>> 27);\r\n\t\t\t\tI = (I << 1) | (I >>> 27)\r\n\t\t\t}\r\n\t\t\tg &= -15;\r\n\t\t\tI &= -15;\r\n\t\t\tE = pc2bytes0[g >>> 28] | pc2bytes1[(g >>> 24) & 15] | pc2bytes2[(g >>> 20) & 15] | pc2bytes3[(g >>> 16) & 15] |\r\n\t\t\t\t\tpc2bytes4[(g >>> 12) & 15] | pc2bytes5[(g >>> 8) & 15] | pc2bytes6[(g >>> 4) & 15];\r\n\t\t\th = pc2bytes7[I >>> 28] | pc2bytes8[(I >>> 24) & 15] | pc2bytes9[(I >>> 20) & 15] | pc2bytes10[(I >>> 16) & 15] |\r\n\t\t\t\t\tpc2bytes11[(I >>> 12) & 15] | pc2bytes12[(I >>> 8) & 15] | pc2bytes13[(I >>> 4) & 15];\r\n\t\t\tk = ((h >>> 16) ^ E) & 65535;\r\n\t\t\ty[J++] = E ^ k;\r\n\t\t\ty[J++] = h ^ (k << 16)\r\n\t\t}\r\n\t}\r\n\tvar K = 0, P, N, k, a, U, T, g, I, c;\r\n\tvar L, H, Q, d;\r\n\tvar D, e;\r\n\tvar p = o.length;\r\n\tvar b = 0;\r\n\tvar M = y.length == 32 ? 3 : 9;\r\n\tif (M == 3) {c = S ? new Array(0, 32, 2) : new Array(30, -2, -2)} else {\r\n\t\tc = S ? new Array(0, 32, 2, 62, 30, -2, 64, 96, 2) : new Array(94, 62, -2, 32, 64, 2, 30, -2, -2)\r\n\t}\r\n\tk = 8 - (p % 8);\r\n\to += String.fromCharCode(k, k, k, k, k, k, k, k);\r\n\tif (k == 8) {p += 8}\r\n\tresult = "";\r\n\ttempresult = "";\r\n\twhile (K < p) {\r\n\t\tg = (o.charCodeAt(K++) << 24) | (o.charCodeAt(K++) << 16) | (o.charCodeAt(K++) << 8) | o.charCodeAt(K++);\r\n\t\tI = (o.charCodeAt(K++) << 24) | (o.charCodeAt(K++) << 16) | (o.charCodeAt(K++) << 8) | o.charCodeAt(K++);\r\n\t\tk = ((g >>> 4) ^ I) & 252645135;\r\n\t\tI ^= k;\r\n\t\tg ^= (k << 4);\r\n\t\tk = ((g >>> 16) ^ I) & 65535;\r\n\t\tI ^= k;\r\n\t\tg ^= (k << 16);\r\n\t\tk = ((I >>> 2) ^ g) & 858993459;\r\n\t\tg ^= k;\r\n\t\tI ^= (k << 2);\r\n\t\tk = ((I >>> 8) ^ g) & 16711935;\r\n\t\tg ^= k;\r\n\t\tI ^= (k << 8);\r\n\t\tk = ((g >>> 1) ^ I) & 1431655765;\r\n\t\tI ^= k;\r\n\t\tg ^= (k << 1);\r\n\t\tg = ((g << 1) | (g >>> 31));\r\n\t\tI = ((I << 1) | (I >>> 31));\r\n\t\tfor (N = 0; N < M; N += 3) {\r\n\t\t\tD = c[N + 1];\r\n\t\t\te = c[N + 2];\r\n\t\t\tfor (P = c[N]; P != D; P += e) {\r\n\t\t\t\tU = I ^ y[P];\r\n\t\t\t\tT = ((I >>> 4) | (I << 28)) ^ y[P + 1];\r\n\t\t\t\tk = g;\r\n\t\t\t\tg = I;\r\n\t\t\t\tI = k ^ (A[(U >>> 24) & 63] | x[(U >>> 16) & 63] | v[(U >>> 8) & 63] | q[U & 63] | B[(T >>> 24) & 63] |\r\n\t\t\t\t\t\tz[(T >>> 16) & 63] | w[(T >>> 8) & 63] | u[T & 63])\r\n\t\t\t}\r\n\t\t\tk = g;\r\n\t\t\tg = I;\r\n\t\t\tI = k\r\n\t\t}\r\n\t\tg = ((g >>> 1) | (g << 31));\r\n\t\tI = ((I >>> 1) | (I << 31));\r\n\t\tk = ((g >>> 1) ^ I) & 1431655765;\r\n\t\tI ^= k;\r\n\t\tg ^= (k << 1);\r\n\t\tk = ((I >>> 8) ^ g) & 16711935;\r\n\t\tg ^= k;\r\n\t\tI ^= (k << 8);\r\n\t\tk = ((I >>> 2) ^ g) & 858993459;\r\n\t\tg ^= k;\r\n\t\tI ^= (k << 2);\r\n\t\tk = ((g >>> 16) ^ I) & 65535;\r\n\t\tI ^= k;\r\n\t\tg ^= (k << 16);\r\n\t\tk = ((g >>> 4) ^ I) & 252645135;\r\n\t\tI ^= k;\r\n\t\tg ^= (k << 4);\r\n\t\ttempresult += String.fromCharCode((g >>> 24), ((g >>> 16) & 255), ((g >>> 8) & 255), (g & 255), (I >>> 24), ((I >>> 16) & 255),\r\n\t\t\t\t((I >>> 8) & 255), (I & 255));\r\n\t\tb += 8;\r\n\t\tif (b == 512) {\r\n\t\t\tresult += tempresult;\r\n\t\t\ttempresult = "";\r\n\t\t\tb = 0\r\n\t\t}\r\n\t}\r\n\tvar F = result + tempresult;\r\n\tvar G = "";\r\n\tvar R = new Array("0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "a", "b", "c", "d", "e", "f");\r\n\tfor (var P = 0; P < F.length; P++) {G += R[F.charCodeAt(P) >> 4] + R[F.charCodeAt(P) & 15]}\r\n\treturn G\r\n};\r\nmodule.exports = yytcrypt;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZHVsZS9jcnlwdG8vcHdkZW5jcnlwdC5qcz9hN2ZkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsT0FBTztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGNBQWM7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLG9EQUFvRDtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsY0FBYyxPQUFPO0FBQ3JDO0FBQ0E7QUFDQSIsImZpbGUiOiI1Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIHl5dGNyeXB0KG8pIHtcclxuXHR2YXIgbCA9IDAsIFMgPSAxLCB0ID0gXCJpbnB1dHZlY1wiLCBPID0gMSwgQyA9IFwieXl0Y2RuMmJcIjtcclxuXHR2YXIgQiA9IG5ldyBBcnJheSgxNjg0Mzc3NiwgMCwgNjU1MzYsIDE2ODQzNzgwLCAxNjg0Mjc1NiwgNjY1NjQsIDQsIDY1NTM2LCAxMDI0LCAxNjg0Mzc3NiwgMTY4NDM3ODAsIDEwMjQsIDE2Nzc4MjQ0LCAxNjg0Mjc1NixcclxuXHRcdFx0MTY3NzcyMTYsIDQsIDEwMjgsIDE2Nzc4MjQwLCAxNjc3ODI0MCwgNjY1NjAsIDY2NTYwLCAxNjg0Mjc1MiwgMTY4NDI3NTIsIDE2Nzc4MjQ0LCA2NTU0MCwgMTY3NzcyMjAsIDE2Nzc3MjIwLCA2NTU0MCwgMCxcclxuXHRcdFx0MTAyOCwgNjY1NjQsIDE2Nzc3MjE2LCA2NTUzNiwgMTY4NDM3ODAsIDQsIDE2ODQyNzUyLCAxNjg0Mzc3NiwgMTY3NzcyMTYsIDE2Nzc3MjE2LCAxMDI0LCAxNjg0Mjc1NiwgNjU1MzYsIDY2NTYwLCAxNjc3NzIyMCxcclxuXHRcdFx0MTAyNCwgNCwgMTY3NzgyNDQsIDY2NTY0LCAxNjg0Mzc4MCwgNjU1NDAsIDE2ODQyNzUyLCAxNjc3ODI0NCwgMTY3NzcyMjAsIDEwMjgsIDY2NTY0LCAxNjg0Mzc3NiwgMTAyOCwgMTY3NzgyNDAsIDE2Nzc4MjQwLCAwLFxyXG5cdFx0XHQ2NTU0MCwgNjY1NjAsIDAsIDE2ODQyNzU2KTtcclxuXHR2YXIgQSA9IG5ldyBBcnJheSgtMjE0NjQwMjI3MiwgLTIxNDc0NTA4ODAsIDMyNzY4LCAxMDgxMzc2LCAxMDQ4NTc2LCAzMiwgLTIxNDY0MzUwNDAsIC0yMTQ3NDUwODQ4LCAtMjE0NzQ4MzYxNiwgLTIxNDY0MDIyNzIsXHJcblx0XHRcdC0yMTQ2NDAyMzA0LCAtMjE0NzQ4MzY0OCwgLTIxNDc0NTA4ODAsIDEwNDg1NzYsIDMyLCAtMjE0NjQzNTA0MCwgMTA4MTM0NCwgMTA0ODYwOCwgLTIxNDc0NTA4NDgsIDAsIC0yMTQ3NDgzNjQ4LCAzMjc2OCxcclxuXHRcdFx0MTA4MTM3NiwgLTIxNDY0MzUwNzIsIDEwNDg2MDgsIC0yMTQ3NDgzNjE2LCAwLCAxMDgxMzQ0LCAzMjgwMCwgLTIxNDY0MDIzMDQsIC0yMTQ2NDM1MDcyLCAzMjgwMCwgMCwgMTA4MTM3NiwgLTIxNDY0MzUwNDAsXHJcblx0XHRcdDEwNDg1NzYsIC0yMTQ3NDUwODQ4LCAtMjE0NjQzNTA3MiwgLTIxNDY0MDIzMDQsIDMyNzY4LCAtMjE0NjQzNTA3MiwgLTIxNDc0NTA4ODAsIDMyLCAtMjE0NjQwMjI3MiwgMTA4MTM3NiwgMzIsIDMyNzY4LFxyXG5cdFx0XHQtMjE0NzQ4MzY0OCwgMzI4MDAsIC0yMTQ2NDAyMzA0LCAxMDQ4NTc2LCAtMjE0NzQ4MzYxNiwgMTA0ODYwOCwgLTIxNDc0NTA4NDgsIC0yMTQ3NDgzNjE2LCAxMDQ4NjA4LCAxMDgxMzQ0LCAwLCAtMjE0NzQ1MDg4MCxcclxuXHRcdFx0MzI4MDAsIC0yMTQ3NDgzNjQ4LCAtMjE0NjQzNTA0MCwgLTIxNDY0MDIyNzIsIDEwODEzNDQpO1xyXG5cdHZhciB6ID0gbmV3IEFycmF5KDUyMCwgMTM0MzQ5MzEyLCAwLCAxMzQzNDg4MDgsIDEzNDIxODI0MCwgMCwgMTMxNTkyLCAxMzQyMTgyNDAsIDEzMTA4MCwgMTM0MjE3NzM2LCAxMzQyMTc3MzYsIDEzMTA3MiwgMTM0MzQ5MzIwLFxyXG5cdFx0XHQxMzEwODAsIDEzNDM0ODgwMCwgNTIwLCAxMzQyMTc3MjgsIDgsIDEzNDM0OTMxMiwgNTEyLCAxMzE1ODQsIDEzNDM0ODgwMCwgMTM0MzQ4ODA4LCAxMzE1OTIsIDEzNDIxODI0OCwgMTMxNTg0LCAxMzEwNzIsXHJcblx0XHRcdDEzNDIxODI0OCwgOCwgMTM0MzQ5MzIwLCA1MTIsIDEzNDIxNzcyOCwgMTM0MzQ5MzEyLCAxMzQyMTc3MjgsIDEzMTA4MCwgNTIwLCAxMzEwNzIsIDEzNDM0OTMxMiwgMTM0MjE4MjQwLCAwLCA1MTIsIDEzMTA4MCxcclxuXHRcdFx0MTM0MzQ5MzIwLCAxMzQyMTgyNDAsIDEzNDIxNzczNiwgNTEyLCAwLCAxMzQzNDg4MDgsIDEzNDIxODI0OCwgMTMxMDcyLCAxMzQyMTc3MjgsIDEzNDM0OTMyMCwgOCwgMTMxNTkyLCAxMzE1ODQsIDEzNDIxNzczNixcclxuXHRcdFx0MTM0MzQ4ODAwLCAxMzQyMTgyNDgsIDUyMCwgMTM0MzQ4ODAwLCAxMzE1OTIsIDgsIDEzNDM0ODgwOCwgMTMxNTg0KTtcclxuXHR2YXIgeCA9IG5ldyBBcnJheSg4Mzk2ODAxLCA4MzIxLCA4MzIxLCAxMjgsIDgzOTY5MjgsIDgzODg3MzcsIDgzODg2MDksIDgxOTMsIDAsIDgzOTY4MDAsIDgzOTY4MDAsIDgzOTY5MjksIDEyOSwgMCwgODM4ODczNiwgODM4ODYwOSxcclxuXHRcdFx0MSwgODE5MiwgODM4ODYwOCwgODM5NjgwMSwgMTI4LCA4Mzg4NjA4LCA4MTkzLCA4MzIwLCA4Mzg4NzM3LCAxLCA4MzIwLCA4Mzg4NzM2LCA4MTkyLCA4Mzk2OTI4LCA4Mzk2OTI5LCAxMjksIDgzODg3MzYsXHJcblx0XHRcdDgzODg2MDksIDgzOTY4MDAsIDgzOTY5MjksIDEyOSwgMCwgMCwgODM5NjgwMCwgODMyMCwgODM4ODczNiwgODM4ODczNywgMSwgODM5NjgwMSwgODMyMSwgODMyMSwgMTI4LCA4Mzk2OTI5LCAxMjksIDEsIDgxOTIsXHJcblx0XHRcdDgzODg2MDksIDgxOTMsIDgzOTY5MjgsIDgzODg3MzcsIDgxOTMsIDgzMjAsIDgzODg2MDgsIDgzOTY4MDEsIDEyOCwgODM4ODYwOCwgODE5MiwgODM5NjkyOCk7XHJcblx0dmFyIHcgPSBuZXcgQXJyYXkoMjU2LCAzNDA3ODk3NiwgMzQwNzg3MjAsIDExMDcyOTY1MTIsIDUyNDI4OCwgMjU2LCAxMDczNzQxODI0LCAzNDA3ODcyMCwgMTA3NDI2NjM2OCwgNTI0Mjg4LCAzMzU1NDY4OCwgMTA3NDI2NjM2OCxcclxuXHRcdFx0MTEwNzI5NjUxMiwgMTEwNzgyMDU0NCwgNTI0NTQ0LCAxMDczNzQxODI0LCAzMzU1NDQzMiwgMTA3NDI2NjExMiwgMTA3NDI2NjExMiwgMCwgMTA3Mzc0MjA4MCwgMTEwNzgyMDgwMCwgMTEwNzgyMDgwMCxcclxuXHRcdFx0MzM1NTQ2ODgsIDExMDc4MjA1NDQsIDEwNzM3NDIwODAsIDAsIDExMDcyOTYyNTYsIDM0MDc4OTc2LCAzMzU1NDQzMiwgMTEwNzI5NjI1NiwgNTI0NTQ0LCA1MjQyODgsIDExMDcyOTY1MTIsIDI1NiwgMzM1NTQ0MzIsXHJcblx0XHRcdDEwNzM3NDE4MjQsIDM0MDc4NzIwLCAxMTA3Mjk2NTEyLCAxMDc0MjY2MzY4LCAzMzU1NDY4OCwgMTA3Mzc0MTgyNCwgMTEwNzgyMDU0NCwgMzQwNzg5NzYsIDEwNzQyNjYzNjgsIDI1NiwgMzM1NTQ0MzIsXHJcblx0XHRcdDExMDc4MjA1NDQsIDExMDc4MjA4MDAsIDUyNDU0NCwgMTEwNzI5NjI1NiwgMTEwNzgyMDgwMCwgMzQwNzg3MjAsIDAsIDEwNzQyNjYxMTIsIDExMDcyOTYyNTYsIDUyNDU0NCwgMzM1NTQ2ODgsIDEwNzM3NDIwODAsXHJcblx0XHRcdDUyNDI4OCwgMCwgMTA3NDI2NjExMiwgMzQwNzg5NzYsIDEwNzM3NDIwODApO1xyXG5cdHZhciB2ID0gbmV3IEFycmF5KDUzNjg3MDkyOCwgNTQxMDY1MjE2LCAxNjM4NCwgNTQxMDgxNjE2LCA1NDEwNjUyMTYsIDE2LCA1NDEwODE2MTYsIDQxOTQzMDQsIDUzNjg4NzI5NiwgNDIxMDcwNCwgNDE5NDMwNCwgNTM2ODcwOTI4LFxyXG5cdFx0XHQ0MTk0MzIwLCA1MzY4ODcyOTYsIDUzNjg3MDkxMiwgMTY0MDAsIDAsIDQxOTQzMjAsIDUzNjg4NzMxMiwgMTYzODQsIDQyMTA2ODgsIDUzNjg4NzMxMiwgMTYsIDU0MTA2NTIzMiwgNTQxMDY1MjMyLCAwLFxyXG5cdFx0XHQ0MjEwNzA0LCA1NDEwODE2MDAsIDE2NDAwLCA0MjEwNjg4LCA1NDEwODE2MDAsIDUzNjg3MDkxMiwgNTM2ODg3Mjk2LCAxNiwgNTQxMDY1MjMyLCA0MjEwNjg4LCA1NDEwODE2MTYsIDQxOTQzMDQsIDE2NDAwLFxyXG5cdFx0XHQ1MzY4NzA5MjgsIDQxOTQzMDQsIDUzNjg4NzI5NiwgNTM2ODcwOTEyLCAxNjQwMCwgNTM2ODcwOTI4LCA1NDEwODE2MTYsIDQyMTA2ODgsIDU0MTA2NTIxNiwgNDIxMDcwNCwgNTQxMDgxNjAwLCAwLCA1NDEwNjUyMzIsXHJcblx0XHRcdDE2LCAxNjM4NCwgNTQxMDY1MjE2LCA0MjEwNzA0LCAxNjM4NCwgNDE5NDMyMCwgNTM2ODg3MzEyLCAwLCA1NDEwODE2MDAsIDUzNjg3MDkxMiwgNDE5NDMyMCwgNTM2ODg3MzEyKTtcclxuXHR2YXIgdSA9IG5ldyBBcnJheSgyMDk3MTUyLCA2OTIwNjAxOCwgNjcxMTA5MTQsIDAsIDIwNDgsIDY3MTEwOTE0LCAyMDk5MjAyLCA2OTIwODA2NCwgNjkyMDgwNjYsIDIwOTcxNTIsIDAsIDY3MTA4ODY2LCAyLCA2NzEwODg2NCxcclxuXHRcdFx0NjkyMDYwMTgsIDIwNTAsIDY3MTEwOTEyLCAyMDk5MjAyLCAyMDk3MTU0LCA2NzExMDkxMiwgNjcxMDg4NjYsIDY5MjA2MDE2LCA2OTIwODA2NCwgMjA5NzE1NCwgNjkyMDYwMTYsIDIwNDgsIDIwNTAsIDY5MjA4MDY2LFxyXG5cdFx0XHQyMDk5MjAwLCAyLCA2NzEwODg2NCwgMjA5OTIwMCwgNjcxMDg4NjQsIDIwOTkyMDAsIDIwOTcxNTIsIDY3MTEwOTE0LCA2NzExMDkxNCwgNjkyMDYwMTgsIDY5MjA2MDE4LCAyLCAyMDk3MTU0LCA2NzEwODg2NCxcclxuXHRcdFx0NjcxMTA5MTIsIDIwOTcxNTIsIDY5MjA4MDY0LCAyMDUwLCAyMDk5MjAyLCA2OTIwODA2NCwgMjA1MCwgNjcxMDg4NjYsIDY5MjA4MDY2LCA2OTIwNjAxNiwgMjA5OTIwMCwgMCwgMiwgNjkyMDgwNjYsIDAsXHJcblx0XHRcdDIwOTkyMDIsIDY5MjA2MDE2LCAyMDQ4LCA2NzEwODg2NiwgNjcxMTA5MTIsIDIwNDgsIDIwOTcxNTQpO1xyXG5cdHZhciBxID0gbmV3IEFycmF5KDI2ODQzOTYxNiwgNDA5NiwgMjYyMTQ0LCAyNjg3MDE3NjAsIDI2ODQzNTQ1NiwgMjY4NDM5NjE2LCA2NCwgMjY4NDM1NDU2LCAyNjIyMDgsIDI2ODY5NzYwMCwgMjY4NzAxNzYwLCAyNjYyNDAsXHJcblx0XHRcdDI2ODcwMTY5NiwgMjY2MzA0LCA0MDk2LCA2NCwgMjY4Njk3NjAwLCAyNjg0MzU1MjAsIDI2ODQzOTU1MiwgNDE2MCwgMjY2MjQwLCAyNjIyMDgsIDI2ODY5NzY2NCwgMjY4NzAxNjk2LCA0MTYwLCAwLCAwLFxyXG5cdFx0XHQyNjg2OTc2NjQsIDI2ODQzNTUyMCwgMjY4NDM5NTUyLCAyNjYzMDQsIDI2MjE0NCwgMjY2MzA0LCAyNjIxNDQsIDI2ODcwMTY5NiwgNDA5NiwgNjQsIDI2ODY5NzY2NCwgNDA5NiwgMjY2MzA0LCAyNjg0Mzk1NTIsXHJcblx0XHRcdDY0LCAyNjg0MzU1MjAsIDI2ODY5NzYwMCwgMjY4Njk3NjY0LCAyNjg0MzU0NTYsIDI2MjE0NCwgMjY4NDM5NjE2LCAwLCAyNjg3MDE3NjAsIDI2MjIwOCwgMjY4NDM1NTIwLCAyNjg2OTc2MDAsIDI2ODQzOTU1MixcclxuXHRcdFx0MjY4NDM5NjE2LCAwLCAyNjg3MDE3NjAsIDI2NjI0MCwgMjY2MjQwLCA0MTYwLCA0MTYwLCAyNjIyMDgsIDI2ODQzNTQ1NiwgMjY4NzAxNjk2KTtcclxuXHRwYzJieXRlczAgPSBuZXcgQXJyYXkoMCwgNCwgNTM2ODcwOTEyLCA1MzY4NzA5MTYsIDY1NTM2LCA2NTU0MCwgNTM2OTM2NDQ4LCA1MzY5MzY0NTIsIDUxMiwgNTE2LCA1MzY4NzE0MjQsIDUzNjg3MTQyOCwgNjYwNDgsIDY2MDUyLFxyXG5cdFx0XHQ1MzY5MzY5NjAsIDUzNjkzNjk2NCk7XHJcblx0cGMyYnl0ZXMxID1cclxuXHRcdFx0bmV3IEFycmF5KDAsIDEsIDEwNDg1NzYsIDEwNDg1NzcsIDY3MTA4ODY0LCA2NzEwODg2NSwgNjgxNTc0NDAsIDY4MTU3NDQxLCAyNTYsIDI1NywgMTA0ODgzMiwgMTA0ODgzMywgNjcxMDkxMjAsIDY3MTA5MTIxLFxyXG5cdFx0XHRcdFx0NjgxNTc2OTYsIDY4MTU3Njk3KTtcclxuXHRwYzJieXRlczIgPSBuZXcgQXJyYXkoMCwgOCwgMjA0OCwgMjA1NiwgMTY3NzcyMTYsIDE2Nzc3MjI0LCAxNjc3OTI2NCwgMTY3NzkyNzIsIDAsIDgsIDIwNDgsIDIwNTYsIDE2Nzc3MjE2LCAxNjc3NzIyNCwgMTY3NzkyNjQsXHJcblx0XHRcdDE2Nzc5MjcyKTtcclxuXHRwYzJieXRlczMgPSBuZXcgQXJyYXkoMCwgMjA5NzE1MiwgMTM0MjE3NzI4LCAxMzYzMTQ4ODAsIDgxOTIsIDIxMDUzNDQsIDEzNDIyNTkyMCwgMTM2MzIzMDcyLCAxMzEwNzIsIDIyMjgyMjQsIDEzNDM0ODgwMCwgMTM2NDQ1OTUyLFxyXG5cdFx0XHQxMzkyNjQsIDIyMzY0MTYsIDEzNDM1Njk5MiwgMTM2NDU0MTQ0KTtcclxuXHRwYzJieXRlczQgPSBuZXcgQXJyYXkoMCwgMjYyMTQ0LCAxNiwgMjYyMTYwLCAwLCAyNjIxNDQsIDE2LCAyNjIxNjAsIDQwOTYsIDI2NjI0MCwgNDExMiwgMjY2MjU2LCA0MDk2LCAyNjYyNDAsIDQxMTIsIDI2NjI1Nik7XHJcblx0cGMyYnl0ZXM1ID0gbmV3IEFycmF5KDAsIDEwMjQsIDMyLCAxMDU2LCAwLCAxMDI0LCAzMiwgMTA1NiwgMzM1NTQ0MzIsIDMzNTU1NDU2LCAzMzU1NDQ2NCwgMzM1NTU0ODgsIDMzNTU0NDMyLCAzMzU1NTQ1NiwgMzM1NTQ0NjQsXHJcblx0XHRcdDMzNTU1NDg4KTtcclxuXHRwYzJieXRlczYgPVxyXG5cdFx0XHRuZXcgQXJyYXkoMCwgMjY4NDM1NDU2LCA1MjQyODgsIDI2ODk1OTc0NCwgMiwgMjY4NDM1NDU4LCA1MjQyOTAsIDI2ODk1OTc0NiwgMCwgMjY4NDM1NDU2LCA1MjQyODgsIDI2ODk1OTc0NCwgMiwgMjY4NDM1NDU4LFxyXG5cdFx0XHRcdFx0NTI0MjkwLCAyNjg5NTk3NDYpO1xyXG5cdHBjMmJ5dGVzNyA9IG5ldyBBcnJheSgwLCA2NTUzNiwgMjA0OCwgNjc1ODQsIDUzNjg3MDkxMiwgNTM2OTM2NDQ4LCA1MzY4NzI5NjAsIDUzNjkzODQ5NiwgMTMxMDcyLCAxOTY2MDgsIDEzMzEyMCwgMTk4NjU2LCA1MzcwMDE5ODQsXHJcblx0XHRcdDUzNzA2NzUyMCwgNTM3MDA0MDMyLCA1MzcwNjk1NjgpO1xyXG5cdHBjMmJ5dGVzOCA9XHJcblx0XHRcdG5ldyBBcnJheSgwLCAyNjIxNDQsIDAsIDI2MjE0NCwgMiwgMjYyMTQ2LCAyLCAyNjIxNDYsIDMzNTU0NDMyLCAzMzgxNjU3NiwgMzM1NTQ0MzIsIDMzODE2NTc2LCAzMzU1NDQzNCwgMzM4MTY1NzgsIDMzNTU0NDM0LFxyXG5cdFx0XHRcdFx0MzM4MTY1NzgpO1xyXG5cdHBjMmJ5dGVzOSA9XHJcblx0XHRcdG5ldyBBcnJheSgwLCAyNjg0MzU0NTYsIDgsIDI2ODQzNTQ2NCwgMCwgMjY4NDM1NDU2LCA4LCAyNjg0MzU0NjQsIDEwMjQsIDI2ODQzNjQ4MCwgMTAzMiwgMjY4NDM2NDg4LCAxMDI0LCAyNjg0MzY0ODAsIDEwMzIsXHJcblx0XHRcdFx0XHQyNjg0MzY0ODgpO1xyXG5cdHBjMmJ5dGVzMTAgPVxyXG5cdFx0XHRuZXcgQXJyYXkoMCwgMzIsIDAsIDMyLCAxMDQ4NTc2LCAxMDQ4NjA4LCAxMDQ4NTc2LCAxMDQ4NjA4LCA4MTkyLCA4MjI0LCA4MTkyLCA4MjI0LCAxMDU2NzY4LCAxMDU2ODAwLCAxMDU2NzY4LCAxMDU2ODAwKTtcclxuXHRwYzJieXRlczExID0gbmV3IEFycmF5KDAsIDE2Nzc3MjE2LCA1MTIsIDE2Nzc3NzI4LCAyMDk3MTUyLCAxODg3NDM2OCwgMjA5NzY2NCwgMTg4NzQ4ODAsIDY3MTA4ODY0LCA4Mzg4NjA4MCwgNjcxMDkzNzYsIDgzODg2NTkyLFxyXG5cdFx0XHQ2OTIwNjAxNiwgODU5ODMyMzIsIDY5MjA2NTI4LCA4NTk4Mzc0NCk7XHJcblx0cGMyYnl0ZXMxMiA9IG5ldyBBcnJheSgwLCA0MDk2LCAxMzQyMTc3MjgsIDEzNDIyMTgyNCwgNTI0Mjg4LCA1MjgzODQsIDEzNDc0MjAxNiwgMTM0NzQ2MTEyLCAxNiwgNDExMiwgMTM0MjE3NzQ0LCAxMzQyMjE4NDAsIDUyNDMwNCxcclxuXHRcdFx0NTI4NDAwLCAxMzQ3NDIwMzIsIDEzNDc0NjEyOCk7XHJcblx0cGMyYnl0ZXMxMyA9IG5ldyBBcnJheSgwLCA0LCAyNTYsIDI2MCwgMCwgNCwgMjU2LCAyNjAsIDEsIDUsIDI1NywgMjYxLCAxLCA1LCAyNTcsIDI2MSk7XHJcblx0dmFyIE0gPSBDLmxlbmd0aCA+IDggPyAzIDogMTtcclxuXHR2YXIgeSA9IG5ldyBBcnJheSgzMiAqIE0pO1xyXG5cdHZhciBmID0gbmV3IEFycmF5KDAsIDAsIDEsIDEsIDEsIDEsIDEsIDEsIDAsIDEsIDEsIDEsIDEsIDEsIDEsIDApO1xyXG5cdHZhciBFLCBoLCBLID0gMCwgSiA9IDAsIGs7XHJcblx0Zm9yICh2YXIgTiA9IDA7IE4gPCBNOyBOKyspIHtcclxuXHRcdGcgPSAoQy5jaGFyQ29kZUF0KEsrKykgPDwgMjQpIHwgKEMuY2hhckNvZGVBdChLKyspIDw8IDE2KSB8IChDLmNoYXJDb2RlQXQoSysrKSA8PCA4KSB8IEMuY2hhckNvZGVBdChLKyspO1xyXG5cdFx0SSA9IChDLmNoYXJDb2RlQXQoSysrKSA8PCAyNCkgfCAoQy5jaGFyQ29kZUF0KEsrKykgPDwgMTYpIHwgKEMuY2hhckNvZGVBdChLKyspIDw8IDgpIHwgQy5jaGFyQ29kZUF0KEsrKyk7XHJcblx0XHRrID0gKChnID4+PiA0KSBeIEkpICYgMjUyNjQ1MTM1O1xyXG5cdFx0SSBePSBrO1xyXG5cdFx0ZyBePSAoayA8PCA0KTtcclxuXHRcdGsgPSAoKEkgPj4+IC0xNikgXiBnKSAmIDY1NTM1O1xyXG5cdFx0ZyBePSBrO1xyXG5cdFx0SSBePSAoayA8PCAtMTYpO1xyXG5cdFx0ayA9ICgoZyA+Pj4gMikgXiBJKSAmIDg1ODk5MzQ1OTtcclxuXHRcdEkgXj0gaztcclxuXHRcdGcgXj0gKGsgPDwgMik7XHJcblx0XHRrID0gKChJID4+PiAtMTYpIF4gZykgJiA2NTUzNTtcclxuXHRcdGcgXj0gaztcclxuXHRcdEkgXj0gKGsgPDwgLTE2KTtcclxuXHRcdGsgPSAoKGcgPj4+IDEpIF4gSSkgJiAxNDMxNjU1NzY1O1xyXG5cdFx0SSBePSBrO1xyXG5cdFx0ZyBePSAoayA8PCAxKTtcclxuXHRcdGsgPSAoKEkgPj4+IDgpIF4gZykgJiAxNjcxMTkzNTtcclxuXHRcdGcgXj0gaztcclxuXHRcdEkgXj0gKGsgPDwgOCk7XHJcblx0XHRrID0gKChnID4+PiAxKSBeIEkpICYgMTQzMTY1NTc2NTtcclxuXHRcdEkgXj0gaztcclxuXHRcdGcgXj0gKGsgPDwgMSk7XHJcblx0XHRrID0gKGcgPDwgOCkgfCAoKEkgPj4+IDIwKSAmIDI0MCk7XHJcblx0XHRnID0gKEkgPDwgMjQpIHwgKChJIDw8IDgpICYgMTY3MTE2ODApIHwgKChJID4+PiA4KSAmIDY1MjgwKSB8ICgoSSA+Pj4gMjQpICYgMjQwKTtcclxuXHRcdEkgPSBrO1xyXG5cdFx0Zm9yICh2YXIgUCA9IDA7IFAgPCBmLmxlbmd0aDsgUCsrKSB7XHJcblx0XHRcdGlmIChmW1BdKSB7XHJcblx0XHRcdFx0ZyA9IChnIDw8IDIpIHwgKGcgPj4+IDI2KTtcclxuXHRcdFx0XHRJID0gKEkgPDwgMikgfCAoSSA+Pj4gMjYpXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0ZyA9IChnIDw8IDEpIHwgKGcgPj4+IDI3KTtcclxuXHRcdFx0XHRJID0gKEkgPDwgMSkgfCAoSSA+Pj4gMjcpXHJcblx0XHRcdH1cclxuXHRcdFx0ZyAmPSAtMTU7XHJcblx0XHRcdEkgJj0gLTE1O1xyXG5cdFx0XHRFID0gcGMyYnl0ZXMwW2cgPj4+IDI4XSB8IHBjMmJ5dGVzMVsoZyA+Pj4gMjQpICYgMTVdIHwgcGMyYnl0ZXMyWyhnID4+PiAyMCkgJiAxNV0gfCBwYzJieXRlczNbKGcgPj4+IDE2KSAmIDE1XSB8XHJcblx0XHRcdFx0XHRwYzJieXRlczRbKGcgPj4+IDEyKSAmIDE1XSB8IHBjMmJ5dGVzNVsoZyA+Pj4gOCkgJiAxNV0gfCBwYzJieXRlczZbKGcgPj4+IDQpICYgMTVdO1xyXG5cdFx0XHRoID0gcGMyYnl0ZXM3W0kgPj4+IDI4XSB8IHBjMmJ5dGVzOFsoSSA+Pj4gMjQpICYgMTVdIHwgcGMyYnl0ZXM5WyhJID4+PiAyMCkgJiAxNV0gfCBwYzJieXRlczEwWyhJID4+PiAxNikgJiAxNV0gfFxyXG5cdFx0XHRcdFx0cGMyYnl0ZXMxMVsoSSA+Pj4gMTIpICYgMTVdIHwgcGMyYnl0ZXMxMlsoSSA+Pj4gOCkgJiAxNV0gfCBwYzJieXRlczEzWyhJID4+PiA0KSAmIDE1XTtcclxuXHRcdFx0ayA9ICgoaCA+Pj4gMTYpIF4gRSkgJiA2NTUzNTtcclxuXHRcdFx0eVtKKytdID0gRSBeIGs7XHJcblx0XHRcdHlbSisrXSA9IGggXiAoayA8PCAxNilcclxuXHRcdH1cclxuXHR9XHJcblx0dmFyIEsgPSAwLCBQLCBOLCBrLCBhLCBVLCBULCBnLCBJLCBjO1xyXG5cdHZhciBMLCBILCBRLCBkO1xyXG5cdHZhciBELCBlO1xyXG5cdHZhciBwID0gby5sZW5ndGg7XHJcblx0dmFyIGIgPSAwO1xyXG5cdHZhciBNID0geS5sZW5ndGggPT0gMzIgPyAzIDogOTtcclxuXHRpZiAoTSA9PSAzKSB7YyA9IFMgPyBuZXcgQXJyYXkoMCwgMzIsIDIpIDogbmV3IEFycmF5KDMwLCAtMiwgLTIpfSBlbHNlIHtcclxuXHRcdGMgPSBTID8gbmV3IEFycmF5KDAsIDMyLCAyLCA2MiwgMzAsIC0yLCA2NCwgOTYsIDIpIDogbmV3IEFycmF5KDk0LCA2MiwgLTIsIDMyLCA2NCwgMiwgMzAsIC0yLCAtMilcclxuXHR9XHJcblx0ayA9IDggLSAocCAlIDgpO1xyXG5cdG8gKz0gU3RyaW5nLmZyb21DaGFyQ29kZShrLCBrLCBrLCBrLCBrLCBrLCBrLCBrKTtcclxuXHRpZiAoayA9PSA4KSB7cCArPSA4fVxyXG5cdHJlc3VsdCA9IFwiXCI7XHJcblx0dGVtcHJlc3VsdCA9IFwiXCI7XHJcblx0d2hpbGUgKEsgPCBwKSB7XHJcblx0XHRnID0gKG8uY2hhckNvZGVBdChLKyspIDw8IDI0KSB8IChvLmNoYXJDb2RlQXQoSysrKSA8PCAxNikgfCAoby5jaGFyQ29kZUF0KEsrKykgPDwgOCkgfCBvLmNoYXJDb2RlQXQoSysrKTtcclxuXHRcdEkgPSAoby5jaGFyQ29kZUF0KEsrKykgPDwgMjQpIHwgKG8uY2hhckNvZGVBdChLKyspIDw8IDE2KSB8IChvLmNoYXJDb2RlQXQoSysrKSA8PCA4KSB8IG8uY2hhckNvZGVBdChLKyspO1xyXG5cdFx0ayA9ICgoZyA+Pj4gNCkgXiBJKSAmIDI1MjY0NTEzNTtcclxuXHRcdEkgXj0gaztcclxuXHRcdGcgXj0gKGsgPDwgNCk7XHJcblx0XHRrID0gKChnID4+PiAxNikgXiBJKSAmIDY1NTM1O1xyXG5cdFx0SSBePSBrO1xyXG5cdFx0ZyBePSAoayA8PCAxNik7XHJcblx0XHRrID0gKChJID4+PiAyKSBeIGcpICYgODU4OTkzNDU5O1xyXG5cdFx0ZyBePSBrO1xyXG5cdFx0SSBePSAoayA8PCAyKTtcclxuXHRcdGsgPSAoKEkgPj4+IDgpIF4gZykgJiAxNjcxMTkzNTtcclxuXHRcdGcgXj0gaztcclxuXHRcdEkgXj0gKGsgPDwgOCk7XHJcblx0XHRrID0gKChnID4+PiAxKSBeIEkpICYgMTQzMTY1NTc2NTtcclxuXHRcdEkgXj0gaztcclxuXHRcdGcgXj0gKGsgPDwgMSk7XHJcblx0XHRnID0gKChnIDw8IDEpIHwgKGcgPj4+IDMxKSk7XHJcblx0XHRJID0gKChJIDw8IDEpIHwgKEkgPj4+IDMxKSk7XHJcblx0XHRmb3IgKE4gPSAwOyBOIDwgTTsgTiArPSAzKSB7XHJcblx0XHRcdEQgPSBjW04gKyAxXTtcclxuXHRcdFx0ZSA9IGNbTiArIDJdO1xyXG5cdFx0XHRmb3IgKFAgPSBjW05dOyBQICE9IEQ7IFAgKz0gZSkge1xyXG5cdFx0XHRcdFUgPSBJIF4geVtQXTtcclxuXHRcdFx0XHRUID0gKChJID4+PiA0KSB8IChJIDw8IDI4KSkgXiB5W1AgKyAxXTtcclxuXHRcdFx0XHRrID0gZztcclxuXHRcdFx0XHRnID0gSTtcclxuXHRcdFx0XHRJID0gayBeIChBWyhVID4+PiAyNCkgJiA2M10gfCB4WyhVID4+PiAxNikgJiA2M10gfCB2WyhVID4+PiA4KSAmIDYzXSB8IHFbVSAmIDYzXSB8IEJbKFQgPj4+IDI0KSAmIDYzXSB8XHJcblx0XHRcdFx0XHRcdHpbKFQgPj4+IDE2KSAmIDYzXSB8IHdbKFQgPj4+IDgpICYgNjNdIHwgdVtUICYgNjNdKVxyXG5cdFx0XHR9XHJcblx0XHRcdGsgPSBnO1xyXG5cdFx0XHRnID0gSTtcclxuXHRcdFx0SSA9IGtcclxuXHRcdH1cclxuXHRcdGcgPSAoKGcgPj4+IDEpIHwgKGcgPDwgMzEpKTtcclxuXHRcdEkgPSAoKEkgPj4+IDEpIHwgKEkgPDwgMzEpKTtcclxuXHRcdGsgPSAoKGcgPj4+IDEpIF4gSSkgJiAxNDMxNjU1NzY1O1xyXG5cdFx0SSBePSBrO1xyXG5cdFx0ZyBePSAoayA8PCAxKTtcclxuXHRcdGsgPSAoKEkgPj4+IDgpIF4gZykgJiAxNjcxMTkzNTtcclxuXHRcdGcgXj0gaztcclxuXHRcdEkgXj0gKGsgPDwgOCk7XHJcblx0XHRrID0gKChJID4+PiAyKSBeIGcpICYgODU4OTkzNDU5O1xyXG5cdFx0ZyBePSBrO1xyXG5cdFx0SSBePSAoayA8PCAyKTtcclxuXHRcdGsgPSAoKGcgPj4+IDE2KSBeIEkpICYgNjU1MzU7XHJcblx0XHRJIF49IGs7XHJcblx0XHRnIF49IChrIDw8IDE2KTtcclxuXHRcdGsgPSAoKGcgPj4+IDQpIF4gSSkgJiAyNTI2NDUxMzU7XHJcblx0XHRJIF49IGs7XHJcblx0XHRnIF49IChrIDw8IDQpO1xyXG5cdFx0dGVtcHJlc3VsdCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKChnID4+PiAyNCksICgoZyA+Pj4gMTYpICYgMjU1KSwgKChnID4+PiA4KSAmIDI1NSksIChnICYgMjU1KSwgKEkgPj4+IDI0KSwgKChJID4+PiAxNikgJiAyNTUpLFxyXG5cdFx0XHRcdCgoSSA+Pj4gOCkgJiAyNTUpLCAoSSAmIDI1NSkpO1xyXG5cdFx0YiArPSA4O1xyXG5cdFx0aWYgKGIgPT0gNTEyKSB7XHJcblx0XHRcdHJlc3VsdCArPSB0ZW1wcmVzdWx0O1xyXG5cdFx0XHR0ZW1wcmVzdWx0ID0gXCJcIjtcclxuXHRcdFx0YiA9IDBcclxuXHRcdH1cclxuXHR9XHJcblx0dmFyIEYgPSByZXN1bHQgKyB0ZW1wcmVzdWx0O1xyXG5cdHZhciBHID0gXCJcIjtcclxuXHR2YXIgUiA9IG5ldyBBcnJheShcIjBcIiwgXCIxXCIsIFwiMlwiLCBcIjNcIiwgXCI0XCIsIFwiNVwiLCBcIjZcIiwgXCI3XCIsIFwiOFwiLCBcIjlcIiwgXCJhXCIsIFwiYlwiLCBcImNcIiwgXCJkXCIsIFwiZVwiLCBcImZcIik7XHJcblx0Zm9yICh2YXIgUCA9IDA7IFAgPCBGLmxlbmd0aDsgUCsrKSB7RyArPSBSW0YuY2hhckNvZGVBdChQKSA+PiA0XSArIFJbRi5jaGFyQ29kZUF0KFApICYgMTVdfVxyXG5cdHJldHVybiBHXHJcbn07XHJcbm1vZHVsZS5leHBvcnRzID0geXl0Y3J5cHQ7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9zcmMvbW9kdWxlL2NyeXB0by9wd2RlbmNyeXB0LmpzXG4gKiogbW9kdWxlIGlkID0gNTdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMSAyIDMgNCA1IDYgNyA4IDkgMTBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9')},function(module,exports){eval('module.exports = "<div class=\\"loginbox\\">\\r\\n    <div class=\\"external\\">\\r\\n        <p class=\\"title\\">使用合作账号登录<span>(推荐)</span></p>\\r\\n        <ul>\\r\\n            <li>\\r\\n                <a href=\\"{{url}}/api/login/sina-auth\\" target=\\"_blank\\" class=\\"weibo\\" hidefocus>微博帐号</a>\\r\\n            </li>\\r\\n            <li>\\r\\n                <a href=\\"{{url}}/api/login/qq-auth\\" target=\\"_blank\\" class=\\"qq\\" hidefocus>QQ帐号</a>\\r\\n            </li>\\r\\n            <li>\\r\\n                <a href=\\"{{url}}/api/login/renren-auth\\" target=\\"_blank\\" class=\\"renren\\" hidefocus>人人账号</a>\\r\\n            </li>\\r\\n            <li>\\r\\n                <a href=\\"{{url}}/api/login/baidu-auth\\" target=\\"_blank\\" class=\\"baidu\\" hidefocus>百度帐号</a>\\r\\n            </li>\\r\\n        </ul>\\r\\n        <div class=\\"loginbox-placehold\\"></div>\\r\\n        <p class=\\"text\\">快捷登录，无需注册</p>\\r\\n        <p class=\\"text\\">与你的朋友分享你的爱！</p>\\r\\n    </div>\\r\\n    <div class=\\"site\\">\\r\\n        <p class=\\"title\\">音悦Tai账号登录</p>\\r\\n        <form id=\\"loginBoxForm\\" action=\\"https://login.yinyuetai.com/login-ajax\\" method=\\"post\\">\\r\\n            <p class=\\"errorinfo\\">错误信息提示</p>\\r\\n            <div class=\\"email focuss\\">\\r\\n                <input type=\\"text\\" name=\\"email\\" placeholder=\\"您的邮箱地址或绑定手机\\"/>\\r\\n            </div>\\r\\n            <div class=\\"password\\">\\r\\n                <input type=\\"password\\" class=\\"pwd\\" placeholder=\\"请输入密码\\"/>\\r\\n            </div>\\r\\n            <div id=\\"captcha\\"></div>\\r\\n            <div>\\r\\n                <p class=\\"autologin\\"><input type=\\"checkbox\\" id=\\"autocheckbox\\" name=\\"autologin\\" checked hidefocus/><label for=\\"autocheckbox\\">下次自动登录</label></p>\\r\\n                <a class=\\"forgot\\" href=\\"{{url}}/forgot-password\\" target=\\"_blank\\" hidefocus>忘记密码</a>\\r\\n            </div>\\r\\n            <div>\\r\\n                <input class=\\"submit\\" type=\\"submit\\" hidefocus/>\\r\\n                <p class=\\"reg\\">还没有音悦Tai账号？<a href=\\"{{url}}/register\\" target=\\"_blank\\" hidefocus>立即注册！</a></p>\\r\\n            </div>\\r\\n        </form>\\r\\n    </div>\\r\\n</div>"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZHVsZS9sb2dpbkJveC90ZW1wbGF0ZS9sb2dpbkJveC5odG1sP2E2NzQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsME1BQTBNLEtBQUssb0pBQW9KLEtBQUssK0lBQStJLEtBQUssdUpBQXVKLEtBQUssZ2pDQUFnakMsS0FBSyxxT0FBcU8sS0FBSyIsImZpbGUiOiI1OC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPVxcXCJsb2dpbmJveFxcXCI+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImV4dGVybmFsXFxcIj5cXHJcXG4gICAgICAgIDxwIGNsYXNzPVxcXCJ0aXRsZVxcXCI+5L2/55So5ZCI5L2c6LSm5Y+355m75b2VPHNwYW4+KOaOqOiNkCk8L3NwYW4+PC9wPlxcclxcbiAgICAgICAgPHVsPlxcclxcbiAgICAgICAgICAgIDxsaT5cXHJcXG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cXFwie3t1cmx9fS9hcGkvbG9naW4vc2luYS1hdXRoXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgY2xhc3M9XFxcIndlaWJvXFxcIiBoaWRlZm9jdXM+5b6u5Y2a5biQ5Y+3PC9hPlxcclxcbiAgICAgICAgICAgIDwvbGk+XFxyXFxuICAgICAgICAgICAgPGxpPlxcclxcbiAgICAgICAgICAgICAgICA8YSBocmVmPVxcXCJ7e3VybH19L2FwaS9sb2dpbi9xcS1hdXRoXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgY2xhc3M9XFxcInFxXFxcIiBoaWRlZm9jdXM+UVHluJDlj7c8L2E+XFxyXFxuICAgICAgICAgICAgPC9saT5cXHJcXG4gICAgICAgICAgICA8bGk+XFxyXFxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcInt7dXJsfX0vYXBpL2xvZ2luL3JlbnJlbi1hdXRoXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgY2xhc3M9XFxcInJlbnJlblxcXCIgaGlkZWZvY3VzPuS6uuS6uui0puWPtzwvYT5cXHJcXG4gICAgICAgICAgICA8L2xpPlxcclxcbiAgICAgICAgICAgIDxsaT5cXHJcXG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cXFwie3t1cmx9fS9hcGkvbG9naW4vYmFpZHUtYXV0aFxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIGNsYXNzPVxcXCJiYWlkdVxcXCIgaGlkZWZvY3VzPueZvuW6puW4kOWPtzwvYT5cXHJcXG4gICAgICAgICAgICA8L2xpPlxcclxcbiAgICAgICAgPC91bD5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImxvZ2luYm94LXBsYWNlaG9sZFxcXCI+PC9kaXY+XFxyXFxuICAgICAgICA8cCBjbGFzcz1cXFwidGV4dFxcXCI+5b+r5o2355m75b2V77yM5peg6ZyA5rOo5YaMPC9wPlxcclxcbiAgICAgICAgPHAgY2xhc3M9XFxcInRleHRcXFwiPuS4juS9oOeahOaci+WPi+WIhuS6q+S9oOeahOeIse+8gTwvcD5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcInNpdGVcXFwiPlxcclxcbiAgICAgICAgPHAgY2xhc3M9XFxcInRpdGxlXFxcIj7pn7PmgqZUYWnotKblj7fnmbvlvZU8L3A+XFxyXFxuICAgICAgICA8Zm9ybSBpZD1cXFwibG9naW5Cb3hGb3JtXFxcIiBhY3Rpb249XFxcImh0dHBzOi8vbG9naW4ueWlueXVldGFpLmNvbS9sb2dpbi1hamF4XFxcIiBtZXRob2Q9XFxcInBvc3RcXFwiPlxcclxcbiAgICAgICAgICAgIDxwIGNsYXNzPVxcXCJlcnJvcmluZm9cXFwiPumUmeivr+S/oeaBr+aPkOekujwvcD5cXHJcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJlbWFpbCBmb2N1c3NcXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgbmFtZT1cXFwiZW1haWxcXFwiIHBsYWNlaG9sZGVyPVxcXCLmgqjnmoTpgq7nrrHlnLDlnYDmiJbnu5HlrprmiYvmnLpcXFwiLz5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJwYXNzd29yZFxcXCI+XFxyXFxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJwYXNzd29yZFxcXCIgY2xhc3M9XFxcInB3ZFxcXCIgcGxhY2Vob2xkZXI9XFxcIuivt+i+k+WFpeWvhueggVxcXCIvPlxcclxcbiAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgICAgIDxkaXYgaWQ9XFxcImNhcHRjaGFcXFwiPjwvZGl2PlxcclxcbiAgICAgICAgICAgIDxkaXY+XFxyXFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXCJhdXRvbG9naW5cXFwiPjxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgaWQ9XFxcImF1dG9jaGVja2JveFxcXCIgbmFtZT1cXFwiYXV0b2xvZ2luXFxcIiBjaGVja2VkIGhpZGVmb2N1cy8+PGxhYmVsIGZvcj1cXFwiYXV0b2NoZWNrYm94XFxcIj7kuIvmrKHoh6rliqjnmbvlvZU8L2xhYmVsPjwvcD5cXHJcXG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcImZvcmdvdFxcXCIgaHJlZj1cXFwie3t1cmx9fS9mb3Jnb3QtcGFzc3dvcmRcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBoaWRlZm9jdXM+5b+Y6K6w5a+G56CBPC9hPlxcclxcbiAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgICAgIDxkaXY+XFxyXFxuICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cXFwic3VibWl0XFxcIiB0eXBlPVxcXCJzdWJtaXRcXFwiIGhpZGVmb2N1cy8+XFxyXFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXCJyZWdcXFwiPui/mOayoeaciemfs+aCplRhaei0puWPt++8nzxhIGhyZWY9XFxcInt7dXJsfX0vcmVnaXN0ZXJcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBoaWRlZm9jdXM+56uL5Y2z5rOo5YaM77yBPC9hPjwvcD5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDwvZm9ybT5cXHJcXG4gICAgPC9kaXY+XFxyXFxuPC9kaXY+XCJcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL3NyYy9tb2R1bGUvbG9naW5Cb3gvdGVtcGxhdGUvbG9naW5Cb3guaHRtbFxuICoqIG1vZHVsZSBpZCA9IDU4XG4gKiogbW9kdWxlIGNodW5rcyA9IDEgMiAzIDQgNSA2IDcgOCA5IDEwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==');
},function(module,exports,__webpack_require__){eval('function hex_y(a) {\r\n\treturn binl2hex(core_y(str2binl(a), a.length * 8));\r\n}\r\n\r\nfunction hex_y_16(c) {\r\n\tvar a = hex_y(c);\r\n\ta = a.substring(8, 24);\r\n\treturn y_vv(a);\r\n}\r\n\r\nfunction core_y(r, k) {\r\n\tr[k >> 5] |= 128 << ((k) % 32);\r\n\tr[ (((k + 64) >>> 9) << 4) + 14] = k;\r\n\tvar q = 1732584193;\r\n\tvar p = -271733879;\r\n\tvar m = -1732584194;\r\n\tvar l = 271733878;\r\n\tfor (var g = 0; g < r.length; g += 16) {\r\n\t\tvar j = q;\r\n\t\tvar h = p;\r\n\t\tvar f = m;\r\n\t\tvar e = l;\r\n\t\tq = y_ff(q, p, m, l, r[g + 0], 7, -680876936);\r\n\t\tl = y_ff(l, q, p, m, r[g + 1], 12, -389564586);\r\n\t\tm = y_ff(m, l, q, p, r[g + 2], 17, 606105819);\r\n\t\tp = y_ff(p, m, l, q, r[g + 3], 22, -1044525330);\r\n\t\tq = y_ff(q, p, m, l, r[g + 4], 7, -176418897);\r\n\t\tl = y_ff(l, q, p, m, r[g + 5], 12, 1200080426);\r\n\t\tm = y_ff(m, l, q, p, r[g + 6], 17, -1473231341);\r\n\t\tp = y_ff(p, m, l, q, r[g + 7], 22, -45705983);\r\n\t\tq = y_ff(q, p, m, l, r[g + 8], 7, 1770035416);\r\n\t\tl = y_ff(l, q, p, m, r[g + 9], 12, -1958414417);\r\n\t\tm = y_ff(m, l, q, p, r[g + 10], 17, -42063);\r\n\t\tp = y_ff(p, m, l, q, r[g + 11], 22, -1990404162);\r\n\t\tq = y_ff(q, p, m, l, r[g + 12], 7, 1804603682);\r\n\t\tl = y_ff(l, q, p, m, r[g + 13], 12, -40341101);\r\n\t\tm = y_ff(m, l, q, p, r[g + 14], 17, -1502002290);\r\n\t\tp = y_ff(p, m, l, q, r[g + 15], 22, 1236535329);\r\n\t\tq = y_gg(q, p, m, l, r[g + 1], 5, -165796510);\r\n\t\tl = y_gg(l, q, p, m, r[g + 6], 9, -1069501632);\r\n\t\tm = y_gg(m, l, q, p, r[g + 11], 14, 643717713);\r\n\t\tp = y_gg(p, m, l, q, r[g + 0], 20, -373897302);\r\n\t\tq = y_gg(q, p, m, l, r[g + 5], 5, -701558691);\r\n\t\tl = y_gg(l, q, p, m, r[g + 10], 9, 38016083);\r\n\t\tm = y_gg(m, l, q, p, r[g + 15], 14, -660478335);\r\n\t\tp = y_gg(p, m, l, q, r[g + 4], 20, -405537848);\r\n\t\tq = y_gg(q, p, m, l, r[g + 9], 5, 568446438);\r\n\t\tl = y_gg(l, q, p, m, r[g + 14], 9, -1019803690);\r\n\t\tm = y_gg(m, l, q, p, r[g + 3], 14, -187363961);\r\n\t\tp = y_gg(p, m, l, q, r[g + 8], 20, 1163531501);\r\n\t\tq = y_gg(q, p, m, l, r[g + 13], 5, -1444681467);\r\n\t\tl = y_gg(l, q, p, m, r[g + 2], 9, -51403784);\r\n\t\tm = y_gg(m, l, q, p, r[g + 7], 14, 1735328473);\r\n\t\tp = y_gg(p, m, l, q, r[g + 12], 20, -1926607734);\r\n\t\tq = y_hh(q, p, m, l, r[g + 5], 4, -378558);\r\n\t\tl = y_hh(l, q, p, m, r[g + 8], 11, -2022574463);\r\n\t\tm = y_hh(m, l, q, p, r[g + 11], 16, 1839030562);\r\n\t\tp = y_hh(p, m, l, q, r[g + 14], 23, -35309556);\r\n\t\tq = y_hh(q, p, m, l, r[g + 1], 4, -1530992060);\r\n\t\tl = y_hh(l, q, p, m, r[g + 4], 11, 1272893353);\r\n\t\tm = y_hh(m, l, q, p, r[g + 7], 16, -155497632);\r\n\t\tp = y_hh(p, m, l, q, r[g + 10], 23, -1094730640);\r\n\t\tq = y_hh(q, p, m, l, r[g + 13], 4, 681279174);\r\n\t\tl = y_hh(l, q, p, m, r[g + 0], 11, -358537222);\r\n\t\tm = y_hh(m, l, q, p, r[g + 3], 16, -722521979);\r\n\t\tp = y_hh(p, m, l, q, r[g + 6], 23, 76029189);\r\n\t\tq = y_hh(q, p, m, l, r[g + 9], 4, -640364487);\r\n\t\tl = y_hh(l, q, p, m, r[g + 12], 11, -421815835);\r\n\t\tm = y_hh(m, l, q, p, r[g + 15], 16, 530742520);\r\n\t\tp = y_hh(p, m, l, q, r[g + 2], 23, -995338651);\r\n\t\tq = y_ii(q, p, m, l, r[g + 0], 6, -198630844);\r\n\t\tl = y_ii(l, q, p, m, r[g + 7], 10, 1126891415);\r\n\t\tm = y_ii(m, l, q, p, r[g + 14], 15, -1416354905);\r\n\t\tp = y_ii(p, m, l, q, r[g + 5], 21, -57434055);\r\n\t\tq = y_ii(q, p, m, l, r[g + 12], 6, 1700485571);\r\n\t\tl = y_ii(l, q, p, m, r[g + 3], 10, -1894986606);\r\n\t\tm = y_ii(m, l, q, p, r[g + 10], 15, -1051523);\r\n\t\tp = y_ii(p, m, l, q, r[g + 1], 21, -2054922799);\r\n\t\tq = y_ii(q, p, m, l, r[g + 8], 6, 1873313359);\r\n\t\tl = y_ii(l, q, p, m, r[g + 15], 10, -30611744);\r\n\t\tm = y_ii(m, l, q, p, r[g + 6], 15, -1560198380);\r\n\t\tp = y_ii(p, m, l, q, r[g + 13], 21, 1309151649);\r\n\t\tq = y_ii(q, p, m, l, r[g + 4], 6, -145523070);\r\n\t\tl = y_ii(l, q, p, m, r[g + 11], 10, -1120210379);\r\n\t\tm = y_ii(m, l, q, p, r[g + 2], 15, 718787259);\r\n\t\tp = y_ii(p, m, l, q, r[g + 9], 21, -343485551);\r\n\t\tq = safe_add(q, j);\r\n\t\tp = safe_add(p, h);\r\n\t\tm = safe_add(m, f);\r\n\t\tl = safe_add(l, e);\r\n\t}\r\n\treturn Array(q, p, m, l);\r\n}\r\n\r\nfunction y_cmn(h, e, d, c, g, f) {\r\n\treturn safe_add(bit_rol(safe_add(safe_add(e, h), safe_add(c, f)), g), d);\r\n}\r\n\r\nfunction y_ff(g, f, l, k, e, j, h) {\r\n\treturn y_cmn((f & l) | ((~f) & k), g, f, e, j, h);\r\n}\r\n\r\nfunction y_gg(g, f, l, k, e, j, h) {\r\n\treturn y_cmn((f & k) | (l & (~k)), g, f, e, j, h);\r\n}\r\n\r\nfunction y_hh(g, f, l, k, e, j, h) {\r\n\treturn y_cmn(f ^ l ^ k, g, f, e, j, h);\r\n}\r\n\r\nfunction y_ii(g, f, l, k, e, j, h) {\r\n\treturn y_cmn(l ^ (f | (~k)), g, f, e, j, h);\r\n}\r\n\r\nfunction safe_add(a, e) {\r\n\tvar d = (a & 65535) + (e & 65535);\r\n\tvar c = (a >> 16) + (e >> 16) + (d >> 16);\r\n\treturn(c << 16) | (d & 65535);\r\n}\r\n\r\nfunction bit_rol(a, c) {\r\n\treturn(a << c) | (a >>> (32 - c));\r\n}\r\n\r\nfunction str2binl(e) {\r\n\tvar d = Array();\r\n\tvar a = (1 << chrsz) - 1;\r\n\tfor (var c = 0; c < e.length * chrsz; c += chrsz) {\r\n\t\td[c >> 5] |= (e.charCodeAt(c / chrsz) & a) << (c % 32);\r\n\t}\r\n\treturn d;\r\n}\r\n\r\nfunction binl2hex(d) {\r\n\tvar c = "0123456789abcdef";\r\n\tvar e = "";\r\n\tfor (var a = 0; a < d.length * 4; a++) {\r\n\t\te += c.charAt((d[a >> 2] >> ((a % 4) * 8 + 4)) & 15) + c.charAt((d[a >> 2] >> ((a % 4) * 8)) & 15);\r\n\t}\r\n\treturn e;\r\n}\r\n\r\nfunction y_vv(d) {\r\n\tvar a = "";\r\n\tfor (var c = d.length - 1; c >= 0; c--) {\r\n\t\ta += d.charAt(c);\r\n\t}\r\n\treturn a;\r\n}\r\n\r\nfunction yyt32(c, a) {\r\n\tif (a.length != 13) {\r\n\t\talert("timesign error !!!");\r\n\t\treturn "";\r\n\t}\r\n\treturn hex_y(hex_y(c) + a.substring(5, 11));\r\n}\r\n\r\nfunction yyt16(c, a) {\r\n\tif (a.length != 13) {\r\n\t\talert("timesign error !!!");\r\n\t\treturn "";\r\n\t}\r\n\treturn hex_y(hex_y_16(c) + a.substring(5, 11));\r\n}\r\n\r\nvar chrsz = 8;\r\nvar Auxiliary = __webpack_require__(40);\r\nvar cookie =  Auxiliary.cookie;\r\n\r\nmodule.exports = function(p0) {\r\n\tvar t1, t2, p1, p2;\r\n\tt1 = "" + (new Date()).getTime();\r\n\tt2 = y_vv(t1);\r\n\tif (p0 && p0.length != 0) {\r\n\t\tp1 = yyt32(p0, t1);\r\n\t\tp2 = yyt16(p0, t2);\r\n\t} else {\r\n\t\tp1 = yyt32(t1, t2);\r\n\t\tp2 = yyt16(t2, t1);\r\n\t}\r\n\tcookie.set(\'p2\', p2, {\r\n\t\tdomain : \'yinyuetai.com\',\r\n\t\tpath : \'/\'\r\n\t});\r\n\treturn {\r\n\t\t_t : t1,\r\n\t\t_p1 : p1,\r\n\t\t_p2 : p2\r\n\t}\r\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZHVsZS9jcnlwdG8vc2VjcmV0LmpzP2U3MzEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsY0FBYztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isc0JBQXNCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrQkFBa0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDJCQUEyQixRQUFRO0FBQ25DO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjU5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gaGV4X3koYSkge1xyXG5cdHJldHVybiBiaW5sMmhleChjb3JlX3koc3RyMmJpbmwoYSksIGEubGVuZ3RoICogOCkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoZXhfeV8xNihjKSB7XHJcblx0dmFyIGEgPSBoZXhfeShjKTtcclxuXHRhID0gYS5zdWJzdHJpbmcoOCwgMjQpO1xyXG5cdHJldHVybiB5X3Z2KGEpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb3JlX3kociwgaykge1xyXG5cdHJbayA+PiA1XSB8PSAxMjggPDwgKChrKSAlIDMyKTtcclxuXHRyWyAoKChrICsgNjQpID4+PiA5KSA8PCA0KSArIDE0XSA9IGs7XHJcblx0dmFyIHEgPSAxNzMyNTg0MTkzO1xyXG5cdHZhciBwID0gLTI3MTczMzg3OTtcclxuXHR2YXIgbSA9IC0xNzMyNTg0MTk0O1xyXG5cdHZhciBsID0gMjcxNzMzODc4O1xyXG5cdGZvciAodmFyIGcgPSAwOyBnIDwgci5sZW5ndGg7IGcgKz0gMTYpIHtcclxuXHRcdHZhciBqID0gcTtcclxuXHRcdHZhciBoID0gcDtcclxuXHRcdHZhciBmID0gbTtcclxuXHRcdHZhciBlID0gbDtcclxuXHRcdHEgPSB5X2ZmKHEsIHAsIG0sIGwsIHJbZyArIDBdLCA3LCAtNjgwODc2OTM2KTtcclxuXHRcdGwgPSB5X2ZmKGwsIHEsIHAsIG0sIHJbZyArIDFdLCAxMiwgLTM4OTU2NDU4Nik7XHJcblx0XHRtID0geV9mZihtLCBsLCBxLCBwLCByW2cgKyAyXSwgMTcsIDYwNjEwNTgxOSk7XHJcblx0XHRwID0geV9mZihwLCBtLCBsLCBxLCByW2cgKyAzXSwgMjIsIC0xMDQ0NTI1MzMwKTtcclxuXHRcdHEgPSB5X2ZmKHEsIHAsIG0sIGwsIHJbZyArIDRdLCA3LCAtMTc2NDE4ODk3KTtcclxuXHRcdGwgPSB5X2ZmKGwsIHEsIHAsIG0sIHJbZyArIDVdLCAxMiwgMTIwMDA4MDQyNik7XHJcblx0XHRtID0geV9mZihtLCBsLCBxLCBwLCByW2cgKyA2XSwgMTcsIC0xNDczMjMxMzQxKTtcclxuXHRcdHAgPSB5X2ZmKHAsIG0sIGwsIHEsIHJbZyArIDddLCAyMiwgLTQ1NzA1OTgzKTtcclxuXHRcdHEgPSB5X2ZmKHEsIHAsIG0sIGwsIHJbZyArIDhdLCA3LCAxNzcwMDM1NDE2KTtcclxuXHRcdGwgPSB5X2ZmKGwsIHEsIHAsIG0sIHJbZyArIDldLCAxMiwgLTE5NTg0MTQ0MTcpO1xyXG5cdFx0bSA9IHlfZmYobSwgbCwgcSwgcCwgcltnICsgMTBdLCAxNywgLTQyMDYzKTtcclxuXHRcdHAgPSB5X2ZmKHAsIG0sIGwsIHEsIHJbZyArIDExXSwgMjIsIC0xOTkwNDA0MTYyKTtcclxuXHRcdHEgPSB5X2ZmKHEsIHAsIG0sIGwsIHJbZyArIDEyXSwgNywgMTgwNDYwMzY4Mik7XHJcblx0XHRsID0geV9mZihsLCBxLCBwLCBtLCByW2cgKyAxM10sIDEyLCAtNDAzNDExMDEpO1xyXG5cdFx0bSA9IHlfZmYobSwgbCwgcSwgcCwgcltnICsgMTRdLCAxNywgLTE1MDIwMDIyOTApO1xyXG5cdFx0cCA9IHlfZmYocCwgbSwgbCwgcSwgcltnICsgMTVdLCAyMiwgMTIzNjUzNTMyOSk7XHJcblx0XHRxID0geV9nZyhxLCBwLCBtLCBsLCByW2cgKyAxXSwgNSwgLTE2NTc5NjUxMCk7XHJcblx0XHRsID0geV9nZyhsLCBxLCBwLCBtLCByW2cgKyA2XSwgOSwgLTEwNjk1MDE2MzIpO1xyXG5cdFx0bSA9IHlfZ2cobSwgbCwgcSwgcCwgcltnICsgMTFdLCAxNCwgNjQzNzE3NzEzKTtcclxuXHRcdHAgPSB5X2dnKHAsIG0sIGwsIHEsIHJbZyArIDBdLCAyMCwgLTM3Mzg5NzMwMik7XHJcblx0XHRxID0geV9nZyhxLCBwLCBtLCBsLCByW2cgKyA1XSwgNSwgLTcwMTU1ODY5MSk7XHJcblx0XHRsID0geV9nZyhsLCBxLCBwLCBtLCByW2cgKyAxMF0sIDksIDM4MDE2MDgzKTtcclxuXHRcdG0gPSB5X2dnKG0sIGwsIHEsIHAsIHJbZyArIDE1XSwgMTQsIC02NjA0NzgzMzUpO1xyXG5cdFx0cCA9IHlfZ2cocCwgbSwgbCwgcSwgcltnICsgNF0sIDIwLCAtNDA1NTM3ODQ4KTtcclxuXHRcdHEgPSB5X2dnKHEsIHAsIG0sIGwsIHJbZyArIDldLCA1LCA1Njg0NDY0MzgpO1xyXG5cdFx0bCA9IHlfZ2cobCwgcSwgcCwgbSwgcltnICsgMTRdLCA5LCAtMTAxOTgwMzY5MCk7XHJcblx0XHRtID0geV9nZyhtLCBsLCBxLCBwLCByW2cgKyAzXSwgMTQsIC0xODczNjM5NjEpO1xyXG5cdFx0cCA9IHlfZ2cocCwgbSwgbCwgcSwgcltnICsgOF0sIDIwLCAxMTYzNTMxNTAxKTtcclxuXHRcdHEgPSB5X2dnKHEsIHAsIG0sIGwsIHJbZyArIDEzXSwgNSwgLTE0NDQ2ODE0NjcpO1xyXG5cdFx0bCA9IHlfZ2cobCwgcSwgcCwgbSwgcltnICsgMl0sIDksIC01MTQwMzc4NCk7XHJcblx0XHRtID0geV9nZyhtLCBsLCBxLCBwLCByW2cgKyA3XSwgMTQsIDE3MzUzMjg0NzMpO1xyXG5cdFx0cCA9IHlfZ2cocCwgbSwgbCwgcSwgcltnICsgMTJdLCAyMCwgLTE5MjY2MDc3MzQpO1xyXG5cdFx0cSA9IHlfaGgocSwgcCwgbSwgbCwgcltnICsgNV0sIDQsIC0zNzg1NTgpO1xyXG5cdFx0bCA9IHlfaGgobCwgcSwgcCwgbSwgcltnICsgOF0sIDExLCAtMjAyMjU3NDQ2Myk7XHJcblx0XHRtID0geV9oaChtLCBsLCBxLCBwLCByW2cgKyAxMV0sIDE2LCAxODM5MDMwNTYyKTtcclxuXHRcdHAgPSB5X2hoKHAsIG0sIGwsIHEsIHJbZyArIDE0XSwgMjMsIC0zNTMwOTU1Nik7XHJcblx0XHRxID0geV9oaChxLCBwLCBtLCBsLCByW2cgKyAxXSwgNCwgLTE1MzA5OTIwNjApO1xyXG5cdFx0bCA9IHlfaGgobCwgcSwgcCwgbSwgcltnICsgNF0sIDExLCAxMjcyODkzMzUzKTtcclxuXHRcdG0gPSB5X2hoKG0sIGwsIHEsIHAsIHJbZyArIDddLCAxNiwgLTE1NTQ5NzYzMik7XHJcblx0XHRwID0geV9oaChwLCBtLCBsLCBxLCByW2cgKyAxMF0sIDIzLCAtMTA5NDczMDY0MCk7XHJcblx0XHRxID0geV9oaChxLCBwLCBtLCBsLCByW2cgKyAxM10sIDQsIDY4MTI3OTE3NCk7XHJcblx0XHRsID0geV9oaChsLCBxLCBwLCBtLCByW2cgKyAwXSwgMTEsIC0zNTg1MzcyMjIpO1xyXG5cdFx0bSA9IHlfaGgobSwgbCwgcSwgcCwgcltnICsgM10sIDE2LCAtNzIyNTIxOTc5KTtcclxuXHRcdHAgPSB5X2hoKHAsIG0sIGwsIHEsIHJbZyArIDZdLCAyMywgNzYwMjkxODkpO1xyXG5cdFx0cSA9IHlfaGgocSwgcCwgbSwgbCwgcltnICsgOV0sIDQsIC02NDAzNjQ0ODcpO1xyXG5cdFx0bCA9IHlfaGgobCwgcSwgcCwgbSwgcltnICsgMTJdLCAxMSwgLTQyMTgxNTgzNSk7XHJcblx0XHRtID0geV9oaChtLCBsLCBxLCBwLCByW2cgKyAxNV0sIDE2LCA1MzA3NDI1MjApO1xyXG5cdFx0cCA9IHlfaGgocCwgbSwgbCwgcSwgcltnICsgMl0sIDIzLCAtOTk1MzM4NjUxKTtcclxuXHRcdHEgPSB5X2lpKHEsIHAsIG0sIGwsIHJbZyArIDBdLCA2LCAtMTk4NjMwODQ0KTtcclxuXHRcdGwgPSB5X2lpKGwsIHEsIHAsIG0sIHJbZyArIDddLCAxMCwgMTEyNjg5MTQxNSk7XHJcblx0XHRtID0geV9paShtLCBsLCBxLCBwLCByW2cgKyAxNF0sIDE1LCAtMTQxNjM1NDkwNSk7XHJcblx0XHRwID0geV9paShwLCBtLCBsLCBxLCByW2cgKyA1XSwgMjEsIC01NzQzNDA1NSk7XHJcblx0XHRxID0geV9paShxLCBwLCBtLCBsLCByW2cgKyAxMl0sIDYsIDE3MDA0ODU1NzEpO1xyXG5cdFx0bCA9IHlfaWkobCwgcSwgcCwgbSwgcltnICsgM10sIDEwLCAtMTg5NDk4NjYwNik7XHJcblx0XHRtID0geV9paShtLCBsLCBxLCBwLCByW2cgKyAxMF0sIDE1LCAtMTA1MTUyMyk7XHJcblx0XHRwID0geV9paShwLCBtLCBsLCBxLCByW2cgKyAxXSwgMjEsIC0yMDU0OTIyNzk5KTtcclxuXHRcdHEgPSB5X2lpKHEsIHAsIG0sIGwsIHJbZyArIDhdLCA2LCAxODczMzEzMzU5KTtcclxuXHRcdGwgPSB5X2lpKGwsIHEsIHAsIG0sIHJbZyArIDE1XSwgMTAsIC0zMDYxMTc0NCk7XHJcblx0XHRtID0geV9paShtLCBsLCBxLCBwLCByW2cgKyA2XSwgMTUsIC0xNTYwMTk4MzgwKTtcclxuXHRcdHAgPSB5X2lpKHAsIG0sIGwsIHEsIHJbZyArIDEzXSwgMjEsIDEzMDkxNTE2NDkpO1xyXG5cdFx0cSA9IHlfaWkocSwgcCwgbSwgbCwgcltnICsgNF0sIDYsIC0xNDU1MjMwNzApO1xyXG5cdFx0bCA9IHlfaWkobCwgcSwgcCwgbSwgcltnICsgMTFdLCAxMCwgLTExMjAyMTAzNzkpO1xyXG5cdFx0bSA9IHlfaWkobSwgbCwgcSwgcCwgcltnICsgMl0sIDE1LCA3MTg3ODcyNTkpO1xyXG5cdFx0cCA9IHlfaWkocCwgbSwgbCwgcSwgcltnICsgOV0sIDIxLCAtMzQzNDg1NTUxKTtcclxuXHRcdHEgPSBzYWZlX2FkZChxLCBqKTtcclxuXHRcdHAgPSBzYWZlX2FkZChwLCBoKTtcclxuXHRcdG0gPSBzYWZlX2FkZChtLCBmKTtcclxuXHRcdGwgPSBzYWZlX2FkZChsLCBlKTtcclxuXHR9XHJcblx0cmV0dXJuIEFycmF5KHEsIHAsIG0sIGwpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB5X2NtbihoLCBlLCBkLCBjLCBnLCBmKSB7XHJcblx0cmV0dXJuIHNhZmVfYWRkKGJpdF9yb2woc2FmZV9hZGQoc2FmZV9hZGQoZSwgaCksIHNhZmVfYWRkKGMsIGYpKSwgZyksIGQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB5X2ZmKGcsIGYsIGwsIGssIGUsIGosIGgpIHtcclxuXHRyZXR1cm4geV9jbW4oKGYgJiBsKSB8ICgofmYpICYgayksIGcsIGYsIGUsIGosIGgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB5X2dnKGcsIGYsIGwsIGssIGUsIGosIGgpIHtcclxuXHRyZXR1cm4geV9jbW4oKGYgJiBrKSB8IChsICYgKH5rKSksIGcsIGYsIGUsIGosIGgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB5X2hoKGcsIGYsIGwsIGssIGUsIGosIGgpIHtcclxuXHRyZXR1cm4geV9jbW4oZiBeIGwgXiBrLCBnLCBmLCBlLCBqLCBoKTtcclxufVxyXG5cclxuZnVuY3Rpb24geV9paShnLCBmLCBsLCBrLCBlLCBqLCBoKSB7XHJcblx0cmV0dXJuIHlfY21uKGwgXiAoZiB8ICh+aykpLCBnLCBmLCBlLCBqLCBoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2FmZV9hZGQoYSwgZSkge1xyXG5cdHZhciBkID0gKGEgJiA2NTUzNSkgKyAoZSAmIDY1NTM1KTtcclxuXHR2YXIgYyA9IChhID4+IDE2KSArIChlID4+IDE2KSArIChkID4+IDE2KTtcclxuXHRyZXR1cm4oYyA8PCAxNikgfCAoZCAmIDY1NTM1KTtcclxufVxyXG5cclxuZnVuY3Rpb24gYml0X3JvbChhLCBjKSB7XHJcblx0cmV0dXJuKGEgPDwgYykgfCAoYSA+Pj4gKDMyIC0gYykpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdHIyYmlubChlKSB7XHJcblx0dmFyIGQgPSBBcnJheSgpO1xyXG5cdHZhciBhID0gKDEgPDwgY2hyc3opIC0gMTtcclxuXHRmb3IgKHZhciBjID0gMDsgYyA8IGUubGVuZ3RoICogY2hyc3o7IGMgKz0gY2hyc3opIHtcclxuXHRcdGRbYyA+PiA1XSB8PSAoZS5jaGFyQ29kZUF0KGMgLyBjaHJzeikgJiBhKSA8PCAoYyAlIDMyKTtcclxuXHR9XHJcblx0cmV0dXJuIGQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGJpbmwyaGV4KGQpIHtcclxuXHR2YXIgYyA9IFwiMDEyMzQ1Njc4OWFiY2RlZlwiO1xyXG5cdHZhciBlID0gXCJcIjtcclxuXHRmb3IgKHZhciBhID0gMDsgYSA8IGQubGVuZ3RoICogNDsgYSsrKSB7XHJcblx0XHRlICs9IGMuY2hhckF0KChkW2EgPj4gMl0gPj4gKChhICUgNCkgKiA4ICsgNCkpICYgMTUpICsgYy5jaGFyQXQoKGRbYSA+PiAyXSA+PiAoKGEgJSA0KSAqIDgpKSAmIDE1KTtcclxuXHR9XHJcblx0cmV0dXJuIGU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHlfdnYoZCkge1xyXG5cdHZhciBhID0gXCJcIjtcclxuXHRmb3IgKHZhciBjID0gZC5sZW5ndGggLSAxOyBjID49IDA7IGMtLSkge1xyXG5cdFx0YSArPSBkLmNoYXJBdChjKTtcclxuXHR9XHJcblx0cmV0dXJuIGE7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHl5dDMyKGMsIGEpIHtcclxuXHRpZiAoYS5sZW5ndGggIT0gMTMpIHtcclxuXHRcdGFsZXJ0KFwidGltZXNpZ24gZXJyb3IgISEhXCIpO1xyXG5cdFx0cmV0dXJuIFwiXCI7XHJcblx0fVxyXG5cdHJldHVybiBoZXhfeShoZXhfeShjKSArIGEuc3Vic3RyaW5nKDUsIDExKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHl5dDE2KGMsIGEpIHtcclxuXHRpZiAoYS5sZW5ndGggIT0gMTMpIHtcclxuXHRcdGFsZXJ0KFwidGltZXNpZ24gZXJyb3IgISEhXCIpO1xyXG5cdFx0cmV0dXJuIFwiXCI7XHJcblx0fVxyXG5cdHJldHVybiBoZXhfeShoZXhfeV8xNihjKSArIGEuc3Vic3RyaW5nKDUsIDExKSk7XHJcbn1cclxuXHJcbnZhciBjaHJzeiA9IDg7XHJcbnZhciBBdXhpbGlhcnkgPSByZXF1aXJlKCdhdXhpbGlhcnktYWRkaXRpb25zJyk7XHJcbnZhciBjb29raWUgPSAgQXV4aWxpYXJ5LmNvb2tpZTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ocDApIHtcclxuXHR2YXIgdDEsIHQyLCBwMSwgcDI7XHJcblx0dDEgPSBcIlwiICsgKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcclxuXHR0MiA9IHlfdnYodDEpO1xyXG5cdGlmIChwMCAmJiBwMC5sZW5ndGggIT0gMCkge1xyXG5cdFx0cDEgPSB5eXQzMihwMCwgdDEpO1xyXG5cdFx0cDIgPSB5eXQxNihwMCwgdDIpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRwMSA9IHl5dDMyKHQxLCB0Mik7XHJcblx0XHRwMiA9IHl5dDE2KHQyLCB0MSk7XHJcblx0fVxyXG5cdGNvb2tpZS5zZXQoJ3AyJywgcDIsIHtcclxuXHRcdGRvbWFpbiA6ICd5aW55dWV0YWkuY29tJyxcclxuXHRcdHBhdGggOiAnLydcclxuXHR9KTtcclxuXHRyZXR1cm4ge1xyXG5cdFx0X3QgOiB0MSxcclxuXHRcdF9wMSA6IHAxLFxyXG5cdFx0X3AyIDogcDJcclxuXHR9XHJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9zcmMvbW9kdWxlL2NyeXB0by9zZWNyZXQuanNcbiAqKiBtb2R1bGUgaWQgPSA1OVxuICoqIG1vZHVsZSBjaHVua3MgPSAxIDIgMyA0IDUgNiA3IDggOSAxMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports){eval('module.exports = "<div style=\\"padding: 20px 30px;\\">\\r\\n  <p>您好像还没有进行邮箱验证。</p>\\r\\n  <p>为不影响部分功能的使用，请先进行\\r\\n    <a href=\\"{homeSite}/settings/bind\\" target=\\"_blank\\" class=\\"special f14\\">邮箱验证</a>\\r\\n  </p>\\r\\n</div>\\r\\n"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZHVsZS9Vc2VyTW9kZWwvdGVtcGxhdGUvZW1haWwuaHRtbD8zMmIwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGtEQUFrRCx5RUFBeUUsU0FBUyIsImZpbGUiOiI2MC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IHN0eWxlPVxcXCJwYWRkaW5nOiAyMHB4IDMwcHg7XFxcIj5cXHJcXG4gIDxwPuaCqOWlveWDj+i/mOayoeaciei/m+ihjOmCrueusemqjOivgeOAgjwvcD5cXHJcXG4gIDxwPuS4uuS4jeW9seWTjemDqOWIhuWKn+iDveeahOS9v+eUqO+8jOivt+WFiOi/m+ihjFxcclxcbiAgICA8YSBocmVmPVxcXCJ7aG9tZVNpdGV9L3NldHRpbmdzL2JpbmRcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBjbGFzcz1cXFwic3BlY2lhbCBmMTRcXFwiPumCrueusemqjOivgTwvYT5cXHJcXG4gIDwvcD5cXHJcXG48L2Rpdj5cXHJcXG5cIlxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvc3JjL21vZHVsZS9Vc2VyTW9kZWwvdGVtcGxhdGUvZW1haWwuaHRtbFxuICoqIG1vZHVsZSBpZCA9IDYwXG4gKiogbW9kdWxlIGNodW5rcyA9IDEgMiAzIDQgNSA2IDcgOCA5IDEwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports,__webpack_require__){eval("/**\r\n * Created by AaronYuan on 3/14/16.\r\n * confirm 对话框\r\n *\r\n * 使用\r\n *\r\n var  uiConfirm = require('ui.confirm');\r\n uiConfirm.show({\r\n            title: '消息',\r\n            content: '您确定要结束直播吗',\r\n            okFn: function () {\r\n                console.log('ok');\r\n            },\r\n            cancelFn: function () {\r\n                console.log('cancel');\r\n            }\r\n        });\r\n *\r\n */\r\n\r\n\r\nvar confirm = {};\r\nvar _ = __webpack_require__(27);\r\n\r\nvar setting = {\r\n  title: '消息',\r\n  content: '',\r\n  okFn: null,\r\n  cancelFn: null,\r\n  okBtn: true,\r\n  cancelBtn: true\r\n};\r\n\r\nconfirm.init = function (ops) {\r\n  var tpl = _.template(this.getHTML());\r\n  var html = tpl(ops);\r\n  this.remove();\r\n  this.bindEvent(html, ops.okFn, ops.cancelFn);\r\n};\r\n\r\nconfirm.remove = function () {\r\n  var wrap = $('#UIConfigWrap');\r\n  if (wrap && wrap.length >= 1) {\r\n    wrap.remove();\r\n  }\r\n};\r\n\r\nconfirm.getHTML = function () {\r\n  return __webpack_require__(62);\r\n};\r\n\r\nconfirm.bindEvent = function (html, okFn, cancelFn) {\r\n  var self = this;\r\n  var ele = $(html);\r\n\r\n  ele.find('#UIConfirmOk').on('click', function (e) {\r\n    e.preventDefault();\r\n    if (okFn) {\r\n      okFn();\r\n    }\r\n    self.remove();\r\n    return false;\r\n  });\r\n  ele.find('.UIConfirmClose').on('click', function (e) {\r\n    e.preventDefault();\r\n    if (cancelFn) {\r\n      cancelFn();\r\n    }\r\n    self.remove();\r\n    return false;\r\n  });\r\n\r\n  $('body').append(ele);\r\n};\r\n\r\n/**\r\n *\r\n * @param options\r\n *  {\r\n   *  title: ''\r\n   *  content: ''\r\n   *  okFn: fun\r\n   *  cancelFn: fun\r\n  *  }\r\n */\r\nconfirm.show = function (options) {\r\n  var ops = _.extend(setting, options);\r\n  this.init(ops);\r\n};\r\nconfirm.close = function () {\r\n  this.remove();\r\n};\r\n\r\n\r\nmodule.exports = {\r\n  show: function (options) {\r\n    confirm.show(options);\r\n  },\r\n  close: function () {\r\n    confirm.close();\r\n  }\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZHVsZS9jb25maXJtL2luZGV4LmpzPzg4YTkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiI2MS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEFhcm9uWXVhbiBvbiAzLzE0LzE2LlxyXG4gKiBjb25maXJtIOWvueivneahhlxyXG4gKlxyXG4gKiDkvb/nlKhcclxuICpcclxuIHZhciAgdWlDb25maXJtID0gcmVxdWlyZSgndWkuY29uZmlybScpO1xyXG4gdWlDb25maXJtLnNob3coe1xyXG4gICAgICAgICAgICB0aXRsZTogJ+a2iOaBrycsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6ICfmgqjnoa7lrpropoHnu5PmnZ/nm7Tmkq3lkJcnLFxyXG4gICAgICAgICAgICBva0ZuOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnb2snKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY2FuY2VsRm46IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjYW5jZWwnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gKlxyXG4gKi9cclxuXHJcblxyXG52YXIgY29uZmlybSA9IHt9O1xyXG52YXIgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcclxuXHJcbnZhciBzZXR0aW5nID0ge1xyXG4gIHRpdGxlOiAn5raI5oGvJyxcclxuICBjb250ZW50OiAnJyxcclxuICBva0ZuOiBudWxsLFxyXG4gIGNhbmNlbEZuOiBudWxsLFxyXG4gIG9rQnRuOiB0cnVlLFxyXG4gIGNhbmNlbEJ0bjogdHJ1ZVxyXG59O1xyXG5cclxuY29uZmlybS5pbml0ID0gZnVuY3Rpb24gKG9wcykge1xyXG4gIHZhciB0cGwgPSBfLnRlbXBsYXRlKHRoaXMuZ2V0SFRNTCgpKTtcclxuICB2YXIgaHRtbCA9IHRwbChvcHMpO1xyXG4gIHRoaXMucmVtb3ZlKCk7XHJcbiAgdGhpcy5iaW5kRXZlbnQoaHRtbCwgb3BzLm9rRm4sIG9wcy5jYW5jZWxGbik7XHJcbn07XHJcblxyXG5jb25maXJtLnJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgd3JhcCA9ICQoJyNVSUNvbmZpZ1dyYXAnKTtcclxuICBpZiAod3JhcCAmJiB3cmFwLmxlbmd0aCA+PSAxKSB7XHJcbiAgICB3cmFwLnJlbW92ZSgpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbmZpcm0uZ2V0SFRNTCA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gcmVxdWlyZSgnLi90ZW1wbGF0ZS9jb25maXJtLmh0bWwnKTtcclxufTtcclxuXHJcbmNvbmZpcm0uYmluZEV2ZW50ID0gZnVuY3Rpb24gKGh0bWwsIG9rRm4sIGNhbmNlbEZuKSB7XHJcbiAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gIHZhciBlbGUgPSAkKGh0bWwpO1xyXG5cclxuICBlbGUuZmluZCgnI1VJQ29uZmlybU9rJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGlmIChva0ZuKSB7XHJcbiAgICAgIG9rRm4oKTtcclxuICAgIH1cclxuICAgIHNlbGYucmVtb3ZlKCk7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfSk7XHJcbiAgZWxlLmZpbmQoJy5VSUNvbmZpcm1DbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBpZiAoY2FuY2VsRm4pIHtcclxuICAgICAgY2FuY2VsRm4oKTtcclxuICAgIH1cclxuICAgIHNlbGYucmVtb3ZlKCk7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfSk7XHJcblxyXG4gICQoJ2JvZHknKS5hcHBlbmQoZWxlKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0gb3B0aW9uc1xyXG4gKiAge1xyXG4gICAqICB0aXRsZTogJydcclxuICAgKiAgY29udGVudDogJydcclxuICAgKiAgb2tGbjogZnVuXHJcbiAgICogIGNhbmNlbEZuOiBmdW5cclxuICAqICB9XHJcbiAqL1xyXG5jb25maXJtLnNob3cgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gIHZhciBvcHMgPSBfLmV4dGVuZChzZXR0aW5nLCBvcHRpb25zKTtcclxuICB0aGlzLmluaXQob3BzKTtcclxufTtcclxuY29uZmlybS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcclxuICB0aGlzLnJlbW92ZSgpO1xyXG59O1xyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIHNob3c6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICBjb25maXJtLnNob3cob3B0aW9ucyk7XHJcbiAgfSxcclxuICBjbG9zZTogZnVuY3Rpb24gKCkge1xyXG4gICAgY29uZmlybS5jbG9zZSgpO1xyXG4gIH1cclxufTtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9zcmMvbW9kdWxlL2NvbmZpcm0vaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA2MVxuICoqIG1vZHVsZSBjaHVua3MgPSAxIDIgMyA0IDUgNiA3IDlcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports){eval('module.exports = "<div id=\\"UIConfigWrap\\" class=\\"shadow_screen\\">\\r\\n    <div class=\\"shadow\\"></div>\\r\\n    <div class=\\"edit_annmoucement_con\\" style=\\"margin-bottom: 16px; width: 400px;margin-left:-200px;\\">\\r\\n        <h2 class=\\"edit_title\\"><span class=\\"title\\" id=\\"UIConfirmTitle\\"><%=title%></span> <span class=\\"close icons am-yyt-close close-black UIConfirmClose\\"></span></h2>\\r\\n        <div class=\\"editCon\\" style=\\"\\">\\r\\n            <div class=\\"content\\" style=\\"padding:16px; font-size: 14px;\\"><%=content%></div>\\r\\n            <p class=\\"btn-wrap am-margin-top\\" >\\r\\n                <a style=\\"display: <%= okBtn?\'inline-block\':\'none\'%>;\\" id=\\"UIConfirmOk\\" href=\\"javascript:;\\" class=\\"boderRadAll_5 submit active am-margin-right\\">确定</a>\\r\\n                <a style=\\"display: <%= cancelBtn?\'inline-block\':\'none\'%>;\\" href=\\"javascript:;\\" class=\\"boderRadAll_5 cancel UIConfirmClose am-margin-left\\">取消</a>\\r\\n            </p>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZHVsZS9jb25maXJtL3RlbXBsYXRlL2NvbmZpcm0uaHRtbD8wMjhmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGdMQUFnTCxjQUFjLG1CQUFtQixnU0FBZ1MsaUJBQWlCLG9KQUFvSix5Q0FBeUMsNklBQTZJLHNCQUFzQiIsImZpbGUiOiI2Mi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGlkPVxcXCJVSUNvbmZpZ1dyYXBcXFwiIGNsYXNzPVxcXCJzaGFkb3dfc2NyZWVuXFxcIj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwic2hhZG93XFxcIj48L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZWRpdF9hbm5tb3VjZW1lbnRfY29uXFxcIiBzdHlsZT1cXFwibWFyZ2luLWJvdHRvbTogMTZweDsgd2lkdGg6IDQwMHB4O21hcmdpbi1sZWZ0Oi0yMDBweDtcXFwiPlxcclxcbiAgICAgICAgPGgyIGNsYXNzPVxcXCJlZGl0X3RpdGxlXFxcIj48c3BhbiBjbGFzcz1cXFwidGl0bGVcXFwiIGlkPVxcXCJVSUNvbmZpcm1UaXRsZVxcXCI+PCU9dGl0bGUlPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcImNsb3NlIGljb25zIGFtLXl5dC1jbG9zZSBjbG9zZS1ibGFjayBVSUNvbmZpcm1DbG9zZVxcXCI+PC9zcGFuPjwvaDI+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJlZGl0Q29uXFxcIiBzdHlsZT1cXFwiXFxcIj5cXHJcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb250ZW50XFxcIiBzdHlsZT1cXFwicGFkZGluZzoxNnB4OyBmb250LXNpemU6IDE0cHg7XFxcIj48JT1jb250ZW50JT48L2Rpdj5cXHJcXG4gICAgICAgICAgICA8cCBjbGFzcz1cXFwiYnRuLXdyYXAgYW0tbWFyZ2luLXRvcFxcXCIgPlxcclxcbiAgICAgICAgICAgICAgICA8YSBzdHlsZT1cXFwiZGlzcGxheTogPCU9IG9rQnRuPydpbmxpbmUtYmxvY2snOidub25lJyU+O1xcXCIgaWQ9XFxcIlVJQ29uZmlybU9rXFxcIiBocmVmPVxcXCJqYXZhc2NyaXB0OjtcXFwiIGNsYXNzPVxcXCJib2RlclJhZEFsbF81IHN1Ym1pdCBhY3RpdmUgYW0tbWFyZ2luLXJpZ2h0XFxcIj7noa7lrpo8L2E+XFxyXFxuICAgICAgICAgICAgICAgIDxhIHN0eWxlPVxcXCJkaXNwbGF5OiA8JT0gY2FuY2VsQnRuPydpbmxpbmUtYmxvY2snOidub25lJyU+O1xcXCIgaHJlZj1cXFwiamF2YXNjcmlwdDo7XFxcIiBjbGFzcz1cXFwiYm9kZXJSYWRBbGxfNSBjYW5jZWwgVUlDb25maXJtQ2xvc2UgYW0tbWFyZ2luLWxlZnRcXFwiPuWPlua2iDwvYT5cXHJcXG4gICAgICAgICAgICA8L3A+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuPC9kaXY+XFxyXFxuXCJcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL3NyYy9tb2R1bGUvY29uZmlybS90ZW1wbGF0ZS9jb25maXJtLmh0bWxcbiAqKiBtb2R1bGUgaWQgPSA2MlxuICoqIG1vZHVsZSBjaHVua3MgPSAxIDIgMyA0IDUgNiA3IDlcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9')},function(module,exports,__webpack_require__){eval("/**\r\n * Created by AaronYuan on 4/1/16.\r\n *\r\n * 校验模块\r\n */\r\n\r\n'use strict';\r\n\r\nvar IMModel = __webpack_require__(49);\r\nvar imModel = IMModel.sharedInstanceIMModel();\r\n\r\nmodule.exports = {\r\n  onlyAnchorUse: function (url) {\r\n    imModel.fetchIMUserSig(function (sig) {\r\n      if (!sig.anchor) {\r\n        window.location.href = url || '/index.html';\r\n      }\r\n    }, function () {\r\n      window.location.href = '/index.html';\r\n    });\r\n  }\r\n};\r\n\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZHVsZS9hdXRoL2luZGV4LmpzP2U0MjIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBIiwiZmlsZSI6IjYzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQWFyb25ZdWFuIG9uIDQvMS8xNi5cclxuICpcclxuICog5qCh6aqM5qih5Z2XXHJcbiAqL1xyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxudmFyIElNTW9kZWwgPSByZXF1aXJlKCcuLi9JTU1vZGVsJyk7XHJcbnZhciBpbU1vZGVsID0gSU1Nb2RlbC5zaGFyZWRJbnN0YW5jZUlNTW9kZWwoKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIG9ubHlBbmNob3JVc2U6IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgIGltTW9kZWwuZmV0Y2hJTVVzZXJTaWcoZnVuY3Rpb24gKHNpZykge1xyXG4gICAgICBpZiAoIXNpZy5hbmNob3IpIHtcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybCB8fCAnL2luZGV4Lmh0bWwnO1xyXG4gICAgICB9XHJcbiAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9pbmRleC5odG1sJztcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvc3JjL21vZHVsZS9hdXRoL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gNjNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMSAyIDNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){eval("'use strict';\r\n\r\nvar base = __webpack_require__(28);\r\nvar Config = __webpack_require__(50);\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/room/detail.json', // accessToken 填写请求地址\r\n  beforeEmit: function beforeEmit() {\r\n    // 给请求地址替换一下环境变量\r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZGVscy9hbmNob3Ivcm9vbS1kZXRhaWwubW9kZWwuanM/NDgyZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVUsWUFBWTtBQUN0QjtBQUNBO0FBQ0EsYUFBYSxJQUFJLGVBQWUsSUFBSTtBQUNwQyxxQ0FBcUMsWUFBWTtBQUNqRDtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiI2NC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbnZhciBiYXNlID0gcmVxdWlyZSgnYmFzZS1leHRlbmQtYmFja2JvbmUnKTtcclxudmFyIENvbmZpZyA9IHJlcXVpcmUoJ2NvbmZpZycpO1xyXG52YXIgQmFzZU1vZGVsID0gYmFzZS5Nb2RlbDtcclxudmFyIGVudiA9IENvbmZpZy5lbnZbQ29uZmlnLnNjaGVtZV07XHJcblxyXG52YXIgTW9kZWwgPSBCYXNlTW9kZWwuZXh0ZW5kKHtcclxuICB1cmw6ICd7e3VybF9wcmVmaXh9fS9yb29tL2RldGFpbC5qc29uJywgLy8gYWNjZXNzVG9rZW4g5aGr5YaZ6K+35rGC5Zyw5Z2AXHJcbiAgYmVmb3JlRW1pdDogZnVuY3Rpb24gYmVmb3JlRW1pdCgpIHtcclxuICAgIC8vIOe7meivt+axguWcsOWdgOabv+aNouS4gOS4i+eOr+Wig+WPmOmHj1xyXG4gICAgaWYgKC9eXFx7ezAsMn0odXJsX3ByZWZpeClcXH17MCwyfS8udGVzdCh0aGlzLnVybCkpIHtcclxuICAgICAgdGhpcy51cmwgPSB0aGlzLnVybC5yZXBsYWNlKCd7e3VybF9wcmVmaXh9fScsIGVudi51cmxfcHJlZml4KTtcclxuICAgIH1cclxuICB9XHJcbn0pO1xyXG5cclxudmFyIHNoYXJlZCA9IG51bGw7XHJcbk1vZGVsLnNoYXJlZEluc3RhbmNlTW9kZWwgPSBmdW5jdGlvbiBzaGFyZWRJbnN0YW5jZU1vZGVsKCkge1xyXG4gIGlmICghc2hhcmVkKSB7XHJcbiAgICBzaGFyZWQgPSBuZXcgTW9kZWwoKTtcclxuICB9XHJcbiAgcmV0dXJuIHNoYXJlZDtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gTW9kZWw7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvc3JjL21vZGVscy9hbmNob3Ivcm9vbS1kZXRhaWwubW9kZWwuanNcbiAqKiBtb2R1bGUgaWQgPSA2NFxuICoqIG1vZHVsZSBjaHVua3MgPSAxIDMgNyA5XG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval("'use strict';\r\n\r\nvar base = __webpack_require__(28);\r\nvar Config = __webpack_require__(50);\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/room/longpolling.json', // 填写请求地址\r\n  beforeEmit: function beforeEmit() {\r\n    // 给请求地址替换一下环境变量\r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZGVscy9hbmNob3Ivcm9vbS1sb25nUG9sbGluZy5tb2RlbC5qcz80MzcwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVSxZQUFZO0FBQ3RCO0FBQ0E7QUFDQSxhQUFhLElBQUksZUFBZSxJQUFJO0FBQ3BDLHFDQUFxQyxZQUFZO0FBQ2pEO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjY1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxudmFyIGJhc2UgPSByZXF1aXJlKCdiYXNlLWV4dGVuZC1iYWNrYm9uZScpO1xyXG52YXIgQ29uZmlnID0gcmVxdWlyZSgnY29uZmlnJyk7XHJcbnZhciBCYXNlTW9kZWwgPSBiYXNlLk1vZGVsO1xyXG52YXIgZW52ID0gQ29uZmlnLmVudltDb25maWcuc2NoZW1lXTtcclxuXHJcbnZhciBNb2RlbCA9IEJhc2VNb2RlbC5leHRlbmQoe1xyXG4gIHVybDogJ3t7dXJsX3ByZWZpeH19L3Jvb20vbG9uZ3BvbGxpbmcuanNvbicsIC8vIOWhq+WGmeivt+axguWcsOWdgFxyXG4gIGJlZm9yZUVtaXQ6IGZ1bmN0aW9uIGJlZm9yZUVtaXQoKSB7XHJcbiAgICAvLyDnu5nor7fmsYLlnLDlnYDmm7/mjaLkuIDkuIvnjq/looPlj5jph49cclxuICAgIGlmICgvXlxce3swLDJ9KHVybF9wcmVmaXgpXFx9ezAsMn0vLnRlc3QodGhpcy51cmwpKSB7XHJcbiAgICAgIHRoaXMudXJsID0gdGhpcy51cmwucmVwbGFjZSgne3t1cmxfcHJlZml4fX0nLCBlbnYudXJsX3ByZWZpeCk7XHJcbiAgICB9XHJcbiAgfVxyXG59KTtcclxuXHJcbnZhciBzaGFyZWQgPSBudWxsO1xyXG5Nb2RlbC5zaGFyZWRJbnN0YW5jZU1vZGVsID0gZnVuY3Rpb24gc2hhcmVkSW5zdGFuY2VNb2RlbCgpIHtcclxuICBpZiAoIXNoYXJlZCkge1xyXG4gICAgc2hhcmVkID0gbmV3IE1vZGVsKCk7XHJcbiAgfVxyXG4gIHJldHVybiBzaGFyZWQ7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IE1vZGVsO1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL3NyYy9tb2RlbHMvYW5jaG9yL3Jvb20tbG9uZ1BvbGxpbmcubW9kZWwuanNcbiAqKiBtb2R1bGUgaWQgPSA2NVxuICoqIG1vZHVsZSBjaHVua3MgPSAxIDMgNyA5XG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");
},function(module,exports,__webpack_require__){eval("/**\r\n * @time 2015-03-24\r\n * @author {编写者}\r\n * @info 道具列表\r\n */\r\n\r\n'use strict';\r\n\r\nvar sigleInstance = null;\r\nvar cacheData = null;\r\nvar _ = __webpack_require__(27);\r\n\r\nfunction GiftModel() {\r\n}\r\n\r\nGiftModel.prototype.get = function (data, okFn, errFn) {\r\n  if (cacheData && okFn) {\r\n    okFn(cacheData);\r\n  }\r\n  $.ajax('http://lapi.yinyuetai.com/gift/list.json', {\r\n    method: 'GET',\r\n    data: data,\r\n    dataType: 'jsonp',\r\n    jsonp: 'callback'\r\n  }).done(function (res) {\r\n    if (res) {\r\n      okFn(res);\r\n    }\r\n    cacheData = res;\r\n  }).fail(function (err) {\r\n    if (errFn) {\r\n      errFn(err);\r\n    }\r\n  });\r\n};\r\n\r\nGiftModel.prototype.findGift = function (giftId) {\r\n  var list = cacheData.data;\r\n  return _.find(list, function (item) {\r\n    return item.giftId === giftId;\r\n  });\r\n};\r\n\r\nGiftModel.sharedInstanceModel = function () {\r\n  if (!sigleInstance) {\r\n    sigleInstance = new GiftModel();\r\n  }\r\n  return sigleInstance;\r\n};\r\n\r\nmodule.exports = GiftModel;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZGVscy9hbmNob3IvZ2lmdC5tb2RlbC5qcz83OTA5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiI2Ni5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBAdGltZSAyMDE1LTAzLTI0XHJcbiAqIEBhdXRob3Ige+e8luWGmeiAhX1cclxuICogQGluZm8g6YGT5YW35YiX6KGoXHJcbiAqL1xyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxudmFyIHNpZ2xlSW5zdGFuY2UgPSBudWxsO1xyXG52YXIgY2FjaGVEYXRhID0gbnVsbDtcclxudmFyIF8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJyk7XHJcblxyXG5mdW5jdGlvbiBHaWZ0TW9kZWwoKSB7XHJcbn1cclxuXHJcbkdpZnRNb2RlbC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGRhdGEsIG9rRm4sIGVyckZuKSB7XHJcbiAgaWYgKGNhY2hlRGF0YSAmJiBva0ZuKSB7XHJcbiAgICBva0ZuKGNhY2hlRGF0YSk7XHJcbiAgfVxyXG4gICQuYWpheCgnaHR0cDovL2xhcGkueWlueXVldGFpLmNvbS9naWZ0L2xpc3QuanNvbicsIHtcclxuICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICBkYXRhOiBkYXRhLFxyXG4gICAgZGF0YVR5cGU6ICdqc29ucCcsXHJcbiAgICBqc29ucDogJ2NhbGxiYWNrJ1xyXG4gIH0pLmRvbmUoZnVuY3Rpb24gKHJlcykge1xyXG4gICAgaWYgKHJlcykge1xyXG4gICAgICBva0ZuKHJlcyk7XHJcbiAgICB9XHJcbiAgICBjYWNoZURhdGEgPSByZXM7XHJcbiAgfSkuZmFpbChmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICBpZiAoZXJyRm4pIHtcclxuICAgICAgZXJyRm4oZXJyKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbkdpZnRNb2RlbC5wcm90b3R5cGUuZmluZEdpZnQgPSBmdW5jdGlvbiAoZ2lmdElkKSB7XHJcbiAgdmFyIGxpc3QgPSBjYWNoZURhdGEuZGF0YTtcclxuICByZXR1cm4gXy5maW5kKGxpc3QsIGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICByZXR1cm4gaXRlbS5naWZ0SWQgPT09IGdpZnRJZDtcclxuICB9KTtcclxufTtcclxuXHJcbkdpZnRNb2RlbC5zaGFyZWRJbnN0YW5jZU1vZGVsID0gZnVuY3Rpb24gKCkge1xyXG4gIGlmICghc2lnbGVJbnN0YW5jZSkge1xyXG4gICAgc2lnbGVJbnN0YW5jZSA9IG5ldyBHaWZ0TW9kZWwoKTtcclxuICB9XHJcbiAgcmV0dXJuIHNpZ2xlSW5zdGFuY2U7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IEdpZnRNb2RlbDtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9zcmMvbW9kZWxzL2FuY2hvci9naWZ0Lm1vZGVsLmpzXG4gKiogbW9kdWxlIGlkID0gNjZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMSAzIDUgNyA5XG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval("/**\r\n * 获取在当前房间内的权限\r\n */\r\n'use strict';\r\n\r\nvar base = __webpack_require__(28);\r\nvar Config = __webpack_require__(50);\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/room/manager_my_list.json',\r\n  beforeEmit: function beforeEmit() {\r\n    // 给请求地址替换一下环境变量\r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZGVscy9saXZlLXJvb20vcGVybWlzc2lvbi5tb2RlbC5qcz9lZmZiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVSxZQUFZO0FBQ3RCO0FBQ0E7QUFDQSxhQUFhLElBQUksZUFBZSxJQUFJO0FBQ3BDLHFDQUFxQyxZQUFZO0FBQ2pEO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjY3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIOiOt+WPluWcqOW9k+WJjeaIv+mXtOWGheeahOadg+mZkFxyXG4gKi9cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxudmFyIGJhc2UgPSByZXF1aXJlKCdiYXNlLWV4dGVuZC1iYWNrYm9uZScpO1xyXG52YXIgQ29uZmlnID0gcmVxdWlyZSgnY29uZmlnJyk7XHJcbnZhciBCYXNlTW9kZWwgPSBiYXNlLk1vZGVsO1xyXG52YXIgZW52ID0gQ29uZmlnLmVudltDb25maWcuc2NoZW1lXTtcclxuXHJcbnZhciBNb2RlbCA9IEJhc2VNb2RlbC5leHRlbmQoe1xyXG4gIHVybDogJ3t7dXJsX3ByZWZpeH19L3Jvb20vbWFuYWdlcl9teV9saXN0Lmpzb24nLFxyXG4gIGJlZm9yZUVtaXQ6IGZ1bmN0aW9uIGJlZm9yZUVtaXQoKSB7XHJcbiAgICAvLyDnu5nor7fmsYLlnLDlnYDmm7/mjaLkuIDkuIvnjq/looPlj5jph49cclxuICAgIGlmICgvXlxce3swLDJ9KHVybF9wcmVmaXgpXFx9ezAsMn0vLnRlc3QodGhpcy51cmwpKSB7XHJcbiAgICAgIHRoaXMudXJsID0gdGhpcy51cmwucmVwbGFjZSgne3t1cmxfcHJlZml4fX0nLCBlbnYudXJsX3ByZWZpeCk7XHJcbiAgICB9XHJcbiAgfVxyXG59KTtcclxuXHJcbnZhciBzaGFyZWQgPSBudWxsO1xyXG5Nb2RlbC5zaGFyZWRJbnN0YW5jZU1vZGVsID0gZnVuY3Rpb24gc2hhcmVkSW5zdGFuY2VNb2RlbCgpIHtcclxuICBpZiAoIXNoYXJlZCkge1xyXG4gICAgc2hhcmVkID0gbmV3IE1vZGVsKCk7XHJcbiAgfVxyXG4gIHJldHVybiBzaGFyZWQ7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IE1vZGVsO1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL3NyYy9tb2RlbHMvbGl2ZS1yb29tL3Blcm1pc3Npb24ubW9kZWwuanNcbiAqKiBtb2R1bGUgaWQgPSA2N1xuICoqIG1vZHVsZSBjaHVua3MgPSAxIDMgNSA3XG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval("/**\r\n * Created by AaronYuan on 4/5/16.\r\n * 用户\r\n */\r\n'use strict';\r\n\r\nvar AnchorUserInfoModel = __webpack_require__(69);\r\nvar base = __webpack_require__(28);\r\nvar Storage = base.storage;\r\nvar UserModel = __webpack_require__(51);\r\nvar user = UserModel.sharedInstanceUserModel();\r\nvar instance = null;\r\nvar _ = __webpack_require__(27);\r\n\r\nfunction UserInfoView() {\r\n}\r\n\r\nUserInfoView.prototype.getInfo = function (okFn, errFn) {\r\n  var promise;\r\n  this.anchorInfoModel = AnchorUserInfoModel.sharedInstanceModel();\r\n  this.anchorInfoParams = {\r\n    deviceinfo: '{\"aid\": \"30001001\"}',\r\n    access_token: user.getWebToken()\r\n  };\r\n  promise = this.anchorInfoModel.executeJSONP(this.anchorInfoParams);\r\n  promise.done(function (res) {\r\n    if (res && res.msg === 'SUCCESS') {\r\n      if (okFn) {\r\n        okFn(res.data);\r\n      }\r\n    }\r\n  });\r\n  promise.fail(function (err) {\r\n    if (errFn) {\r\n      errFn(err);\r\n    }\r\n  });\r\n};\r\n\r\ninstance = new UserInfoView();\r\n\r\nmodule.exports = {\r\n  getInfo: function (okFn, errFn) {\r\n    instance.getInfo(okFn, errFn);\r\n  },\r\n  isDisbaleTalk: function (userId, roomId) {\r\n    var list = Storage.get('userDisableTalkTime');\r\n    if (!list) {\r\n      return false;\r\n    }\r\n    try {\r\n      list = JSON.parse(list);\r\n    } catch (e) {\r\n      list = [];\r\n    }\r\n    var res = _.find(list, function (item) {\r\n      return item.roomId === roomId && item.userId === userId;\r\n    });\r\n    if (!res) {\r\n      return false;\r\n    }\r\n\r\n    var time = res.time;\r\n    if (!time) {\r\n      return false;\r\n    }\r\n\r\n    time = new Date(time);\r\n    var cur = new Date();\r\n    var diff = cur.getTime() - time.getTime();\r\n\r\n    return diff <= 0;\r\n  },\r\n  isKickout: function (roomId) {\r\n    var list = Storage.get('userKickout');\r\n    if (!list) {\r\n      return false;\r\n    }\r\n    try {\r\n      list = JSON.parse(list);\r\n    } catch (e) {\r\n      list = [];\r\n    }\r\n    var res = _.find(list, function (item) {\r\n      return item.roomId === roomId;\r\n    });\r\n    return !!res && res.isKickout;\r\n  },\r\n  setDisableTalk: function (userid, roomid, time) {\r\n    var list = Storage.get('userDisableTalkTime');\r\n    if (_.isNumber(list)) {\r\n      list = [];\r\n    }\r\n    if (!list) {\r\n      list = [];\r\n    }\r\n    try {\r\n      list = JSON.parse(list);\r\n    } catch (e) {\r\n      list = [];\r\n    }\r\n    var res = _.find(list, function (item) {\r\n      return item.roomId === roomid && item.userId === userid;\r\n    });\r\n\r\n    if (res) {\r\n      res.time = time;\r\n    } else {\r\n      list.push({\r\n        roomId: roomid,\r\n        userId: userid,\r\n        time: time\r\n      });\r\n    }\r\n    Storage.set('userDisableTalkTime', JSON.stringify(list));\r\n  },\r\n  setKickout: function (roomId, isKickout) {\r\n    var list = Storage.get('userKickout');\r\n    if (!list) {\r\n      list = [];\r\n    } else {\r\n      try {\r\n        list = JSON.parse(list);\r\n      } catch (e) {\r\n        list = [];\r\n      }\r\n    }\r\n    var res = _.find(list, function (item) {\r\n      return item.roomId === roomId;\r\n    });\r\n    if (res) {\r\n      res.isKickout = isKickout;\r\n    } else {\r\n      list.push({\r\n        roomId: roomId,\r\n        isKickout: isKickout\r\n      });\r\n    }\r\n    Storage.set('userKickout', JSON.stringify(list));\r\n  },\r\n  setLockScreen: function (roomId, isLock) {\r\n    var list = Storage.get('isLockScreen');\r\n    if (!list) {\r\n      list = [];\r\n    } else {\r\n      list = JSON.parse(list);\r\n    }\r\n    var res = _.find(list, function (item) {\r\n      return item.roomId === roomId;\r\n    });\r\n    if (res) {\r\n      res.isLock = isLock;\r\n    } else {\r\n      list.push({\r\n        roomId: roomId,\r\n        isLock: isLock\r\n      });\r\n    }\r\n    Storage.set('isLockScreen', JSON.stringify(list));\r\n  },\r\n  isLockScreen: function (roomId) {\r\n    var list = Storage.get('isLockScreen');\r\n    if (!list) {\r\n      return false;\r\n    }\r\n    list = JSON.parse(list);\r\n    var res = _.find(list, function (item) {\r\n      return item.roomId === roomId;\r\n    });\r\n    return !!res && res.isLock;\r\n  },\r\n  removeAll: function () {\r\n    Storage.set('isLockScreen', '');\r\n    Storage.set('userDisableTalkTime', '');\r\n    Storage.set('userKickout', '');\r\n  }\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL3ZpZXdzL2xpdmUtcm9vbS91c2VyLmpzPzMwODkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGtCQUFrQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjY4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQWFyb25ZdWFuIG9uIDQvNS8xNi5cclxuICog55So5oi3XHJcbiAqL1xyXG4ndXNlIHN0cmljdCc7XHJcblxyXG52YXIgQW5jaG9yVXNlckluZm9Nb2RlbCA9IHJlcXVpcmUoJy4uLy4uL21vZGVscy9hbmNob3IvYW5jaG9yLWluZm8ubW9kZWwnKTtcclxudmFyIGJhc2UgPSByZXF1aXJlKCdiYXNlLWV4dGVuZC1iYWNrYm9uZScpO1xyXG52YXIgU3RvcmFnZSA9IGJhc2Uuc3RvcmFnZTtcclxudmFyIFVzZXJNb2RlbCA9IHJlcXVpcmUoJ1VzZXJNb2RlbCcpO1xyXG52YXIgdXNlciA9IFVzZXJNb2RlbC5zaGFyZWRJbnN0YW5jZVVzZXJNb2RlbCgpO1xyXG52YXIgaW5zdGFuY2UgPSBudWxsO1xyXG52YXIgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcclxuXHJcbmZ1bmN0aW9uIFVzZXJJbmZvVmlldygpIHtcclxufVxyXG5cclxuVXNlckluZm9WaWV3LnByb3RvdHlwZS5nZXRJbmZvID0gZnVuY3Rpb24gKG9rRm4sIGVyckZuKSB7XHJcbiAgdmFyIHByb21pc2U7XHJcbiAgdGhpcy5hbmNob3JJbmZvTW9kZWwgPSBBbmNob3JVc2VySW5mb01vZGVsLnNoYXJlZEluc3RhbmNlTW9kZWwoKTtcclxuICB0aGlzLmFuY2hvckluZm9QYXJhbXMgPSB7XHJcbiAgICBkZXZpY2VpbmZvOiAne1wiYWlkXCI6IFwiMzAwMDEwMDFcIn0nLFxyXG4gICAgYWNjZXNzX3Rva2VuOiB1c2VyLmdldFdlYlRva2VuKClcclxuICB9O1xyXG4gIHByb21pc2UgPSB0aGlzLmFuY2hvckluZm9Nb2RlbC5leGVjdXRlSlNPTlAodGhpcy5hbmNob3JJbmZvUGFyYW1zKTtcclxuICBwcm9taXNlLmRvbmUoZnVuY3Rpb24gKHJlcykge1xyXG4gICAgaWYgKHJlcyAmJiByZXMubXNnID09PSAnU1VDQ0VTUycpIHtcclxuICAgICAgaWYgKG9rRm4pIHtcclxuICAgICAgICBva0ZuKHJlcy5kYXRhKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG4gIHByb21pc2UuZmFpbChmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICBpZiAoZXJyRm4pIHtcclxuICAgICAgZXJyRm4oZXJyKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbmluc3RhbmNlID0gbmV3IFVzZXJJbmZvVmlldygpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgZ2V0SW5mbzogZnVuY3Rpb24gKG9rRm4sIGVyckZuKSB7XHJcbiAgICBpbnN0YW5jZS5nZXRJbmZvKG9rRm4sIGVyckZuKTtcclxuICB9LFxyXG4gIGlzRGlzYmFsZVRhbGs6IGZ1bmN0aW9uICh1c2VySWQsIHJvb21JZCkge1xyXG4gICAgdmFyIGxpc3QgPSBTdG9yYWdlLmdldCgndXNlckRpc2FibGVUYWxrVGltZScpO1xyXG4gICAgaWYgKCFsaXN0KSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHRyeSB7XHJcbiAgICAgIGxpc3QgPSBKU09OLnBhcnNlKGxpc3QpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBsaXN0ID0gW107XHJcbiAgICB9XHJcbiAgICB2YXIgcmVzID0gXy5maW5kKGxpc3QsIGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgIHJldHVybiBpdGVtLnJvb21JZCA9PT0gcm9vbUlkICYmIGl0ZW0udXNlcklkID09PSB1c2VySWQ7XHJcbiAgICB9KTtcclxuICAgIGlmICghcmVzKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgdGltZSA9IHJlcy50aW1lO1xyXG4gICAgaWYgKCF0aW1lKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICB0aW1lID0gbmV3IERhdGUodGltZSk7XHJcbiAgICB2YXIgY3VyID0gbmV3IERhdGUoKTtcclxuICAgIHZhciBkaWZmID0gY3VyLmdldFRpbWUoKSAtIHRpbWUuZ2V0VGltZSgpO1xyXG5cclxuICAgIHJldHVybiBkaWZmIDw9IDA7XHJcbiAgfSxcclxuICBpc0tpY2tvdXQ6IGZ1bmN0aW9uIChyb29tSWQpIHtcclxuICAgIHZhciBsaXN0ID0gU3RvcmFnZS5nZXQoJ3VzZXJLaWNrb3V0Jyk7XHJcbiAgICBpZiAoIWxpc3QpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgdHJ5IHtcclxuICAgICAgbGlzdCA9IEpTT04ucGFyc2UobGlzdCk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGxpc3QgPSBbXTtcclxuICAgIH1cclxuICAgIHZhciByZXMgPSBfLmZpbmQobGlzdCwgZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgcmV0dXJuIGl0ZW0ucm9vbUlkID09PSByb29tSWQ7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiAhIXJlcyAmJiByZXMuaXNLaWNrb3V0O1xyXG4gIH0sXHJcbiAgc2V0RGlzYWJsZVRhbGs6IGZ1bmN0aW9uICh1c2VyaWQsIHJvb21pZCwgdGltZSkge1xyXG4gICAgdmFyIGxpc3QgPSBTdG9yYWdlLmdldCgndXNlckRpc2FibGVUYWxrVGltZScpO1xyXG4gICAgaWYgKF8uaXNOdW1iZXIobGlzdCkpIHtcclxuICAgICAgbGlzdCA9IFtdO1xyXG4gICAgfVxyXG4gICAgaWYgKCFsaXN0KSB7XHJcbiAgICAgIGxpc3QgPSBbXTtcclxuICAgIH1cclxuICAgIHRyeSB7XHJcbiAgICAgIGxpc3QgPSBKU09OLnBhcnNlKGxpc3QpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBsaXN0ID0gW107XHJcbiAgICB9XHJcbiAgICB2YXIgcmVzID0gXy5maW5kKGxpc3QsIGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgIHJldHVybiBpdGVtLnJvb21JZCA9PT0gcm9vbWlkICYmIGl0ZW0udXNlcklkID09PSB1c2VyaWQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAocmVzKSB7XHJcbiAgICAgIHJlcy50aW1lID0gdGltZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGxpc3QucHVzaCh7XHJcbiAgICAgICAgcm9vbUlkOiByb29taWQsXHJcbiAgICAgICAgdXNlcklkOiB1c2VyaWQsXHJcbiAgICAgICAgdGltZTogdGltZVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIFN0b3JhZ2Uuc2V0KCd1c2VyRGlzYWJsZVRhbGtUaW1lJywgSlNPTi5zdHJpbmdpZnkobGlzdCkpO1xyXG4gIH0sXHJcbiAgc2V0S2lja291dDogZnVuY3Rpb24gKHJvb21JZCwgaXNLaWNrb3V0KSB7XHJcbiAgICB2YXIgbGlzdCA9IFN0b3JhZ2UuZ2V0KCd1c2VyS2lja291dCcpO1xyXG4gICAgaWYgKCFsaXN0KSB7XHJcbiAgICAgIGxpc3QgPSBbXTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgbGlzdCA9IEpTT04ucGFyc2UobGlzdCk7XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBsaXN0ID0gW107XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHZhciByZXMgPSBfLmZpbmQobGlzdCwgZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgcmV0dXJuIGl0ZW0ucm9vbUlkID09PSByb29tSWQ7XHJcbiAgICB9KTtcclxuICAgIGlmIChyZXMpIHtcclxuICAgICAgcmVzLmlzS2lja291dCA9IGlzS2lja291dDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGxpc3QucHVzaCh7XHJcbiAgICAgICAgcm9vbUlkOiByb29tSWQsXHJcbiAgICAgICAgaXNLaWNrb3V0OiBpc0tpY2tvdXRcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBTdG9yYWdlLnNldCgndXNlcktpY2tvdXQnLCBKU09OLnN0cmluZ2lmeShsaXN0KSk7XHJcbiAgfSxcclxuICBzZXRMb2NrU2NyZWVuOiBmdW5jdGlvbiAocm9vbUlkLCBpc0xvY2spIHtcclxuICAgIHZhciBsaXN0ID0gU3RvcmFnZS5nZXQoJ2lzTG9ja1NjcmVlbicpO1xyXG4gICAgaWYgKCFsaXN0KSB7XHJcbiAgICAgIGxpc3QgPSBbXTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGxpc3QgPSBKU09OLnBhcnNlKGxpc3QpO1xyXG4gICAgfVxyXG4gICAgdmFyIHJlcyA9IF8uZmluZChsaXN0LCBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICByZXR1cm4gaXRlbS5yb29tSWQgPT09IHJvb21JZDtcclxuICAgIH0pO1xyXG4gICAgaWYgKHJlcykge1xyXG4gICAgICByZXMuaXNMb2NrID0gaXNMb2NrO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGlzdC5wdXNoKHtcclxuICAgICAgICByb29tSWQ6IHJvb21JZCxcclxuICAgICAgICBpc0xvY2s6IGlzTG9ja1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIFN0b3JhZ2Uuc2V0KCdpc0xvY2tTY3JlZW4nLCBKU09OLnN0cmluZ2lmeShsaXN0KSk7XHJcbiAgfSxcclxuICBpc0xvY2tTY3JlZW46IGZ1bmN0aW9uIChyb29tSWQpIHtcclxuICAgIHZhciBsaXN0ID0gU3RvcmFnZS5nZXQoJ2lzTG9ja1NjcmVlbicpO1xyXG4gICAgaWYgKCFsaXN0KSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGxpc3QgPSBKU09OLnBhcnNlKGxpc3QpO1xyXG4gICAgdmFyIHJlcyA9IF8uZmluZChsaXN0LCBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICByZXR1cm4gaXRlbS5yb29tSWQgPT09IHJvb21JZDtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuICEhcmVzICYmIHJlcy5pc0xvY2s7XHJcbiAgfSxcclxuICByZW1vdmVBbGw6IGZ1bmN0aW9uICgpIHtcclxuICAgIFN0b3JhZ2Uuc2V0KCdpc0xvY2tTY3JlZW4nLCAnJyk7XHJcbiAgICBTdG9yYWdlLnNldCgndXNlckRpc2FibGVUYWxrVGltZScsICcnKTtcclxuICAgIFN0b3JhZ2Uuc2V0KCd1c2VyS2lja291dCcsICcnKTtcclxuICB9XHJcbn07XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvc3JjL3ZpZXdzL2xpdmUtcm9vbS91c2VyLmpzXG4gKiogbW9kdWxlIGlkID0gNjhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMSAzIDQgNSA3IDlcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){eval("'use strict';\r\n\r\nvar base = __webpack_require__(28);\r\nvar Config = __webpack_require__(50);\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/user/info.json', // 填写请求地址\r\n  beforeEmit: function beforeEmit() {\r\n    // 给请求地址替换一下环境变量\r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZGVscy9hbmNob3IvYW5jaG9yLWluZm8ubW9kZWwuanM/ZmRkZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVUsWUFBWTtBQUN0QjtBQUNBO0FBQ0EsYUFBYSxJQUFJLGVBQWUsSUFBSTtBQUNwQyxxQ0FBcUMsWUFBWTtBQUNqRDtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiI2OS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbnZhciBiYXNlID0gcmVxdWlyZSgnYmFzZS1leHRlbmQtYmFja2JvbmUnKTtcclxudmFyIENvbmZpZyA9IHJlcXVpcmUoJ2NvbmZpZycpO1xyXG52YXIgQmFzZU1vZGVsID0gYmFzZS5Nb2RlbDtcclxudmFyIGVudiA9IENvbmZpZy5lbnZbQ29uZmlnLnNjaGVtZV07XHJcblxyXG52YXIgTW9kZWwgPSBCYXNlTW9kZWwuZXh0ZW5kKHtcclxuICB1cmw6ICd7e3VybF9wcmVmaXh9fS91c2VyL2luZm8uanNvbicsIC8vIOWhq+WGmeivt+axguWcsOWdgFxyXG4gIGJlZm9yZUVtaXQ6IGZ1bmN0aW9uIGJlZm9yZUVtaXQoKSB7XHJcbiAgICAvLyDnu5nor7fmsYLlnLDlnYDmm7/mjaLkuIDkuIvnjq/looPlj5jph49cclxuICAgIGlmICgvXlxce3swLDJ9KHVybF9wcmVmaXgpXFx9ezAsMn0vLnRlc3QodGhpcy51cmwpKSB7XHJcbiAgICAgIHRoaXMudXJsID0gdGhpcy51cmwucmVwbGFjZSgne3t1cmxfcHJlZml4fX0nLCBlbnYudXJsX3ByZWZpeCk7XHJcbiAgICB9XHJcbiAgfVxyXG59KTtcclxuXHJcbnZhciBzaGFyZWQgPSBudWxsO1xyXG5Nb2RlbC5zaGFyZWRJbnN0YW5jZU1vZGVsID0gZnVuY3Rpb24gc2hhcmVkSW5zdGFuY2VNb2RlbCgpIHtcclxuICBpZiAoIXNoYXJlZCkge1xyXG4gICAgc2hhcmVkID0gbmV3IE1vZGVsKCk7XHJcbiAgfVxyXG4gIHJldHVybiBzaGFyZWQ7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IE1vZGVsO1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL3NyYy9tb2RlbHMvYW5jaG9yL2FuY2hvci1pbmZvLm1vZGVsLmpzXG4gKiogbW9kdWxlIGlkID0gNjlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMSAyIDMgNCA1IDYgNyA5XG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval("/**\r\n * 告白墙\r\n */\r\n'use strict';\r\n\r\nvar _ = __webpack_require__(27);\r\nvar base = __webpack_require__(28);\r\nvar BaseView = base.View;\r\n\r\nvar ListModel = __webpack_require__(71);\r\nvar LikeModel = __webpack_require__(72);\r\nvar CreateModel = __webpack_require__(73);\r\nvar UserModel = __webpack_require__(51);\r\nvar user = UserModel.sharedInstanceUserModel();\r\nvar LoopModel = __webpack_require__(74);\r\n\r\nvar msgBox = __webpack_require__(75);\r\nvar BusinessDate = __webpack_require__(76);\r\n\r\nvar View = BaseView.extend({\r\n  el: '',\r\n  rawLoader: function () {\r\n    return __webpack_require__(77);\r\n  },\r\n  events: {\r\n    'click #btnShowCreate': 'showCreateClicked',\r\n    'click #btnBacktoList': 'backToList',\r\n    'click .wall-list': 'itemClicked',\r\n    'click #btnSendText': 'sendClicked',\r\n    'click .tabs a': 'tabClicked',\r\n    'click .colors a': 'chooseColorClicked',\r\n    'keyup #txtMsg': 'calcTextLength',\r\n    'click #unReadCnt': 'refreshUnreadList'\r\n  },\r\n  context: function (args) {\r\n    console.log(args);\r\n  },\r\n  beforeMount: function () {\r\n    //  初始化一些自定义属性\r\n    this.elements = {};\r\n\r\n    this.queryParams = {\r\n      deviceinfo: '{\"aid\": \"30001001\"}',\r\n      access_token: user.getWebToken()\r\n    };\r\n\r\n    // 循环接口时间\r\n    this.loopTime = 60 * 1000;\r\n\r\n    this.listParams = _.extend({}, this.queryParams);\r\n\r\n    this.pageParams = {\r\n      newList: {\r\n        hasNext: true\r\n      },\r\n      hotList: {}\r\n    };\r\n\r\n    this.listModel = new ListModel();\r\n    this.likeModel = new LikeModel();\r\n    this.createModel = new CreateModel();\r\n    this.loopModel = new LoopModel();\r\n  },\r\n  afterMount: function () {\r\n    //  获取findDOMNode DOM Node\r\n    this.elements.showCreateDOM = this.$el.find('#btnShowCreate');\r\n    this.elements.showWhenCreateDom = this.$el.find('.show-when-create');\r\n    this.elements.showWhenListDom = this.$el.find('.show-when-list');\r\n    this.elements.boardDom = this.$el.find('.msg-board-wrap');\r\n\r\n    this.elements.txtInputDom = this.$el.find('#txtMsg');\r\n    this.elements.txtLengthDom = this.$el.find('#txtLength');\r\n    this.elements.anonymousDom = this.$el.find('#cbAnonymous');\r\n    this.elements.userScoreDom = this.$el.find('#userScore');\r\n    this.elements.unReadCnt = this.$el.find('#unReadCnt');\r\n\r\n    // 一个公告的模板\r\n    this.itemTpl = this.$el.find('#itemTpl').html();\r\n\r\n    this.newestListDOM = this.$el.find('.newList .am-u-sm-4');\r\n    this.hotListDOM = this.$el.find('.hotList .am-u-sm-4');\r\n\r\n    // 每个告白价值\r\n    this.perItemFee = 5;\r\n  },\r\n  ready: function (ops) {\r\n    this.options = _.extend({\r\n      totalMarks: 0,\r\n      userInfo: {}\r\n    }, ops);\r\n    this.defineEventInterface();\r\n    this.lastTime = new Date();\r\n    // 隐藏未读小红点\r\n    this.elements.unReadCnt.text(0).hide();\r\n    //  初始化\r\n    this.renderNewestList({\r\n      tag: 'first'\r\n    });\r\n    this.loopGetUnreadCount();\r\n    // this.renderHotList();\r\n    this.setUserInfo();\r\n\r\n    $('.msg-board-wrap .wall-list').on('scroll', this.tabScrollDown.bind(this));\r\n  },\r\n  setOptions: function (ops) {\r\n    this.options = _.extend(this.options, ops);\r\n  },\r\n  defineEventInterface: function () {},\r\n  beforeDestroy: function () {\r\n    //  进入销毁之前,将引用关系设置为null\r\n  },\r\n  destroyed: function () {\r\n    //  销毁之后\r\n  },\r\n  // 我要发布点击\r\n  showCreateClicked: function () {\r\n    this.elements.showWhenCreateDom.show();\r\n    this.elements.showWhenListDom.hide();\r\n    this.elements.boardDom.addClass('active-create');\r\n    this.randomSetColor();\r\n  },\r\n  // 返回列表\r\n  backToList: function () {\r\n    this.elements.showWhenCreateDom.hide();\r\n    this.elements.showWhenListDom.show();\r\n    this.elements.boardDom.removeClass('active-create');\r\n  },\r\n\r\n  getData: function (ops) {\r\n    var self = this;\r\n    this.listParams = _.extend(this.listParams, {\r\n      subType: this.options.type || 1,\r\n      subId: self.options.roomId || 0,\r\n      sortField: 'TIME', // LIKE\r\n      limit: 9\r\n    }, ops);\r\n    return this.listModel.executeJSONP(this.listParams);\r\n  },\r\n  // 最新列表\r\n  renderNewestList: function (ops) {\r\n    var self = this;\r\n    var promise = this.getData(ops);\r\n    if (!self.pageParams.newList.hasNext) {\r\n      return;\r\n    }\r\n    promise.done(function (res) {\r\n      self.isScrolling = false;\r\n      self.appendToNewestList(res.data.list || []);\r\n      if (res && res.code === '0') {\r\n        self.pageParams.newList = {\r\n          cursor: res.data.nextCursor || null,\r\n          hasNext: res.data.hasNext || false\r\n        };\r\n      }\r\n      if (ops && ops.tag === 'first' && _.isArray(res.data.list) && res.data.list.length <= 0) {\r\n        self.newestListDOM.eq(0).append('<div class=\"first\">快来成为第一个告白的幸运儿</div>');\r\n      }\r\n    });\r\n  },\r\n  appendToNewestList: function (data) {\r\n    var htmls = this.createItemHtml(data);\r\n    this.newestListDOM.eq(0).find('.first').remove();\r\n    this.newestListDOM.eq(0).append(htmls[0]);\r\n    this.newestListDOM.eq(1).append(htmls[1]);\r\n    this.newestListDOM.eq(2).append(htmls[2]);\r\n  },\r\n  // 最热列表\r\n  renderHotList: function (ops) {\r\n    var self = this;\r\n    var op = _.extend(ops, {\r\n      sortField: 'LIKE'\r\n    });\r\n\r\n    var promise = this.getData(op);\r\n    promise.done(function (res) {\r\n      self.isScrolling = false;\r\n      if (res && res.code === '0') {\r\n        self.pageParams.hotList = {\r\n          nextCursor: res.data.nextCursor || null,\r\n          hasNext: res.data.hasNext || false\r\n        };\r\n      }\r\n      self.appendToHotList(res.data.list || []);\r\n    });\r\n  },\r\n  appendToHotList: function (data) {\r\n    var htmls = this.createItemHtml(data);\r\n    this.hotListDOM.eq(0).append(htmls[0]);\r\n    this.hotListDOM.eq(1).append(htmls[1]);\r\n    this.hotListDOM.eq(2).append(htmls[2]);\r\n  },\r\n  createItemHtml: function (data) {\r\n    var html = '';\r\n    var self = this;\r\n    var result = [\r\n      [],\r\n      [],\r\n      []\r\n    ];\r\n    _.each(data, function (item, index) {\r\n      var curItem = item;\r\n      curItem.time = BusinessDate.format(new Date(item.createTime), 'yyyy-MM-dd hh:mm:ss');\r\n      html = self.compileHTML(self.itemTpl, curItem);\r\n      var res = index % 3;\r\n      switch (res) {\r\n        case 1:\r\n          result[1].push(html);\r\n          break;\r\n        case 2:\r\n          result[2].push(html);\r\n          break;\r\n        case 0:\r\n        default:\r\n          result[0].push(html);\r\n          break;\r\n      }\r\n    });\r\n    return result;\r\n  },\r\n  renderItem: function () {\r\n\r\n  },\r\n  itemClicked: function (e) {\r\n    var target = $(e.target);\r\n    if (!target.attr('data-likeid')) {\r\n      target = target.parent('a');\r\n    }\r\n    var liked = target.attr('data-liked') === 'true';\r\n    if (target.attr('data-likeid')) {\r\n      this.likeItem(target.attr('data-likeid'), target, !liked);\r\n    }\r\n  },\r\n  // 喜欢某个告白\r\n  likeItem: function (id, dom, like) {\r\n    this.likeParams = _.extend(this.queryParams, {\r\n      subType: this.options.type,\r\n      cmtId: id,\r\n      like: like\r\n    });\r\n    var promise = this.likeModel.executeJSONP(this.likeParams);\r\n    var cnt = ~~dom.find('span').text();\r\n    promise.done(function (res) {\r\n      if (res && res.code === '0') {\r\n        dom.attr('data-liked', like ? 'true' : 'false');\r\n        dom.find('span').text(like ? cnt + 1 : cnt - 1);\r\n        dom.toggleClass('active');\r\n      } else {\r\n        msgBox.showTip('支持失败,稍后重新尝试吧');\r\n      }\r\n    });\r\n  },\r\n  // 切换列表\r\n  tabClicked: function (e) {\r\n    var target = $(e.target);\r\n    var tab = target.attr('data-tab');\r\n    var link = $('.tabs a');\r\n    if (tab && !target.hasClass('active')) {\r\n      link.toggleClass('active');\r\n      $('.tab').hide();\r\n      $('.' + tab).show();\r\n    }\r\n  },\r\n  getSendText: function () {\r\n    var text = $.trim(this.elements.txtInputDom.val());\r\n    var reg = /<[^>]+?>/g;\r\n    text = text.replace(reg, '');\r\n    return text;\r\n  },\r\n  // 校验发布内容\r\n  verifyText: function () {\r\n    var text = this.getSendText();\r\n    if (text.length > 200) {\r\n      msgBox.showTip('告白内容不能超过200字');\r\n      return false;\r\n    } else if (text.length < 20) {\r\n      msgBox.showTip('告白内容至少输入20个字');\r\n      return false;\r\n    }\r\n    return true;\r\n  },\r\n  sendClicked: function () {\r\n    var isAnonymous = this.elements.anonymousDom.is(':checked');\r\n    var self = this;\r\n    if (this.verifyText()) {\r\n      this.createParams = _.extend({\r\n        subType: self.options.type,\r\n        subId: this.options.roomId,\r\n        isAnonymous: isAnonymous,\r\n        fontColor: this.selectedColor || '',\r\n        content: this.getSendText()\r\n      }, this.queryParams);\r\n\r\n      var promise = this.createModel.executeJSONP(this.createParams);\r\n\r\n      promise.done(function (res) {\r\n        if (res && res.code === '0') {\r\n          msgBox.showOK('告白发布成功!');\r\n          self.elements.txtInputDom.val('');\r\n          self.backToList();\r\n          self.options.userInfo.totalMarks -= self.perItemFee;\r\n          self.setUserInfo();\r\n          self.newestListDOM.children().remove();\r\n          self.pageParams.newList.hasNext = true;\r\n          self.renderNewestList({\r\n            cursor: null\r\n          });\r\n          // self.renderHotList();\r\n        } else {\r\n          msgBox.showError(res.msg || '发布告白失败,请稍后重试');\r\n        }\r\n      });\r\n    }\r\n  },\r\n  // 设置文字颜色\r\n  setTextColor: function (dom, color) {\r\n    if (dom && color) {\r\n      var col = this.rgb2hex(color + '');\r\n      dom.css('color', col);\r\n      this.selectedColor = col;\r\n    }\r\n  },\r\n  // 选择颜色\r\n  chooseColorClicked: function (e) {\r\n    var target = $(e.target);\r\n    var color = target.css('background-color');\r\n    target.parent('.colors').children().removeClass('active');\r\n    target.addClass('active');\r\n    this.setTextColor(this.elements.txtInputDom, color);\r\n  },\r\n  // 随机设置颜色\r\n  randomSetColor: function () {\r\n    var index = Math.random() * 10 % 5 ^ 0;\r\n    this.chooseColorClicked({\r\n      target: $('.colors a').eq(index)\r\n    });\r\n  },\r\n  // 计算文字长度\r\n  calcTextLength: function () {\r\n    var txt = $.trim(this.elements.txtInputDom.val());\r\n    var maxLength = 200;\r\n    this.elements.txtLengthDom.text(maxLength - txt.length);\r\n  },\r\n  // 数字转16进制\r\n  zeroFillHex: function (num, digits) {\r\n    var s = num.toString(16);\r\n    while (s.length < digits) {\r\n      s = '0' + s;\r\n    }\r\n    return s;\r\n  },\r\n  // 颜色转换\r\n  rgb2hex: function (rgb) {\r\n    if (rgb.charAt(0) === '#') {\r\n      return rgb;\r\n    }\r\n\r\n    var ds = rgb.split(/\\D+/);\r\n    var decimal = Number(ds[1]) * 65536 + Number(ds[2]) * 256 + Number(ds[3]);\r\n    return '#' + this.zeroFillHex(decimal, 6);\r\n  },\r\n  // 设置用户积分\r\n  setUserInfo: function (userInfo) {\r\n    if (userInfo) {\r\n      this.options.userInfo = userInfo;\r\n    }\r\n    if (_.isNumber(this.options.userInfo.totalMarks)) {\r\n      this.elements.userScoreDom.text(this.options.userInfo.totalMarks || 0);\r\n    }\r\n  },\r\n  refreshUnreadList: function () {\r\n    this.lastTime = new Date();\r\n    this.elements.unReadCnt.text(0).hide();\r\n    $('.newList .am-u-sm-4').children().remove();\r\n    this.renderNewestList();\r\n    this.changeTab(0);\r\n  },\r\n  loopGetUnreadCount: function () {\r\n    var self = this;\r\n    var promise = this.loopModel.executeJSONP(_.extend({\r\n      subType: this.options.type,\r\n      subId: self.options.roomId,\r\n      lastTime: self.lastTime.getTime()\r\n    }, this.queryParams));\r\n    promise.done(function (res) {\r\n      if (res && res.code === '0' && res.data.newMsgCount > 0) {\r\n        // self.elements.unReadCnt.text(res.data.newMsgCount).show();\r\n        self.pageParams.newList.hasNext = true;\r\n\r\n        self.newestListDOM.children().remove();\r\n        self.renderNewestList();\r\n      }\r\n      setTimeout(function () {\r\n        self.loopGetUnreadCount();\r\n      }, self.loopTime);\r\n    });\r\n  },\r\n  // 切换列表\r\n  changeTab: function (index) {\r\n    this.tabClicked({\r\n      target: $('.tabs a').eq(index)\r\n    });\r\n  },\r\n  tabScrollDown: function (e) {\r\n    var tag = $('.tab-menu .active').attr('data-tab') || 'newList';\r\n    var target = $(e.target);\r\n    var maxHeight = $('.' + tag).find('.am-u-sm-4').height() - 404;\r\n    var top = target.scrollTop();\r\n    if (this.isScrolling) {\r\n      return;\r\n    }\r\n    this.isScrolling = true;\r\n    var diff = maxHeight - top;\r\n    if (diff < 30 && this.pageParams[tag].hasNext) {\r\n      if (tag === 'newList') {\r\n        this.renderNewestList(this.pageParams[tag]);\r\n      } else {\r\n        // this.renderHotList(this.pageParams[tag]);\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\nmodule.exports = View;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL3ZpZXdzL2FkdmVydGlzaW5nLXdhbGwvbWFpbi52aWV3LmpzP2ZkNjIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQixrQkFBa0I7QUFDdEM7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGlDQUFpQzs7QUFFakM7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEIiwiZmlsZSI6IjcwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIOWRiueZveWimVxyXG4gKi9cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxudmFyIF8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJyk7XHJcbnZhciBiYXNlID0gcmVxdWlyZSgnYmFzZS1leHRlbmQtYmFja2JvbmUnKTtcclxudmFyIEJhc2VWaWV3ID0gYmFzZS5WaWV3O1xyXG5cclxudmFyIExpc3RNb2RlbCA9IHJlcXVpcmUoJy4uLy4uL21vZGVscy9hZHZlcnRpc2luZy13YWxsL2xpc3QubW9kZWwnKTtcclxudmFyIExpa2VNb2RlbCA9IHJlcXVpcmUoJy4uLy4uL21vZGVscy9hZHZlcnRpc2luZy13YWxsL2xpa2UubW9kZWwnKTtcclxudmFyIENyZWF0ZU1vZGVsID0gcmVxdWlyZSgnLi4vLi4vbW9kZWxzL2FkdmVydGlzaW5nLXdhbGwvY3JlYXRlLm1vZGVsJyk7XHJcbnZhciBVc2VyTW9kZWwgPSByZXF1aXJlKCdVc2VyTW9kZWwnKTtcclxudmFyIHVzZXIgPSBVc2VyTW9kZWwuc2hhcmVkSW5zdGFuY2VVc2VyTW9kZWwoKTtcclxudmFyIExvb3BNb2RlbCA9IHJlcXVpcmUoJy4uLy4uL21vZGVscy9hZHZlcnRpc2luZy13YWxsL2xvb3AubW9kZWwnKTtcclxuXHJcbnZhciBtc2dCb3ggPSByZXF1aXJlKCd1aS5tc2dCb3gnKTtcclxudmFyIEJ1c2luZXNzRGF0ZSA9IHJlcXVpcmUoJ0J1c2luZXNzRGF0ZScpO1xyXG5cclxudmFyIFZpZXcgPSBCYXNlVmlldy5leHRlbmQoe1xyXG4gIGVsOiAnJyxcclxuICByYXdMb2FkZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiByZXF1aXJlKCcuL3RlbXBsYXRlL3dhbGwuaHRtbCcpO1xyXG4gIH0sXHJcbiAgZXZlbnRzOiB7XHJcbiAgICAnY2xpY2sgI2J0blNob3dDcmVhdGUnOiAnc2hvd0NyZWF0ZUNsaWNrZWQnLFxyXG4gICAgJ2NsaWNrICNidG5CYWNrdG9MaXN0JzogJ2JhY2tUb0xpc3QnLFxyXG4gICAgJ2NsaWNrIC53YWxsLWxpc3QnOiAnaXRlbUNsaWNrZWQnLFxyXG4gICAgJ2NsaWNrICNidG5TZW5kVGV4dCc6ICdzZW5kQ2xpY2tlZCcsXHJcbiAgICAnY2xpY2sgLnRhYnMgYSc6ICd0YWJDbGlja2VkJyxcclxuICAgICdjbGljayAuY29sb3JzIGEnOiAnY2hvb3NlQ29sb3JDbGlja2VkJyxcclxuICAgICdrZXl1cCAjdHh0TXNnJzogJ2NhbGNUZXh0TGVuZ3RoJyxcclxuICAgICdjbGljayAjdW5SZWFkQ250JzogJ3JlZnJlc2hVbnJlYWRMaXN0J1xyXG4gIH0sXHJcbiAgY29udGV4dDogZnVuY3Rpb24gKGFyZ3MpIHtcclxuICAgIGNvbnNvbGUubG9nKGFyZ3MpO1xyXG4gIH0sXHJcbiAgYmVmb3JlTW91bnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICDliJ3lp4vljJbkuIDkupvoh6rlrprkuYnlsZ7mgKdcclxuICAgIHRoaXMuZWxlbWVudHMgPSB7fTtcclxuXHJcbiAgICB0aGlzLnF1ZXJ5UGFyYW1zID0ge1xyXG4gICAgICBkZXZpY2VpbmZvOiAne1wiYWlkXCI6IFwiMzAwMDEwMDFcIn0nLFxyXG4gICAgICBhY2Nlc3NfdG9rZW46IHVzZXIuZ2V0V2ViVG9rZW4oKVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyDlvqrnjq/mjqXlj6Pml7bpl7RcclxuICAgIHRoaXMubG9vcFRpbWUgPSA2MCAqIDEwMDA7XHJcblxyXG4gICAgdGhpcy5saXN0UGFyYW1zID0gXy5leHRlbmQoe30sIHRoaXMucXVlcnlQYXJhbXMpO1xyXG5cclxuICAgIHRoaXMucGFnZVBhcmFtcyA9IHtcclxuICAgICAgbmV3TGlzdDoge1xyXG4gICAgICAgIGhhc05leHQ6IHRydWVcclxuICAgICAgfSxcclxuICAgICAgaG90TGlzdDoge31cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5saXN0TW9kZWwgPSBuZXcgTGlzdE1vZGVsKCk7XHJcbiAgICB0aGlzLmxpa2VNb2RlbCA9IG5ldyBMaWtlTW9kZWwoKTtcclxuICAgIHRoaXMuY3JlYXRlTW9kZWwgPSBuZXcgQ3JlYXRlTW9kZWwoKTtcclxuICAgIHRoaXMubG9vcE1vZGVsID0gbmV3IExvb3BNb2RlbCgpO1xyXG4gIH0sXHJcbiAgYWZ0ZXJNb3VudDogZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gIOiOt+WPlmZpbmRET01Ob2RlIERPTSBOb2RlXHJcbiAgICB0aGlzLmVsZW1lbnRzLnNob3dDcmVhdGVET00gPSB0aGlzLiRlbC5maW5kKCcjYnRuU2hvd0NyZWF0ZScpO1xyXG4gICAgdGhpcy5lbGVtZW50cy5zaG93V2hlbkNyZWF0ZURvbSA9IHRoaXMuJGVsLmZpbmQoJy5zaG93LXdoZW4tY3JlYXRlJyk7XHJcbiAgICB0aGlzLmVsZW1lbnRzLnNob3dXaGVuTGlzdERvbSA9IHRoaXMuJGVsLmZpbmQoJy5zaG93LXdoZW4tbGlzdCcpO1xyXG4gICAgdGhpcy5lbGVtZW50cy5ib2FyZERvbSA9IHRoaXMuJGVsLmZpbmQoJy5tc2ctYm9hcmQtd3JhcCcpO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudHMudHh0SW5wdXREb20gPSB0aGlzLiRlbC5maW5kKCcjdHh0TXNnJyk7XHJcbiAgICB0aGlzLmVsZW1lbnRzLnR4dExlbmd0aERvbSA9IHRoaXMuJGVsLmZpbmQoJyN0eHRMZW5ndGgnKTtcclxuICAgIHRoaXMuZWxlbWVudHMuYW5vbnltb3VzRG9tID0gdGhpcy4kZWwuZmluZCgnI2NiQW5vbnltb3VzJyk7XHJcbiAgICB0aGlzLmVsZW1lbnRzLnVzZXJTY29yZURvbSA9IHRoaXMuJGVsLmZpbmQoJyN1c2VyU2NvcmUnKTtcclxuICAgIHRoaXMuZWxlbWVudHMudW5SZWFkQ250ID0gdGhpcy4kZWwuZmluZCgnI3VuUmVhZENudCcpO1xyXG5cclxuICAgIC8vIOS4gOS4quWFrOWRiueahOaooeadv1xyXG4gICAgdGhpcy5pdGVtVHBsID0gdGhpcy4kZWwuZmluZCgnI2l0ZW1UcGwnKS5odG1sKCk7XHJcblxyXG4gICAgdGhpcy5uZXdlc3RMaXN0RE9NID0gdGhpcy4kZWwuZmluZCgnLm5ld0xpc3QgLmFtLXUtc20tNCcpO1xyXG4gICAgdGhpcy5ob3RMaXN0RE9NID0gdGhpcy4kZWwuZmluZCgnLmhvdExpc3QgLmFtLXUtc20tNCcpO1xyXG5cclxuICAgIC8vIOavj+S4quWRiueZveS7t+WAvFxyXG4gICAgdGhpcy5wZXJJdGVtRmVlID0gNTtcclxuICB9LFxyXG4gIHJlYWR5OiBmdW5jdGlvbiAob3BzKSB7XHJcbiAgICB0aGlzLm9wdGlvbnMgPSBfLmV4dGVuZCh7XHJcbiAgICAgIHRvdGFsTWFya3M6IDAsXHJcbiAgICAgIHVzZXJJbmZvOiB7fVxyXG4gICAgfSwgb3BzKTtcclxuICAgIHRoaXMuZGVmaW5lRXZlbnRJbnRlcmZhY2UoKTtcclxuICAgIHRoaXMubGFzdFRpbWUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgLy8g6ZqQ6JeP5pyq6K+75bCP57qi54K5XHJcbiAgICB0aGlzLmVsZW1lbnRzLnVuUmVhZENudC50ZXh0KDApLmhpZGUoKTtcclxuICAgIC8vICDliJ3lp4vljJZcclxuICAgIHRoaXMucmVuZGVyTmV3ZXN0TGlzdCh7XHJcbiAgICAgIHRhZzogJ2ZpcnN0J1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLmxvb3BHZXRVbnJlYWRDb3VudCgpO1xyXG4gICAgLy8gdGhpcy5yZW5kZXJIb3RMaXN0KCk7XHJcbiAgICB0aGlzLnNldFVzZXJJbmZvKCk7XHJcblxyXG4gICAgJCgnLm1zZy1ib2FyZC13cmFwIC53YWxsLWxpc3QnKS5vbignc2Nyb2xsJywgdGhpcy50YWJTY3JvbGxEb3duLmJpbmQodGhpcykpO1xyXG4gIH0sXHJcbiAgc2V0T3B0aW9uczogZnVuY3Rpb24gKG9wcykge1xyXG4gICAgdGhpcy5vcHRpb25zID0gXy5leHRlbmQodGhpcy5vcHRpb25zLCBvcHMpO1xyXG4gIH0sXHJcbiAgZGVmaW5lRXZlbnRJbnRlcmZhY2U6IGZ1bmN0aW9uICgpIHt9LFxyXG4gIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICDov5vlhaXplIDmr4HkuYvliY0s5bCG5byV55So5YWz57O76K6+572u5Li6bnVsbFxyXG4gIH0sXHJcbiAgZGVzdHJveWVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAg6ZSA5q+B5LmL5ZCOXHJcbiAgfSxcclxuICAvLyDmiJHopoHlj5HluIPngrnlh7tcclxuICBzaG93Q3JlYXRlQ2xpY2tlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5lbGVtZW50cy5zaG93V2hlbkNyZWF0ZURvbS5zaG93KCk7XHJcbiAgICB0aGlzLmVsZW1lbnRzLnNob3dXaGVuTGlzdERvbS5oaWRlKCk7XHJcbiAgICB0aGlzLmVsZW1lbnRzLmJvYXJkRG9tLmFkZENsYXNzKCdhY3RpdmUtY3JlYXRlJyk7XHJcbiAgICB0aGlzLnJhbmRvbVNldENvbG9yKCk7XHJcbiAgfSxcclxuICAvLyDov5Tlm57liJfooahcclxuICBiYWNrVG9MaXN0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLmVsZW1lbnRzLnNob3dXaGVuQ3JlYXRlRG9tLmhpZGUoKTtcclxuICAgIHRoaXMuZWxlbWVudHMuc2hvd1doZW5MaXN0RG9tLnNob3coKTtcclxuICAgIHRoaXMuZWxlbWVudHMuYm9hcmREb20ucmVtb3ZlQ2xhc3MoJ2FjdGl2ZS1jcmVhdGUnKTtcclxuICB9LFxyXG5cclxuICBnZXREYXRhOiBmdW5jdGlvbiAob3BzKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB0aGlzLmxpc3RQYXJhbXMgPSBfLmV4dGVuZCh0aGlzLmxpc3RQYXJhbXMsIHtcclxuICAgICAgc3ViVHlwZTogdGhpcy5vcHRpb25zLnR5cGUgfHwgMSxcclxuICAgICAgc3ViSWQ6IHNlbGYub3B0aW9ucy5yb29tSWQgfHwgMCxcclxuICAgICAgc29ydEZpZWxkOiAnVElNRScsIC8vIExJS0VcclxuICAgICAgbGltaXQ6IDlcclxuICAgIH0sIG9wcyk7XHJcbiAgICByZXR1cm4gdGhpcy5saXN0TW9kZWwuZXhlY3V0ZUpTT05QKHRoaXMubGlzdFBhcmFtcyk7XHJcbiAgfSxcclxuICAvLyDmnIDmlrDliJfooahcclxuICByZW5kZXJOZXdlc3RMaXN0OiBmdW5jdGlvbiAob3BzKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXMuZ2V0RGF0YShvcHMpO1xyXG4gICAgaWYgKCFzZWxmLnBhZ2VQYXJhbXMubmV3TGlzdC5oYXNOZXh0KSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHByb21pc2UuZG9uZShmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgIHNlbGYuaXNTY3JvbGxpbmcgPSBmYWxzZTtcclxuICAgICAgc2VsZi5hcHBlbmRUb05ld2VzdExpc3QocmVzLmRhdGEubGlzdCB8fCBbXSk7XHJcbiAgICAgIGlmIChyZXMgJiYgcmVzLmNvZGUgPT09ICcwJykge1xyXG4gICAgICAgIHNlbGYucGFnZVBhcmFtcy5uZXdMaXN0ID0ge1xyXG4gICAgICAgICAgY3Vyc29yOiByZXMuZGF0YS5uZXh0Q3Vyc29yIHx8IG51bGwsXHJcbiAgICAgICAgICBoYXNOZXh0OiByZXMuZGF0YS5oYXNOZXh0IHx8IGZhbHNlXHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgICBpZiAob3BzICYmIG9wcy50YWcgPT09ICdmaXJzdCcgJiYgXy5pc0FycmF5KHJlcy5kYXRhLmxpc3QpICYmIHJlcy5kYXRhLmxpc3QubGVuZ3RoIDw9IDApIHtcclxuICAgICAgICBzZWxmLm5ld2VzdExpc3RET00uZXEoMCkuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiZmlyc3RcIj7lv6vmnaXmiJDkuLrnrKzkuIDkuKrlkYrnmb3nmoTlubjov5DlhL88L2Rpdj4nKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSxcclxuICBhcHBlbmRUb05ld2VzdExpc3Q6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICB2YXIgaHRtbHMgPSB0aGlzLmNyZWF0ZUl0ZW1IdG1sKGRhdGEpO1xyXG4gICAgdGhpcy5uZXdlc3RMaXN0RE9NLmVxKDApLmZpbmQoJy5maXJzdCcpLnJlbW92ZSgpO1xyXG4gICAgdGhpcy5uZXdlc3RMaXN0RE9NLmVxKDApLmFwcGVuZChodG1sc1swXSk7XHJcbiAgICB0aGlzLm5ld2VzdExpc3RET00uZXEoMSkuYXBwZW5kKGh0bWxzWzFdKTtcclxuICAgIHRoaXMubmV3ZXN0TGlzdERPTS5lcSgyKS5hcHBlbmQoaHRtbHNbMl0pO1xyXG4gIH0sXHJcbiAgLy8g5pyA54Ot5YiX6KGoXHJcbiAgcmVuZGVySG90TGlzdDogZnVuY3Rpb24gKG9wcykge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIG9wID0gXy5leHRlbmQob3BzLCB7XHJcbiAgICAgIHNvcnRGaWVsZDogJ0xJS0UnXHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXMuZ2V0RGF0YShvcCk7XHJcbiAgICBwcm9taXNlLmRvbmUoZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICBzZWxmLmlzU2Nyb2xsaW5nID0gZmFsc2U7XHJcbiAgICAgIGlmIChyZXMgJiYgcmVzLmNvZGUgPT09ICcwJykge1xyXG4gICAgICAgIHNlbGYucGFnZVBhcmFtcy5ob3RMaXN0ID0ge1xyXG4gICAgICAgICAgbmV4dEN1cnNvcjogcmVzLmRhdGEubmV4dEN1cnNvciB8fCBudWxsLFxyXG4gICAgICAgICAgaGFzTmV4dDogcmVzLmRhdGEuaGFzTmV4dCB8fCBmYWxzZVxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgICAgc2VsZi5hcHBlbmRUb0hvdExpc3QocmVzLmRhdGEubGlzdCB8fCBbXSk7XHJcbiAgICB9KTtcclxuICB9LFxyXG4gIGFwcGVuZFRvSG90TGlzdDogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgIHZhciBodG1scyA9IHRoaXMuY3JlYXRlSXRlbUh0bWwoZGF0YSk7XHJcbiAgICB0aGlzLmhvdExpc3RET00uZXEoMCkuYXBwZW5kKGh0bWxzWzBdKTtcclxuICAgIHRoaXMuaG90TGlzdERPTS5lcSgxKS5hcHBlbmQoaHRtbHNbMV0pO1xyXG4gICAgdGhpcy5ob3RMaXN0RE9NLmVxKDIpLmFwcGVuZChodG1sc1syXSk7XHJcbiAgfSxcclxuICBjcmVhdGVJdGVtSHRtbDogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgIHZhciBodG1sID0gJyc7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgcmVzdWx0ID0gW1xyXG4gICAgICBbXSxcclxuICAgICAgW10sXHJcbiAgICAgIFtdXHJcbiAgICBdO1xyXG4gICAgXy5lYWNoKGRhdGEsIGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xyXG4gICAgICB2YXIgY3VySXRlbSA9IGl0ZW07XHJcbiAgICAgIGN1ckl0ZW0udGltZSA9IEJ1c2luZXNzRGF0ZS5mb3JtYXQobmV3IERhdGUoaXRlbS5jcmVhdGVUaW1lKSwgJ3l5eXktTU0tZGQgaGg6bW06c3MnKTtcclxuICAgICAgaHRtbCA9IHNlbGYuY29tcGlsZUhUTUwoc2VsZi5pdGVtVHBsLCBjdXJJdGVtKTtcclxuICAgICAgdmFyIHJlcyA9IGluZGV4ICUgMztcclxuICAgICAgc3dpdGNoIChyZXMpIHtcclxuICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICByZXN1bHRbMV0ucHVzaChodG1sKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgIHJlc3VsdFsyXS5wdXNoKGh0bWwpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICByZXN1bHRbMF0ucHVzaChodG1sKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfSxcclxuICByZW5kZXJJdGVtOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gIH0sXHJcbiAgaXRlbUNsaWNrZWQ6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICB2YXIgdGFyZ2V0ID0gJChlLnRhcmdldCk7XHJcbiAgICBpZiAoIXRhcmdldC5hdHRyKCdkYXRhLWxpa2VpZCcpKSB7XHJcbiAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnQoJ2EnKTtcclxuICAgIH1cclxuICAgIHZhciBsaWtlZCA9IHRhcmdldC5hdHRyKCdkYXRhLWxpa2VkJykgPT09ICd0cnVlJztcclxuICAgIGlmICh0YXJnZXQuYXR0cignZGF0YS1saWtlaWQnKSkge1xyXG4gICAgICB0aGlzLmxpa2VJdGVtKHRhcmdldC5hdHRyKCdkYXRhLWxpa2VpZCcpLCB0YXJnZXQsICFsaWtlZCk7XHJcbiAgICB9XHJcbiAgfSxcclxuICAvLyDllpzmrKLmn5DkuKrlkYrnmb1cclxuICBsaWtlSXRlbTogZnVuY3Rpb24gKGlkLCBkb20sIGxpa2UpIHtcclxuICAgIHRoaXMubGlrZVBhcmFtcyA9IF8uZXh0ZW5kKHRoaXMucXVlcnlQYXJhbXMsIHtcclxuICAgICAgc3ViVHlwZTogdGhpcy5vcHRpb25zLnR5cGUsXHJcbiAgICAgIGNtdElkOiBpZCxcclxuICAgICAgbGlrZTogbGlrZVxyXG4gICAgfSk7XHJcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXMubGlrZU1vZGVsLmV4ZWN1dGVKU09OUCh0aGlzLmxpa2VQYXJhbXMpO1xyXG4gICAgdmFyIGNudCA9IH5+ZG9tLmZpbmQoJ3NwYW4nKS50ZXh0KCk7XHJcbiAgICBwcm9taXNlLmRvbmUoZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICBpZiAocmVzICYmIHJlcy5jb2RlID09PSAnMCcpIHtcclxuICAgICAgICBkb20uYXR0cignZGF0YS1saWtlZCcsIGxpa2UgPyAndHJ1ZScgOiAnZmFsc2UnKTtcclxuICAgICAgICBkb20uZmluZCgnc3BhbicpLnRleHQobGlrZSA/IGNudCArIDEgOiBjbnQgLSAxKTtcclxuICAgICAgICBkb20udG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG1zZ0JveC5zaG93VGlwKCfmlK/mjIHlpLHotKUs56iN5ZCO6YeN5paw5bCd6K+V5ZCnJyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgLy8g5YiH5o2i5YiX6KGoXHJcbiAgdGFiQ2xpY2tlZDogZnVuY3Rpb24gKGUpIHtcclxuICAgIHZhciB0YXJnZXQgPSAkKGUudGFyZ2V0KTtcclxuICAgIHZhciB0YWIgPSB0YXJnZXQuYXR0cignZGF0YS10YWInKTtcclxuICAgIHZhciBsaW5rID0gJCgnLnRhYnMgYScpO1xyXG4gICAgaWYgKHRhYiAmJiAhdGFyZ2V0Lmhhc0NsYXNzKCdhY3RpdmUnKSkge1xyXG4gICAgICBsaW5rLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgJCgnLnRhYicpLmhpZGUoKTtcclxuICAgICAgJCgnLicgKyB0YWIpLnNob3coKTtcclxuICAgIH1cclxuICB9LFxyXG4gIGdldFNlbmRUZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgdGV4dCA9ICQudHJpbSh0aGlzLmVsZW1lbnRzLnR4dElucHV0RG9tLnZhbCgpKTtcclxuICAgIHZhciByZWcgPSAvPFtePl0rPz4vZztcclxuICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UocmVnLCAnJyk7XHJcbiAgICByZXR1cm4gdGV4dDtcclxuICB9LFxyXG4gIC8vIOagoemqjOWPkeW4g+WGheWuuVxyXG4gIHZlcmlmeVRleHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB0ZXh0ID0gdGhpcy5nZXRTZW5kVGV4dCgpO1xyXG4gICAgaWYgKHRleHQubGVuZ3RoID4gMjAwKSB7XHJcbiAgICAgIG1zZ0JveC5zaG93VGlwKCflkYrnmb3lhoXlrrnkuI3og73otoXov4cyMDDlrZcnKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSBlbHNlIGlmICh0ZXh0Lmxlbmd0aCA8IDIwKSB7XHJcbiAgICAgIG1zZ0JveC5zaG93VGlwKCflkYrnmb3lhoXlrrnoh7PlsJHovpPlhaUyMOS4quWtlycpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9LFxyXG4gIHNlbmRDbGlja2VkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgaXNBbm9ueW1vdXMgPSB0aGlzLmVsZW1lbnRzLmFub255bW91c0RvbS5pcygnOmNoZWNrZWQnKTtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIGlmICh0aGlzLnZlcmlmeVRleHQoKSkge1xyXG4gICAgICB0aGlzLmNyZWF0ZVBhcmFtcyA9IF8uZXh0ZW5kKHtcclxuICAgICAgICBzdWJUeXBlOiBzZWxmLm9wdGlvbnMudHlwZSxcclxuICAgICAgICBzdWJJZDogdGhpcy5vcHRpb25zLnJvb21JZCxcclxuICAgICAgICBpc0Fub255bW91czogaXNBbm9ueW1vdXMsXHJcbiAgICAgICAgZm9udENvbG9yOiB0aGlzLnNlbGVjdGVkQ29sb3IgfHwgJycsXHJcbiAgICAgICAgY29udGVudDogdGhpcy5nZXRTZW5kVGV4dCgpXHJcbiAgICAgIH0sIHRoaXMucXVlcnlQYXJhbXMpO1xyXG5cclxuICAgICAgdmFyIHByb21pc2UgPSB0aGlzLmNyZWF0ZU1vZGVsLmV4ZWN1dGVKU09OUCh0aGlzLmNyZWF0ZVBhcmFtcyk7XHJcblxyXG4gICAgICBwcm9taXNlLmRvbmUoZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgIGlmIChyZXMgJiYgcmVzLmNvZGUgPT09ICcwJykge1xyXG4gICAgICAgICAgbXNnQm94LnNob3dPSygn5ZGK55m95Y+R5biD5oiQ5YqfIScpO1xyXG4gICAgICAgICAgc2VsZi5lbGVtZW50cy50eHRJbnB1dERvbS52YWwoJycpO1xyXG4gICAgICAgICAgc2VsZi5iYWNrVG9MaXN0KCk7XHJcbiAgICAgICAgICBzZWxmLm9wdGlvbnMudXNlckluZm8udG90YWxNYXJrcyAtPSBzZWxmLnBlckl0ZW1GZWU7XHJcbiAgICAgICAgICBzZWxmLnNldFVzZXJJbmZvKCk7XHJcbiAgICAgICAgICBzZWxmLm5ld2VzdExpc3RET00uY2hpbGRyZW4oKS5yZW1vdmUoKTtcclxuICAgICAgICAgIHNlbGYucGFnZVBhcmFtcy5uZXdMaXN0Lmhhc05leHQgPSB0cnVlO1xyXG4gICAgICAgICAgc2VsZi5yZW5kZXJOZXdlc3RMaXN0KHtcclxuICAgICAgICAgICAgY3Vyc29yOiBudWxsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIC8vIHNlbGYucmVuZGVySG90TGlzdCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBtc2dCb3guc2hvd0Vycm9yKHJlcy5tc2cgfHwgJ+WPkeW4g+WRiueZveWksei0pSzor7fnqI3lkI7ph43or5UnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgLy8g6K6+572u5paH5a2X6aKc6ImyXHJcbiAgc2V0VGV4dENvbG9yOiBmdW5jdGlvbiAoZG9tLCBjb2xvcikge1xyXG4gICAgaWYgKGRvbSAmJiBjb2xvcikge1xyXG4gICAgICB2YXIgY29sID0gdGhpcy5yZ2IyaGV4KGNvbG9yICsgJycpO1xyXG4gICAgICBkb20uY3NzKCdjb2xvcicsIGNvbCk7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRDb2xvciA9IGNvbDtcclxuICAgIH1cclxuICB9LFxyXG4gIC8vIOmAieaLqeminOiJslxyXG4gIGNob29zZUNvbG9yQ2xpY2tlZDogZnVuY3Rpb24gKGUpIHtcclxuICAgIHZhciB0YXJnZXQgPSAkKGUudGFyZ2V0KTtcclxuICAgIHZhciBjb2xvciA9IHRhcmdldC5jc3MoJ2JhY2tncm91bmQtY29sb3InKTtcclxuICAgIHRhcmdldC5wYXJlbnQoJy5jb2xvcnMnKS5jaGlsZHJlbigpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgIHRhcmdldC5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICB0aGlzLnNldFRleHRDb2xvcih0aGlzLmVsZW1lbnRzLnR4dElucHV0RG9tLCBjb2xvcik7XHJcbiAgfSxcclxuICAvLyDpmo/mnLrorr7nva7popzoibJcclxuICByYW5kb21TZXRDb2xvcjogZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGluZGV4ID0gTWF0aC5yYW5kb20oKSAqIDEwICUgNSBeIDA7XHJcbiAgICB0aGlzLmNob29zZUNvbG9yQ2xpY2tlZCh7XHJcbiAgICAgIHRhcmdldDogJCgnLmNvbG9ycyBhJykuZXEoaW5kZXgpXHJcbiAgICB9KTtcclxuICB9LFxyXG4gIC8vIOiuoeeul+aWh+Wtl+mVv+W6plxyXG4gIGNhbGNUZXh0TGVuZ3RoOiBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgdHh0ID0gJC50cmltKHRoaXMuZWxlbWVudHMudHh0SW5wdXREb20udmFsKCkpO1xyXG4gICAgdmFyIG1heExlbmd0aCA9IDIwMDtcclxuICAgIHRoaXMuZWxlbWVudHMudHh0TGVuZ3RoRG9tLnRleHQobWF4TGVuZ3RoIC0gdHh0Lmxlbmd0aCk7XHJcbiAgfSxcclxuICAvLyDmlbDlrZfovawxNui/m+WItlxyXG4gIHplcm9GaWxsSGV4OiBmdW5jdGlvbiAobnVtLCBkaWdpdHMpIHtcclxuICAgIHZhciBzID0gbnVtLnRvU3RyaW5nKDE2KTtcclxuICAgIHdoaWxlIChzLmxlbmd0aCA8IGRpZ2l0cykge1xyXG4gICAgICBzID0gJzAnICsgcztcclxuICAgIH1cclxuICAgIHJldHVybiBzO1xyXG4gIH0sXHJcbiAgLy8g6aKc6Imy6L2s5o2iXHJcbiAgcmdiMmhleDogZnVuY3Rpb24gKHJnYikge1xyXG4gICAgaWYgKHJnYi5jaGFyQXQoMCkgPT09ICcjJykge1xyXG4gICAgICByZXR1cm4gcmdiO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBkcyA9IHJnYi5zcGxpdCgvXFxEKy8pO1xyXG4gICAgdmFyIGRlY2ltYWwgPSBOdW1iZXIoZHNbMV0pICogNjU1MzYgKyBOdW1iZXIoZHNbMl0pICogMjU2ICsgTnVtYmVyKGRzWzNdKTtcclxuICAgIHJldHVybiAnIycgKyB0aGlzLnplcm9GaWxsSGV4KGRlY2ltYWwsIDYpO1xyXG4gIH0sXHJcbiAgLy8g6K6+572u55So5oi356ev5YiGXHJcbiAgc2V0VXNlckluZm86IGZ1bmN0aW9uICh1c2VySW5mbykge1xyXG4gICAgaWYgKHVzZXJJbmZvKSB7XHJcbiAgICAgIHRoaXMub3B0aW9ucy51c2VySW5mbyA9IHVzZXJJbmZvO1xyXG4gICAgfVxyXG4gICAgaWYgKF8uaXNOdW1iZXIodGhpcy5vcHRpb25zLnVzZXJJbmZvLnRvdGFsTWFya3MpKSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudHMudXNlclNjb3JlRG9tLnRleHQodGhpcy5vcHRpb25zLnVzZXJJbmZvLnRvdGFsTWFya3MgfHwgMCk7XHJcbiAgICB9XHJcbiAgfSxcclxuICByZWZyZXNoVW5yZWFkTGlzdDogZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5sYXN0VGltZSA9IG5ldyBEYXRlKCk7XHJcbiAgICB0aGlzLmVsZW1lbnRzLnVuUmVhZENudC50ZXh0KDApLmhpZGUoKTtcclxuICAgICQoJy5uZXdMaXN0IC5hbS11LXNtLTQnKS5jaGlsZHJlbigpLnJlbW92ZSgpO1xyXG4gICAgdGhpcy5yZW5kZXJOZXdlc3RMaXN0KCk7XHJcbiAgICB0aGlzLmNoYW5nZVRhYigwKTtcclxuICB9LFxyXG4gIGxvb3BHZXRVbnJlYWRDb3VudDogZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIHByb21pc2UgPSB0aGlzLmxvb3BNb2RlbC5leGVjdXRlSlNPTlAoXy5leHRlbmQoe1xyXG4gICAgICBzdWJUeXBlOiB0aGlzLm9wdGlvbnMudHlwZSxcclxuICAgICAgc3ViSWQ6IHNlbGYub3B0aW9ucy5yb29tSWQsXHJcbiAgICAgIGxhc3RUaW1lOiBzZWxmLmxhc3RUaW1lLmdldFRpbWUoKVxyXG4gICAgfSwgdGhpcy5xdWVyeVBhcmFtcykpO1xyXG4gICAgcHJvbWlzZS5kb25lKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgaWYgKHJlcyAmJiByZXMuY29kZSA9PT0gJzAnICYmIHJlcy5kYXRhLm5ld01zZ0NvdW50ID4gMCkge1xyXG4gICAgICAgIC8vIHNlbGYuZWxlbWVudHMudW5SZWFkQ250LnRleHQocmVzLmRhdGEubmV3TXNnQ291bnQpLnNob3coKTtcclxuICAgICAgICBzZWxmLnBhZ2VQYXJhbXMubmV3TGlzdC5oYXNOZXh0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgc2VsZi5uZXdlc3RMaXN0RE9NLmNoaWxkcmVuKCkucmVtb3ZlKCk7XHJcbiAgICAgICAgc2VsZi5yZW5kZXJOZXdlc3RMaXN0KCk7XHJcbiAgICAgIH1cclxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5sb29wR2V0VW5yZWFkQ291bnQoKTtcclxuICAgICAgfSwgc2VsZi5sb29wVGltZSk7XHJcbiAgICB9KTtcclxuICB9LFxyXG4gIC8vIOWIh+aNouWIl+ihqFxyXG4gIGNoYW5nZVRhYjogZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICB0aGlzLnRhYkNsaWNrZWQoe1xyXG4gICAgICB0YXJnZXQ6ICQoJy50YWJzIGEnKS5lcShpbmRleClcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgdGFiU2Nyb2xsRG93bjogZnVuY3Rpb24gKGUpIHtcclxuICAgIHZhciB0YWcgPSAkKCcudGFiLW1lbnUgLmFjdGl2ZScpLmF0dHIoJ2RhdGEtdGFiJykgfHwgJ25ld0xpc3QnO1xyXG4gICAgdmFyIHRhcmdldCA9ICQoZS50YXJnZXQpO1xyXG4gICAgdmFyIG1heEhlaWdodCA9ICQoJy4nICsgdGFnKS5maW5kKCcuYW0tdS1zbS00JykuaGVpZ2h0KCkgLSA0MDQ7XHJcbiAgICB2YXIgdG9wID0gdGFyZ2V0LnNjcm9sbFRvcCgpO1xyXG4gICAgaWYgKHRoaXMuaXNTY3JvbGxpbmcpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5pc1Njcm9sbGluZyA9IHRydWU7XHJcbiAgICB2YXIgZGlmZiA9IG1heEhlaWdodCAtIHRvcDtcclxuICAgIGlmIChkaWZmIDwgMzAgJiYgdGhpcy5wYWdlUGFyYW1zW3RhZ10uaGFzTmV4dCkge1xyXG4gICAgICBpZiAodGFnID09PSAnbmV3TGlzdCcpIHtcclxuICAgICAgICB0aGlzLnJlbmRlck5ld2VzdExpc3QodGhpcy5wYWdlUGFyYW1zW3RhZ10pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIHRoaXMucmVuZGVySG90TGlzdCh0aGlzLnBhZ2VQYXJhbXNbdGFnXSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBWaWV3O1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL3NyYy92aWV3cy9hZHZlcnRpc2luZy13YWxsL21haW4udmlldy5qc1xuICoqIG1vZHVsZSBpZCA9IDcwXG4gKiogbW9kdWxlIGNodW5rcyA9IDEgMyA1IDcgOVxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");
},function(module,exports,__webpack_require__){eval("/**\r\n * 告白列表\r\n */\r\n'use strict';\r\n\r\nvar base = __webpack_require__(28);\r\nvar Config = __webpack_require__(50);\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/common/love_cmt_list.json',\r\n  beforeEmit: function beforeEmit() {\r\n    // 给请求地址替换一下环境变量\r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZGVscy9hZHZlcnRpc2luZy13YWxsL2xpc3QubW9kZWwuanM/MWRmYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVUsWUFBWTtBQUN0QjtBQUNBO0FBQ0EsYUFBYSxJQUFJLGVBQWUsSUFBSTtBQUNwQyxxQ0FBcUMsWUFBWTtBQUNqRDtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiI3MS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDlkYrnmb3liJfooahcclxuICovXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbnZhciBiYXNlID0gcmVxdWlyZSgnYmFzZS1leHRlbmQtYmFja2JvbmUnKTtcclxudmFyIENvbmZpZyA9IHJlcXVpcmUoJ2NvbmZpZycpO1xyXG52YXIgQmFzZU1vZGVsID0gYmFzZS5Nb2RlbDtcclxudmFyIGVudiA9IENvbmZpZy5lbnZbQ29uZmlnLnNjaGVtZV07XHJcblxyXG52YXIgTW9kZWwgPSBCYXNlTW9kZWwuZXh0ZW5kKHtcclxuICB1cmw6ICd7e3VybF9wcmVmaXh9fS9jb21tb24vbG92ZV9jbXRfbGlzdC5qc29uJyxcclxuICBiZWZvcmVFbWl0OiBmdW5jdGlvbiBiZWZvcmVFbWl0KCkge1xyXG4gICAgLy8g57uZ6K+35rGC5Zyw5Z2A5pu/5o2i5LiA5LiL546v5aKD5Y+Y6YePXHJcbiAgICBpZiAoL15cXHt7MCwyfSh1cmxfcHJlZml4KVxcfXswLDJ9Ly50ZXN0KHRoaXMudXJsKSkge1xyXG4gICAgICB0aGlzLnVybCA9IHRoaXMudXJsLnJlcGxhY2UoJ3t7dXJsX3ByZWZpeH19JywgZW52LnVybF9wcmVmaXgpO1xyXG4gICAgfVxyXG4gIH1cclxufSk7XHJcblxyXG52YXIgc2hhcmVkID0gbnVsbDtcclxuTW9kZWwuc2hhcmVkSW5zdGFuY2VNb2RlbCA9IGZ1bmN0aW9uIHNoYXJlZEluc3RhbmNlTW9kZWwoKSB7XHJcbiAgaWYgKCFzaGFyZWQpIHtcclxuICAgIHNoYXJlZCA9IG5ldyBNb2RlbCgpO1xyXG4gIH1cclxuICByZXR1cm4gc2hhcmVkO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBNb2RlbDtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9zcmMvbW9kZWxzL2FkdmVydGlzaW5nLXdhbGwvbGlzdC5tb2RlbC5qc1xuICoqIG1vZHVsZSBpZCA9IDcxXG4gKiogbW9kdWxlIGNodW5rcyA9IDEgMyA1IDcgOVxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("/**\r\n * 点赞\r\n */\r\n'use strict';\r\n\r\nvar base = __webpack_require__(28);\r\nvar Config = __webpack_require__(50);\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/common/love_cmt_like.json',\r\n  beforeEmit: function beforeEmit() {\r\n    // 给请求地址替换一下环境变量\r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZGVscy9hZHZlcnRpc2luZy13YWxsL2xpa2UubW9kZWwuanM/YmQyNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVUsWUFBWTtBQUN0QjtBQUNBO0FBQ0EsYUFBYSxJQUFJLGVBQWUsSUFBSTtBQUNwQyxxQ0FBcUMsWUFBWTtBQUNqRDtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiI3Mi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDngrnotZ5cclxuICovXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbnZhciBiYXNlID0gcmVxdWlyZSgnYmFzZS1leHRlbmQtYmFja2JvbmUnKTtcclxudmFyIENvbmZpZyA9IHJlcXVpcmUoJ2NvbmZpZycpO1xyXG52YXIgQmFzZU1vZGVsID0gYmFzZS5Nb2RlbDtcclxudmFyIGVudiA9IENvbmZpZy5lbnZbQ29uZmlnLnNjaGVtZV07XHJcblxyXG52YXIgTW9kZWwgPSBCYXNlTW9kZWwuZXh0ZW5kKHtcclxuICB1cmw6ICd7e3VybF9wcmVmaXh9fS9jb21tb24vbG92ZV9jbXRfbGlrZS5qc29uJyxcclxuICBiZWZvcmVFbWl0OiBmdW5jdGlvbiBiZWZvcmVFbWl0KCkge1xyXG4gICAgLy8g57uZ6K+35rGC5Zyw5Z2A5pu/5o2i5LiA5LiL546v5aKD5Y+Y6YePXHJcbiAgICBpZiAoL15cXHt7MCwyfSh1cmxfcHJlZml4KVxcfXswLDJ9Ly50ZXN0KHRoaXMudXJsKSkge1xyXG4gICAgICB0aGlzLnVybCA9IHRoaXMudXJsLnJlcGxhY2UoJ3t7dXJsX3ByZWZpeH19JywgZW52LnVybF9wcmVmaXgpO1xyXG4gICAgfVxyXG4gIH1cclxufSk7XHJcblxyXG52YXIgc2hhcmVkID0gbnVsbDtcclxuTW9kZWwuc2hhcmVkSW5zdGFuY2VNb2RlbCA9IGZ1bmN0aW9uIHNoYXJlZEluc3RhbmNlTW9kZWwoKSB7XHJcbiAgaWYgKCFzaGFyZWQpIHtcclxuICAgIHNoYXJlZCA9IG5ldyBNb2RlbCgpO1xyXG4gIH1cclxuICByZXR1cm4gc2hhcmVkO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBNb2RlbDtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9zcmMvbW9kZWxzL2FkdmVydGlzaW5nLXdhbGwvbGlrZS5tb2RlbC5qc1xuICoqIG1vZHVsZSBpZCA9IDcyXG4gKiogbW9kdWxlIGNodW5rcyA9IDEgMyA1IDcgOVxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("/**\r\n * 发布告白墙\r\n */\r\n'use strict';\r\n\r\nvar base = __webpack_require__(28);\r\nvar Config = __webpack_require__(50);\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/common/love_cmt_create.json',\r\n  beforeEmit: function beforeEmit() {\r\n    // 给请求地址替换一下环境变量\r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZGVscy9hZHZlcnRpc2luZy13YWxsL2NyZWF0ZS5tb2RlbC5qcz9mNmJlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVSxZQUFZO0FBQ3RCO0FBQ0E7QUFDQSxhQUFhLElBQUksZUFBZSxJQUFJO0FBQ3BDLHFDQUFxQyxZQUFZO0FBQ2pEO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjczLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIOWPkeW4g+WRiueZveWimVxyXG4gKi9cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxudmFyIGJhc2UgPSByZXF1aXJlKCdiYXNlLWV4dGVuZC1iYWNrYm9uZScpO1xyXG52YXIgQ29uZmlnID0gcmVxdWlyZSgnY29uZmlnJyk7XHJcbnZhciBCYXNlTW9kZWwgPSBiYXNlLk1vZGVsO1xyXG52YXIgZW52ID0gQ29uZmlnLmVudltDb25maWcuc2NoZW1lXTtcclxuXHJcbnZhciBNb2RlbCA9IEJhc2VNb2RlbC5leHRlbmQoe1xyXG4gIHVybDogJ3t7dXJsX3ByZWZpeH19L2NvbW1vbi9sb3ZlX2NtdF9jcmVhdGUuanNvbicsXHJcbiAgYmVmb3JlRW1pdDogZnVuY3Rpb24gYmVmb3JlRW1pdCgpIHtcclxuICAgIC8vIOe7meivt+axguWcsOWdgOabv+aNouS4gOS4i+eOr+Wig+WPmOmHj1xyXG4gICAgaWYgKC9eXFx7ezAsMn0odXJsX3ByZWZpeClcXH17MCwyfS8udGVzdCh0aGlzLnVybCkpIHtcclxuICAgICAgdGhpcy51cmwgPSB0aGlzLnVybC5yZXBsYWNlKCd7e3VybF9wcmVmaXh9fScsIGVudi51cmxfcHJlZml4KTtcclxuICAgIH1cclxuICB9XHJcbn0pO1xyXG5cclxudmFyIHNoYXJlZCA9IG51bGw7XHJcbk1vZGVsLnNoYXJlZEluc3RhbmNlTW9kZWwgPSBmdW5jdGlvbiBzaGFyZWRJbnN0YW5jZU1vZGVsKCkge1xyXG4gIGlmICghc2hhcmVkKSB7XHJcbiAgICBzaGFyZWQgPSBuZXcgTW9kZWwoKTtcclxuICB9XHJcbiAgcmV0dXJuIHNoYXJlZDtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gTW9kZWw7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvc3JjL21vZGVscy9hZHZlcnRpc2luZy13YWxsL2NyZWF0ZS5tb2RlbC5qc1xuICoqIG1vZHVsZSBpZCA9IDczXG4gKiogbW9kdWxlIGNodW5rcyA9IDEgMyA1IDcgOVxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("/**\r\n * 告白墙循环获取未读消息数\r\n */\r\n'use strict';\r\n\r\nvar base = __webpack_require__(28);\r\nvar Config = __webpack_require__(50);\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/common/love_cmt_new_msg_polling.json',\r\n  beforeEmit: function beforeEmit() {\r\n    // 给请求地址替换一下环境变量\r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZGVscy9hZHZlcnRpc2luZy13YWxsL2xvb3AubW9kZWwuanM/NjFkMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVUsWUFBWTtBQUN0QjtBQUNBO0FBQ0EsYUFBYSxJQUFJLGVBQWUsSUFBSTtBQUNwQyxxQ0FBcUMsWUFBWTtBQUNqRDtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiI3NC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDlkYrnmb3lopnlvqrnjq/ojrflj5bmnKror7vmtojmga/mlbBcclxuICovXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbnZhciBiYXNlID0gcmVxdWlyZSgnYmFzZS1leHRlbmQtYmFja2JvbmUnKTtcclxudmFyIENvbmZpZyA9IHJlcXVpcmUoJ2NvbmZpZycpO1xyXG52YXIgQmFzZU1vZGVsID0gYmFzZS5Nb2RlbDtcclxudmFyIGVudiA9IENvbmZpZy5lbnZbQ29uZmlnLnNjaGVtZV07XHJcblxyXG52YXIgTW9kZWwgPSBCYXNlTW9kZWwuZXh0ZW5kKHtcclxuICB1cmw6ICd7e3VybF9wcmVmaXh9fS9jb21tb24vbG92ZV9jbXRfbmV3X21zZ19wb2xsaW5nLmpzb24nLFxyXG4gIGJlZm9yZUVtaXQ6IGZ1bmN0aW9uIGJlZm9yZUVtaXQoKSB7XHJcbiAgICAvLyDnu5nor7fmsYLlnLDlnYDmm7/mjaLkuIDkuIvnjq/looPlj5jph49cclxuICAgIGlmICgvXlxce3swLDJ9KHVybF9wcmVmaXgpXFx9ezAsMn0vLnRlc3QodGhpcy51cmwpKSB7XHJcbiAgICAgIHRoaXMudXJsID0gdGhpcy51cmwucmVwbGFjZSgne3t1cmxfcHJlZml4fX0nLCBlbnYudXJsX3ByZWZpeCk7XHJcbiAgICB9XHJcbiAgfVxyXG59KTtcclxuXHJcbnZhciBzaGFyZWQgPSBudWxsO1xyXG5Nb2RlbC5zaGFyZWRJbnN0YW5jZU1vZGVsID0gZnVuY3Rpb24gc2hhcmVkSW5zdGFuY2VNb2RlbCgpIHtcclxuICBpZiAoIXNoYXJlZCkge1xyXG4gICAgc2hhcmVkID0gbmV3IE1vZGVsKCk7XHJcbiAgfVxyXG4gIHJldHVybiBzaGFyZWQ7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IE1vZGVsO1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL3NyYy9tb2RlbHMvYWR2ZXJ0aXNpbmctd2FsbC9sb29wLm1vZGVsLmpzXG4gKiogbW9kdWxlIGlkID0gNzRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMSAzIDUgNyA5XG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports){eval('/**\r\n * Created by AaronYuan on 3/12/16.\r\n */\r\n\r\n/**\r\n * 使用\r\n *\r\n * showError(msg);\r\n * showTip(msg);\r\n * showOK(msg);\r\n * showLoading(msg);\r\n *\r\n *\r\n * .show(msgHtml, type, timeout, opts){}\r\n *      msgHtml: 内容\r\n *      type: 图标类型   1   -   提示\r\n *                      2   -   成功\r\n *                      3   -   失败\r\n *                      4   -   载入中\r\n *      timeout: 毫秒数,自动关闭\r\n *      opts: 配置,默认null就好\r\n *\r\n *\r\n * .hide()\r\n */\r\n\r\n//require(\'/style/msgbox.css\');\r\nvar ZENG = {};\r\n\r\nZENG.dom = {\r\n    getById: function (id) {\r\n        return document.getElementById(id);\r\n    }, get: function (e) {\r\n        return (typeof (e) == "string") ? document.getElementById(e) : e;\r\n    }, createElementIn: function (tagName, elem, insertFirst, attrs) {\r\n        var _e = (elem = ZENG.dom.get(elem) || document.body).ownerDocument.createElement(tagName || "div"), k;\r\n        if (typeof (attrs) == \'object\') {\r\n            for (k in attrs) {\r\n                if (k == "class") {\r\n                    _e.className = attrs[k];\r\n                } else if (k == "style") {\r\n                    _e.style.cssText = attrs[k];\r\n                } else {\r\n                    _e[k] = attrs[k];\r\n                }\r\n            }\r\n        }\r\n        insertFirst ? elem.insertBefore(_e, elem.firstChild) : elem.appendChild(_e);\r\n        return _e;\r\n    }, getStyle: function (el, property) {\r\n        el = ZENG.dom.get(el);\r\n        if (!el || el.nodeType == 9) {\r\n            return null;\r\n        }\r\n        var w3cMode = document.defaultView && document.defaultView.getComputedStyle, computed = !w3cMode ? null : document.defaultView.getComputedStyle(el, \'\'), value = "";\r\n        switch (property) {\r\n            case "float":\r\n                property = w3cMode ? "cssFloat" : "styleFloat";\r\n                break;\r\n            case "opacity":\r\n                if (!w3cMode) {\r\n                    var val = 100;\r\n                    try {\r\n                        val = el.filters[\'DXImageTransform.Microsoft.Alpha\'].opacity;\r\n                    } catch (e) {\r\n                        try {\r\n                            val = el.filters(\'alpha\').opacity;\r\n                        } catch (e) {\r\n                        }\r\n                    }\r\n                    return val / 100;\r\n                } else {\r\n                    return parseFloat((computed || el.style)[property]);\r\n                }\r\n                break;\r\n            case "backgroundPositionX":\r\n                if (w3cMode) {\r\n                    property = "backgroundPosition";\r\n                    return ((computed || el.style)[property]).split(" ")[0];\r\n                }\r\n                break;\r\n            case "backgroundPositionY":\r\n                if (w3cMode) {\r\n                    property = "backgroundPosition";\r\n                    return ((computed || el.style)[property]).split(" ")[1];\r\n                }\r\n                break;\r\n        }\r\n        if (w3cMode) {\r\n            return (computed || el.style)[property];\r\n        } else {\r\n            return (el.currentStyle[property] || el.style[property]);\r\n        }\r\n    }, setStyle: function (el, properties, value) {\r\n        if (!(el = ZENG.dom.get(el)) || el.nodeType != 1) {\r\n            return false;\r\n        }\r\n        var tmp, bRtn = true, w3cMode = (tmp = document.defaultView) && tmp.getComputedStyle, rexclude = /z-?index|font-?weight|opacity|zoom|line-?height/i;\r\n        if (typeof (properties) == \'string\') {\r\n            tmp = properties;\r\n            properties = {};\r\n            properties[tmp] = value;\r\n        }\r\n        for (var prop in properties) {\r\n            value = properties[prop];\r\n            if (prop == \'float\') {\r\n                prop = w3cMode ? "cssFloat" : "styleFloat";\r\n            } else if (prop == \'opacity\') {\r\n                if (!w3cMode) {\r\n                    prop = \'filter\';\r\n                    value = value >= 1 ? \'\' : (\'alpha(opacity=\' + Math.round(value * 100) + \')\');\r\n                }\r\n            } else if (prop == \'backgroundPositionX\' || prop == \'backgroundPositionY\') {\r\n                tmp = prop.slice(-1) == \'X\' ? \'Y\' : \'X\';\r\n                if (w3cMode) {\r\n                    var v = ZENG.dom.getStyle(el, "backgroundPosition" + tmp);\r\n                    prop = \'backgroundPosition\';\r\n                    typeof (value) == \'number\' && (value = value + \'px\');\r\n                    value = tmp == \'Y\' ? (value + " " + (v || "top")) : ((v || \'left\') + " " + value);\r\n                }\r\n            }\r\n            if (typeof el.style[prop] != "undefined") {\r\n                el.style[prop] = value + (typeof value === "number" && !rexclude.test(prop) ? \'px\' : \'\');\r\n                bRtn = bRtn && true;\r\n            } else {\r\n                bRtn = bRtn && false;\r\n            }\r\n        }\r\n        return bRtn;\r\n    }, getScrollTop: function (doc) {\r\n        var _doc = doc || document;\r\n        return Math.max(_doc.documentElement.scrollTop, _doc.body.scrollTop);\r\n    }, getClientHeight: function (doc) {\r\n        var _doc = doc || document;\r\n        return _doc.compatMode == "CSS1Compat" ? _doc.documentElement.clientHeight : _doc.body.clientHeight;\r\n    }\r\n};\r\n\r\nZENG.string = {\r\n    RegExps: {\r\n        trim: /^\\s+|\\s+$/g,\r\n        ltrim: /^\\s+/,\r\n        rtrim: /\\s+$/,\r\n        nl2br: /\\n/g,\r\n        s2nb: /[\\x20]{2}/g,\r\n        URIencode: /[\\x09\\x0A\\x0D\\x20\\x21-\\x29\\x2B\\x2C\\x2F\\x3A-\\x3F\\x5B-\\x5E\\x60\\x7B-\\x7E]/g,\r\n        escHTML: {re_amp: /&/g, re_lt: /</g, re_gt: />/g, re_apos: /\\x27/g, re_quot: /\\x22/g},\r\n        escString: {bsls: /\\\\/g, sls: /\\//g, nl: /\\n/g, rt: /\\r/g, tab: /\\t/g},\r\n        restXHTML: {re_amp: /&amp;/g, re_lt: /&lt;/g, re_gt: /&gt;/g, re_apos: /&(?:apos|#0?39);/g, re_quot: /&quot;/g},\r\n        write: /\\{(\\d{1,2})(?:\\:([xodQqb]))?\\}/g,\r\n        isURL: /^(?:ht|f)tp(?:s)?\\:\\/\\/(?:[\\w\\-\\.]+)\\.\\w+/i,\r\n        cut: /[\\x00-\\xFF]/,\r\n        getRealLen: {r0: /[^\\x00-\\xFF]/g, r1: /[\\x00-\\xFF]/g},\r\n        format: /\\{([\\d\\w\\.]+)\\}/g\r\n    }, commonReplace: function (s, p, r) {\r\n        return s.replace(p, r);\r\n    }, format: function (str) {\r\n        var args = Array.prototype.slice.call(arguments), v;\r\n        str = String(args.shift());\r\n        if (args.length == 1 && typeof (args[0]) == \'object\') {\r\n            args = args[0];\r\n        }\r\n        ZENG.string.RegExps.format.lastIndex = 0;\r\n        return str.replace(ZENG.string.RegExps.format, function (m, n) {\r\n            v = ZENG.object.route(args, n);\r\n            return v === undefined ? m : v;\r\n        });\r\n    }\r\n};\r\n\r\n\r\nZENG.object = {\r\n    routeRE: /([\\d\\w_]+)/g,\r\n    route: function (obj, path) {\r\n        obj = obj || {};\r\n        path = String(path);\r\n        var r = ZENG.object.routeRE, m;\r\n        r.lastIndex = 0;\r\n        while ((m = r.exec(path)) !== null) {\r\n            obj = obj[m[0]];\r\n            if (obj === undefined || obj === null) {\r\n                break;\r\n            }\r\n        }\r\n        return obj;\r\n    }\r\n};\r\n\r\n\r\nvar ua = ZENG.userAgent = {}, agent = navigator.userAgent;\r\nua.ie = 9 - ((agent.indexOf(\'Trident/5.0\') > -1) ? 0 : 1) - (window.XDomainRequest ? 0 : 1) - (window.XMLHttpRequest ? 0 : 1);\r\n\r\n\r\nif (typeof (ZENG.msgbox) == \'undefined\') {\r\n    ZENG.msgbox = {};\r\n}\r\nZENG.msgbox._timer = null;\r\nZENG.msgbox.loadingAnimationPath = ZENG.msgbox.loadingAnimationPath || ("loading.gif");\r\nZENG.msgbox.show = function (msgHtml, type, timeout, opts) {\r\n    if (typeof (opts) == \'number\') {\r\n        opts = {topPosition: opts};\r\n    }\r\n    opts = opts || {};\r\n    var _s = ZENG.msgbox,\r\n        template = \'<span class="zeng_msgbox_layer" style="display:none;z-index:10000;" id="mode_tips_v2"><span class="gtl_ico_{type}"></span>{loadIcon}{msgHtml}<span class="gtl_end"></span></span>\', loading = \'<span class="gtl_ico_loading"></span>\', typeClass = [0, 0, 0, 0, "succ", "fail", "clear"], mBox, tips;\r\n    _s._loadCss && _s._loadCss(opts.cssPath);\r\n    mBox = ZENG.dom.get("q_Msgbox") || ZENG.dom.createElementIn("div", document.body, false, {className: "zeng_msgbox_layer_wrap"});\r\n    mBox.id = "q_Msgbox";\r\n    mBox.style.display = "";\r\n    mBox.innerHTML = ZENG.string.format(template, {\r\n        type: typeClass[type] || "hits",\r\n        msgHtml: msgHtml || "",\r\n        loadIcon: type == 6 ? loading : ""\r\n    });\r\n    _s._setPosition(mBox, timeout, opts.topPosition);\r\n};\r\nZENG.msgbox._setPosition = function (tips, timeout, topPosition) {\r\n    timeout = timeout || 5000;\r\n    var _s = ZENG.msgbox, bt = ZENG.dom.getScrollTop(), ch = ZENG.dom.getClientHeight(), t = Math.floor(ch / 2) - 40;\r\n    ZENG.dom.setStyle(tips, "top", ((document.compatMode == "BackCompat" || ZENG.userAgent.ie < 7) ? bt : 0) + ((typeof (topPosition) == "number") ? topPosition : t) + "px");\r\n    clearTimeout(_s._timer);\r\n    tips.firstChild.style.display = "";\r\n    timeout && (_s._timer = setTimeout(_s.hide, timeout));\r\n};\r\nZENG.msgbox.hide = function (timeout) {\r\n    var _s = ZENG.msgbox;\r\n    if (timeout) {\r\n        clearTimeout(_s._timer);\r\n        _s._timer = setTimeout(_s._hide, timeout);\r\n    } else {\r\n        _s._hide();\r\n    }\r\n};\r\nZENG.msgbox._hide = function () {\r\n    var _mBox = ZENG.dom.get("q_Msgbox"), _s = ZENG.msgbox;\r\n    clearTimeout(_s._timer);\r\n    if (_mBox) {\r\n        var _tips = _mBox.firstChild;\r\n        ZENG.dom.setStyle(_mBox, "display", "none");\r\n    }\r\n};\r\n\r\nmodule.exports = {\r\n    showError: function(msgHtml){\r\n        ZENG.msgbox.show(msgHtml, 5, 1000);\r\n    },\r\n    showTip: function(msgHtml){\r\n        ZENG.msgbox.show(msgHtml, 1, 1000);\r\n    },\r\n    showOK: function(msgHtml){\r\n        ZENG.msgbox.show(msgHtml, 4, 1000);\r\n    },\r\n    showLoading: function(msgHtml){\r\n        ZENG.msgbox.show(msgHtml, 6, 1000);\r\n    },\r\n    show: function(msgHtml, type, timeout, opts){\r\n        ZENG.msgbox.show(msgHtml, type, timeout, opts);\r\n    },\r\n    hide: function(timeout){\r\n        ZENG.msgbox.hide(timeout);\r\n    }\r\n};\r\n\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZHVsZS9tc2dib3gvaW5kZXguanM/NzJjZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixFQUFFO0FBQ3hCO0FBQ0Esa0JBQWtCLDJFQUEyRTtBQUM3RixvQkFBb0IsMERBQTBEO0FBQzlFLG9CQUFvQixjQUFjLGdCQUFnQixnQkFBZ0IsOEJBQThCLG9CQUFvQixHQUFHO0FBQ3ZILGtCQUFrQixJQUFJLElBQUksb0JBQW9CO0FBQzlDO0FBQ0E7QUFDQSxxQkFBcUIsd0NBQXdDO0FBQzdELG1CQUFtQixhQUFhO0FBQ2hDLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBLDRCQUE0QjtBQUM1Qjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFLGNBQWMsMENBQTBDLEtBQUssVUFBVSxVQUFVLFFBQVE7QUFDaks7QUFDQSw4RkFBOEYsb0NBQW9DO0FBQ2xJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiI3NS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEFhcm9uWXVhbiBvbiAzLzEyLzE2LlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiDkvb/nlKhcclxuICpcclxuICogc2hvd0Vycm9yKG1zZyk7XHJcbiAqIHNob3dUaXAobXNnKTtcclxuICogc2hvd09LKG1zZyk7XHJcbiAqIHNob3dMb2FkaW5nKG1zZyk7XHJcbiAqXHJcbiAqXHJcbiAqIC5zaG93KG1zZ0h0bWwsIHR5cGUsIHRpbWVvdXQsIG9wdHMpe31cclxuICogICAgICBtc2dIdG1sOiDlhoXlrrlcclxuICogICAgICB0eXBlOiDlm77moIfnsbvlnosgICAxICAgLSAgIOaPkOekulxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAyICAgLSAgIOaIkOWKn1xyXG4gKiAgICAgICAgICAgICAgICAgICAgICAzICAgLSAgIOWksei0pVxyXG4gKiAgICAgICAgICAgICAgICAgICAgICA0ICAgLSAgIOi9veWFpeS4rVxyXG4gKiAgICAgIHRpbWVvdXQ6IOavq+enkuaVsCzoh6rliqjlhbPpl61cclxuICogICAgICBvcHRzOiDphY3nva4s6buY6K6kbnVsbOWwseWlvVxyXG4gKlxyXG4gKlxyXG4gKiAuaGlkZSgpXHJcbiAqL1xyXG5cclxuLy9yZXF1aXJlKCcvc3R5bGUvbXNnYm94LmNzcycpO1xyXG52YXIgWkVORyA9IHt9O1xyXG5cclxuWkVORy5kb20gPSB7XHJcbiAgICBnZXRCeUlkOiBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG4gICAgfSwgZ2V0OiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHJldHVybiAodHlwZW9mIChlKSA9PSBcInN0cmluZ1wiKSA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpIDogZTtcclxuICAgIH0sIGNyZWF0ZUVsZW1lbnRJbjogZnVuY3Rpb24gKHRhZ05hbWUsIGVsZW0sIGluc2VydEZpcnN0LCBhdHRycykge1xyXG4gICAgICAgIHZhciBfZSA9IChlbGVtID0gWkVORy5kb20uZ2V0KGVsZW0pIHx8IGRvY3VtZW50LmJvZHkpLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lIHx8IFwiZGl2XCIpLCBrO1xyXG4gICAgICAgIGlmICh0eXBlb2YgKGF0dHJzKSA9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICBmb3IgKGsgaW4gYXR0cnMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChrID09IFwiY2xhc3NcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIF9lLmNsYXNzTmFtZSA9IGF0dHJzW2tdO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChrID09IFwic3R5bGVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIF9lLnN0eWxlLmNzc1RleHQgPSBhdHRyc1trXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX2Vba10gPSBhdHRyc1trXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpbnNlcnRGaXJzdCA/IGVsZW0uaW5zZXJ0QmVmb3JlKF9lLCBlbGVtLmZpcnN0Q2hpbGQpIDogZWxlbS5hcHBlbmRDaGlsZChfZSk7XHJcbiAgICAgICAgcmV0dXJuIF9lO1xyXG4gICAgfSwgZ2V0U3R5bGU6IGZ1bmN0aW9uIChlbCwgcHJvcGVydHkpIHtcclxuICAgICAgICBlbCA9IFpFTkcuZG9tLmdldChlbCk7XHJcbiAgICAgICAgaWYgKCFlbCB8fCBlbC5ub2RlVHlwZSA9PSA5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdzNjTW9kZSA9IGRvY3VtZW50LmRlZmF1bHRWaWV3ICYmIGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUsIGNvbXB1dGVkID0gIXczY01vZGUgPyBudWxsIDogZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlbCwgJycpLCB2YWx1ZSA9IFwiXCI7XHJcbiAgICAgICAgc3dpdGNoIChwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiZmxvYXRcIjpcclxuICAgICAgICAgICAgICAgIHByb3BlcnR5ID0gdzNjTW9kZSA/IFwiY3NzRmxvYXRcIiA6IFwic3R5bGVGbG9hdFwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJvcGFjaXR5XCI6XHJcbiAgICAgICAgICAgICAgICBpZiAoIXczY01vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gMTAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IGVsLmZpbHRlcnNbJ0RYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkFscGhhJ10ub3BhY2l0eTtcclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSBlbC5maWx0ZXJzKCdhbHBoYScpLm9wYWNpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsIC8gMTAwO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCgoY29tcHV0ZWQgfHwgZWwuc3R5bGUpW3Byb3BlcnR5XSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImJhY2tncm91bmRQb3NpdGlvblhcIjpcclxuICAgICAgICAgICAgICAgIGlmICh3M2NNb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydHkgPSBcImJhY2tncm91bmRQb3NpdGlvblwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoKGNvbXB1dGVkIHx8IGVsLnN0eWxlKVtwcm9wZXJ0eV0pLnNwbGl0KFwiIFwiKVswXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYmFja2dyb3VuZFBvc2l0aW9uWVwiOlxyXG4gICAgICAgICAgICAgICAgaWYgKHczY01vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eSA9IFwiYmFja2dyb3VuZFBvc2l0aW9uXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgoY29tcHV0ZWQgfHwgZWwuc3R5bGUpW3Byb3BlcnR5XSkuc3BsaXQoXCIgXCIpWzFdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh3M2NNb2RlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoY29tcHV0ZWQgfHwgZWwuc3R5bGUpW3Byb3BlcnR5XTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gKGVsLmN1cnJlbnRTdHlsZVtwcm9wZXJ0eV0gfHwgZWwuc3R5bGVbcHJvcGVydHldKTtcclxuICAgICAgICB9XHJcbiAgICB9LCBzZXRTdHlsZTogZnVuY3Rpb24gKGVsLCBwcm9wZXJ0aWVzLCB2YWx1ZSkge1xyXG4gICAgICAgIGlmICghKGVsID0gWkVORy5kb20uZ2V0KGVsKSkgfHwgZWwubm9kZVR5cGUgIT0gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB0bXAsIGJSdG4gPSB0cnVlLCB3M2NNb2RlID0gKHRtcCA9IGRvY3VtZW50LmRlZmF1bHRWaWV3KSAmJiB0bXAuZ2V0Q29tcHV0ZWRTdHlsZSwgcmV4Y2x1ZGUgPSAvei0/aW5kZXh8Zm9udC0/d2VpZ2h0fG9wYWNpdHl8em9vbXxsaW5lLT9oZWlnaHQvaTtcclxuICAgICAgICBpZiAodHlwZW9mIChwcm9wZXJ0aWVzKSA9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICB0bXAgPSBwcm9wZXJ0aWVzO1xyXG4gICAgICAgICAgICBwcm9wZXJ0aWVzID0ge307XHJcbiAgICAgICAgICAgIHByb3BlcnRpZXNbdG1wXSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBwcm9wIGluIHByb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgdmFsdWUgPSBwcm9wZXJ0aWVzW3Byb3BdO1xyXG4gICAgICAgICAgICBpZiAocHJvcCA9PSAnZmxvYXQnKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wID0gdzNjTW9kZSA/IFwiY3NzRmxvYXRcIiA6IFwic3R5bGVGbG9hdFwiO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHByb3AgPT0gJ29wYWNpdHknKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXczY01vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wID0gJ2ZpbHRlcic7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSA+PSAxID8gJycgOiAoJ2FscGhhKG9wYWNpdHk9JyArIE1hdGgucm91bmQodmFsdWUgKiAxMDApICsgJyknKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9wID09ICdiYWNrZ3JvdW5kUG9zaXRpb25YJyB8fCBwcm9wID09ICdiYWNrZ3JvdW5kUG9zaXRpb25ZJykge1xyXG4gICAgICAgICAgICAgICAgdG1wID0gcHJvcC5zbGljZSgtMSkgPT0gJ1gnID8gJ1knIDogJ1gnO1xyXG4gICAgICAgICAgICAgICAgaWYgKHczY01vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdiA9IFpFTkcuZG9tLmdldFN0eWxlKGVsLCBcImJhY2tncm91bmRQb3NpdGlvblwiICsgdG1wKTtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wID0gJ2JhY2tncm91bmRQb3NpdGlvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mICh2YWx1ZSkgPT0gJ251bWJlcicgJiYgKHZhbHVlID0gdmFsdWUgKyAncHgnKTtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHRtcCA9PSAnWScgPyAodmFsdWUgKyBcIiBcIiArICh2IHx8IFwidG9wXCIpKSA6ICgodiB8fCAnbGVmdCcpICsgXCIgXCIgKyB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBlbC5zdHlsZVtwcm9wXSAhPSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICBlbC5zdHlsZVtwcm9wXSA9IHZhbHVlICsgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIiAmJiAhcmV4Y2x1ZGUudGVzdChwcm9wKSA/ICdweCcgOiAnJyk7XHJcbiAgICAgICAgICAgICAgICBiUnRuID0gYlJ0biAmJiB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYlJ0biA9IGJSdG4gJiYgZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGJSdG47XHJcbiAgICB9LCBnZXRTY3JvbGxUb3A6IGZ1bmN0aW9uIChkb2MpIHtcclxuICAgICAgICB2YXIgX2RvYyA9IGRvYyB8fCBkb2N1bWVudDtcclxuICAgICAgICByZXR1cm4gTWF0aC5tYXgoX2RvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wLCBfZG9jLmJvZHkuc2Nyb2xsVG9wKTtcclxuICAgIH0sIGdldENsaWVudEhlaWdodDogZnVuY3Rpb24gKGRvYykge1xyXG4gICAgICAgIHZhciBfZG9jID0gZG9jIHx8IGRvY3VtZW50O1xyXG4gICAgICAgIHJldHVybiBfZG9jLmNvbXBhdE1vZGUgPT0gXCJDU1MxQ29tcGF0XCIgPyBfZG9jLmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgOiBfZG9jLmJvZHkuY2xpZW50SGVpZ2h0O1xyXG4gICAgfVxyXG59O1xyXG5cclxuWkVORy5zdHJpbmcgPSB7XHJcbiAgICBSZWdFeHBzOiB7XHJcbiAgICAgICAgdHJpbTogL15cXHMrfFxccyskL2csXHJcbiAgICAgICAgbHRyaW06IC9eXFxzKy8sXHJcbiAgICAgICAgcnRyaW06IC9cXHMrJC8sXHJcbiAgICAgICAgbmwyYnI6IC9cXG4vZyxcclxuICAgICAgICBzMm5iOiAvW1xceDIwXXsyfS9nLFxyXG4gICAgICAgIFVSSWVuY29kZTogL1tcXHgwOVxceDBBXFx4MERcXHgyMFxceDIxLVxceDI5XFx4MkJcXHgyQ1xceDJGXFx4M0EtXFx4M0ZcXHg1Qi1cXHg1RVxceDYwXFx4N0ItXFx4N0VdL2csXHJcbiAgICAgICAgZXNjSFRNTDoge3JlX2FtcDogLyYvZywgcmVfbHQ6IC88L2csIHJlX2d0OiAvPi9nLCByZV9hcG9zOiAvXFx4MjcvZywgcmVfcXVvdDogL1xceDIyL2d9LFxyXG4gICAgICAgIGVzY1N0cmluZzoge2JzbHM6IC9cXFxcL2csIHNsczogL1xcLy9nLCBubDogL1xcbi9nLCBydDogL1xcci9nLCB0YWI6IC9cXHQvZ30sXHJcbiAgICAgICAgcmVzdFhIVE1MOiB7cmVfYW1wOiAvJmFtcDsvZywgcmVfbHQ6IC8mbHQ7L2csIHJlX2d0OiAvJmd0Oy9nLCByZV9hcG9zOiAvJig/OmFwb3N8IzA/MzkpOy9nLCByZV9xdW90OiAvJnF1b3Q7L2d9LFxyXG4gICAgICAgIHdyaXRlOiAvXFx7KFxcZHsxLDJ9KSg/OlxcOihbeG9kUXFiXSkpP1xcfS9nLFxyXG4gICAgICAgIGlzVVJMOiAvXig/Omh0fGYpdHAoPzpzKT9cXDpcXC9cXC8oPzpbXFx3XFwtXFwuXSspXFwuXFx3Ky9pLFxyXG4gICAgICAgIGN1dDogL1tcXHgwMC1cXHhGRl0vLFxyXG4gICAgICAgIGdldFJlYWxMZW46IHtyMDogL1teXFx4MDAtXFx4RkZdL2csIHIxOiAvW1xceDAwLVxceEZGXS9nfSxcclxuICAgICAgICBmb3JtYXQ6IC9cXHsoW1xcZFxcd1xcLl0rKVxcfS9nXHJcbiAgICB9LCBjb21tb25SZXBsYWNlOiBmdW5jdGlvbiAocywgcCwgcikge1xyXG4gICAgICAgIHJldHVybiBzLnJlcGxhY2UocCwgcik7XHJcbiAgICB9LCBmb3JtYXQ6IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksIHY7XHJcbiAgICAgICAgc3RyID0gU3RyaW5nKGFyZ3Muc2hpZnQoKSk7XHJcbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09IDEgJiYgdHlwZW9mIChhcmdzWzBdKSA9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICBhcmdzID0gYXJnc1swXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgWkVORy5zdHJpbmcuUmVnRXhwcy5mb3JtYXQubGFzdEluZGV4ID0gMDtcclxuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoWkVORy5zdHJpbmcuUmVnRXhwcy5mb3JtYXQsIGZ1bmN0aW9uIChtLCBuKSB7XHJcbiAgICAgICAgICAgIHYgPSBaRU5HLm9iamVjdC5yb3V0ZShhcmdzLCBuKTtcclxuICAgICAgICAgICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/IG0gOiB2O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59O1xyXG5cclxuXHJcblpFTkcub2JqZWN0ID0ge1xyXG4gICAgcm91dGVSRTogLyhbXFxkXFx3X10rKS9nLFxyXG4gICAgcm91dGU6IGZ1bmN0aW9uIChvYmosIHBhdGgpIHtcclxuICAgICAgICBvYmogPSBvYmogfHwge307XHJcbiAgICAgICAgcGF0aCA9IFN0cmluZyhwYXRoKTtcclxuICAgICAgICB2YXIgciA9IFpFTkcub2JqZWN0LnJvdXRlUkUsIG07XHJcbiAgICAgICAgci5sYXN0SW5kZXggPSAwO1xyXG4gICAgICAgIHdoaWxlICgobSA9IHIuZXhlYyhwYXRoKSkgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgb2JqID0gb2JqW21bMF1dO1xyXG4gICAgICAgICAgICBpZiAob2JqID09PSB1bmRlZmluZWQgfHwgb2JqID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgfVxyXG59O1xyXG5cclxuXHJcbnZhciB1YSA9IFpFTkcudXNlckFnZW50ID0ge30sIGFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcclxudWEuaWUgPSA5IC0gKChhZ2VudC5pbmRleE9mKCdUcmlkZW50LzUuMCcpID4gLTEpID8gMCA6IDEpIC0gKHdpbmRvdy5YRG9tYWluUmVxdWVzdCA/IDAgOiAxKSAtICh3aW5kb3cuWE1MSHR0cFJlcXVlc3QgPyAwIDogMSk7XHJcblxyXG5cclxuaWYgKHR5cGVvZiAoWkVORy5tc2dib3gpID09ICd1bmRlZmluZWQnKSB7XHJcbiAgICBaRU5HLm1zZ2JveCA9IHt9O1xyXG59XHJcblpFTkcubXNnYm94Ll90aW1lciA9IG51bGw7XHJcblpFTkcubXNnYm94LmxvYWRpbmdBbmltYXRpb25QYXRoID0gWkVORy5tc2dib3gubG9hZGluZ0FuaW1hdGlvblBhdGggfHwgKFwibG9hZGluZy5naWZcIik7XHJcblpFTkcubXNnYm94LnNob3cgPSBmdW5jdGlvbiAobXNnSHRtbCwgdHlwZSwgdGltZW91dCwgb3B0cykge1xyXG4gICAgaWYgKHR5cGVvZiAob3B0cykgPT0gJ251bWJlcicpIHtcclxuICAgICAgICBvcHRzID0ge3RvcFBvc2l0aW9uOiBvcHRzfTtcclxuICAgIH1cclxuICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xyXG4gICAgdmFyIF9zID0gWkVORy5tc2dib3gsXHJcbiAgICAgICAgdGVtcGxhdGUgPSAnPHNwYW4gY2xhc3M9XCJ6ZW5nX21zZ2JveF9sYXllclwiIHN0eWxlPVwiZGlzcGxheTpub25lO3otaW5kZXg6MTAwMDA7XCIgaWQ9XCJtb2RlX3RpcHNfdjJcIj48c3BhbiBjbGFzcz1cImd0bF9pY29fe3R5cGV9XCI+PC9zcGFuPntsb2FkSWNvbn17bXNnSHRtbH08c3BhbiBjbGFzcz1cImd0bF9lbmRcIj48L3NwYW4+PC9zcGFuPicsIGxvYWRpbmcgPSAnPHNwYW4gY2xhc3M9XCJndGxfaWNvX2xvYWRpbmdcIj48L3NwYW4+JywgdHlwZUNsYXNzID0gWzAsIDAsIDAsIDAsIFwic3VjY1wiLCBcImZhaWxcIiwgXCJjbGVhclwiXSwgbUJveCwgdGlwcztcclxuICAgIF9zLl9sb2FkQ3NzICYmIF9zLl9sb2FkQ3NzKG9wdHMuY3NzUGF0aCk7XHJcbiAgICBtQm94ID0gWkVORy5kb20uZ2V0KFwicV9Nc2dib3hcIikgfHwgWkVORy5kb20uY3JlYXRlRWxlbWVudEluKFwiZGl2XCIsIGRvY3VtZW50LmJvZHksIGZhbHNlLCB7Y2xhc3NOYW1lOiBcInplbmdfbXNnYm94X2xheWVyX3dyYXBcIn0pO1xyXG4gICAgbUJveC5pZCA9IFwicV9Nc2dib3hcIjtcclxuICAgIG1Cb3guc3R5bGUuZGlzcGxheSA9IFwiXCI7XHJcbiAgICBtQm94LmlubmVySFRNTCA9IFpFTkcuc3RyaW5nLmZvcm1hdCh0ZW1wbGF0ZSwge1xyXG4gICAgICAgIHR5cGU6IHR5cGVDbGFzc1t0eXBlXSB8fCBcImhpdHNcIixcclxuICAgICAgICBtc2dIdG1sOiBtc2dIdG1sIHx8IFwiXCIsXHJcbiAgICAgICAgbG9hZEljb246IHR5cGUgPT0gNiA/IGxvYWRpbmcgOiBcIlwiXHJcbiAgICB9KTtcclxuICAgIF9zLl9zZXRQb3NpdGlvbihtQm94LCB0aW1lb3V0LCBvcHRzLnRvcFBvc2l0aW9uKTtcclxufTtcclxuWkVORy5tc2dib3guX3NldFBvc2l0aW9uID0gZnVuY3Rpb24gKHRpcHMsIHRpbWVvdXQsIHRvcFBvc2l0aW9uKSB7XHJcbiAgICB0aW1lb3V0ID0gdGltZW91dCB8fCA1MDAwO1xyXG4gICAgdmFyIF9zID0gWkVORy5tc2dib3gsIGJ0ID0gWkVORy5kb20uZ2V0U2Nyb2xsVG9wKCksIGNoID0gWkVORy5kb20uZ2V0Q2xpZW50SGVpZ2h0KCksIHQgPSBNYXRoLmZsb29yKGNoIC8gMikgLSA0MDtcclxuICAgIFpFTkcuZG9tLnNldFN0eWxlKHRpcHMsIFwidG9wXCIsICgoZG9jdW1lbnQuY29tcGF0TW9kZSA9PSBcIkJhY2tDb21wYXRcIiB8fCBaRU5HLnVzZXJBZ2VudC5pZSA8IDcpID8gYnQgOiAwKSArICgodHlwZW9mICh0b3BQb3NpdGlvbikgPT0gXCJudW1iZXJcIikgPyB0b3BQb3NpdGlvbiA6IHQpICsgXCJweFwiKTtcclxuICAgIGNsZWFyVGltZW91dChfcy5fdGltZXIpO1xyXG4gICAgdGlwcy5maXJzdENoaWxkLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xyXG4gICAgdGltZW91dCAmJiAoX3MuX3RpbWVyID0gc2V0VGltZW91dChfcy5oaWRlLCB0aW1lb3V0KSk7XHJcbn07XHJcblpFTkcubXNnYm94LmhpZGUgPSBmdW5jdGlvbiAodGltZW91dCkge1xyXG4gICAgdmFyIF9zID0gWkVORy5tc2dib3g7XHJcbiAgICBpZiAodGltZW91dCkge1xyXG4gICAgICAgIGNsZWFyVGltZW91dChfcy5fdGltZXIpO1xyXG4gICAgICAgIF9zLl90aW1lciA9IHNldFRpbWVvdXQoX3MuX2hpZGUsIHRpbWVvdXQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBfcy5faGlkZSgpO1xyXG4gICAgfVxyXG59O1xyXG5aRU5HLm1zZ2JveC5faGlkZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBfbUJveCA9IFpFTkcuZG9tLmdldChcInFfTXNnYm94XCIpLCBfcyA9IFpFTkcubXNnYm94O1xyXG4gICAgY2xlYXJUaW1lb3V0KF9zLl90aW1lcik7XHJcbiAgICBpZiAoX21Cb3gpIHtcclxuICAgICAgICB2YXIgX3RpcHMgPSBfbUJveC5maXJzdENoaWxkO1xyXG4gICAgICAgIFpFTkcuZG9tLnNldFN0eWxlKF9tQm94LCBcImRpc3BsYXlcIiwgXCJub25lXCIpO1xyXG4gICAgfVxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBzaG93RXJyb3I6IGZ1bmN0aW9uKG1zZ0h0bWwpe1xyXG4gICAgICAgIFpFTkcubXNnYm94LnNob3cobXNnSHRtbCwgNSwgMTAwMCk7XHJcbiAgICB9LFxyXG4gICAgc2hvd1RpcDogZnVuY3Rpb24obXNnSHRtbCl7XHJcbiAgICAgICAgWkVORy5tc2dib3guc2hvdyhtc2dIdG1sLCAxLCAxMDAwKTtcclxuICAgIH0sXHJcbiAgICBzaG93T0s6IGZ1bmN0aW9uKG1zZ0h0bWwpe1xyXG4gICAgICAgIFpFTkcubXNnYm94LnNob3cobXNnSHRtbCwgNCwgMTAwMCk7XHJcbiAgICB9LFxyXG4gICAgc2hvd0xvYWRpbmc6IGZ1bmN0aW9uKG1zZ0h0bWwpe1xyXG4gICAgICAgIFpFTkcubXNnYm94LnNob3cobXNnSHRtbCwgNiwgMTAwMCk7XHJcbiAgICB9LFxyXG4gICAgc2hvdzogZnVuY3Rpb24obXNnSHRtbCwgdHlwZSwgdGltZW91dCwgb3B0cyl7XHJcbiAgICAgICAgWkVORy5tc2dib3guc2hvdyhtc2dIdG1sLCB0eXBlLCB0aW1lb3V0LCBvcHRzKTtcclxuICAgIH0sXHJcbiAgICBoaWRlOiBmdW5jdGlvbih0aW1lb3V0KXtcclxuICAgICAgICBaRU5HLm1zZ2JveC5oaWRlKHRpbWVvdXQpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9zcmMvbW9kdWxlL21zZ2JveC9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDc1XG4gKiogbW9kdWxlIGNodW5rcyA9IDEgMiAzIDQgNSA2IDcgOCA5XG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==');
},function(module,exports){eval("\r\nvar BusinessDate = function (long) {\r\n  this.temp = new Date();\r\n  this.setCurNewDate(long);\r\n};\r\n/**\r\n * [changeYear 改变临时年份]\r\n * @param  {[type]} value [description]\r\n * @return {[type]}       [description]\r\n */\r\nBusinessDate.prototype.changeYear = function (value) {\r\n  this.temp.setFullYear(value);\r\n};\r\n/**\r\n * [getCountDays 根据月份获取当前月的总天数]\r\n * @param  {[type]} value [description]\r\n * @return {[type]}       [description]\r\n */\r\nBusinessDate.prototype.getCountDays = function (value) {\r\n  this.temp.setMonth(value);\r\n  this.temp.setDate(0);\r\n  return this.temp.getDate();\r\n};\r\n/**\r\n * [$get 获取当前的年月日时分]\r\n * @param  {[type]} key [description]\r\n * @return {[type]}     [description]\r\n */\r\nBusinessDate.prototype.$get = function (key) {\r\n  return this.attrs[key];\r\n};\r\n/**\r\n * [ceilYear 向下获取年份]\r\n * @param  {[type]} value [description]\r\n * @return {[type]}       [description]\r\n */\r\nBusinessDate.prototype.ceilYear = function (value) {\r\n  var val = ~~value;\r\n  var i = 0;\r\n  var year = this.$get('year');\r\n  var result = [];\r\n  for (; i <= val; i++) {\r\n    result.push(year);\r\n    year = year + 1;\r\n  }\r\n  return result;\r\n};\r\nBusinessDate.prototype._downDisplacement = function (key) {\r\n  var start = this.$get(key);\r\n  var result = [];\r\n  var end;\r\n  switch (key) {\r\n    case 'month':\r\n      end = 12;\r\n      break;\r\n    case 'day':\r\n      end = this.getCountDays(this.$get('month'));\r\n      break;\r\n    case 'hours':\r\n      end = 23;\r\n      break;\r\n    default:\r\n      end = 59;\r\n      break;\r\n  }\r\n  for (; start <= end; start++) {\r\n    result.push(start);\r\n  }\r\n  return result;\r\n};\r\n/**\r\n * [downMonth 向下获取月份]\r\n * @return {[type]} [description]\r\n */\r\nBusinessDate.prototype.downMonth = function () {\r\n  return this._downDisplacement('month');\r\n};\r\n/**\r\n * [downDay 向下获取天数]\r\n * @return {[type]} [description]\r\n */\r\nBusinessDate.prototype.downDay = function () {\r\n  return this._downDisplacement('day');\r\n};\r\n/**\r\n * [downHours 向下获取小时]\r\n * @return {[type]} [description]\r\n */\r\nBusinessDate.prototype.downHours = function () {\r\n  return this._downDisplacement('hours');\r\n};\r\n/**\r\n * [downMinutes 向下获取分钟]\r\n * @return {[type]} [description]\r\n */\r\nBusinessDate.prototype.downMinutes = function () {\r\n  return this._downDisplacement('minutes');\r\n};\r\n/**\r\n * [down 向下获取函数式]\r\n * @param  {[type]} value [description]\r\n * @return {[type]}       [description]\r\n */\r\nBusinessDate.prototype.down = function (value) {\r\n  return this._downDisplacement(value);\r\n};\r\n/**\r\n * [getTime 根据一个对象拼装一个时间对象获取时间毫秒]\r\n * @param  {[type]} obj [description]\r\n * @return {[type]}     [description]\r\n */\r\nBusinessDate.prototype.getTime = function (obj) {\r\n  var val = '';\r\n  var month = obj.month < 10 ? '0' + obj.month : obj.month;\r\n  var day = obj.day < 10 ? '0' + obj.day : obj.day;\r\n  var hours = obj.hours < 10 ? '0' + obj.hours : obj.hours;\r\n  var minutes = obj.minutes < 10 ? '0' + obj.minutes : obj.minutes;\r\n  val += obj.year + '-' + month + '-' + day + ' ';\r\n  val += hours + ':' + minutes + ':00';\r\n  return new Date(val.replace(/-/g, '/')).getTime();\r\n};\r\n/**\r\n * [setCurNewDate 设置一个当前新的时间对象]\r\n */\r\nBusinessDate.prototype.setCurNewDate = function (long) {\r\n  this.date = null;\r\n  this.date = long ? new Date(long) : new Date();\r\n  this._setAttrs();\r\n};\r\nBusinessDate.prototype._setAttrs = function () {\r\n  this.attrs = null;\r\n  this.attrs = {\r\n    year: this.date.getFullYear(),\r\n    month: this.date.getMonth() + 1,\r\n    day: this.date.getDate(),\r\n    hours: this.date.getHours(),\r\n    minutes: this.date.getMinutes()\r\n  };\r\n};\r\n/**\r\n * [difference 根据一个毫秒差返回一个时分秒对象]\r\n * @param  {[type]} duration [description]\r\n * @return {[type]}          [description]\r\n */\r\nBusinessDate.difference = function (duration) {\r\n  var result = {};\r\n  result.day = parseInt(duration / (24 * 3600 * 1000), 10);\r\n  var leave1 = duration % (24 * 3600 * 1000);\r\n  var hour = Math.floor(leave1 / (3600 * 1000));\r\n  result.hours = hour < 10 ? '0' + hour : hour;\r\n  var leave2 = leave1 % (3600 * 1000);\r\n  var minutes = Math.floor(leave2 / (60 * 1000));\r\n  result.minutes = minutes < 10 ? '0' + minutes : minutes;\r\n  var leave3 = leave2 % (60 * 1000);\r\n  var seconds = Math.floor(leave3 / 1000);\r\n  result.seconds = seconds < 10 ? '0' + seconds : seconds;\r\n  return result;\r\n};\r\nvar shared = null;\r\nBusinessDate.sharedInstanceBusinessDate = function () {\r\n  if (!shared) {\r\n    shared = new BusinessDate();\r\n  }\r\n  return shared;\r\n};\r\nBusinessDate.format = function (date, fmt) { // author: meizz\r\n  var o = {\r\n    'M+': date.getMonth() + 1,                 // 月份\r\n    'd+': date.getDate(),                    // 日\r\n    'h+': date.getHours(),                   // 小时\r\n    'm+': date.getMinutes(),                 // 分\r\n    's+': date.getSeconds(),                 // 秒\r\n    'q+': Math.floor((date.getMonth() + 3) / 3), // 季度\r\n    S: date.getMilliseconds()             // 毫秒\r\n  };\r\n  var format = fmt;\r\n  var k;\r\n  var temp;\r\n  if (/(y+)/.test(format)) {\r\n    format = format.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\r\n  }\r\n  for (k in o) {\r\n    if (new RegExp('(' + k + ')').test(format)) {\r\n      temp = (RegExp.$1.length === 1) ? (o[k]) : (('00' + o[k]).substr(('' + o[k]).length));\r\n      format = format.replace(RegExp.$1, temp);\r\n    }\r\n  }\r\n  return format;\r\n};\r\n\r\nmodule.exports = BusinessDate;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZHVsZS9CdXNpbmVzc0RhdGUvaW5kZXguanM/MTVhMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CLFlBQVksT0FBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkIsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkIsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQixZQUFZLE9BQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxVQUFVO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGNBQWM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQixZQUFZLE9BQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CLFlBQVksT0FBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQixZQUFZLE9BQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiI3Ni5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG52YXIgQnVzaW5lc3NEYXRlID0gZnVuY3Rpb24gKGxvbmcpIHtcclxuICB0aGlzLnRlbXAgPSBuZXcgRGF0ZSgpO1xyXG4gIHRoaXMuc2V0Q3VyTmV3RGF0ZShsb25nKTtcclxufTtcclxuLyoqXHJcbiAqIFtjaGFuZ2VZZWFyIOaUueWPmOS4tOaXtuW5tOS7vV1cclxuICogQHBhcmFtICB7W3R5cGVdfSB2YWx1ZSBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuQnVzaW5lc3NEYXRlLnByb3RvdHlwZS5jaGFuZ2VZZWFyID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgdGhpcy50ZW1wLnNldEZ1bGxZZWFyKHZhbHVlKTtcclxufTtcclxuLyoqXHJcbiAqIFtnZXRDb3VudERheXMg5qC55o2u5pyI5Lu96I635Y+W5b2T5YmN5pyI55qE5oC75aSp5pWwXVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IHZhbHVlIFtkZXNjcmlwdGlvbl1cclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5CdXNpbmVzc0RhdGUucHJvdG90eXBlLmdldENvdW50RGF5cyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gIHRoaXMudGVtcC5zZXRNb250aCh2YWx1ZSk7XHJcbiAgdGhpcy50ZW1wLnNldERhdGUoMCk7XHJcbiAgcmV0dXJuIHRoaXMudGVtcC5nZXREYXRlKCk7XHJcbn07XHJcbi8qKlxyXG4gKiBbJGdldCDojrflj5blvZPliY3nmoTlubTmnIjml6Xml7bliIZdXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0ga2V5IFtkZXNjcmlwdGlvbl1cclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuQnVzaW5lc3NEYXRlLnByb3RvdHlwZS4kZ2V0ID0gZnVuY3Rpb24gKGtleSkge1xyXG4gIHJldHVybiB0aGlzLmF0dHJzW2tleV07XHJcbn07XHJcbi8qKlxyXG4gKiBbY2VpbFllYXIg5ZCR5LiL6I635Y+W5bm05Lu9XVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IHZhbHVlIFtkZXNjcmlwdGlvbl1cclxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5CdXNpbmVzc0RhdGUucHJvdG90eXBlLmNlaWxZZWFyID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgdmFyIHZhbCA9IH5+dmFsdWU7XHJcbiAgdmFyIGkgPSAwO1xyXG4gIHZhciB5ZWFyID0gdGhpcy4kZ2V0KCd5ZWFyJyk7XHJcbiAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gIGZvciAoOyBpIDw9IHZhbDsgaSsrKSB7XHJcbiAgICByZXN1bHQucHVzaCh5ZWFyKTtcclxuICAgIHllYXIgPSB5ZWFyICsgMTtcclxuICB9XHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxuQnVzaW5lc3NEYXRlLnByb3RvdHlwZS5fZG93bkRpc3BsYWNlbWVudCA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICB2YXIgc3RhcnQgPSB0aGlzLiRnZXQoa2V5KTtcclxuICB2YXIgcmVzdWx0ID0gW107XHJcbiAgdmFyIGVuZDtcclxuICBzd2l0Y2ggKGtleSkge1xyXG4gICAgY2FzZSAnbW9udGgnOlxyXG4gICAgICBlbmQgPSAxMjtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdkYXknOlxyXG4gICAgICBlbmQgPSB0aGlzLmdldENvdW50RGF5cyh0aGlzLiRnZXQoJ21vbnRoJykpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ2hvdXJzJzpcclxuICAgICAgZW5kID0gMjM7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgZW5kID0gNTk7XHJcbiAgICAgIGJyZWFrO1xyXG4gIH1cclxuICBmb3IgKDsgc3RhcnQgPD0gZW5kOyBzdGFydCsrKSB7XHJcbiAgICByZXN1bHQucHVzaChzdGFydCk7XHJcbiAgfVxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn07XHJcbi8qKlxyXG4gKiBbZG93bk1vbnRoIOWQkeS4i+iOt+WPluaciOS7vV1cclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5CdXNpbmVzc0RhdGUucHJvdG90eXBlLmRvd25Nb250aCA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gdGhpcy5fZG93bkRpc3BsYWNlbWVudCgnbW9udGgnKTtcclxufTtcclxuLyoqXHJcbiAqIFtkb3duRGF5IOWQkeS4i+iOt+WPluWkqeaVsF1cclxuICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5CdXNpbmVzc0RhdGUucHJvdG90eXBlLmRvd25EYXkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIHRoaXMuX2Rvd25EaXNwbGFjZW1lbnQoJ2RheScpO1xyXG59O1xyXG4vKipcclxuICogW2Rvd25Ib3VycyDlkJHkuIvojrflj5blsI/ml7ZdXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuQnVzaW5lc3NEYXRlLnByb3RvdHlwZS5kb3duSG91cnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIHRoaXMuX2Rvd25EaXNwbGFjZW1lbnQoJ2hvdXJzJyk7XHJcbn07XHJcbi8qKlxyXG4gKiBbZG93bk1pbnV0ZXMg5ZCR5LiL6I635Y+W5YiG6ZKfXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cclxuICovXHJcbkJ1c2luZXNzRGF0ZS5wcm90b3R5cGUuZG93bk1pbnV0ZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIHRoaXMuX2Rvd25EaXNwbGFjZW1lbnQoJ21pbnV0ZXMnKTtcclxufTtcclxuLyoqXHJcbiAqIFtkb3duIOWQkeS4i+iOt+WPluWHveaVsOW8j11cclxuICogQHBhcmFtICB7W3R5cGVdfSB2YWx1ZSBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgW2Rlc2NyaXB0aW9uXVxyXG4gKi9cclxuQnVzaW5lc3NEYXRlLnByb3RvdHlwZS5kb3duID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgcmV0dXJuIHRoaXMuX2Rvd25EaXNwbGFjZW1lbnQodmFsdWUpO1xyXG59O1xyXG4vKipcclxuICogW2dldFRpbWUg5qC55o2u5LiA5Liq5a+56LGh5ou86KOF5LiA5Liq5pe26Ze05a+56LGh6I635Y+W5pe26Ze05q+r56eSXVxyXG4gKiBAcGFyYW0gIHtbdHlwZV19IG9iaiBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1t0eXBlXX0gICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbkJ1c2luZXNzRGF0ZS5wcm90b3R5cGUuZ2V0VGltZSA9IGZ1bmN0aW9uIChvYmopIHtcclxuICB2YXIgdmFsID0gJyc7XHJcbiAgdmFyIG1vbnRoID0gb2JqLm1vbnRoIDwgMTAgPyAnMCcgKyBvYmoubW9udGggOiBvYmoubW9udGg7XHJcbiAgdmFyIGRheSA9IG9iai5kYXkgPCAxMCA/ICcwJyArIG9iai5kYXkgOiBvYmouZGF5O1xyXG4gIHZhciBob3VycyA9IG9iai5ob3VycyA8IDEwID8gJzAnICsgb2JqLmhvdXJzIDogb2JqLmhvdXJzO1xyXG4gIHZhciBtaW51dGVzID0gb2JqLm1pbnV0ZXMgPCAxMCA/ICcwJyArIG9iai5taW51dGVzIDogb2JqLm1pbnV0ZXM7XHJcbiAgdmFsICs9IG9iai55ZWFyICsgJy0nICsgbW9udGggKyAnLScgKyBkYXkgKyAnICc7XHJcbiAgdmFsICs9IGhvdXJzICsgJzonICsgbWludXRlcyArICc6MDAnO1xyXG4gIHJldHVybiBuZXcgRGF0ZSh2YWwucmVwbGFjZSgvLS9nLCAnLycpKS5nZXRUaW1lKCk7XHJcbn07XHJcbi8qKlxyXG4gKiBbc2V0Q3VyTmV3RGF0ZSDorr7nva7kuIDkuKrlvZPliY3mlrDnmoTml7bpl7Tlr7nosaFdXHJcbiAqL1xyXG5CdXNpbmVzc0RhdGUucHJvdG90eXBlLnNldEN1ck5ld0RhdGUgPSBmdW5jdGlvbiAobG9uZykge1xyXG4gIHRoaXMuZGF0ZSA9IG51bGw7XHJcbiAgdGhpcy5kYXRlID0gbG9uZyA/IG5ldyBEYXRlKGxvbmcpIDogbmV3IERhdGUoKTtcclxuICB0aGlzLl9zZXRBdHRycygpO1xyXG59O1xyXG5CdXNpbmVzc0RhdGUucHJvdG90eXBlLl9zZXRBdHRycyA9IGZ1bmN0aW9uICgpIHtcclxuICB0aGlzLmF0dHJzID0gbnVsbDtcclxuICB0aGlzLmF0dHJzID0ge1xyXG4gICAgeWVhcjogdGhpcy5kYXRlLmdldEZ1bGxZZWFyKCksXHJcbiAgICBtb250aDogdGhpcy5kYXRlLmdldE1vbnRoKCkgKyAxLFxyXG4gICAgZGF5OiB0aGlzLmRhdGUuZ2V0RGF0ZSgpLFxyXG4gICAgaG91cnM6IHRoaXMuZGF0ZS5nZXRIb3VycygpLFxyXG4gICAgbWludXRlczogdGhpcy5kYXRlLmdldE1pbnV0ZXMoKVxyXG4gIH07XHJcbn07XHJcbi8qKlxyXG4gKiBbZGlmZmVyZW5jZSDmoLnmja7kuIDkuKrmr6vnp5Llt67ov5Tlm57kuIDkuKrml7bliIbnp5Llr7nosaFdXHJcbiAqIEBwYXJhbSAge1t0eXBlXX0gZHVyYXRpb24gW2Rlc2NyaXB0aW9uXVxyXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICovXHJcbkJ1c2luZXNzRGF0ZS5kaWZmZXJlbmNlID0gZnVuY3Rpb24gKGR1cmF0aW9uKSB7XHJcbiAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gIHJlc3VsdC5kYXkgPSBwYXJzZUludChkdXJhdGlvbiAvICgyNCAqIDM2MDAgKiAxMDAwKSwgMTApO1xyXG4gIHZhciBsZWF2ZTEgPSBkdXJhdGlvbiAlICgyNCAqIDM2MDAgKiAxMDAwKTtcclxuICB2YXIgaG91ciA9IE1hdGguZmxvb3IobGVhdmUxIC8gKDM2MDAgKiAxMDAwKSk7XHJcbiAgcmVzdWx0LmhvdXJzID0gaG91ciA8IDEwID8gJzAnICsgaG91ciA6IGhvdXI7XHJcbiAgdmFyIGxlYXZlMiA9IGxlYXZlMSAlICgzNjAwICogMTAwMCk7XHJcbiAgdmFyIG1pbnV0ZXMgPSBNYXRoLmZsb29yKGxlYXZlMiAvICg2MCAqIDEwMDApKTtcclxuICByZXN1bHQubWludXRlcyA9IG1pbnV0ZXMgPCAxMCA/ICcwJyArIG1pbnV0ZXMgOiBtaW51dGVzO1xyXG4gIHZhciBsZWF2ZTMgPSBsZWF2ZTIgJSAoNjAgKiAxMDAwKTtcclxuICB2YXIgc2Vjb25kcyA9IE1hdGguZmxvb3IobGVhdmUzIC8gMTAwMCk7XHJcbiAgcmVzdWx0LnNlY29uZHMgPSBzZWNvbmRzIDwgMTAgPyAnMCcgKyBzZWNvbmRzIDogc2Vjb25kcztcclxuICByZXR1cm4gcmVzdWx0O1xyXG59O1xyXG52YXIgc2hhcmVkID0gbnVsbDtcclxuQnVzaW5lc3NEYXRlLnNoYXJlZEluc3RhbmNlQnVzaW5lc3NEYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gIGlmICghc2hhcmVkKSB7XHJcbiAgICBzaGFyZWQgPSBuZXcgQnVzaW5lc3NEYXRlKCk7XHJcbiAgfVxyXG4gIHJldHVybiBzaGFyZWQ7XHJcbn07XHJcbkJ1c2luZXNzRGF0ZS5mb3JtYXQgPSBmdW5jdGlvbiAoZGF0ZSwgZm10KSB7IC8vIGF1dGhvcjogbWVpenpcclxuICB2YXIgbyA9IHtcclxuICAgICdNKyc6IGRhdGUuZ2V0TW9udGgoKSArIDEsICAgICAgICAgICAgICAgICAvLyDmnIjku71cclxuICAgICdkKyc6IGRhdGUuZ2V0RGF0ZSgpLCAgICAgICAgICAgICAgICAgICAgLy8g5pelXHJcbiAgICAnaCsnOiBkYXRlLmdldEhvdXJzKCksICAgICAgICAgICAgICAgICAgIC8vIOWwj+aXtlxyXG4gICAgJ20rJzogZGF0ZS5nZXRNaW51dGVzKCksICAgICAgICAgICAgICAgICAvLyDliIZcclxuICAgICdzKyc6IGRhdGUuZ2V0U2Vjb25kcygpLCAgICAgICAgICAgICAgICAgLy8g56eSXHJcbiAgICAncSsnOiBNYXRoLmZsb29yKChkYXRlLmdldE1vbnRoKCkgKyAzKSAvIDMpLCAvLyDlraPluqZcclxuICAgIFM6IGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCkgICAgICAgICAgICAgLy8g5q+r56eSXHJcbiAgfTtcclxuICB2YXIgZm9ybWF0ID0gZm10O1xyXG4gIHZhciBrO1xyXG4gIHZhciB0ZW1wO1xyXG4gIGlmICgvKHkrKS8udGVzdChmb3JtYXQpKSB7XHJcbiAgICBmb3JtYXQgPSBmb3JtYXQucmVwbGFjZShSZWdFeHAuJDEsIChkYXRlLmdldEZ1bGxZZWFyKCkgKyAnJykuc3Vic3RyKDQgLSBSZWdFeHAuJDEubGVuZ3RoKSk7XHJcbiAgfVxyXG4gIGZvciAoayBpbiBvKSB7XHJcbiAgICBpZiAobmV3IFJlZ0V4cCgnKCcgKyBrICsgJyknKS50ZXN0KGZvcm1hdCkpIHtcclxuICAgICAgdGVtcCA9IChSZWdFeHAuJDEubGVuZ3RoID09PSAxKSA/IChvW2tdKSA6ICgoJzAwJyArIG9ba10pLnN1YnN0cigoJycgKyBvW2tdKS5sZW5ndGgpKTtcclxuICAgICAgZm9ybWF0ID0gZm9ybWF0LnJlcGxhY2UoUmVnRXhwLiQxLCB0ZW1wKTtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIGZvcm1hdDtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gQnVzaW5lc3NEYXRlO1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL3NyYy9tb2R1bGUvQnVzaW5lc3NEYXRlL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gNzZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMSAyIDMgNCA1IDYgNyA5IDEwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports){eval('module.exports = "<!--<div class=\\"msg-board-wrap  active-create\\">-->\\r\\n<div class=\\"msg-board-wrap\\">\\r\\n  <div class=\\"header am-cf\\">\\r\\n    <span class=\\"title\\">告白墙</span>\\r\\n    <a id=\\"btnShowCreate\\" class=\\"show-when-list am-btn am-btn-purple am-fr am-round\\">我要告白</a>\\r\\n    <!-- <div class=\\"tabs am-fr show-when-list tab-menu\\">\\r\\n      <a data-tab=\\"newList\\" href=\\"javascript:;\\" class=\\"active\\"><span id=\\"unReadCnt\\" class=\\"boderRadAll_5 am-round \\">99</span>最新告白</a>\\r\\n      <a data-tab=\\"hotList\\" href=\\"javascript:;\\">精彩告白</a>\\r\\n    </div> -->\\r\\n    <!-- 返回按钮-->\\r\\n    <a id=\\"btnBacktoList\\" href=\\"javascript:;\\" class=\\"am-fr show-when-create btn-back-wrap am-margin-top\\">\\r\\n      <i class=\\"back\\"></i> 返回告白墙\\r\\n    </a>\\r\\n  </div>\\r\\n  <!-- 告白模板 -->\\r\\n  <script type=\\"text/html\\" id=\\"itemTpl\\">\\r\\n    <div class=\\"item\\">\\r\\n      <p class=\\"detail am-text-break\\" style=\\"color:{{fontColor}}\\">\\r\\n        {{content}}\\r\\n      </p>\\r\\n      <div class=\\"sender\\">\\r\\n        <div class=\\"am-g\\">\\r\\n          <div class=\\"am-u-sm-2\\">\\r\\n            {{if anonymous}}\\r\\n            <span class=\\"anonymous\\"></span>\\r\\n            {{else}}\\r\\n            <img src=\\"{{user.largeAvatar}}\\" class=\\"avatar am-circle\\">\\r\\n            {{/if}}\\r\\n          </div>\\r\\n          <div class=\\"am-u-sm-10 info\\">\\r\\n            <p class=\\"name\\">{{anonymous ?\'匿名粉丝\': user.nickName}}</p>\\r\\n            <p class=\\"send-time\\">发布于<span class=\\"am-margin-left-sm\\">{{time}}</span></p>\\r\\n            <a class=\\"btn-like am-btn am-round am-vertical-align {{liked?\'active\':\'\'}}\\" data-likeid=\\"{{id}}\\" data-liked=\\"{{liked+\'\'}}\\">\\r\\n              <i class=\\"icon-heart am-vertical-align-middle\\"></i>\\r\\n              <span class=\\"am-vertical-align-middle\\">{{likeCount}}</span>\\r\\n            </a>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </script>\\r\\n\\r\\n  <div class=\\"content am-g show-when-list wall-list\\">\\r\\n    <!--列表-->\\r\\n    <div class=\\"tab newList\\">\\r\\n      <div class=\\"am-u-sm-4 column-0\\">\\r\\n        <!--第一列-->\\r\\n        <!--<div class=\\"item\\"><p class=\\"detail am-text-break\\">-->\\r\\n        <!--sfaslfjasdkfjasl;fjal;sjdf;啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊啊发案发后啊aklsjdfkl;asjfl;adsj;lfsldkfkl;sjfkl</p>-->\\r\\n        <!--<div class=\\"sender\\">-->\\r\\n        <!--<div class=\\"am-g\\">-->\\r\\n        <!--<div class=\\"am-u-sm-2\\"><img-->\\r\\n        <!--src=\\"http://img1.c.yinyuetai.com/user/avatar/160502/10392675/-M-fa3f63fbbca174fa3457f1bc313236b3_20x20.jpg\\"-->\\r\\n        <!--class=\\"avatar am-circle\\"></div>-->\\r\\n        <!--<div class=\\"am-u-sm-10 info\\"><p class=\\"name\\">asfsadfasf</p>-->\\r\\n        <!--<p class=\\"send-time\\">发布于<span class=\\"am-margin-left-sm\\">2016-10-23 34:34:00</span></p><a-->\\r\\n        <!--class=\\"btn-like am-btn am-round am-vertical-align\\"><i-->\\r\\n        <!--class=\\"icon-heart am-vertical-align-middle\\"></i><span-->\\r\\n        <!--class=\\"am-vertical-align-middle\\">32433</span></a></div>-->\\r\\n        <!--</div>-->\\r\\n        <!--</div>-->\\r\\n        <!--</div>-->\\r\\n      </div>\\r\\n      <div class=\\"am-u-sm-4 column-1\\">\\r\\n        <!--第二列-->\\r\\n      </div>\\r\\n      <div class=\\"am-u-sm-4 column-2\\">\\r\\n        <!--第三列-->\\r\\n      </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n    <!--精彩告白-->\\r\\n    <div class=\\"tab hotList Hidden\\">\\r\\n      <div class=\\"am-u-sm-4 column-0\\">\\r\\n        <!--第一列-->\\r\\n      </div>\\r\\n      <div class=\\"am-u-sm-4 column-1\\">\\r\\n        <!--第二列-->\\r\\n      </div>\\r\\n      <div class=\\"am-u-sm-4 column-2\\">\\r\\n        <!--第三列-->\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n\\r\\n  <!--创建-->\\r\\n  <div class=\\"content show-when-create create-wrap am-margin-top-lg Hidden\\">\\r\\n    <div class=\\"top am-margin-left am-padding-horizontal\\">\\r\\n      爱,就要大声告白!\\r\\n    </div>\\r\\n    <div class=\\"am-g am-padding-horizontal\\">\\r\\n      <div class=\\"am-u-sm-8\\">\\r\\n        <textarea class=\\"input-text boderRadAll_5\\" placeholder=\\"请输入告白\\" name=\\"\\" id=\\"txtMsg\\" cols=\\"30\\" rows=\\"10\\"></textarea>\\r\\n        <div class=\\"options-wrap am-vertical-align am-margin-top\\">\\r\\n          <div class=\\"color-wrap am-vertical-align-middle\\">\\r\\n            文字颜色:\\r\\n            <!--<span class=\\"color-title\\">文字颜色</span>-->\\r\\n            <div class=\\"colors\\">\\r\\n              <a class=\\"black am-circle active\\" href=\\"javascript:;\\"></a>\\r\\n              <a class=\\"red am-circle\\" href=\\"javascript:;\\"></a>\\r\\n              <a class=\\"yellow am-circle\\" href=\\"javascript:;\\"></a>\\r\\n              <a class=\\"green am-circle\\" href=\\"javascript:;\\"></a>\\r\\n              <a class=\\"blue am-circle\\" href=\\"javascript:;\\"></a>\\r\\n              <a class=\\"purple am-circle\\" href=\\"javascript:;\\"></a>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\"am-checkbox-inline am-vertical-align-middle am-margin-left\\">\\r\\n            <label>\\r\\n              <input id=\\"cbAnonymous\\" type=\\"checkbox\\"> 匿名告白\\r\\n            </label>\\r\\n          </div>\\r\\n          <div class=\\"tip am-vertical-align-middle\\">您还可以输入<span id=\\"txtLength\\" class=\\"red\\">200</span>字</div>\\r\\n        </div>\\r\\n        <div class=\\"am-cf\\">\\r\\n          <button id=\\"btnSendText\\" class=\\"am-btn am-btn-red am-fr boderRadAll_3 am-margin-top-xl\\">发布告白</button>\\r\\n        </div>\\r\\n        <div class=\\"am-cf\\">\\r\\n          <span class=\\"am-fr send-tip\\">发布告白需要消耗5积分,您当前共有<span id=\\"userScore\\" class=\\"red\\">0</span>积分</span>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\"input-tip am-u-sm-4\\">至少用20字来表达你的爱!输入文字不能超过200.\\r\\n        <p>表白中请勿发布广告,严禁发布违法内容.</p>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL3ZpZXdzL2FkdmVydGlzaW5nLXdhbGwvdGVtcGxhdGUvd2FsbC5odG1sPzk5YjMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsMllBQTJZLG1KQUFtSixvR0FBb0cseVJBQXlSLFdBQVcsaUJBQWlCLFNBQVMsdUlBQXVJLGNBQWMsbUVBQW1FLE1BQU0sNkJBQTZCLGtCQUFrQixnREFBZ0QsS0FBSyxxR0FBcUcsa0NBQWtDLGtGQUFrRixNQUFNLG1GQUFtRixtQkFBbUIsbUJBQW1CLElBQUksa0JBQWtCLFVBQVUsdUlBQXVJLFdBQVcsNllBQTZZLEtBQUssS0FBSyw0SEFBNEgsTUFBTSxLQUFLLFVBQVUsdWpFQUF1akUsdUVBQXVFLDBFQUEwRSx5RUFBeUUsd0VBQXdFLDBFQUEwRSIsImZpbGUiOiI3Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8IS0tPGRpdiBjbGFzcz1cXFwibXNnLWJvYXJkLXdyYXAgIGFjdGl2ZS1jcmVhdGVcXFwiPi0tPlxcclxcbjxkaXYgY2xhc3M9XFxcIm1zZy1ib2FyZC13cmFwXFxcIj5cXHJcXG4gIDxkaXYgY2xhc3M9XFxcImhlYWRlciBhbS1jZlxcXCI+XFxyXFxuICAgIDxzcGFuIGNsYXNzPVxcXCJ0aXRsZVxcXCI+5ZGK55m95aKZPC9zcGFuPlxcclxcbiAgICA8YSBpZD1cXFwiYnRuU2hvd0NyZWF0ZVxcXCIgY2xhc3M9XFxcInNob3ctd2hlbi1saXN0IGFtLWJ0biBhbS1idG4tcHVycGxlIGFtLWZyIGFtLXJvdW5kXFxcIj7miJHopoHlkYrnmb08L2E+XFxyXFxuICAgIDwhLS0gPGRpdiBjbGFzcz1cXFwidGFicyBhbS1mciBzaG93LXdoZW4tbGlzdCB0YWItbWVudVxcXCI+XFxyXFxuICAgICAgPGEgZGF0YS10YWI9XFxcIm5ld0xpc3RcXFwiIGhyZWY9XFxcImphdmFzY3JpcHQ6O1xcXCIgY2xhc3M9XFxcImFjdGl2ZVxcXCI+PHNwYW4gaWQ9XFxcInVuUmVhZENudFxcXCIgY2xhc3M9XFxcImJvZGVyUmFkQWxsXzUgYW0tcm91bmQgXFxcIj45OTwvc3Bhbj7mnIDmlrDlkYrnmb08L2E+XFxyXFxuICAgICAgPGEgZGF0YS10YWI9XFxcImhvdExpc3RcXFwiIGhyZWY9XFxcImphdmFzY3JpcHQ6O1xcXCI+57K+5b2p5ZGK55m9PC9hPlxcclxcbiAgICA8L2Rpdj4gLS0+XFxyXFxuICAgIDwhLS0g6L+U5Zue5oyJ6ZKuLS0+XFxyXFxuICAgIDxhIGlkPVxcXCJidG5CYWNrdG9MaXN0XFxcIiBocmVmPVxcXCJqYXZhc2NyaXB0OjtcXFwiIGNsYXNzPVxcXCJhbS1mciBzaG93LXdoZW4tY3JlYXRlIGJ0bi1iYWNrLXdyYXAgYW0tbWFyZ2luLXRvcFxcXCI+XFxyXFxuICAgICAgPGkgY2xhc3M9XFxcImJhY2tcXFwiPjwvaT4g6L+U5Zue5ZGK55m95aKZXFxyXFxuICAgIDwvYT5cXHJcXG4gIDwvZGl2PlxcclxcbiAgPCEtLSDlkYrnmb3mqKHmnb8gLS0+XFxyXFxuICA8c2NyaXB0IHR5cGU9XFxcInRleHQvaHRtbFxcXCIgaWQ9XFxcIml0ZW1UcGxcXFwiPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJpdGVtXFxcIj5cXHJcXG4gICAgICA8cCBjbGFzcz1cXFwiZGV0YWlsIGFtLXRleHQtYnJlYWtcXFwiIHN0eWxlPVxcXCJjb2xvcjp7e2ZvbnRDb2xvcn19XFxcIj5cXHJcXG4gICAgICAgIHt7Y29udGVudH19XFxyXFxuICAgICAgPC9wPlxcclxcbiAgICAgIDxkaXYgY2xhc3M9XFxcInNlbmRlclxcXCI+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJhbS1nXFxcIj5cXHJcXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYW0tdS1zbS0yXFxcIj5cXHJcXG4gICAgICAgICAgICB7e2lmIGFub255bW91c319XFxyXFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImFub255bW91c1xcXCI+PC9zcGFuPlxcclxcbiAgICAgICAgICAgIHt7ZWxzZX19XFxyXFxuICAgICAgICAgICAgPGltZyBzcmM9XFxcInt7dXNlci5sYXJnZUF2YXRhcn19XFxcIiBjbGFzcz1cXFwiYXZhdGFyIGFtLWNpcmNsZVxcXCI+XFxyXFxuICAgICAgICAgICAge3svaWZ9fVxcclxcbiAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYW0tdS1zbS0xMCBpbmZvXFxcIj5cXHJcXG4gICAgICAgICAgICA8cCBjbGFzcz1cXFwibmFtZVxcXCI+e3thbm9ueW1vdXMgPyfljL/lkI3nsonkuJ0nOiB1c2VyLm5pY2tOYW1lfX08L3A+XFxyXFxuICAgICAgICAgICAgPHAgY2xhc3M9XFxcInNlbmQtdGltZVxcXCI+5Y+R5biD5LqOPHNwYW4gY2xhc3M9XFxcImFtLW1hcmdpbi1sZWZ0LXNtXFxcIj57e3RpbWV9fTwvc3Bhbj48L3A+XFxyXFxuICAgICAgICAgICAgPGEgY2xhc3M9XFxcImJ0bi1saWtlIGFtLWJ0biBhbS1yb3VuZCBhbS12ZXJ0aWNhbC1hbGlnbiB7e2xpa2VkPydhY3RpdmUnOicnfX1cXFwiIGRhdGEtbGlrZWlkPVxcXCJ7e2lkfX1cXFwiIGRhdGEtbGlrZWQ9XFxcInt7bGlrZWQrJyd9fVxcXCI+XFxyXFxuICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiaWNvbi1oZWFydCBhbS12ZXJ0aWNhbC1hbGlnbi1taWRkbGVcXFwiPjwvaT5cXHJcXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJhbS12ZXJ0aWNhbC1hbGlnbi1taWRkbGVcXFwiPnt7bGlrZUNvdW50fX08L3NwYW4+XFxyXFxuICAgICAgICAgICAgPC9hPlxcclxcbiAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgIDwvZGl2PlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gIDwvc2NyaXB0PlxcclxcblxcclxcbiAgPGRpdiBjbGFzcz1cXFwiY29udGVudCBhbS1nIHNob3ctd2hlbi1saXN0IHdhbGwtbGlzdFxcXCI+XFxyXFxuICAgIDwhLS3liJfooagtLT5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwidGFiIG5ld0xpc3RcXFwiPlxcclxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImFtLXUtc20tNCBjb2x1bW4tMFxcXCI+XFxyXFxuICAgICAgICA8IS0t56ys5LiA5YiXLS0+XFxyXFxuICAgICAgICA8IS0tPGRpdiBjbGFzcz1cXFwiaXRlbVxcXCI+PHAgY2xhc3M9XFxcImRldGFpbCBhbS10ZXh0LWJyZWFrXFxcIj4tLT5cXHJcXG4gICAgICAgIDwhLS1zZmFzbGZqYXNka2ZqYXNsO2ZqYWw7c2pkZjvllYrlj5HmoYjlj5HlkI7llYrllYrlj5HmoYjlj5HlkI7llYrllYrlj5HmoYjlj5HlkI7llYrllYrlj5HmoYjlj5HlkI7llYrllYrlj5HmoYjlj5HlkI7llYrllYrlj5HmoYjlj5HlkI7llYrllYrlj5HmoYjlj5HlkI7llYrllYrlj5HmoYjlj5HlkI7llYrllYrlj5HmoYjlj5HlkI7llYrllYrlj5HmoYjlj5HlkI7llYrllYrlj5HmoYjlj5HlkI7llYrllYrlj5HmoYjlj5HlkI7llYrllYrlj5HmoYjlj5HlkI7llYrllYrlj5HmoYjlj5HlkI7llYrllYrlj5HmoYjlj5HlkI7llYrllYrlj5HmoYjlj5HlkI7llYrllYrlj5HmoYjlj5HlkI7llYrllYrlj5HmoYjlj5HlkI7llYrllYrlj5HmoYjlj5HlkI7llYpha2xzamRma2w7YXNqZmw7YWRzajtsZnNsZGtma2w7c2pma2w8L3A+LS0+XFxyXFxuICAgICAgICA8IS0tPGRpdiBjbGFzcz1cXFwic2VuZGVyXFxcIj4tLT5cXHJcXG4gICAgICAgIDwhLS08ZGl2IGNsYXNzPVxcXCJhbS1nXFxcIj4tLT5cXHJcXG4gICAgICAgIDwhLS08ZGl2IGNsYXNzPVxcXCJhbS11LXNtLTJcXFwiPjxpbWctLT5cXHJcXG4gICAgICAgIDwhLS1zcmM9XFxcImh0dHA6Ly9pbWcxLmMueWlueXVldGFpLmNvbS91c2VyL2F2YXRhci8xNjA1MDIvMTAzOTI2NzUvLU0tZmEzZjYzZmJiY2ExNzRmYTM0NTdmMWJjMzEzMjM2YjNfMjB4MjAuanBnXFxcIi0tPlxcclxcbiAgICAgICAgPCEtLWNsYXNzPVxcXCJhdmF0YXIgYW0tY2lyY2xlXFxcIj48L2Rpdj4tLT5cXHJcXG4gICAgICAgIDwhLS08ZGl2IGNsYXNzPVxcXCJhbS11LXNtLTEwIGluZm9cXFwiPjxwIGNsYXNzPVxcXCJuYW1lXFxcIj5hc2ZzYWRmYXNmPC9wPi0tPlxcclxcbiAgICAgICAgPCEtLTxwIGNsYXNzPVxcXCJzZW5kLXRpbWVcXFwiPuWPkeW4g+S6jjxzcGFuIGNsYXNzPVxcXCJhbS1tYXJnaW4tbGVmdC1zbVxcXCI+MjAxNi0xMC0yMyAzNDozNDowMDwvc3Bhbj48L3A+PGEtLT5cXHJcXG4gICAgICAgIDwhLS1jbGFzcz1cXFwiYnRuLWxpa2UgYW0tYnRuIGFtLXJvdW5kIGFtLXZlcnRpY2FsLWFsaWduXFxcIj48aS0tPlxcclxcbiAgICAgICAgPCEtLWNsYXNzPVxcXCJpY29uLWhlYXJ0IGFtLXZlcnRpY2FsLWFsaWduLW1pZGRsZVxcXCI+PC9pPjxzcGFuLS0+XFxyXFxuICAgICAgICA8IS0tY2xhc3M9XFxcImFtLXZlcnRpY2FsLWFsaWduLW1pZGRsZVxcXCI+MzI0MzM8L3NwYW4+PC9hPjwvZGl2Pi0tPlxcclxcbiAgICAgICAgPCEtLTwvZGl2Pi0tPlxcclxcbiAgICAgICAgPCEtLTwvZGl2Pi0tPlxcclxcbiAgICAgICAgPCEtLTwvZGl2Pi0tPlxcclxcbiAgICAgIDwvZGl2PlxcclxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImFtLXUtc20tNCBjb2x1bW4tMVxcXCI+XFxyXFxuICAgICAgICA8IS0t56ys5LqM5YiXLS0+XFxyXFxuICAgICAgPC9kaXY+XFxyXFxuICAgICAgPGRpdiBjbGFzcz1cXFwiYW0tdS1zbS00IGNvbHVtbi0yXFxcIj5cXHJcXG4gICAgICAgIDwhLS3nrKzkuInliJctLT5cXHJcXG4gICAgICA8L2Rpdj5cXHJcXG5cXHJcXG4gICAgPC9kaXY+XFxyXFxuXFxyXFxuICAgIDwhLS3nsr7lvanlkYrnmb0tLT5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwidGFiIGhvdExpc3QgSGlkZGVuXFxcIj5cXHJcXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJhbS11LXNtLTQgY29sdW1uLTBcXFwiPlxcclxcbiAgICAgICAgPCEtLeesrOS4gOWIly0tPlxcclxcbiAgICAgIDwvZGl2PlxcclxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImFtLXUtc20tNCBjb2x1bW4tMVxcXCI+XFxyXFxuICAgICAgICA8IS0t56ys5LqM5YiXLS0+XFxyXFxuICAgICAgPC9kaXY+XFxyXFxuICAgICAgPGRpdiBjbGFzcz1cXFwiYW0tdS1zbS00IGNvbHVtbi0yXFxcIj5cXHJcXG4gICAgICAgIDwhLS3nrKzkuInliJctLT5cXHJcXG4gICAgICA8L2Rpdj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuXFxyXFxuICA8L2Rpdj5cXHJcXG5cXHJcXG4gIDwhLS3liJvlu7otLT5cXHJcXG4gIDxkaXYgY2xhc3M9XFxcImNvbnRlbnQgc2hvdy13aGVuLWNyZWF0ZSBjcmVhdGUtd3JhcCBhbS1tYXJnaW4tdG9wLWxnIEhpZGRlblxcXCI+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcInRvcCBhbS1tYXJnaW4tbGVmdCBhbS1wYWRkaW5nLWhvcml6b250YWxcXFwiPlxcclxcbiAgICAgIOeIsSzlsLHopoHlpKflo7DlkYrnmb0hXFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJhbS1nIGFtLXBhZGRpbmctaG9yaXpvbnRhbFxcXCI+XFxyXFxuICAgICAgPGRpdiBjbGFzcz1cXFwiYW0tdS1zbS04XFxcIj5cXHJcXG4gICAgICAgIDx0ZXh0YXJlYSBjbGFzcz1cXFwiaW5wdXQtdGV4dCBib2RlclJhZEFsbF81XFxcIiBwbGFjZWhvbGRlcj1cXFwi6K+36L6T5YWl5ZGK55m9XFxcIiBuYW1lPVxcXCJcXFwiIGlkPVxcXCJ0eHRNc2dcXFwiIGNvbHM9XFxcIjMwXFxcIiByb3dzPVxcXCIxMFxcXCI+PC90ZXh0YXJlYT5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcIm9wdGlvbnMtd3JhcCBhbS12ZXJ0aWNhbC1hbGlnbiBhbS1tYXJnaW4tdG9wXFxcIj5cXHJcXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sb3Itd3JhcCBhbS12ZXJ0aWNhbC1hbGlnbi1taWRkbGVcXFwiPlxcclxcbiAgICAgICAgICAgIOaWh+Wtl+minOiJsjpcXHJcXG4gICAgICAgICAgICA8IS0tPHNwYW4gY2xhc3M9XFxcImNvbG9yLXRpdGxlXFxcIj7mloflrZfpopzoibI8L3NwYW4+LS0+XFxyXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sb3JzXFxcIj5cXHJcXG4gICAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJibGFjayBhbS1jaXJjbGUgYWN0aXZlXFxcIiBocmVmPVxcXCJqYXZhc2NyaXB0OjtcXFwiPjwvYT5cXHJcXG4gICAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJyZWQgYW0tY2lyY2xlXFxcIiBocmVmPVxcXCJqYXZhc2NyaXB0OjtcXFwiPjwvYT5cXHJcXG4gICAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJ5ZWxsb3cgYW0tY2lyY2xlXFxcIiBocmVmPVxcXCJqYXZhc2NyaXB0OjtcXFwiPjwvYT5cXHJcXG4gICAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJncmVlbiBhbS1jaXJjbGVcXFwiIGhyZWY9XFxcImphdmFzY3JpcHQ6O1xcXCI+PC9hPlxcclxcbiAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcImJsdWUgYW0tY2lyY2xlXFxcIiBocmVmPVxcXCJqYXZhc2NyaXB0OjtcXFwiPjwvYT5cXHJcXG4gICAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJwdXJwbGUgYW0tY2lyY2xlXFxcIiBocmVmPVxcXCJqYXZhc2NyaXB0OjtcXFwiPjwvYT5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImFtLWNoZWNrYm94LWlubGluZSBhbS12ZXJ0aWNhbC1hbGlnbi1taWRkbGUgYW0tbWFyZ2luLWxlZnRcXFwiPlxcclxcbiAgICAgICAgICAgIDxsYWJlbD5cXHJcXG4gICAgICAgICAgICAgIDxpbnB1dCBpZD1cXFwiY2JBbm9ueW1vdXNcXFwiIHR5cGU9XFxcImNoZWNrYm94XFxcIj4g5Yy/5ZCN5ZGK55m9XFxyXFxuICAgICAgICAgICAgPC9sYWJlbD5cXHJcXG4gICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInRpcCBhbS12ZXJ0aWNhbC1hbGlnbi1taWRkbGVcXFwiPuaCqOi/mOWPr+S7pei+k+WFpTxzcGFuIGlkPVxcXCJ0eHRMZW5ndGhcXFwiIGNsYXNzPVxcXCJyZWRcXFwiPjIwMDwvc3Bhbj7lrZc8L2Rpdj5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiYW0tY2ZcXFwiPlxcclxcbiAgICAgICAgICA8YnV0dG9uIGlkPVxcXCJidG5TZW5kVGV4dFxcXCIgY2xhc3M9XFxcImFtLWJ0biBhbS1idG4tcmVkIGFtLWZyIGJvZGVyUmFkQWxsXzMgYW0tbWFyZ2luLXRvcC14bFxcXCI+5Y+R5biD5ZGK55m9PC9idXR0b24+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImFtLWNmXFxcIj5cXHJcXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImFtLWZyIHNlbmQtdGlwXFxcIj7lj5HluIPlkYrnmb3pnIDopoHmtojogJc156ev5YiGLOaCqOW9k+WJjeWFseaciTxzcGFuIGlkPVxcXCJ1c2VyU2NvcmVcXFwiIGNsYXNzPVxcXCJyZWRcXFwiPjA8L3NwYW4+56ev5YiGPC9zcGFuPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgPC9kaXY+XFxyXFxuICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXQtdGlwIGFtLXUtc20tNFxcXCI+6Iez5bCR55SoMjDlrZfmnaXooajovr7kvaDnmoTniLEh6L6T5YWl5paH5a2X5LiN6IO96LaF6L+HMjAwLlxcclxcbiAgICAgICAgPHA+6KGo55m95Lit6K+35Yu/5Y+R5biD5bm/5ZGKLOS4peemgeWPkeW4g+i/neazleWGheWuuS48L3A+XFxyXFxuICAgICAgPC9kaXY+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgPC9kaXY+XFxyXFxuPC9kaXY+XFxyXFxuXCJcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL3NyYy92aWV3cy9hZHZlcnRpc2luZy13YWxsL3RlbXBsYXRlL3dhbGwuaHRtbFxuICoqIG1vZHVsZSBpZCA9IDc3XG4gKiogbW9kdWxlIGNodW5rcyA9IDEgMyA1IDcgOVxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=');
},function(module,exports,__webpack_require__){eval("/*\r\n clientRender:{bool} // 默认设置为false，如果为true，内部将不会调用rawLoader方法或者根据templateUrl请求模版\r\n */\r\n\r\n\r\n/**\r\n * @time 2016-03-09\r\n * @author YuanXuJia\r\n * @info 更换主题背景\r\n */\r\nvar Backbone = window.Backbone;\r\nvar base = __webpack_require__(28);\r\nvar BaseView = base.View; // View的基类\r\nvar EditBgModel = __webpack_require__(79);\r\nvar UploadFileDialog = __webpack_require__(80);\r\nvar msgBox = __webpack_require__(75);\r\nvar UserModel = __webpack_require__(51);\r\nvar user = UserModel.sharedInstanceUserModel();\r\n\r\nvar View = BaseView.extend({\r\n  el: '#edit_background', // 设置View对象作用于的根元素，比如id\r\n  rawLoader: function () { // 可用此方法返回字符串模版\r\n    return __webpack_require__(83);\r\n  },\r\n  events: { // 监听事件\r\n    'click .edit_bg_btn': 'showFileUploadDialog'\r\n  },\r\n  // 当模板挂载到元素之前\r\n  beforeMount: function () {\r\n    this.editBgModel = new EditBgModel();\r\n    this.uploadFile = new UploadFileDialog(this.getFileUploadOptions());\r\n\r\n    // 数据参数\r\n    this.bgModelParams = {\r\n      access_token: user.getWebToken(),\r\n      deviceinfo: '{\"aid\": \"30001001\"}',\r\n      roomId: '',\r\n      imageUrl: ''\r\n    };\r\n  },\r\n  // 当模板挂载到元素之后\r\n  afterMount: function () {\r\n    // 修改背景按钮\r\n    this.changeBgBtn = $('.edit_bg_btn');\r\n    this.txtPopularity = $('#txtPopularity');\r\n    this.txtRoomName = $('#txtRoomName');\r\n\r\n    this.anchorContainerBg = $('#anchorContainerBg');\r\n    this.anchorThemeBgDOM = $('#anchorThemeBg');\r\n  },\r\n  // 当事件监听器，内部实例初始化完成，模板挂载到文档之后\r\n  ready: function () {\r\n    this.defineEventInterface();\r\n\r\n    // 修改背景图片按钮\r\n    $('.edit_bg_btn').on('click', this.showFileUploadDialog.bind(this));\r\n  },\r\n  /**\r\n   * 定义事件\r\n   */\r\n  defineEventInterface: function () {\r\n    var self = this;\r\n    Backbone.on('event:roomInfoReady', function (data) {\r\n      if (data) {\r\n        self.roomInfo = data;\r\n        self.txtRoomName.text(data.roomName || '');\r\n        self.txtPopularity.text(data.realPopularity || 0);\r\n        if (self.roomInfo.imageUrl) {\r\n          self.setBgStyle(self.roomInfo.imageUrl);\r\n        }\r\n      }\r\n    });\r\n    Backbone.on('event:updateRoomInfo', function (data) {\r\n      if (data) {\r\n        // self.roomInfo = data;\r\n        self.txtPopularity.text(data.popularity || 0);\r\n      }\r\n    });\r\n  },\r\n  getFileUploadOptions: function () {\r\n    var self = this;\r\n    return {\r\n      width: 580,\r\n      height: 341,\r\n      isRemoveAfterHide: false,\r\n      isAutoShow: false,\r\n      mainClass: 'shadow_screen_x',\r\n      closeClass: 'editor_bg_close_x',\r\n      closeText: 'X',\r\n      title: '上传主题背景图片',\r\n      ctrlData: {\r\n        cmd: [{\r\n          point: '+1+1',\r\n          srcImg: 'img',\r\n          op: 'crop',\r\n          size: '1200x270'\r\n        }, {\r\n          saveOriginal: 1,\r\n          op: 'save',\r\n          plan: 'avatar',\r\n          belongId: '20634338',\r\n          srcImg: 'img'\r\n        }],\r\n        redirect: 'http://' + window.location.host + '/cross-url/upload.html'\r\n      },\r\n      uploadFileSuccess: function (response) {\r\n        var result = self.uploadFile.parseErrorMsg(response);\r\n        if (result === true) {\r\n          self.currentBgImg = response.images[0].path;\r\n        } else {\r\n          msgBox.showTip(result);\r\n        }\r\n      },\r\n      saveFile: function () {\r\n        self.setBackgroundImg();\r\n      }\r\n    };\r\n  },\r\n  showFileUploadDialog: function () {\r\n    var attrs = null;\r\n    if (this.roomInfo.imageUrl) {\r\n      attrs = {\r\n        inputText: '编辑图片',\r\n        breviaryUrl: this.roomInfo.imageUrl\r\n      };\r\n    }\r\n    this.currentBgImg = '';\r\n    this.uploadFile.show(attrs);\r\n  },\r\n  setBackgroundImg: function () {\r\n    var self = this;\r\n    var promise;\r\n    if (!self.currentBgImg) {\r\n      msgBox.showTip('请耐心等待图片上传完成!');\r\n      return;\r\n    }\r\n\r\n    self.bgModelParams.roomId = this.roomInfo.id;\r\n    self.bgModelParams.imageUrl = this.currentBgImg;\r\n\r\n    promise = self.editBgModel.executeJSONP(self.bgModelParams);\r\n    promise.done(function (res) {\r\n      if (res && res.code === '0') {\r\n        self.setBgStyle(self.currentBgImg);\r\n        self.uploadFile.hide();\r\n        msgBox.showOK('背景图片设置成功');\r\n      } else {\r\n        msgBox.showError(res.msg || '背景图片设置失败,稍后重试');\r\n      }\r\n    });\r\n    promise.fail(function () {\r\n      msgBox.showError('背景图片设置失败,稍后重试');\r\n    });\r\n  },\r\n  setBgStyle: function (url) {\r\n    if (url) {\r\n      this.anchorThemeBgDOM.css('background', 'url(' + url + ')');\r\n      $('.edit_bg_btn').hide();\r\n    }\r\n  }\r\n});\r\n\r\nmodule.exports = View;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL3ZpZXdzL2FuY2hvci9hbmNob3ItZWRpdC1iZy52aWV3LmpzP2I4MmMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxlQUFlLEtBQUs7QUFDcEI7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBLEdBQUc7QUFDSCxXQUFXO0FBQ1g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtCQUFrQjtBQUN0QztBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQiLCJmaWxlIjoiNzguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gY2xpZW50UmVuZGVyOntib29sfSAvLyDpu5jorqTorr7nva7kuLpmYWxzZe+8jOWmguaenOS4unRydWXvvIzlhoXpg6jlsIbkuI3kvJrosIPnlKhyYXdMb2FkZXLmlrnms5XmiJbogIXmoLnmja50ZW1wbGF0ZVVybOivt+axguaooeeJiFxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuICogQHRpbWUgMjAxNi0wMy0wOVxyXG4gKiBAYXV0aG9yIFl1YW5YdUppYVxyXG4gKiBAaW5mbyDmm7TmjaLkuLvpopjog4zmma9cclxuICovXHJcbnZhciBCYWNrYm9uZSA9IHdpbmRvdy5CYWNrYm9uZTtcclxudmFyIGJhc2UgPSByZXF1aXJlKCdiYXNlLWV4dGVuZC1iYWNrYm9uZScpO1xyXG52YXIgQmFzZVZpZXcgPSBiYXNlLlZpZXc7IC8vIFZpZXfnmoTln7rnsbtcclxudmFyIEVkaXRCZ01vZGVsID0gcmVxdWlyZSgnLi4vLi4vbW9kZWxzL2FuY2hvci9hbmNob3ItZWRpdC1iZy5tb2RlbCcpO1xyXG52YXIgVXBsb2FkRmlsZURpYWxvZyA9IHJlcXVpcmUoJ1VwbG9hZEZpbGVEaWFsb2cnKTtcclxudmFyIG1zZ0JveCA9IHJlcXVpcmUoJ3VpLm1zZ0JveCcpO1xyXG52YXIgVXNlck1vZGVsID0gcmVxdWlyZSgnVXNlck1vZGVsJyk7XHJcbnZhciB1c2VyID0gVXNlck1vZGVsLnNoYXJlZEluc3RhbmNlVXNlck1vZGVsKCk7XHJcblxyXG52YXIgVmlldyA9IEJhc2VWaWV3LmV4dGVuZCh7XHJcbiAgZWw6ICcjZWRpdF9iYWNrZ3JvdW5kJywgLy8g6K6+572uVmlld+WvueixoeS9nOeUqOS6jueahOagueWFg+e0oO+8jOavlOWmgmlkXHJcbiAgcmF3TG9hZGVyOiBmdW5jdGlvbiAoKSB7IC8vIOWPr+eUqOatpOaWueazlei/lOWbnuWtl+espuS4suaooeeJiFxyXG4gICAgcmV0dXJuIHJlcXVpcmUoJy4vdGVtcGxhdGUvZWRpdC1iZy5odG1sJyk7XHJcbiAgfSxcclxuICBldmVudHM6IHsgLy8g55uR5ZCs5LqL5Lu2XHJcbiAgICAnY2xpY2sgLmVkaXRfYmdfYnRuJzogJ3Nob3dGaWxlVXBsb2FkRGlhbG9nJ1xyXG4gIH0sXHJcbiAgLy8g5b2T5qih5p2/5oyC6L295Yiw5YWD57Sg5LmL5YmNXHJcbiAgYmVmb3JlTW91bnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuZWRpdEJnTW9kZWwgPSBuZXcgRWRpdEJnTW9kZWwoKTtcclxuICAgIHRoaXMudXBsb2FkRmlsZSA9IG5ldyBVcGxvYWRGaWxlRGlhbG9nKHRoaXMuZ2V0RmlsZVVwbG9hZE9wdGlvbnMoKSk7XHJcblxyXG4gICAgLy8g5pWw5o2u5Y+C5pWwXHJcbiAgICB0aGlzLmJnTW9kZWxQYXJhbXMgPSB7XHJcbiAgICAgIGFjY2Vzc190b2tlbjogdXNlci5nZXRXZWJUb2tlbigpLFxyXG4gICAgICBkZXZpY2VpbmZvOiAne1wiYWlkXCI6IFwiMzAwMDEwMDFcIn0nLFxyXG4gICAgICByb29tSWQ6ICcnLFxyXG4gICAgICBpbWFnZVVybDogJydcclxuICAgIH07XHJcbiAgfSxcclxuICAvLyDlvZPmqKHmnb/mjILovb3liLDlhYPntKDkuYvlkI5cclxuICBhZnRlck1vdW50OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyDkv67mlLnog4zmma/mjInpkq5cclxuICAgIHRoaXMuY2hhbmdlQmdCdG4gPSAkKCcuZWRpdF9iZ19idG4nKTtcclxuICAgIHRoaXMudHh0UG9wdWxhcml0eSA9ICQoJyN0eHRQb3B1bGFyaXR5Jyk7XHJcbiAgICB0aGlzLnR4dFJvb21OYW1lID0gJCgnI3R4dFJvb21OYW1lJyk7XHJcblxyXG4gICAgdGhpcy5hbmNob3JDb250YWluZXJCZyA9ICQoJyNhbmNob3JDb250YWluZXJCZycpO1xyXG4gICAgdGhpcy5hbmNob3JUaGVtZUJnRE9NID0gJCgnI2FuY2hvclRoZW1lQmcnKTtcclxuICB9LFxyXG4gIC8vIOW9k+S6i+S7tuebkeWQrOWZqO+8jOWGhemDqOWunuS+i+WIneWni+WMluWujOaIkO+8jOaooeadv+aMgui9veWIsOaWh+aho+S5i+WQjlxyXG4gIHJlYWR5OiBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLmRlZmluZUV2ZW50SW50ZXJmYWNlKCk7XHJcblxyXG4gICAgLy8g5L+u5pS56IOM5pmv5Zu+54mH5oyJ6ZKuXHJcbiAgICAkKCcuZWRpdF9iZ19idG4nKS5vbignY2xpY2snLCB0aGlzLnNob3dGaWxlVXBsb2FkRGlhbG9nLmJpbmQodGhpcykpO1xyXG4gIH0sXHJcbiAgLyoqXHJcbiAgICog5a6a5LmJ5LqL5Lu2XHJcbiAgICovXHJcbiAgZGVmaW5lRXZlbnRJbnRlcmZhY2U6IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIEJhY2tib25lLm9uKCdldmVudDpyb29tSW5mb1JlYWR5JywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICBzZWxmLnJvb21JbmZvID0gZGF0YTtcclxuICAgICAgICBzZWxmLnR4dFJvb21OYW1lLnRleHQoZGF0YS5yb29tTmFtZSB8fCAnJyk7XHJcbiAgICAgICAgc2VsZi50eHRQb3B1bGFyaXR5LnRleHQoZGF0YS5yZWFsUG9wdWxhcml0eSB8fCAwKTtcclxuICAgICAgICBpZiAoc2VsZi5yb29tSW5mby5pbWFnZVVybCkge1xyXG4gICAgICAgICAgc2VsZi5zZXRCZ1N0eWxlKHNlbGYucm9vbUluZm8uaW1hZ2VVcmwpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBCYWNrYm9uZS5vbignZXZlbnQ6dXBkYXRlUm9vbUluZm8nLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgIC8vIHNlbGYucm9vbUluZm8gPSBkYXRhO1xyXG4gICAgICAgIHNlbGYudHh0UG9wdWxhcml0eS50ZXh0KGRhdGEucG9wdWxhcml0eSB8fCAwKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSxcclxuICBnZXRGaWxlVXBsb2FkT3B0aW9uczogZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgd2lkdGg6IDU4MCxcclxuICAgICAgaGVpZ2h0OiAzNDEsXHJcbiAgICAgIGlzUmVtb3ZlQWZ0ZXJIaWRlOiBmYWxzZSxcclxuICAgICAgaXNBdXRvU2hvdzogZmFsc2UsXHJcbiAgICAgIG1haW5DbGFzczogJ3NoYWRvd19zY3JlZW5feCcsXHJcbiAgICAgIGNsb3NlQ2xhc3M6ICdlZGl0b3JfYmdfY2xvc2VfeCcsXHJcbiAgICAgIGNsb3NlVGV4dDogJ1gnLFxyXG4gICAgICB0aXRsZTogJ+S4iuS8oOS4u+mimOiDjOaZr+WbvueJhycsXHJcbiAgICAgIGN0cmxEYXRhOiB7XHJcbiAgICAgICAgY21kOiBbe1xyXG4gICAgICAgICAgcG9pbnQ6ICcrMSsxJyxcclxuICAgICAgICAgIHNyY0ltZzogJ2ltZycsXHJcbiAgICAgICAgICBvcDogJ2Nyb3AnLFxyXG4gICAgICAgICAgc2l6ZTogJzEyMDB4MjcwJ1xyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgIHNhdmVPcmlnaW5hbDogMSxcclxuICAgICAgICAgIG9wOiAnc2F2ZScsXHJcbiAgICAgICAgICBwbGFuOiAnYXZhdGFyJyxcclxuICAgICAgICAgIGJlbG9uZ0lkOiAnMjA2MzQzMzgnLFxyXG4gICAgICAgICAgc3JjSW1nOiAnaW1nJ1xyXG4gICAgICAgIH1dLFxyXG4gICAgICAgIHJlZGlyZWN0OiAnaHR0cDovLycgKyB3aW5kb3cubG9jYXRpb24uaG9zdCArICcvY3Jvc3MtdXJsL3VwbG9hZC5odG1sJ1xyXG4gICAgICB9LFxyXG4gICAgICB1cGxvYWRGaWxlU3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IHNlbGYudXBsb2FkRmlsZS5wYXJzZUVycm9yTXNnKHJlc3BvbnNlKTtcclxuICAgICAgICBpZiAocmVzdWx0ID09PSB0cnVlKSB7XHJcbiAgICAgICAgICBzZWxmLmN1cnJlbnRCZ0ltZyA9IHJlc3BvbnNlLmltYWdlc1swXS5wYXRoO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBtc2dCb3guc2hvd1RpcChyZXN1bHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgc2F2ZUZpbGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLnNldEJhY2tncm91bmRJbWcoKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9LFxyXG4gIHNob3dGaWxlVXBsb2FkRGlhbG9nOiBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgYXR0cnMgPSBudWxsO1xyXG4gICAgaWYgKHRoaXMucm9vbUluZm8uaW1hZ2VVcmwpIHtcclxuICAgICAgYXR0cnMgPSB7XHJcbiAgICAgICAgaW5wdXRUZXh0OiAn57yW6L6R5Zu+54mHJyxcclxuICAgICAgICBicmV2aWFyeVVybDogdGhpcy5yb29tSW5mby5pbWFnZVVybFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgdGhpcy5jdXJyZW50QmdJbWcgPSAnJztcclxuICAgIHRoaXMudXBsb2FkRmlsZS5zaG93KGF0dHJzKTtcclxuICB9LFxyXG4gIHNldEJhY2tncm91bmRJbWc6IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBwcm9taXNlO1xyXG4gICAgaWYgKCFzZWxmLmN1cnJlbnRCZ0ltZykge1xyXG4gICAgICBtc2dCb3guc2hvd1RpcCgn6K+36ICQ5b+D562J5b6F5Zu+54mH5LiK5Lyg5a6M5oiQIScpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgc2VsZi5iZ01vZGVsUGFyYW1zLnJvb21JZCA9IHRoaXMucm9vbUluZm8uaWQ7XHJcbiAgICBzZWxmLmJnTW9kZWxQYXJhbXMuaW1hZ2VVcmwgPSB0aGlzLmN1cnJlbnRCZ0ltZztcclxuXHJcbiAgICBwcm9taXNlID0gc2VsZi5lZGl0QmdNb2RlbC5leGVjdXRlSlNPTlAoc2VsZi5iZ01vZGVsUGFyYW1zKTtcclxuICAgIHByb21pc2UuZG9uZShmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgIGlmIChyZXMgJiYgcmVzLmNvZGUgPT09ICcwJykge1xyXG4gICAgICAgIHNlbGYuc2V0QmdTdHlsZShzZWxmLmN1cnJlbnRCZ0ltZyk7XHJcbiAgICAgICAgc2VsZi51cGxvYWRGaWxlLmhpZGUoKTtcclxuICAgICAgICBtc2dCb3guc2hvd09LKCfog4zmma/lm77niYforr7nva7miJDlip8nKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBtc2dCb3guc2hvd0Vycm9yKHJlcy5tc2cgfHwgJ+iDjOaZr+WbvueJh+iuvue9ruWksei0pSznqI3lkI7ph43or5UnKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBwcm9taXNlLmZhaWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICBtc2dCb3guc2hvd0Vycm9yKCfog4zmma/lm77niYforr7nva7lpLHotKUs56iN5ZCO6YeN6K+VJyk7XHJcbiAgICB9KTtcclxuICB9LFxyXG4gIHNldEJnU3R5bGU6IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgIGlmICh1cmwpIHtcclxuICAgICAgdGhpcy5hbmNob3JUaGVtZUJnRE9NLmNzcygnYmFja2dyb3VuZCcsICd1cmwoJyArIHVybCArICcpJyk7XHJcbiAgICAgICQoJy5lZGl0X2JnX2J0bicpLmhpZGUoKTtcclxuICAgIH1cclxuICB9XHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBWaWV3O1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL3NyYy92aWV3cy9hbmNob3IvYW5jaG9yLWVkaXQtYmcudmlldy5qc1xuICoqIG1vZHVsZSBpZCA9IDc4XG4gKiogbW9kdWxlIGNodW5rcyA9IDEgM1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("'use strict';\r\n\r\nvar base = __webpack_require__(28);\r\nvar Config = __webpack_require__(50);\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/room/bg_set.json',\r\n  beforeEmit: function beforeEmit() {\r\n    // 给请求地址替换一下环境变量\r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZGVscy9hbmNob3IvYW5jaG9yLWVkaXQtYmcubW9kZWwuanM/NTc1ZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVUsWUFBWTtBQUN0QjtBQUNBO0FBQ0EsYUFBYSxJQUFJLGVBQWUsSUFBSTtBQUNwQyxxQ0FBcUMsWUFBWTtBQUNqRDtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiI3OS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbnZhciBiYXNlID0gcmVxdWlyZSgnYmFzZS1leHRlbmQtYmFja2JvbmUnKTtcclxudmFyIENvbmZpZyA9IHJlcXVpcmUoJ2NvbmZpZycpO1xyXG52YXIgQmFzZU1vZGVsID0gYmFzZS5Nb2RlbDtcclxudmFyIGVudiA9IENvbmZpZy5lbnZbQ29uZmlnLnNjaGVtZV07XHJcblxyXG52YXIgTW9kZWwgPSBCYXNlTW9kZWwuZXh0ZW5kKHtcclxuICB1cmw6ICd7e3VybF9wcmVmaXh9fS9yb29tL2JnX3NldC5qc29uJyxcclxuICBiZWZvcmVFbWl0OiBmdW5jdGlvbiBiZWZvcmVFbWl0KCkge1xyXG4gICAgLy8g57uZ6K+35rGC5Zyw5Z2A5pu/5o2i5LiA5LiL546v5aKD5Y+Y6YePXHJcbiAgICBpZiAoL15cXHt7MCwyfSh1cmxfcHJlZml4KVxcfXswLDJ9Ly50ZXN0KHRoaXMudXJsKSkge1xyXG4gICAgICB0aGlzLnVybCA9IHRoaXMudXJsLnJlcGxhY2UoJ3t7dXJsX3ByZWZpeH19JywgZW52LnVybF9wcmVmaXgpO1xyXG4gICAgfVxyXG4gIH1cclxufSk7XHJcblxyXG52YXIgc2hhcmVkID0gbnVsbDtcclxuTW9kZWwuc2hhcmVkSW5zdGFuY2VNb2RlbCA9IGZ1bmN0aW9uIHNoYXJlZEluc3RhbmNlTW9kZWwoKSB7XHJcbiAgaWYgKCFzaGFyZWQpIHtcclxuICAgIHNoYXJlZCA9IG5ldyBNb2RlbCgpO1xyXG4gIH1cclxuICByZXR1cm4gc2hhcmVkO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBNb2RlbDtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9zcmMvbW9kZWxzL2FuY2hvci9hbmNob3ItZWRpdC1iZy5tb2RlbC5qc1xuICoqIG1vZHVsZSBpZCA9IDc5XG4gKiogbW9kdWxlIGNodW5rcyA9IDEgM1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("/*\r\n clientRender:{bool} //默认设置为false，如果为true，内部将不会调用rawLoader方法或者根据templateUrl请求模版\r\n */\r\n\r\n\r\n/**\r\n * @time {时间}\r\n * @author {编写者}\r\n * @info {实现的功能}\r\n */\r\n\r\n'use strict';\r\nvar shared = null;\r\nvar dialogTemp = __webpack_require__(81);\r\nvar Dialog = __webpack_require__(52);\r\nvar Helper = __webpack_require__(82);\r\n\r\nvar UploadFileDialog = function (options) {\r\n  var self = this;\r\n  this.options = options;\r\n  this.dialog = Dialog.classInstanceDialog(dialogTemp, options);\r\n  this.helper = new Helper({\r\n    ctrlData: this.options.ctrlData,\r\n    id: '#' + this.dialog.id\r\n  });\r\n  this.helper.on('uploadFileSuccess', function (response) {\r\n    if (typeof self.options.uploadFileSuccess === 'function') {\r\n      self.options.uploadFileSuccess(response);\r\n    }\r\n  });\r\n  this.helper.on('saveFile', function () {\r\n    if (typeof self.options.saveFile === 'function') {\r\n      self.options.saveFile();\r\n    }\r\n  });\r\n};\r\nUploadFileDialog.prototype.show = function (obj) {\r\n  if (this.helper && obj) {\r\n    this.helper.trigger('successBreviary', obj);\r\n  }\r\n  this.dialog.show();\r\n};\r\nUploadFileDialog.prototype.hide = function () {\r\n  this.dialog.hide();\r\n};\r\nUploadFileDialog.prototype.emptyValue = function () {\r\n  if (this.helper) {\r\n    this.helper.emptyValue();\r\n  }\r\n};\r\n\r\nUploadFileDialog.prototype.parseErrorMsg = function (res) {\r\n  var code;\r\n  if (res && res.state === 'SUCCESS') {\r\n    return true;\r\n  }\r\n  code = res.errCode * 1 || 0;\r\n  switch (code) {\r\n    case 29:\r\n      return '上传的文件太大了,请重新上传';\r\n    case 31:\r\n      return '请上传JPGE,JPG,PNG,GIF等格式的图片文件';\r\n    default:\r\n      return '文件上传失败,请重新上传';\r\n  }\r\n};\r\n\r\n\r\nUploadFileDialog.sharedInstanceUploadFileDialog = function (options) {\r\n  if (!shared) {\r\n    shared = new UploadFileDialog(options);\r\n  }\r\n  return shared;\r\n};\r\nmodule.exports = UploadFileDialog;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZHVsZS9VcGxvYWRGaWxlRGlhbG9nL2luZGV4LmpzP2Q1YjYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxlQUFlLEtBQUs7QUFDcEI7OztBQUdBO0FBQ0EsVUFBVTtBQUNWLFlBQVk7QUFDWixVQUFVO0FBQ1Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiI4MC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiBjbGllbnRSZW5kZXI6e2Jvb2x9IC8v6buY6K6k6K6+572u5Li6ZmFsc2XvvIzlpoLmnpzkuLp0cnVl77yM5YaF6YOo5bCG5LiN5Lya6LCD55SocmF3TG9hZGVy5pa55rOV5oiW6ICF5qC55o2udGVtcGxhdGVVcmzor7fmsYLmqKHniYhcclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEB0aW1lIHvml7bpl7R9XHJcbiAqIEBhdXRob3Ige+e8luWGmeiAhX1cclxuICogQGluZm8ge+WunueOsOeahOWKn+iDvX1cclxuICovXHJcblxyXG4ndXNlIHN0cmljdCc7XHJcbnZhciBzaGFyZWQgPSBudWxsO1xyXG52YXIgZGlhbG9nVGVtcCA9IHJlcXVpcmUoJy4vdGVtcGxhdGUvZmlsZURpYWxvZy5odG1sJyk7XHJcbnZhciBEaWFsb2cgPSByZXF1aXJlKCd1aS5EaWFsb2cnKTtcclxudmFyIEhlbHBlciA9IHJlcXVpcmUoJy4vaGVscGVyJyk7XHJcblxyXG52YXIgVXBsb2FkRmlsZURpYWxvZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgdGhpcy5kaWFsb2cgPSBEaWFsb2cuY2xhc3NJbnN0YW5jZURpYWxvZyhkaWFsb2dUZW1wLCBvcHRpb25zKTtcclxuICB0aGlzLmhlbHBlciA9IG5ldyBIZWxwZXIoe1xyXG4gICAgY3RybERhdGE6IHRoaXMub3B0aW9ucy5jdHJsRGF0YSxcclxuICAgIGlkOiAnIycgKyB0aGlzLmRpYWxvZy5pZFxyXG4gIH0pO1xyXG4gIHRoaXMuaGVscGVyLm9uKCd1cGxvYWRGaWxlU3VjY2VzcycsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgaWYgKHR5cGVvZiBzZWxmLm9wdGlvbnMudXBsb2FkRmlsZVN1Y2Nlc3MgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgc2VsZi5vcHRpb25zLnVwbG9hZEZpbGVTdWNjZXNzKHJlc3BvbnNlKTtcclxuICAgIH1cclxuICB9KTtcclxuICB0aGlzLmhlbHBlci5vbignc2F2ZUZpbGUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAodHlwZW9mIHNlbGYub3B0aW9ucy5zYXZlRmlsZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICBzZWxmLm9wdGlvbnMuc2F2ZUZpbGUoKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuVXBsb2FkRmlsZURpYWxvZy5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uIChvYmopIHtcclxuICBpZiAodGhpcy5oZWxwZXIgJiYgb2JqKSB7XHJcbiAgICB0aGlzLmhlbHBlci50cmlnZ2VyKCdzdWNjZXNzQnJldmlhcnknLCBvYmopO1xyXG4gIH1cclxuICB0aGlzLmRpYWxvZy5zaG93KCk7XHJcbn07XHJcblVwbG9hZEZpbGVEaWFsb2cucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdGhpcy5kaWFsb2cuaGlkZSgpO1xyXG59O1xyXG5VcGxvYWRGaWxlRGlhbG9nLnByb3RvdHlwZS5lbXB0eVZhbHVlID0gZnVuY3Rpb24gKCkge1xyXG4gIGlmICh0aGlzLmhlbHBlcikge1xyXG4gICAgdGhpcy5oZWxwZXIuZW1wdHlWYWx1ZSgpO1xyXG4gIH1cclxufTtcclxuXHJcblVwbG9hZEZpbGVEaWFsb2cucHJvdG90eXBlLnBhcnNlRXJyb3JNc2cgPSBmdW5jdGlvbiAocmVzKSB7XHJcbiAgdmFyIGNvZGU7XHJcbiAgaWYgKHJlcyAmJiByZXMuc3RhdGUgPT09ICdTVUNDRVNTJykge1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG4gIGNvZGUgPSByZXMuZXJyQ29kZSAqIDEgfHwgMDtcclxuICBzd2l0Y2ggKGNvZGUpIHtcclxuICAgIGNhc2UgMjk6XHJcbiAgICAgIHJldHVybiAn5LiK5Lyg55qE5paH5Lu25aSq5aSn5LqGLOivt+mHjeaWsOS4iuS8oCc7XHJcbiAgICBjYXNlIDMxOlxyXG4gICAgICByZXR1cm4gJ+ivt+S4iuS8oEpQR0UsSlBHLFBORyxHSUbnrYnmoLzlvI/nmoTlm77niYfmlofku7YnO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuICfmlofku7bkuIrkvKDlpLHotKUs6K+36YeN5paw5LiK5LygJztcclxuICB9XHJcbn07XHJcblxyXG5cclxuVXBsb2FkRmlsZURpYWxvZy5zaGFyZWRJbnN0YW5jZVVwbG9hZEZpbGVEaWFsb2cgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gIGlmICghc2hhcmVkKSB7XHJcbiAgICBzaGFyZWQgPSBuZXcgVXBsb2FkRmlsZURpYWxvZyhvcHRpb25zKTtcclxuICB9XHJcbiAgcmV0dXJuIHNoYXJlZDtcclxufTtcclxubW9kdWxlLmV4cG9ydHMgPSBVcGxvYWRGaWxlRGlhbG9nO1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL3NyYy9tb2R1bGUvVXBsb2FkRmlsZURpYWxvZy9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDgwXG4gKiogbW9kdWxlIGNodW5rcyA9IDEgMiAzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports){eval('module.exports = "<div class=\\"shadow\\"></div>\\r\\n<div class=\\"edit_Bg_form_x\\">\\r\\n\\t<div class=\\"edit_title\\">\\r\\n\\t\\t<span class=\\"upload-title\\">背景图设置</span>\\r\\n\\t\\t<span class=\\"upload-status upload-image-state\\"></span>\\r\\n\\t</div>\\r\\n\\t<div class=\\"formCon clearfix\\">\\r\\n\\t\\t<div class=\\"imgBox fl\\">\\r\\n\\t\\t\\t<img src=\\"\\" alt=\\"\\" width=\\"100%\\" height=\\"100%\\"  style=\\"display: none;\\" class=\\"imgboxFile\\">\\r\\n\\t\\t</div>\\r\\n\\t\\t<div class=\\"formBox fl\\">\\r\\n\\t\\t\\t<div class=\\"pseudo-uploadBtn am-btn-red boderRadAll_3\\">\\r\\n\\t\\t\\t\\t<span class=\\"input-text\\">选择图片</span>\\r\\n\\t\\t\\t\\t<form class=\\"upload-form\\">\\r\\n\\r\\n\\t\\t\\t\\t</form>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<p>\\r\\n\\t\\t\\t\\t支持5M以内的gif、jpg、jpge、png图片上传<br>\\r\\n\\t\\t\\t\\t<b style=\\"color:#ff6666;\\">因内容审核，上传后不可修改!<b>\\r\\n\\t\\t\\t</p>\\r\\n\\t\\t\\t<div class=\\"submit am-btn-red boderRadAll_3\\">保存</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n</div>\\r\\n"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZHVsZS9VcGxvYWRGaWxlRGlhbG9nL3RlbXBsYXRlL2ZpbGVEaWFsb2cuaHRtbD8yZjYwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDJZQUEyWSx5V0FBeVciLCJmaWxlIjoiODEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1cXFwic2hhZG93XFxcIj48L2Rpdj5cXHJcXG48ZGl2IGNsYXNzPVxcXCJlZGl0X0JnX2Zvcm1feFxcXCI+XFxyXFxuXFx0PGRpdiBjbGFzcz1cXFwiZWRpdF90aXRsZVxcXCI+XFxyXFxuXFx0XFx0PHNwYW4gY2xhc3M9XFxcInVwbG9hZC10aXRsZVxcXCI+6IOM5pmv5Zu+6K6+572uPC9zcGFuPlxcclxcblxcdFxcdDxzcGFuIGNsYXNzPVxcXCJ1cGxvYWQtc3RhdHVzIHVwbG9hZC1pbWFnZS1zdGF0ZVxcXCI+PC9zcGFuPlxcclxcblxcdDwvZGl2PlxcclxcblxcdDxkaXYgY2xhc3M9XFxcImZvcm1Db24gY2xlYXJmaXhcXFwiPlxcclxcblxcdFxcdDxkaXYgY2xhc3M9XFxcImltZ0JveCBmbFxcXCI+XFxyXFxuXFx0XFx0XFx0PGltZyBzcmM9XFxcIlxcXCIgYWx0PVxcXCJcXFwiIHdpZHRoPVxcXCIxMDAlXFxcIiBoZWlnaHQ9XFxcIjEwMCVcXFwiICBzdHlsZT1cXFwiZGlzcGxheTogbm9uZTtcXFwiIGNsYXNzPVxcXCJpbWdib3hGaWxlXFxcIj5cXHJcXG5cXHRcXHQ8L2Rpdj5cXHJcXG5cXHRcXHQ8ZGl2IGNsYXNzPVxcXCJmb3JtQm94IGZsXFxcIj5cXHJcXG5cXHRcXHRcXHQ8ZGl2IGNsYXNzPVxcXCJwc2V1ZG8tdXBsb2FkQnRuIGFtLWJ0bi1yZWQgYm9kZXJSYWRBbGxfM1xcXCI+XFxyXFxuXFx0XFx0XFx0XFx0PHNwYW4gY2xhc3M9XFxcImlucHV0LXRleHRcXFwiPumAieaLqeWbvueJhzwvc3Bhbj5cXHJcXG5cXHRcXHRcXHRcXHQ8Zm9ybSBjbGFzcz1cXFwidXBsb2FkLWZvcm1cXFwiPlxcclxcblxcclxcblxcdFxcdFxcdFxcdDwvZm9ybT5cXHJcXG5cXHRcXHRcXHQ8L2Rpdj5cXHJcXG5cXHRcXHRcXHQ8cD5cXHJcXG5cXHRcXHRcXHRcXHTmlK/mjIE1TeS7peWGheeahGdpZuOAgWpwZ+OAgWpwZ2XjgIFwbmflm77niYfkuIrkvKA8YnI+XFxyXFxuXFx0XFx0XFx0XFx0PGIgc3R5bGU9XFxcImNvbG9yOiNmZjY2NjY7XFxcIj7lm6DlhoXlrrnlrqHmoLjvvIzkuIrkvKDlkI7kuI3lj6/kv67mlLkhPGI+XFxyXFxuXFx0XFx0XFx0PC9wPlxcclxcblxcdFxcdFxcdDxkaXYgY2xhc3M9XFxcInN1Ym1pdCBhbS1idG4tcmVkIGJvZGVyUmFkQWxsXzNcXFwiPuS/neWtmDwvZGl2PlxcclxcblxcdFxcdDwvZGl2PlxcclxcblxcdDwvZGl2PlxcclxcbjwvZGl2PlxcclxcblwiXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9zcmMvbW9kdWxlL1VwbG9hZEZpbGVEaWFsb2cvdGVtcGxhdGUvZmlsZURpYWxvZy5odG1sXG4gKiogbW9kdWxlIGlkID0gODFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMSAyIDNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9')},function(module,exports,__webpack_require__){eval("/*\r\n clientRender:{bool} // 默认设置为false，如果为true，内部将不会调用rawLoader方法或者根据templateUrl请求模版\r\n */\r\n\r\n\r\n/**\r\n * @time {时间}\r\n * @author {编写者}\r\n * @info {实现的功能}\r\n */\r\n\r\n'use strict';\r\nvar base = __webpack_require__(28);\r\nvar Auxiliary = __webpack_require__(40);\r\nvar BaseView = base.View;\r\nvar UploadFile = Auxiliary.UploadFile;\r\n\r\nvar uploadIng = '正在上传';\r\nvar uploadDone = '上传完成!';\r\nvar msgBox = __webpack_require__(75);\r\nvar loc = window.location;\r\nvar View = BaseView.extend({\r\n  events: { // 监听事件\r\n    'click .submit': 'saveHandler',\r\n    'change .upload-file': 'changeFile'\r\n  },\r\n  // 当模板挂载到元素之前\r\n  beforeMount: function () {\r\n\r\n  },\r\n  // 当模板挂载到元素之后\r\n  afterMount: function () {\r\n\r\n  },\r\n  // 当事件监听器，内部实例初始化完成，模板挂载到文档之后\r\n  ready: function (options) {\r\n    this.$el = $(options.id);\r\n    this._ICEinitEvent();\r\n    this.formDOM = this.findDOMNode('.upload-form');\r\n    this.imgSrcDOM = this.findDOMNode('.imgboxFile');\r\n    this.imageStateDOM = this.findDOMNode('.upload-image-state');\r\n    this.inputTextDOM = this.findDOMNode('.input-text');\r\n    var self = this;\r\n    var temp = {\r\n      gcmd: [\r\n        {\r\n          gsaveOriginal: 1, op: 'save', plan: 'avatar', belongId: '20634338', srcImg: 'img'\r\n        }\r\n      ],\r\n      gredirect: loc.origin + '/web/upload.html'\r\n    };\r\n    var ctrlData = options.ctrlData || temp;\r\n    var uploadParams = {\r\n      el: this.formDOM,\r\n      url: 'http://image.yinyuetai.com/edit',\r\n      data: ctrlData,\r\n      filename: 'img',\r\n      className: 'file'\r\n    };\r\n    this.upload = new UploadFile(uploadParams);\r\n    this.upload.done(function (response) {\r\n      self.imageStateDOM.html(uploadDone);\r\n      self.previewImage(response);\r\n      self.trigger('uploadFileSuccess', response);\r\n    });\r\n    this.upload.fail(function () {\r\n      msgBox.showError('上传失败');\r\n    });\r\n    this.on('successBreviary', function (obj) {\r\n      this.successBreviary(obj);\r\n    });\r\n  },\r\n  successBreviary: function (obj) {\r\n    this.emptyValue();\r\n    if (obj.breviaryUrl) {\r\n      this.imgSrcDOM.attr('src', obj.breviaryUrl);\r\n      this.imgSrcDOM.show();\r\n    }\r\n    if (obj.inputText) {\r\n      this.inputTextDOM.text(obj.inputText);\r\n    }\r\n  },\r\n  saveHandler: function () {\r\n    this.trigger('saveFile');\r\n  },\r\n  changeFile: function () {\r\n    this.imageStateDOM.html(uploadIng);\r\n    this.upload.submit();\r\n  },\r\n  previewImage: function (response) {\r\n    var images = response.images;\r\n    var imagePath;\r\n    if (images && images.length > 0) {\r\n      imagePath = images[0].path;\r\n      this.imgSrcDOM.attr('src', imagePath);\r\n      this.imgSrcDOM.show();\r\n    }\r\n  },\r\n  emptyValue: function () {\r\n    this.imageStateDOM.html('');\r\n    this.imgSrcDOM.hide();\r\n    this.inputTextDOM.text('上传图片');\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nView.sharedInstanceUploadFileDialog = function (options) {\r\n  if (!shared) {\r\n    shared = new View(options);\r\n  }\r\n  return shared;\r\n};\r\nView.fetchDialogTemplate = function () {\r\n  return __webpack_require__(81);\r\n};\r\nmodule.exports = View;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZHVsZS9VcGxvYWRGaWxlRGlhbG9nL2hlbHBlci5qcz8wYzJjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsZUFBZSxLQUFLO0FBQ3BCOzs7QUFHQTtBQUNBLFVBQVU7QUFDVixZQUFZO0FBQ1osVUFBVTtBQUNWOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiODIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gY2xpZW50UmVuZGVyOntib29sfSAvLyDpu5jorqTorr7nva7kuLpmYWxzZe+8jOWmguaenOS4unRydWXvvIzlhoXpg6jlsIbkuI3kvJrosIPnlKhyYXdMb2FkZXLmlrnms5XmiJbogIXmoLnmja50ZW1wbGF0ZVVybOivt+axguaooeeJiFxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuICogQHRpbWUge+aXtumXtH1cclxuICogQGF1dGhvciB757yW5YaZ6ICFfVxyXG4gKiBAaW5mbyB75a6e546w55qE5Yqf6IO9fVxyXG4gKi9cclxuXHJcbid1c2Ugc3RyaWN0JztcclxudmFyIGJhc2UgPSByZXF1aXJlKCdiYXNlLWV4dGVuZC1iYWNrYm9uZScpO1xyXG52YXIgQXV4aWxpYXJ5ID0gcmVxdWlyZSgnYXV4aWxpYXJ5LWFkZGl0aW9ucycpO1xyXG52YXIgQmFzZVZpZXcgPSBiYXNlLlZpZXc7XHJcbnZhciBVcGxvYWRGaWxlID0gQXV4aWxpYXJ5LlVwbG9hZEZpbGU7XHJcblxyXG52YXIgdXBsb2FkSW5nID0gJ+ato+WcqOS4iuS8oCc7XHJcbnZhciB1cGxvYWREb25lID0gJ+S4iuS8oOWujOaIkCEnO1xyXG52YXIgbXNnQm94ID0gcmVxdWlyZSgndWkubXNnQm94Jyk7XHJcbnZhciBsb2MgPSB3aW5kb3cubG9jYXRpb247XHJcbnZhciBWaWV3ID0gQmFzZVZpZXcuZXh0ZW5kKHtcclxuICBldmVudHM6IHsgLy8g55uR5ZCs5LqL5Lu2XHJcbiAgICAnY2xpY2sgLnN1Ym1pdCc6ICdzYXZlSGFuZGxlcicsXHJcbiAgICAnY2hhbmdlIC51cGxvYWQtZmlsZSc6ICdjaGFuZ2VGaWxlJ1xyXG4gIH0sXHJcbiAgLy8g5b2T5qih5p2/5oyC6L295Yiw5YWD57Sg5LmL5YmNXHJcbiAgYmVmb3JlTW91bnQ6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgfSxcclxuICAvLyDlvZPmqKHmnb/mjILovb3liLDlhYPntKDkuYvlkI5cclxuICBhZnRlck1vdW50OiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gIH0sXHJcbiAgLy8g5b2T5LqL5Lu255uR5ZCs5Zmo77yM5YaF6YOo5a6e5L6L5Yid5aeL5YyW5a6M5oiQ77yM5qih5p2/5oyC6L295Yiw5paH5qGj5LmL5ZCOXHJcbiAgcmVhZHk6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICB0aGlzLiRlbCA9ICQob3B0aW9ucy5pZCk7XHJcbiAgICB0aGlzLl9JQ0Vpbml0RXZlbnQoKTtcclxuICAgIHRoaXMuZm9ybURPTSA9IHRoaXMuZmluZERPTU5vZGUoJy51cGxvYWQtZm9ybScpO1xyXG4gICAgdGhpcy5pbWdTcmNET00gPSB0aGlzLmZpbmRET01Ob2RlKCcuaW1nYm94RmlsZScpO1xyXG4gICAgdGhpcy5pbWFnZVN0YXRlRE9NID0gdGhpcy5maW5kRE9NTm9kZSgnLnVwbG9hZC1pbWFnZS1zdGF0ZScpO1xyXG4gICAgdGhpcy5pbnB1dFRleHRET00gPSB0aGlzLmZpbmRET01Ob2RlKCcuaW5wdXQtdGV4dCcpO1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIHRlbXAgPSB7XHJcbiAgICAgIGdjbWQ6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBnc2F2ZU9yaWdpbmFsOiAxLCBvcDogJ3NhdmUnLCBwbGFuOiAnYXZhdGFyJywgYmVsb25nSWQ6ICcyMDYzNDMzOCcsIHNyY0ltZzogJ2ltZydcclxuICAgICAgICB9XHJcbiAgICAgIF0sXHJcbiAgICAgIGdyZWRpcmVjdDogbG9jLm9yaWdpbiArICcvd2ViL3VwbG9hZC5odG1sJ1xyXG4gICAgfTtcclxuICAgIHZhciBjdHJsRGF0YSA9IG9wdGlvbnMuY3RybERhdGEgfHwgdGVtcDtcclxuICAgIHZhciB1cGxvYWRQYXJhbXMgPSB7XHJcbiAgICAgIGVsOiB0aGlzLmZvcm1ET00sXHJcbiAgICAgIHVybDogJ2h0dHA6Ly9pbWFnZS55aW55dWV0YWkuY29tL2VkaXQnLFxyXG4gICAgICBkYXRhOiBjdHJsRGF0YSxcclxuICAgICAgZmlsZW5hbWU6ICdpbWcnLFxyXG4gICAgICBjbGFzc05hbWU6ICdmaWxlJ1xyXG4gICAgfTtcclxuICAgIHRoaXMudXBsb2FkID0gbmV3IFVwbG9hZEZpbGUodXBsb2FkUGFyYW1zKTtcclxuICAgIHRoaXMudXBsb2FkLmRvbmUoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgIHNlbGYuaW1hZ2VTdGF0ZURPTS5odG1sKHVwbG9hZERvbmUpO1xyXG4gICAgICBzZWxmLnByZXZpZXdJbWFnZShyZXNwb25zZSk7XHJcbiAgICAgIHNlbGYudHJpZ2dlcigndXBsb2FkRmlsZVN1Y2Nlc3MnLCByZXNwb25zZSk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMudXBsb2FkLmZhaWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICBtc2dCb3guc2hvd0Vycm9yKCfkuIrkvKDlpLHotKUnKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5vbignc3VjY2Vzc0JyZXZpYXJ5JywgZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICB0aGlzLnN1Y2Nlc3NCcmV2aWFyeShvYmopO1xyXG4gICAgfSk7XHJcbiAgfSxcclxuICBzdWNjZXNzQnJldmlhcnk6IGZ1bmN0aW9uIChvYmopIHtcclxuICAgIHRoaXMuZW1wdHlWYWx1ZSgpO1xyXG4gICAgaWYgKG9iai5icmV2aWFyeVVybCkge1xyXG4gICAgICB0aGlzLmltZ1NyY0RPTS5hdHRyKCdzcmMnLCBvYmouYnJldmlhcnlVcmwpO1xyXG4gICAgICB0aGlzLmltZ1NyY0RPTS5zaG93KCk7XHJcbiAgICB9XHJcbiAgICBpZiAob2JqLmlucHV0VGV4dCkge1xyXG4gICAgICB0aGlzLmlucHV0VGV4dERPTS50ZXh0KG9iai5pbnB1dFRleHQpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgc2F2ZUhhbmRsZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMudHJpZ2dlcignc2F2ZUZpbGUnKTtcclxuICB9LFxyXG4gIGNoYW5nZUZpbGU6IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuaW1hZ2VTdGF0ZURPTS5odG1sKHVwbG9hZEluZyk7XHJcbiAgICB0aGlzLnVwbG9hZC5zdWJtaXQoKTtcclxuICB9LFxyXG4gIHByZXZpZXdJbWFnZTogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICB2YXIgaW1hZ2VzID0gcmVzcG9uc2UuaW1hZ2VzO1xyXG4gICAgdmFyIGltYWdlUGF0aDtcclxuICAgIGlmIChpbWFnZXMgJiYgaW1hZ2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgaW1hZ2VQYXRoID0gaW1hZ2VzWzBdLnBhdGg7XHJcbiAgICAgIHRoaXMuaW1nU3JjRE9NLmF0dHIoJ3NyYycsIGltYWdlUGF0aCk7XHJcbiAgICAgIHRoaXMuaW1nU3JjRE9NLnNob3coKTtcclxuICAgIH1cclxuICB9LFxyXG4gIGVtcHR5VmFsdWU6IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuaW1hZ2VTdGF0ZURPTS5odG1sKCcnKTtcclxuICAgIHRoaXMuaW1nU3JjRE9NLmhpZGUoKTtcclxuICAgIHRoaXMuaW5wdXRUZXh0RE9NLnRleHQoJ+S4iuS8oOWbvueJhycpO1xyXG4gIH1cclxufSk7XHJcblxyXG52YXIgc2hhcmVkID0gbnVsbDtcclxuVmlldy5zaGFyZWRJbnN0YW5jZVVwbG9hZEZpbGVEaWFsb2cgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gIGlmICghc2hhcmVkKSB7XHJcbiAgICBzaGFyZWQgPSBuZXcgVmlldyhvcHRpb25zKTtcclxuICB9XHJcbiAgcmV0dXJuIHNoYXJlZDtcclxufTtcclxuVmlldy5mZXRjaERpYWxvZ1RlbXBsYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiByZXF1aXJlKCcuL3RlbXBsYXRlL2ZpbGVEaWFsb2cuaHRtbCcpO1xyXG59O1xyXG5tb2R1bGUuZXhwb3J0cyA9IFZpZXc7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvc3JjL21vZHVsZS9VcGxvYWRGaWxlRGlhbG9nL2hlbHBlci5qc1xuICoqIG1vZHVsZSBpZCA9IDgyXG4gKiogbW9kdWxlIGNodW5rcyA9IDEgMiAzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");
},function(module,exports){eval('module.exports = "<div id=\\"txtRoomName\\" class=\\"room-name fl\\">房间加载中...</div>\\r\\n<div class=\\"room-title-right fr\\">\\r\\n    <span class=\\"online\\"> <span id=\\"onlineTxt\\">在线人数</span>:<span class=\\"red count font-yahei\\" id=\\"txtOnline\\">0</span></span>\\r\\n    <span class=\\"popularity\\">人气:<span class=\\"green count font-yahei\\" id=\\"txtPopularity\\">0</span></span>\\r\\n</div>\\r\\n<!--上传图片弹出层-->\\r\\n<div style=\\"display: none;\\" class=\\"shadow_screen\\">\\r\\n    <div class=\\"shadow\\"></div>\\r\\n    <div class=\\"edit_Bg_form\\">\\r\\n        <h2 class=\\"edit_title\\">背景图设置<span class=\\"upload-status\\">正在上传</span><span class=\\"upload-status\\">上传完成!</span><span\\r\\n                class=\\"close\\">X</span></h2>\\r\\n        <div class=\\"formCon clearfix\\">\\r\\n            <div class=\\"imgBox fl\\">\\r\\n                <img src=\\"\\" alt=\\"\\" style=\\"display: none;\\">\\r\\n            </div>\\r\\n            <div class=\\"formBox fl\\">\\r\\n                <form action=\\"\\">\\r\\n                    <div class=\\"pseudo-uploadBtn\\">\\r\\n                        上传图片\\r\\n                        <input type=\\"file\\" name=\\"\\" id=\\"file\\">\\r\\n                    </div>\\r\\n                    <p>支持5M以内的gif、jpg、jpge、png图片上传</p>\\r\\n                    <div class=\\"submit\\">保存</div>\\r\\n                </form>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL3ZpZXdzL2FuY2hvci90ZW1wbGF0ZS9lZGl0LWJnLmh0bWw/ZmQwNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSwwYUFBMGEsNGFBQTRhIiwiZmlsZSI6IjgzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgaWQ9XFxcInR4dFJvb21OYW1lXFxcIiBjbGFzcz1cXFwicm9vbS1uYW1lIGZsXFxcIj7miL/pl7TliqDovb3kuK0uLi48L2Rpdj5cXHJcXG48ZGl2IGNsYXNzPVxcXCJyb29tLXRpdGxlLXJpZ2h0IGZyXFxcIj5cXHJcXG4gICAgPHNwYW4gY2xhc3M9XFxcIm9ubGluZVxcXCI+IDxzcGFuIGlkPVxcXCJvbmxpbmVUeHRcXFwiPuWcqOe6v+S6uuaVsDwvc3Bhbj46PHNwYW4gY2xhc3M9XFxcInJlZCBjb3VudCBmb250LXlhaGVpXFxcIiBpZD1cXFwidHh0T25saW5lXFxcIj4wPC9zcGFuPjwvc3Bhbj5cXHJcXG4gICAgPHNwYW4gY2xhc3M9XFxcInBvcHVsYXJpdHlcXFwiPuS6uuawlDo8c3BhbiBjbGFzcz1cXFwiZ3JlZW4gY291bnQgZm9udC15YWhlaVxcXCIgaWQ9XFxcInR4dFBvcHVsYXJpdHlcXFwiPjA8L3NwYW4+PC9zcGFuPlxcclxcbjwvZGl2PlxcclxcbjwhLS3kuIrkvKDlm77niYflvLnlh7rlsYItLT5cXHJcXG48ZGl2IHN0eWxlPVxcXCJkaXNwbGF5OiBub25lO1xcXCIgY2xhc3M9XFxcInNoYWRvd19zY3JlZW5cXFwiPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJzaGFkb3dcXFwiPjwvZGl2PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJlZGl0X0JnX2Zvcm1cXFwiPlxcclxcbiAgICAgICAgPGgyIGNsYXNzPVxcXCJlZGl0X3RpdGxlXFxcIj7og4zmma/lm77orr7nva48c3BhbiBjbGFzcz1cXFwidXBsb2FkLXN0YXR1c1xcXCI+5q2j5Zyo5LiK5LygPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJ1cGxvYWQtc3RhdHVzXFxcIj7kuIrkvKDlrozmiJAhPC9zcGFuPjxzcGFuXFxyXFxuICAgICAgICAgICAgICAgIGNsYXNzPVxcXCJjbG9zZVxcXCI+WDwvc3Bhbj48L2gyPlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybUNvbiBjbGVhcmZpeFxcXCI+XFxyXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW1nQm94IGZsXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XFxcIlxcXCIgYWx0PVxcXCJcXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiBub25lO1xcXCI+XFxyXFxuICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybUJveCBmbFxcXCI+XFxyXFxuICAgICAgICAgICAgICAgIDxmb3JtIGFjdGlvbj1cXFwiXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInBzZXVkby11cGxvYWRCdG5cXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIOS4iuS8oOWbvueJh1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJmaWxlXFxcIiBuYW1lPVxcXCJcXFwiIGlkPVxcXCJmaWxlXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgICAgICAgICAgICAgPHA+5pSv5oyBNU3ku6XlhoXnmoRnaWbjgIFqcGfjgIFqcGdl44CBcG5n5Zu+54mH5LiK5LygPC9wPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwic3VibWl0XFxcIj7kv53lrZg8L2Rpdj5cXHJcXG4gICAgICAgICAgICAgICAgPC9mb3JtPlxcclxcbiAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgIDwvZGl2PlxcclxcbjwvZGl2PlxcclxcblwiXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9zcmMvdmlld3MvYW5jaG9yL3RlbXBsYXRlL2VkaXQtYmcuaHRtbFxuICoqIG1vZHVsZSBpZCA9IDgzXG4gKiogbW9kdWxlIGNodW5rcyA9IDEgM1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports,__webpack_require__){eval("/*\r\n clientRender:{bool} // 默认设置为false，如果为true，内部将不会调用rawLoader方法或者根据templateUrl请求模版\r\n */\r\n\r\n\r\n/**\r\n * @time {时间}\r\n * @author {编写者}\r\n * @info {实现的功能}\r\n */\r\n\r\nvar Backbone = window.Backbone;\r\nvar base = __webpack_require__(28);\r\nvar BaseView = base.View; // View的基类\r\nvar _ = __webpack_require__(27);\r\n\r\nvar View = BaseView.extend({\r\n  el: '#currentAnchorInfo', // 设置View对象作用于的根元素，比如id\r\n  rawLoader: function () { // 可用此方法返回字符串模版\r\n    return __webpack_require__(85);\r\n  },\r\n  events: { // 监听事件\r\n\r\n  },\r\n  // 当模板挂载到元素之前\r\n  beforeMount: function () {\r\n    this.infoTpl = __webpack_require__(86);\r\n  },\r\n  // 当模板挂载到元素之后\r\n  afterMount: function () {\r\n    var el = this.$el;\r\n    this.roomInfoWrap = el.find('#roomInfoWrap');\r\n    this.imgRoomPic = el.find('#imgRoomPic');\r\n  },\r\n  // 当事件监听器，内部实例初始化完成，模板挂载到文档之后\r\n  ready: function () {\r\n    this.defineEventInterface();\r\n  },\r\n  defineEventInterface: function () {\r\n    var self = this;\r\n    var tpl;\r\n    var html;\r\n    Backbone.on('event:roomInfoReady', function (data) {\r\n      if (data) {\r\n        tpl = _.template(self.infoTpl);\r\n        html = tpl(data);\r\n        self.roomInfoWrap.append(html);\r\n        self.txtOnline = $('#txtOnline');\r\n        if (data.creator.smallAvatar) {\r\n          self.imgRoomPic.attr('src', data.creator.smallAvatar);\r\n        }\r\n      }\r\n    });\r\n    Backbone.on('event:updateRoomInfo', function (data) {\r\n      if (data) {\r\n        self.txtOnline.text(data.currentOnline);\r\n      }\r\n    });\r\n  }\r\n});\r\n\r\nmodule.exports = View;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL3ZpZXdzL2FuY2hvci9hbmNob3ItaW5mby52aWV3LmpzPzhjM2QiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxlQUFlLEtBQUs7QUFDcEI7OztBQUdBO0FBQ0EsVUFBVTtBQUNWLFlBQVk7QUFDWixVQUFVO0FBQ1Y7O0FBRUE7QUFDQTtBQUNBLHlCQUF5QjtBQUN6Qjs7QUFFQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0EsR0FBRztBQUNILFdBQVc7O0FBRVgsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQzs7QUFFRCIsImZpbGUiOiI4NC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiBjbGllbnRSZW5kZXI6e2Jvb2x9IC8vIOm7mOiupOiuvue9ruS4umZhbHNl77yM5aaC5p6c5Li6dHJ1Ze+8jOWGhemDqOWwhuS4jeS8muiwg+eUqHJhd0xvYWRlcuaWueazleaIluiAheagueaNrnRlbXBsYXRlVXJs6K+35rGC5qih54mIXHJcbiAqL1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAdGltZSB75pe26Ze0fVxyXG4gKiBAYXV0aG9yIHvnvJblhpnogIV9XHJcbiAqIEBpbmZvIHvlrp7njrDnmoTlip/og719XHJcbiAqL1xyXG5cclxudmFyIEJhY2tib25lID0gd2luZG93LkJhY2tib25lO1xyXG52YXIgYmFzZSA9IHJlcXVpcmUoJ2Jhc2UtZXh0ZW5kLWJhY2tib25lJyk7XHJcbnZhciBCYXNlVmlldyA9IGJhc2UuVmlldzsgLy8gVmlld+eahOWfuuexu1xyXG52YXIgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcclxuXHJcbnZhciBWaWV3ID0gQmFzZVZpZXcuZXh0ZW5kKHtcclxuICBlbDogJyNjdXJyZW50QW5jaG9ySW5mbycsIC8vIOiuvue9rlZpZXflr7nosaHkvZznlKjkuo7nmoTmoLnlhYPntKDvvIzmr5TlpoJpZFxyXG4gIHJhd0xvYWRlcjogZnVuY3Rpb24gKCkgeyAvLyDlj6/nlKjmraTmlrnms5Xov5Tlm57lrZfnrKbkuLLmqKHniYhcclxuICAgIHJldHVybiByZXF1aXJlKCcuL3RlbXBsYXRlL2luZm8uaHRtbCcpO1xyXG4gIH0sXHJcbiAgZXZlbnRzOiB7IC8vIOebkeWQrOS6i+S7tlxyXG5cclxuICB9LFxyXG4gIC8vIOW9k+aooeadv+aMgui9veWIsOWFg+e0oOS5i+WJjVxyXG4gIGJlZm9yZU1vdW50OiBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLmluZm9UcGwgPSByZXF1aXJlKCcuL3RlbXBsYXRlL3Jvb20taW5mby10cGwuaHRtbCcpO1xyXG4gIH0sXHJcbiAgLy8g5b2T5qih5p2/5oyC6L295Yiw5YWD57Sg5LmL5ZCOXHJcbiAgYWZ0ZXJNb3VudDogZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGVsID0gdGhpcy4kZWw7XHJcbiAgICB0aGlzLnJvb21JbmZvV3JhcCA9IGVsLmZpbmQoJyNyb29tSW5mb1dyYXAnKTtcclxuICAgIHRoaXMuaW1nUm9vbVBpYyA9IGVsLmZpbmQoJyNpbWdSb29tUGljJyk7XHJcbiAgfSxcclxuICAvLyDlvZPkuovku7bnm5HlkKzlmajvvIzlhoXpg6jlrp7kvovliJ3lp4vljJblrozmiJDvvIzmqKHmnb/mjILovb3liLDmlofmoaPkuYvlkI5cclxuICByZWFkeTogZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5kZWZpbmVFdmVudEludGVyZmFjZSgpO1xyXG4gIH0sXHJcbiAgZGVmaW5lRXZlbnRJbnRlcmZhY2U6IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciB0cGw7XHJcbiAgICB2YXIgaHRtbDtcclxuICAgIEJhY2tib25lLm9uKCdldmVudDpyb29tSW5mb1JlYWR5JywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICB0cGwgPSBfLnRlbXBsYXRlKHNlbGYuaW5mb1RwbCk7XHJcbiAgICAgICAgaHRtbCA9IHRwbChkYXRhKTtcclxuICAgICAgICBzZWxmLnJvb21JbmZvV3JhcC5hcHBlbmQoaHRtbCk7XHJcbiAgICAgICAgc2VsZi50eHRPbmxpbmUgPSAkKCcjdHh0T25saW5lJyk7XHJcbiAgICAgICAgaWYgKGRhdGEuY3JlYXRvci5zbWFsbEF2YXRhcikge1xyXG4gICAgICAgICAgc2VsZi5pbWdSb29tUGljLmF0dHIoJ3NyYycsIGRhdGEuY3JlYXRvci5zbWFsbEF2YXRhcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIEJhY2tib25lLm9uKCdldmVudDp1cGRhdGVSb29tSW5mbycsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgc2VsZi50eHRPbmxpbmUudGV4dChkYXRhLmN1cnJlbnRPbmxpbmUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBWaWV3O1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL3NyYy92aWV3cy9hbmNob3IvYW5jaG9yLWluZm8udmlldy5qc1xuICoqIG1vZHVsZSBpZCA9IDg0XG4gKiogbW9kdWxlIGNodW5rcyA9IDEgM1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports){eval('module.exports = "<div class=\\"user-info-wrap clearfix\\">\\r\\n    <img id=\\"imgRoomPic\\" class=\\"Left avator boderRadAll_35\\"\\r\\n         src=\\"http://img1.yytcdn.com/user/avatar/160322/703-1458640483613/-M-216abfaf3d4ae2ee4d194029b70cdc9d_100x100.jpg\\"\\r\\n         alt=\\"\\">\\r\\n    <div class=\\"info Left \\" id=\\"roomInfoWrap\\">\\r\\n    </div>\\r\\n</div>\\r\\n"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL3ZpZXdzL2FuY2hvci90ZW1wbGF0ZS9pbmZvLmh0bWw/NzNiZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI4NS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPVxcXCJ1c2VyLWluZm8td3JhcCBjbGVhcmZpeFxcXCI+XFxyXFxuICAgIDxpbWcgaWQ9XFxcImltZ1Jvb21QaWNcXFwiIGNsYXNzPVxcXCJMZWZ0IGF2YXRvciBib2RlclJhZEFsbF8zNVxcXCJcXHJcXG4gICAgICAgICBzcmM9XFxcImh0dHA6Ly9pbWcxLnl5dGNkbi5jb20vdXNlci9hdmF0YXIvMTYwMzIyLzcwMy0xNDU4NjQwNDgzNjEzLy1NLTIxNmFiZmFmM2Q0YWUyZWU0ZDE5NDAyOWI3MGNkYzlkXzEwMHgxMDAuanBnXFxcIlxcclxcbiAgICAgICAgIGFsdD1cXFwiXFxcIj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiaW5mbyBMZWZ0IFxcXCIgaWQ9XFxcInJvb21JbmZvV3JhcFxcXCI+XFxyXFxuICAgIDwvZGl2PlxcclxcbjwvZGl2PlxcclxcblwiXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9zcmMvdmlld3MvYW5jaG9yL3RlbXBsYXRlL2luZm8uaHRtbFxuICoqIG1vZHVsZSBpZCA9IDg1XG4gKiogbW9kdWxlIGNodW5rcyA9IDEgM1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports){eval('module.exports = "<span class=\\"name\\"><%=creator.nickName%></span>\\r\\n<span class=\\"icon-gender\\"></span>\\r\\n<div class=\\"tags\\">\\r\\n    <span class=\\"first\\">标签</span>:\\r\\n            <span id=\\"tagsWrap\\">\\r\\n    <%\\r\\n    var allTags = creator.tags || [];\\r\\n    for(var i = 0,j = allTags.length; i < j; i++){\\r\\n    %>\\r\\n    <span><%=allTags[i] %></span>\\r\\n    <%\\r\\n    }\\r\\n    if(allTags.length ==0){\\r\\n    %>\\r\\n    <i>暂无</i>\\r\\n    <% }%>\\r\\n            </span>\\r\\n</div>\\r\\n"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL3ZpZXdzL2FuY2hvci90ZW1wbGF0ZS9yb29tLWluZm8tdHBsLmh0bWw/N2U4MiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxtUUFBbVEseUNBQXlDLE9BQU8sTUFBTSxrRUFBa0UsK0JBQStCLHVDQUF1QyIsImZpbGUiOiI4Ni5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3BhbiBjbGFzcz1cXFwibmFtZVxcXCI+PCU9Y3JlYXRvci5uaWNrTmFtZSU+PC9zcGFuPlxcclxcbjxzcGFuIGNsYXNzPVxcXCJpY29uLWdlbmRlclxcXCI+PC9zcGFuPlxcclxcbjxkaXYgY2xhc3M9XFxcInRhZ3NcXFwiPlxcclxcbiAgICA8c3BhbiBjbGFzcz1cXFwiZmlyc3RcXFwiPuagh+etvjwvc3Bhbj46XFxyXFxuICAgICAgICAgICAgPHNwYW4gaWQ9XFxcInRhZ3NXcmFwXFxcIj5cXHJcXG4gICAgPCVcXHJcXG4gICAgdmFyIGFsbFRhZ3MgPSBjcmVhdG9yLnRhZ3MgfHwgW107XFxyXFxuICAgIGZvcih2YXIgaSA9IDAsaiA9IGFsbFRhZ3MubGVuZ3RoOyBpIDwgajsgaSsrKXtcXHJcXG4gICAgJT5cXHJcXG4gICAgPHNwYW4+PCU9YWxsVGFnc1tpXSAlPjwvc3Bhbj5cXHJcXG4gICAgPCVcXHJcXG4gICAgfVxcclxcbiAgICBpZihhbGxUYWdzLmxlbmd0aCA9PTApe1xcclxcbiAgICAlPlxcclxcbiAgICA8aT7mmoLml6A8L2k+XFxyXFxuICAgIDwlIH0lPlxcclxcbiAgICAgICAgICAgIDwvc3Bhbj5cXHJcXG48L2Rpdj5cXHJcXG5cIlxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvc3JjL3ZpZXdzL2FuY2hvci90ZW1wbGF0ZS9yb29tLWluZm8tdHBsLmh0bWxcbiAqKiBtb2R1bGUgaWQgPSA4NlxuICoqIG1vZHVsZSBjaHVua3MgPSAxIDNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9')},function(module,exports,__webpack_require__){eval("/*\r\n clientRender:{bool} // 默认设置为false，如果为true，内部将不会调用rawLoader方法或者根据templateUrl请求模版\r\n */\r\n\r\n/**\r\n * @time 2016-3-11\r\n * @author YuanXuJia\r\n * @info 聊天控制\r\n */\r\n\r\nvar _ = __webpack_require__(27);\r\nvar Backbone = window.Backbone;\r\nvar webim = window.webim;\r\n\r\nvar base = __webpack_require__(28);\r\nvar BaseView = base.View; // View的基类\r\nvar imServer = __webpack_require__(48);\r\nvar uiConfirm = __webpack_require__(61);\r\nvar BusinessDate = __webpack_require__(76);\r\nvar FlashApi = __webpack_require__(88);\r\n\r\nvar RoomDetailModel = __webpack_require__(64);\r\nvar GiftModel = __webpack_require__(66);\r\nvar msgBox = __webpack_require__(75);\r\nvar UserModel = __webpack_require__(51);\r\nvar user = UserModel.sharedInstanceUserModel();\r\n\r\n// 清屏,锁屏\r\nvar RoomControlView = __webpack_require__(89);\r\n\r\nvar View = BaseView.extend({\r\n  el: '#anchorCtrlChat', // 设置View对象作用于的根元素，比如id\r\n  rawLoader: function () { // 可用此方法返回字符串模版\r\n    return __webpack_require__(97);\r\n  },\r\n  events: { // 监听事件\r\n    'click #msgList': 'messageClickHandler'\r\n  },\r\n  // 当模板挂载到元素之前\r\n  beforeMount: function () {\r\n    // 禁言用户列表\r\n    this.forbidUsers = [];\r\n\r\n    this.giftModel = GiftModel.sharedInstanceModel();\r\n    this.giftParams = {\r\n      deviceinfo: '{\"aid\": \"30001001\"}',\r\n      access_token: user.getWebToken(),\r\n      offset: 0,\r\n      size: 90000,\r\n      type: 0\r\n    };\r\n\r\n    this.roomDetail = RoomDetailModel.sharedInstanceModel();\r\n    this.roomInfo = this.roomDetail.get('data') || {};\r\n\r\n    this.initGiftList();\r\n  },\r\n  // 当模板挂载到元素之后\r\n  afterMount: function () {\r\n    var el = this.$el;\r\n    this.msgList = el.find('#msgList');\r\n    this.chatHistory = el.find('#chatHistory');\r\n    this.imgClear = el.find('#imgClear');\r\n    this.imgUnLock = el.find('#imgUnLock');\r\n\r\n    this.imgClear.attr('src', '/images/clear.png');\r\n    this.imgUnLock.attr('src', '/images/clock.png');\r\n  },\r\n  // 当事件监听器，内部实例初始化完成，模板挂载到文档之后\r\n  ready: function (ops) {\r\n    this.defineEventInterface();\r\n    this.options = _.extend({}, ops);\r\n    var self = this;\r\n    Backbone.on('event:roomInfoReady', function (data) {\r\n      if (data) {\r\n        self.roomInfo = data;\r\n        self.roomInfoReady();\r\n      }\r\n    });\r\n    this.FlashApi = FlashApi.sharedInstanceFlashApi({\r\n      el: 'broadCastFlash'\r\n    });\r\n    this.roomCtrlView = new RoomControlView(_.extend({\r\n      roomInfo: this.roomInfo,\r\n      FlashApi: this.FlashApi,\r\n      msgList: this.msgList\r\n    }, this.options));\r\n  },\r\n  // 单击某用户发送的消息\r\n  messageClickHandler: function (e) {\r\n    var control;\r\n    var li;\r\n    control = $(e.target).parent();\r\n    if (control.hasClass('controls_forbid_reject')) {\r\n      this.msgControlHandler(e);\r\n    } else {\r\n      li = $(e.target).parents('li');\r\n      // 确认是文本消息\r\n      if (~~li.attr('data-msgType') === 0) {\r\n        this.showMsgControlMenu(li);\r\n      }\r\n    }\r\n  },\r\n  // 显示,隐藏禁言/踢出按钮\r\n  showMsgControlMenu: function (target) {\r\n    var control = target.find('.controls_forbid_reject');\r\n    var index = $('#msgList').find('li').index(target);\r\n    if (target.length <= 0) return;\r\n\r\n    $('.controls_forbid_reject').not(control).hide();\r\n    if (index === 0) {\r\n      control.css('margin-top', control.find('a').height());\r\n    }\r\n    if (this.options.assistant) {\r\n      control.find('.ctrl').hide();\r\n    }\r\n    control.toggle();\r\n  },\r\n  // 禁言,或者踢出\r\n  msgControlHandler: function (e) {\r\n    var target = $(e.target);\r\n    var li;\r\n    var userInfo = {};\r\n\r\n    li = target.parents('li');\r\n    userInfo = {\r\n      name: li.attr('data-name'),\r\n      id: li.attr('data-id')\r\n    };\r\n\r\n    var text = target.text();\r\n\r\n    if (text === '禁言') {\r\n      this.disableSendMsgConfirm(userInfo);\r\n    } else if (text === '踢出') {\r\n      this.removeUserFromRoom(userInfo);\r\n    } else if (text === '场控') {\r\n      Backbone.trigger('event:addUserToManager', {\r\n        userId: target.attr('data-uid'),\r\n        userName: target.attr('data-name')\r\n      });\r\n    }\r\n  },\r\n  /**\r\n   * 禁止用户发言确认提示框\r\n   */\r\n  disableSendMsgConfirm: function (userInfo) {\r\n    var self = this;\r\n    uiConfirm.show({\r\n      content: '您确定要禁止用户:<b>' + userInfo.name + '</b>发言吗?',\r\n      okFn: function () {\r\n        self.disableSendMsgHandler(userInfo);\r\n      }\r\n    });\r\n  },\r\n  disableSendMsgHandler: function (userInfo) {\r\n    var self = this;\r\n    var users = [];\r\n    users.push(userInfo.id);\r\n    imServer.sendMessage({\r\n      groupId: self.roomInfo.imGroupid,\r\n      msg: {\r\n        roomId: self.roomInfo.id,\r\n        msgType: 5,\r\n        userId: userInfo.id,\r\n        nickName: self.options.assistant ? '场控' : '主播',\r\n        content: (self.options.assistant ? '场控' : '主播') + '将用户' + userInfo.name + '禁言'\r\n      }\r\n    }, function () {\r\n      msgBox.showOK('已将用户:<b>' + userInfo.name + ' 禁言10分钟.');\r\n      self.FlashApi.onReady(function () {\r\n        this.notifying({\r\n          roomId: self.roomInfo.id,\r\n          userId: userInfo.id,\r\n          nickName: '消息',\r\n          msgType: 0,\r\n          style: {\r\n            fontColor: '#999999'\r\n          },\r\n          content: (self.options.assistant ? '场控' : '主播') + '将用户' + userInfo.name + '禁言'\r\n        });\r\n      });\r\n    }, function () {\r\n      msgBox.showError('禁言失败,请稍后重试!');\r\n    });\r\n  },\r\n  hideUserControl: function () {\r\n    $('.controls_forbid_reject').hide();\r\n  },\r\n  /**\r\n   * 将用户从房间中移除\r\n   */\r\n  removeUserFromRoom: function (data) {\r\n    var self = this;\r\n    var msg = {\r\n      roomId: self.roomInfo.id,\r\n      nickName: self.options.assistant ? '场控' : '主播',\r\n      smallAvatar: '',\r\n      msgType: 8, // 踢人\r\n      content: (self.options.assistant ? '场控' : '主播') + '将用户' + data.name + '踢出房间'\r\n    };\r\n\r\n\r\n    function okCallback() {\r\n      if (self.forbidUsers.length > 200) {\r\n        self.forbidUsers.shift();\r\n      }\r\n      self.forbidUsers.push(data.id);\r\n      var options = {\r\n        GroupId: self.roomInfo.imGroupid,\r\n        Notification: JSON.stringify({\r\n          forbidUsers: self.forbidUsers\r\n        })\r\n      };\r\n\r\n      imServer.modifyGroupInfo(options, function (result) {\r\n        if (result && result.ActionStatus === 'OK') {\r\n          msgBox.showOK('成功将用户:<b>' + data.name + '</b>踢出房间');\r\n          imServer.sendMessage({\r\n            groupId: self.roomInfo.imGroupid,\r\n            msg: msg\r\n          });\r\n        } else {\r\n          msgBox.showError('将用户:<b>' + data.name + '</b>踢出房间失败,请稍后再试');\r\n        }\r\n      }, function () {\r\n        msgBox.showError('将用户:<b>' + data.name + '</b>踢出房间失败,请稍后再试');\r\n      });\r\n    }\r\n\r\n    uiConfirm.show({\r\n      content: '您确定要将用户:<b>' + data.name + '</b>踢出房间吗?',\r\n      okFn: function () {\r\n        okCallback();\r\n      }\r\n    });\r\n  },\r\n  // 腾讯IM消息到达回调\r\n  onMsgNotify: function (notifyInfo) {\r\n    var elems;\r\n    var elem;\r\n    var type;\r\n    var content;\r\n    elems = notifyInfo.getElems(); // 获取消息包含的元素数组\r\n    for (var i = 0, j = elems.length; i < j; i++) {\r\n      elem = elems[i];\r\n      type = elem.getType(); // 获取元素类型\r\n      content = elem.getContent(); // 获取元素对象\r\n      switch (type) {\r\n        case webim.MSG_ELEMENT_TYPE.TEXT:\r\n          this.parseMsgToChatList(content.text.replace(/&quot;/g, '\"'), notifyInfo);\r\n          break;\r\n        case webim.MSG_ELEMENT_TYPE.FACE:\r\n          break;\r\n        case webim.MSG_ELEMENT_TYPE.IMAGE:\r\n          break;\r\n        case webim.MSG_ELEMENT_TYPE.SOUND:\r\n          break;\r\n        case webim.MSG_ELEMENT_TYPE.FILE:\r\n          break;\r\n        case webim.MSG_ELEMENT_TYPE.CUSTOM:\r\n          this.parseMsgToChatList(content.data, notifyInfo);\r\n          break;\r\n        case webim.MSG_ELEMENT_TYPE.GROUP_TIP:\r\n          break;\r\n        default:\r\n          webim.Log.error('未知消息元素类型: elemType=' + type);\r\n          break;\r\n      }\r\n    }\r\n  },\r\n  parseMsgToChatList: function (content, msg) {\r\n    var msgObj;\r\n    var giftName;\r\n    var self = this;\r\n    try {\r\n      msgObj = JSON.parse(content);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n    if (!_.isObject(msgObj)) {\r\n      return;\r\n    }\r\n    msgObj.fromAccount = msg.fromAccount;\r\n    var date = new Date(msg.getTime() * 1000);\r\n    msgObj.time = BusinessDate.format(date, 'hh:mm:ss');\r\n    switch (msgObj.msgType) {\r\n      case 0: // 文本消息\r\n        self.addMessage(msgObj);\r\n        break;\r\n      case 1: // 发送礼物\r\n        giftName = self.giftModel.findGift(msgObj.giftId).name || '礼物';\r\n        msgObj.content = '<b>' + msgObj.nickName + '</b>发来' + giftName + '!';\r\n        msgObj.nickName = '消息';\r\n        msgObj.smallAvatar = '';\r\n        self.addMessage(msgObj);\r\n        break;\r\n      case 2: // 公告\r\n        $('#noticeWrap').text(msgObj.content || '暂无公告');\r\n        break;\r\n      case 3: // 点赞\r\n        msgObj.content = '<b>' + msgObj.nickName + '</b>点赞一次!';\r\n        msgObj.nickName = '消息';\r\n        msgObj.smallAvatar = '';\r\n        self.addMessage(msgObj);\r\n        break;\r\n      case 4: //  清屏\r\n        self.addMessage(msgObj);\r\n        self.FlashApi.onReady(function () {\r\n          this.notifying(msgObj);\r\n        });\r\n        break;\r\n        // 禁言\r\n      case 5:\r\n        self.addMessage(msgObj);\r\n        break;\r\n      case 8:\r\n      case 9:\r\n        $('#btn-lock').find('span').text(msgObj.msgType === 8 ? '解屏' : '锁屏');\r\n        self.addMessage(msgObj);\r\n        break;\r\n      case 10:\r\n        self.addMessage(msgObj);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  },\r\n  initGiftList: function () {\r\n    this.giftModel.get(this.giftParams, function () {}, function (err) {\r\n      console.log(err);\r\n    });\r\n  },\r\n  onGroupInfoChangeNotify: function (notifyInfo) {\r\n    console.log(notifyInfo);\r\n  },\r\n  groupSystemNotifys: function (notifyInfo) {\r\n    console.log(notifyInfo);\r\n  },\r\n  /**\r\n   * 获取消息模板\r\n   * @returns {*}\r\n   */\r\n  getMessageTpl: function () {\r\n    return __webpack_require__(98);\r\n  },\r\n  /**\r\n   * 添加消息\r\n   * @constructor\r\n   */\r\n  addMessage: function (msg) {\r\n    var self = this;\r\n    var msgObj = msg;\r\n    var tpl;\r\n    msgObj = _.extend({\r\n      nickName: '',\r\n      content: '',\r\n      smallAvatar: '',\r\n      userId: ''\r\n    }, {\r\n      time: BusinessDate.format(new Date, 'hh:mm:ss'),\r\n      fromAccount: ''\r\n    }, msgObj);\r\n    if (msgObj && msgObj.roomId !== self.roomInfo.id) {\r\n      return;\r\n    }\r\n    msgObj.content = self.filterEmoji(msgObj.content);\r\n    if (msgObj && msgObj.content) {\r\n      tpl = _.template(this.getMessageTpl());\r\n      this.msgList.append(tpl(msgObj));\r\n      this.chatHistory.scrollTop(this.msgList.height());\r\n      if (msg.msgType === 5) {\r\n        msgObj.msgType = 0;\r\n        msgObj.style = {\r\n          fontColor: '#999999'\r\n        };\r\n      }\r\n      this.FlashApi.onReady(function () {\r\n        this.notifying(msgObj);\r\n      });\r\n    }\r\n    self.autoDeleteMsgList();\r\n  },\r\n  /**\r\n   * 过滤表情\r\n   * @param  {[type]} content [description]\r\n   * @return {[type]}         [description]\r\n   */\r\n  filterEmoji: function (content) {\r\n    var reg = /[\\u4e00-\\u9fa5\\w\\d@\\.\\-。_!^^+#【】！~“：《》？<>]/g;\r\n    var result;\r\n    if (content) {\r\n      result = content.match(reg) || [];\r\n      if (result.length > 0) {\r\n        return result.join('') || '';\r\n      }\r\n      return '';\r\n    }\r\n    return content;\r\n  },\r\n  // 当消息条数超过1000自动删除前面的,仅留下500条\r\n  autoDeleteMsgList: function () {\r\n    var total = this.msgList.children().length;\r\n    var index = 0;\r\n    if (total > 1000) {\r\n      index = total - 500;\r\n    }\r\n    this.msgList.children(':lt(' + index + ')').remove();\r\n  },\r\n  /**\r\n   * 定义对外公布的事件\r\n   */\r\n  defineEventInterface: function () {\r\n    var self = this;\r\n\r\n    Backbone.on('event:onMsgNotify', function (notifyInfo) {\r\n      if (_.isArray(notifyInfo)) {\r\n        _.each(notifyInfo, function (item) {\r\n          if (!item.getIsSend()) {\r\n            self.onMsgNotify(item);\r\n          }\r\n        });\r\n      } else if (_.isObject(notifyInfo)) {\r\n        if (notifyInfo.isSend === false) {\r\n          self.onMsgNotify(notifyInfo);\r\n        }\r\n      }\r\n    });\r\n    Backbone.on('event:onGroupInfoChangeNotify', function (notifyInfo) {\r\n      self.onGroupInfoChangeNotify(notifyInfo);\r\n    });\r\n    Backbone.on('event:groupSystemNotifys', function (notifyInfo) {\r\n      self.groupSystemNotifys(notifyInfo);\r\n    });\r\n\r\n    Backbone.on('event:clearAllScreen', function (msg) {\r\n      self.addMessage(msg);\r\n    });\r\n\r\n    Backbone.on('event:LockOrUnLock', function (msg) {\r\n      self.addMessage(msg);\r\n    });\r\n  },\r\n  /**\r\n   *\r\n   */\r\n  roomInfoReady: function () {\r\n    this.getGroupInfo();\r\n  },\r\n  /**\r\n   * 从服务器端拉去消息\r\n   */\r\n  getMessageFromServer: function () {},\r\n  /**\r\n   * 获取群组公告以及介绍\r\n   */\r\n  getGroupInfo: function () {\r\n    var self = this;\r\n    var intro;\r\n    imServer.getGroupInfo(self.roomInfo.imGroupid, function (result) {\r\n      if (result && result.ActionStatus === 'OK') {\r\n        if (result.GroupInfo && result.GroupInfo[0] && result.GroupInfo[0].Introduction) {\r\n          intro = JSON.parse(result.GroupInfo[0].Introduction);\r\n          if (intro && intro.blockState === true) {\r\n            $('#btn-lock').children('span').text('解屏');\r\n          }\r\n        }\r\n      }\r\n    }, function (err) {\r\n      msgBox.showError(err.msg || '获取群组消息失败!');\r\n    });\r\n  },\r\n  // 转换时间格式\r\n  getDateStr: function (dateInt) {\r\n    var date = new Date(dateInt);\r\n    return BusinessDate.format(date, 'hh:mm:ss');\r\n  },\r\n  // 检查当前直播状态\r\n  checkLiveRoomReady: function () {\r\n    switch (this.roomInfo.status) {\r\n      case 0:\r\n        msgBox.showTip('该直播尚未发布!');\r\n        return false;\r\n      case 1:\r\n      case 2:\r\n        if (!this.roomInfo || !this.roomInfo.imGroupid) {\r\n          msgBox.showTip('请先开始直播!');\r\n          return false;\r\n        }\r\n        return true;\r\n      case 3:\r\n        msgBox.showTip('该直播已经结束!');\r\n        return false;\r\n      default:\r\n        return false;\r\n    }\r\n  }\r\n});\r\n\r\nmodule.exports = View;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL3ZpZXdzL2FuY2hvci9hbmNob3ItY2hhdC52aWV3LmpzP2YzNWEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxlQUFlLEtBQUs7QUFDcEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQSxHQUFHO0FBQ0gsV0FBVztBQUNYO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQkFBb0Isa0JBQWtCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEMscUNBQXFDLE9BQU87QUFDNUM7QUFDQSw0QkFBNEI7QUFDNUIsa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQSw4REFBOEQ7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxzREFBc0Q7QUFDdEQ7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCIsImZpbGUiOiI4Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiBjbGllbnRSZW5kZXI6e2Jvb2x9IC8vIOm7mOiupOiuvue9ruS4umZhbHNl77yM5aaC5p6c5Li6dHJ1Ze+8jOWGhemDqOWwhuS4jeS8muiwg+eUqHJhd0xvYWRlcuaWueazleaIluiAheagueaNrnRlbXBsYXRlVXJs6K+35rGC5qih54mIXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEB0aW1lIDIwMTYtMy0xMVxyXG4gKiBAYXV0aG9yIFl1YW5YdUppYVxyXG4gKiBAaW5mbyDogYrlpKnmjqfliLZcclxuICovXHJcblxyXG52YXIgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcclxudmFyIEJhY2tib25lID0gd2luZG93LkJhY2tib25lO1xyXG52YXIgd2ViaW0gPSB3aW5kb3cud2ViaW07XHJcblxyXG52YXIgYmFzZSA9IHJlcXVpcmUoJ2Jhc2UtZXh0ZW5kLWJhY2tib25lJyk7XHJcbnZhciBCYXNlVmlldyA9IGJhc2UuVmlldzsgLy8gVmlld+eahOWfuuexu1xyXG52YXIgaW1TZXJ2ZXIgPSByZXF1aXJlKCdpbVNlcnZlcicpO1xyXG52YXIgdWlDb25maXJtID0gcmVxdWlyZSgndWkuY29uZmlybScpO1xyXG52YXIgQnVzaW5lc3NEYXRlID0gcmVxdWlyZSgnQnVzaW5lc3NEYXRlJyk7XHJcbnZhciBGbGFzaEFwaSA9IHJlcXVpcmUoJ0ZsYXNoQXBpJyk7XHJcblxyXG52YXIgUm9vbURldGFpbE1vZGVsID0gcmVxdWlyZSgnLi4vLi4vbW9kZWxzL2FuY2hvci9yb29tLWRldGFpbC5tb2RlbCcpO1xyXG52YXIgR2lmdE1vZGVsID0gcmVxdWlyZSgnLi4vLi4vbW9kZWxzL2FuY2hvci9naWZ0Lm1vZGVsJyk7XHJcbnZhciBtc2dCb3ggPSByZXF1aXJlKCd1aS5tc2dCb3gnKTtcclxudmFyIFVzZXJNb2RlbCA9IHJlcXVpcmUoJ1VzZXJNb2RlbCcpO1xyXG52YXIgdXNlciA9IFVzZXJNb2RlbC5zaGFyZWRJbnN0YW5jZVVzZXJNb2RlbCgpO1xyXG5cclxuLy8g5riF5bGPLOmUgeWxj1xyXG52YXIgUm9vbUNvbnRyb2xWaWV3ID0gcmVxdWlyZSgnLi9yb29tLWNvbnRyb2wudmlldycpO1xyXG5cclxudmFyIFZpZXcgPSBCYXNlVmlldy5leHRlbmQoe1xyXG4gIGVsOiAnI2FuY2hvckN0cmxDaGF0JywgLy8g6K6+572uVmlld+WvueixoeS9nOeUqOS6jueahOagueWFg+e0oO+8jOavlOWmgmlkXHJcbiAgcmF3TG9hZGVyOiBmdW5jdGlvbiAoKSB7IC8vIOWPr+eUqOatpOaWueazlei/lOWbnuWtl+espuS4suaooeeJiFxyXG4gICAgcmV0dXJuIHJlcXVpcmUoJy4vdGVtcGxhdGUvY2hhdC5odG1sJyk7XHJcbiAgfSxcclxuICBldmVudHM6IHsgLy8g55uR5ZCs5LqL5Lu2XHJcbiAgICAnY2xpY2sgI21zZ0xpc3QnOiAnbWVzc2FnZUNsaWNrSGFuZGxlcidcclxuICB9LFxyXG4gIC8vIOW9k+aooeadv+aMgui9veWIsOWFg+e0oOS5i+WJjVxyXG4gIGJlZm9yZU1vdW50OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyDnpoHoqIDnlKjmiLfliJfooahcclxuICAgIHRoaXMuZm9yYmlkVXNlcnMgPSBbXTtcclxuXHJcbiAgICB0aGlzLmdpZnRNb2RlbCA9IEdpZnRNb2RlbC5zaGFyZWRJbnN0YW5jZU1vZGVsKCk7XHJcbiAgICB0aGlzLmdpZnRQYXJhbXMgPSB7XHJcbiAgICAgIGRldmljZWluZm86ICd7XCJhaWRcIjogXCIzMDAwMTAwMVwifScsXHJcbiAgICAgIGFjY2Vzc190b2tlbjogdXNlci5nZXRXZWJUb2tlbigpLFxyXG4gICAgICBvZmZzZXQ6IDAsXHJcbiAgICAgIHNpemU6IDkwMDAwLFxyXG4gICAgICB0eXBlOiAwXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMucm9vbURldGFpbCA9IFJvb21EZXRhaWxNb2RlbC5zaGFyZWRJbnN0YW5jZU1vZGVsKCk7XHJcbiAgICB0aGlzLnJvb21JbmZvID0gdGhpcy5yb29tRGV0YWlsLmdldCgnZGF0YScpIHx8IHt9O1xyXG5cclxuICAgIHRoaXMuaW5pdEdpZnRMaXN0KCk7XHJcbiAgfSxcclxuICAvLyDlvZPmqKHmnb/mjILovb3liLDlhYPntKDkuYvlkI5cclxuICBhZnRlck1vdW50OiBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZWwgPSB0aGlzLiRlbDtcclxuICAgIHRoaXMubXNnTGlzdCA9IGVsLmZpbmQoJyNtc2dMaXN0Jyk7XHJcbiAgICB0aGlzLmNoYXRIaXN0b3J5ID0gZWwuZmluZCgnI2NoYXRIaXN0b3J5Jyk7XHJcbiAgICB0aGlzLmltZ0NsZWFyID0gZWwuZmluZCgnI2ltZ0NsZWFyJyk7XHJcbiAgICB0aGlzLmltZ1VuTG9jayA9IGVsLmZpbmQoJyNpbWdVbkxvY2snKTtcclxuXHJcbiAgICB0aGlzLmltZ0NsZWFyLmF0dHIoJ3NyYycsICcvaW1hZ2VzL2NsZWFyLnBuZycpO1xyXG4gICAgdGhpcy5pbWdVbkxvY2suYXR0cignc3JjJywgJy9pbWFnZXMvY2xvY2sucG5nJyk7XHJcbiAgfSxcclxuICAvLyDlvZPkuovku7bnm5HlkKzlmajvvIzlhoXpg6jlrp7kvovliJ3lp4vljJblrozmiJDvvIzmqKHmnb/mjILovb3liLDmlofmoaPkuYvlkI5cclxuICByZWFkeTogZnVuY3Rpb24gKG9wcykge1xyXG4gICAgdGhpcy5kZWZpbmVFdmVudEludGVyZmFjZSgpO1xyXG4gICAgdGhpcy5vcHRpb25zID0gXy5leHRlbmQoe30sIG9wcyk7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBCYWNrYm9uZS5vbignZXZlbnQ6cm9vbUluZm9SZWFkeScsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgc2VsZi5yb29tSW5mbyA9IGRhdGE7XHJcbiAgICAgICAgc2VsZi5yb29tSW5mb1JlYWR5KCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgdGhpcy5GbGFzaEFwaSA9IEZsYXNoQXBpLnNoYXJlZEluc3RhbmNlRmxhc2hBcGkoe1xyXG4gICAgICBlbDogJ2Jyb2FkQ2FzdEZsYXNoJ1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLnJvb21DdHJsVmlldyA9IG5ldyBSb29tQ29udHJvbFZpZXcoXy5leHRlbmQoe1xyXG4gICAgICByb29tSW5mbzogdGhpcy5yb29tSW5mbyxcclxuICAgICAgRmxhc2hBcGk6IHRoaXMuRmxhc2hBcGksXHJcbiAgICAgIG1zZ0xpc3Q6IHRoaXMubXNnTGlzdFxyXG4gICAgfSwgdGhpcy5vcHRpb25zKSk7XHJcbiAgfSxcclxuICAvLyDljZXlh7vmn5DnlKjmiLflj5HpgIHnmoTmtojmga9cclxuICBtZXNzYWdlQ2xpY2tIYW5kbGVyOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgdmFyIGNvbnRyb2w7XHJcbiAgICB2YXIgbGk7XHJcbiAgICBjb250cm9sID0gJChlLnRhcmdldCkucGFyZW50KCk7XHJcbiAgICBpZiAoY29udHJvbC5oYXNDbGFzcygnY29udHJvbHNfZm9yYmlkX3JlamVjdCcpKSB7XHJcbiAgICAgIHRoaXMubXNnQ29udHJvbEhhbmRsZXIoZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBsaSA9ICQoZS50YXJnZXQpLnBhcmVudHMoJ2xpJyk7XHJcbiAgICAgIC8vIOehruiupOaYr+aWh+acrOa2iOaBr1xyXG4gICAgICBpZiAofn5saS5hdHRyKCdkYXRhLW1zZ1R5cGUnKSA9PT0gMCkge1xyXG4gICAgICAgIHRoaXMuc2hvd01zZ0NvbnRyb2xNZW51KGxpKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgLy8g5pi+56S6LOmakOiXj+emgeiogC/ouKLlh7rmjInpkq5cclxuICBzaG93TXNnQ29udHJvbE1lbnU6IGZ1bmN0aW9uICh0YXJnZXQpIHtcclxuICAgIHZhciBjb250cm9sID0gdGFyZ2V0LmZpbmQoJy5jb250cm9sc19mb3JiaWRfcmVqZWN0Jyk7XHJcbiAgICB2YXIgaW5kZXggPSAkKCcjbXNnTGlzdCcpLmZpbmQoJ2xpJykuaW5kZXgodGFyZ2V0KTtcclxuICAgIGlmICh0YXJnZXQubGVuZ3RoIDw9IDApIHJldHVybjtcclxuXHJcbiAgICAkKCcuY29udHJvbHNfZm9yYmlkX3JlamVjdCcpLm5vdChjb250cm9sKS5oaWRlKCk7XHJcbiAgICBpZiAoaW5kZXggPT09IDApIHtcclxuICAgICAgY29udHJvbC5jc3MoJ21hcmdpbi10b3AnLCBjb250cm9sLmZpbmQoJ2EnKS5oZWlnaHQoKSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5vcHRpb25zLmFzc2lzdGFudCkge1xyXG4gICAgICBjb250cm9sLmZpbmQoJy5jdHJsJykuaGlkZSgpO1xyXG4gICAgfVxyXG4gICAgY29udHJvbC50b2dnbGUoKTtcclxuICB9LFxyXG4gIC8vIOemgeiogCzmiJbogIXouKLlh7pcclxuICBtc2dDb250cm9sSGFuZGxlcjogZnVuY3Rpb24gKGUpIHtcclxuICAgIHZhciB0YXJnZXQgPSAkKGUudGFyZ2V0KTtcclxuICAgIHZhciBsaTtcclxuICAgIHZhciB1c2VySW5mbyA9IHt9O1xyXG5cclxuICAgIGxpID0gdGFyZ2V0LnBhcmVudHMoJ2xpJyk7XHJcbiAgICB1c2VySW5mbyA9IHtcclxuICAgICAgbmFtZTogbGkuYXR0cignZGF0YS1uYW1lJyksXHJcbiAgICAgIGlkOiBsaS5hdHRyKCdkYXRhLWlkJylcclxuICAgIH07XHJcblxyXG4gICAgdmFyIHRleHQgPSB0YXJnZXQudGV4dCgpO1xyXG5cclxuICAgIGlmICh0ZXh0ID09PSAn56aB6KiAJykge1xyXG4gICAgICB0aGlzLmRpc2FibGVTZW5kTXNnQ29uZmlybSh1c2VySW5mbyk7XHJcbiAgICB9IGVsc2UgaWYgKHRleHQgPT09ICfouKLlh7onKSB7XHJcbiAgICAgIHRoaXMucmVtb3ZlVXNlckZyb21Sb29tKHVzZXJJbmZvKTtcclxuICAgIH0gZWxzZSBpZiAodGV4dCA9PT0gJ+WcuuaOpycpIHtcclxuICAgICAgQmFja2JvbmUudHJpZ2dlcignZXZlbnQ6YWRkVXNlclRvTWFuYWdlcicsIHtcclxuICAgICAgICB1c2VySWQ6IHRhcmdldC5hdHRyKCdkYXRhLXVpZCcpLFxyXG4gICAgICAgIHVzZXJOYW1lOiB0YXJnZXQuYXR0cignZGF0YS1uYW1lJylcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSxcclxuICAvKipcclxuICAgKiDnpoHmraLnlKjmiLflj5HoqIDnoa7orqTmj5DnpLrmoYZcclxuICAgKi9cclxuICBkaXNhYmxlU2VuZE1zZ0NvbmZpcm06IGZ1bmN0aW9uICh1c2VySW5mbykge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdWlDb25maXJtLnNob3coe1xyXG4gICAgICBjb250ZW50OiAn5oKo56Gu5a6a6KaB56aB5q2i55So5oi3OjxiPicgKyB1c2VySW5mby5uYW1lICsgJzwvYj7lj5HoqIDlkJc/JyxcclxuICAgICAgb2tGbjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuZGlzYWJsZVNlbmRNc2dIYW5kbGVyKHVzZXJJbmZvKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSxcclxuICBkaXNhYmxlU2VuZE1zZ0hhbmRsZXI6IGZ1bmN0aW9uICh1c2VySW5mbykge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIHVzZXJzID0gW107XHJcbiAgICB1c2Vycy5wdXNoKHVzZXJJbmZvLmlkKTtcclxuICAgIGltU2VydmVyLnNlbmRNZXNzYWdlKHtcclxuICAgICAgZ3JvdXBJZDogc2VsZi5yb29tSW5mby5pbUdyb3VwaWQsXHJcbiAgICAgIG1zZzoge1xyXG4gICAgICAgIHJvb21JZDogc2VsZi5yb29tSW5mby5pZCxcclxuICAgICAgICBtc2dUeXBlOiA1LFxyXG4gICAgICAgIHVzZXJJZDogdXNlckluZm8uaWQsXHJcbiAgICAgICAgbmlja05hbWU6IHNlbGYub3B0aW9ucy5hc3Npc3RhbnQgPyAn5Zy65o6nJyA6ICfkuLvmkq0nLFxyXG4gICAgICAgIGNvbnRlbnQ6IChzZWxmLm9wdGlvbnMuYXNzaXN0YW50ID8gJ+WcuuaOpycgOiAn5Li75pKtJykgKyAn5bCG55So5oi3JyArIHVzZXJJbmZvLm5hbWUgKyAn56aB6KiAJ1xyXG4gICAgICB9XHJcbiAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIG1zZ0JveC5zaG93T0soJ+W3suWwhueUqOaItzo8Yj4nICsgdXNlckluZm8ubmFtZSArICcg56aB6KiAMTDliIbpkp8uJyk7XHJcbiAgICAgIHNlbGYuRmxhc2hBcGkub25SZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5ub3RpZnlpbmcoe1xyXG4gICAgICAgICAgcm9vbUlkOiBzZWxmLnJvb21JbmZvLmlkLFxyXG4gICAgICAgICAgdXNlcklkOiB1c2VySW5mby5pZCxcclxuICAgICAgICAgIG5pY2tOYW1lOiAn5raI5oGvJyxcclxuICAgICAgICAgIG1zZ1R5cGU6IDAsXHJcbiAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICBmb250Q29sb3I6ICcjOTk5OTk5J1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGNvbnRlbnQ6IChzZWxmLm9wdGlvbnMuYXNzaXN0YW50ID8gJ+WcuuaOpycgOiAn5Li75pKtJykgKyAn5bCG55So5oi3JyArIHVzZXJJbmZvLm5hbWUgKyAn56aB6KiAJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgbXNnQm94LnNob3dFcnJvcign56aB6KiA5aSx6LSlLOivt+eojeWQjumHjeivlSEnKTtcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgaGlkZVVzZXJDb250cm9sOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCcuY29udHJvbHNfZm9yYmlkX3JlamVjdCcpLmhpZGUoKTtcclxuICB9LFxyXG4gIC8qKlxyXG4gICAqIOWwhueUqOaIt+S7juaIv+mXtOS4reenu+mZpFxyXG4gICAqL1xyXG4gIHJlbW92ZVVzZXJGcm9tUm9vbTogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBtc2cgPSB7XHJcbiAgICAgIHJvb21JZDogc2VsZi5yb29tSW5mby5pZCxcclxuICAgICAgbmlja05hbWU6IHNlbGYub3B0aW9ucy5hc3Npc3RhbnQgPyAn5Zy65o6nJyA6ICfkuLvmkq0nLFxyXG4gICAgICBzbWFsbEF2YXRhcjogJycsXHJcbiAgICAgIG1zZ1R5cGU6IDgsIC8vIOi4ouS6ulxyXG4gICAgICBjb250ZW50OiAoc2VsZi5vcHRpb25zLmFzc2lzdGFudCA/ICflnLrmjqcnIDogJ+S4u+aSrScpICsgJ+WwhueUqOaItycgKyBkYXRhLm5hbWUgKyAn6Lii5Ye65oi/6Ze0J1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgZnVuY3Rpb24gb2tDYWxsYmFjaygpIHtcclxuICAgICAgaWYgKHNlbGYuZm9yYmlkVXNlcnMubGVuZ3RoID4gMjAwKSB7XHJcbiAgICAgICAgc2VsZi5mb3JiaWRVc2Vycy5zaGlmdCgpO1xyXG4gICAgICB9XHJcbiAgICAgIHNlbGYuZm9yYmlkVXNlcnMucHVzaChkYXRhLmlkKTtcclxuICAgICAgdmFyIG9wdGlvbnMgPSB7XHJcbiAgICAgICAgR3JvdXBJZDogc2VsZi5yb29tSW5mby5pbUdyb3VwaWQsXHJcbiAgICAgICAgTm90aWZpY2F0aW9uOiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBmb3JiaWRVc2Vyczogc2VsZi5mb3JiaWRVc2Vyc1xyXG4gICAgICAgIH0pXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBpbVNlcnZlci5tb2RpZnlHcm91cEluZm8ob3B0aW9ucywgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LkFjdGlvblN0YXR1cyA9PT0gJ09LJykge1xyXG4gICAgICAgICAgbXNnQm94LnNob3dPSygn5oiQ5Yqf5bCG55So5oi3OjxiPicgKyBkYXRhLm5hbWUgKyAnPC9iPui4ouWHuuaIv+mXtCcpO1xyXG4gICAgICAgICAgaW1TZXJ2ZXIuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICBncm91cElkOiBzZWxmLnJvb21JbmZvLmltR3JvdXBpZCxcclxuICAgICAgICAgICAgbXNnOiBtc2dcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBtc2dCb3guc2hvd0Vycm9yKCflsIbnlKjmiLc6PGI+JyArIGRhdGEubmFtZSArICc8L2I+6Lii5Ye65oi/6Ze05aSx6LSlLOivt+eojeWQjuWGjeivlScpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIG1zZ0JveC5zaG93RXJyb3IoJ+WwhueUqOaItzo8Yj4nICsgZGF0YS5uYW1lICsgJzwvYj7ouKLlh7rmiL/pl7TlpLHotKUs6K+356iN5ZCO5YaN6K+VJyk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHVpQ29uZmlybS5zaG93KHtcclxuICAgICAgY29udGVudDogJ+aCqOehruWumuimgeWwhueUqOaItzo8Yj4nICsgZGF0YS5uYW1lICsgJzwvYj7ouKLlh7rmiL/pl7TlkJc/JyxcclxuICAgICAgb2tGbjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIG9rQ2FsbGJhY2soKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSxcclxuICAvLyDohb7orq9JTea2iOaBr+WIsOi+vuWbnuiwg1xyXG4gIG9uTXNnTm90aWZ5OiBmdW5jdGlvbiAobm90aWZ5SW5mbykge1xyXG4gICAgdmFyIGVsZW1zO1xyXG4gICAgdmFyIGVsZW07XHJcbiAgICB2YXIgdHlwZTtcclxuICAgIHZhciBjb250ZW50O1xyXG4gICAgZWxlbXMgPSBub3RpZnlJbmZvLmdldEVsZW1zKCk7IC8vIOiOt+WPlua2iOaBr+WMheWQq+eahOWFg+e0oOaVsOe7hFxyXG4gICAgZm9yICh2YXIgaSA9IDAsIGogPSBlbGVtcy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcclxuICAgICAgZWxlbSA9IGVsZW1zW2ldO1xyXG4gICAgICB0eXBlID0gZWxlbS5nZXRUeXBlKCk7IC8vIOiOt+WPluWFg+e0oOexu+Wei1xyXG4gICAgICBjb250ZW50ID0gZWxlbS5nZXRDb250ZW50KCk7IC8vIOiOt+WPluWFg+e0oOWvueixoVxyXG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICBjYXNlIHdlYmltLk1TR19FTEVNRU5UX1RZUEUuVEVYVDpcclxuICAgICAgICAgIHRoaXMucGFyc2VNc2dUb0NoYXRMaXN0KGNvbnRlbnQudGV4dC5yZXBsYWNlKC8mcXVvdDsvZywgJ1wiJyksIG5vdGlmeUluZm8pO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSB3ZWJpbS5NU0dfRUxFTUVOVF9UWVBFLkZBQ0U6XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIHdlYmltLk1TR19FTEVNRU5UX1RZUEUuSU1BR0U6XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIHdlYmltLk1TR19FTEVNRU5UX1RZUEUuU09VTkQ6XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIHdlYmltLk1TR19FTEVNRU5UX1RZUEUuRklMRTpcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2Ugd2ViaW0uTVNHX0VMRU1FTlRfVFlQRS5DVVNUT006XHJcbiAgICAgICAgICB0aGlzLnBhcnNlTXNnVG9DaGF0TGlzdChjb250ZW50LmRhdGEsIG5vdGlmeUluZm8pO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSB3ZWJpbS5NU0dfRUxFTUVOVF9UWVBFLkdST1VQX1RJUDpcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICB3ZWJpbS5Mb2cuZXJyb3IoJ+acquefpea2iOaBr+WFg+e0oOexu+WeizogZWxlbVR5cGU9JyArIHR5cGUpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG4gIHBhcnNlTXNnVG9DaGF0TGlzdDogZnVuY3Rpb24gKGNvbnRlbnQsIG1zZykge1xyXG4gICAgdmFyIG1zZ09iajtcclxuICAgIHZhciBnaWZ0TmFtZTtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHRyeSB7XHJcbiAgICAgIG1zZ09iaiA9IEpTT04ucGFyc2UoY29udGVudCk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgfVxyXG4gICAgaWYgKCFfLmlzT2JqZWN0KG1zZ09iaikpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgbXNnT2JqLmZyb21BY2NvdW50ID0gbXNnLmZyb21BY2NvdW50O1xyXG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShtc2cuZ2V0VGltZSgpICogMTAwMCk7XHJcbiAgICBtc2dPYmoudGltZSA9IEJ1c2luZXNzRGF0ZS5mb3JtYXQoZGF0ZSwgJ2hoOm1tOnNzJyk7XHJcbiAgICBzd2l0Y2ggKG1zZ09iai5tc2dUeXBlKSB7XHJcbiAgICAgIGNhc2UgMDogLy8g5paH5pys5raI5oGvXHJcbiAgICAgICAgc2VsZi5hZGRNZXNzYWdlKG1zZ09iaik7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgMTogLy8g5Y+R6YCB56S854mpXHJcbiAgICAgICAgZ2lmdE5hbWUgPSBzZWxmLmdpZnRNb2RlbC5maW5kR2lmdChtc2dPYmouZ2lmdElkKS5uYW1lIHx8ICfnpLzniaknO1xyXG4gICAgICAgIG1zZ09iai5jb250ZW50ID0gJzxiPicgKyBtc2dPYmoubmlja05hbWUgKyAnPC9iPuWPkeadpScgKyBnaWZ0TmFtZSArICchJztcclxuICAgICAgICBtc2dPYmoubmlja05hbWUgPSAn5raI5oGvJztcclxuICAgICAgICBtc2dPYmouc21hbGxBdmF0YXIgPSAnJztcclxuICAgICAgICBzZWxmLmFkZE1lc3NhZ2UobXNnT2JqKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAyOiAvLyDlhazlkYpcclxuICAgICAgICAkKCcjbm90aWNlV3JhcCcpLnRleHQobXNnT2JqLmNvbnRlbnQgfHwgJ+aaguaXoOWFrOWRiicpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDM6IC8vIOeCuei1nlxyXG4gICAgICAgIG1zZ09iai5jb250ZW50ID0gJzxiPicgKyBtc2dPYmoubmlja05hbWUgKyAnPC9iPueCuei1nuS4gOasoSEnO1xyXG4gICAgICAgIG1zZ09iai5uaWNrTmFtZSA9ICfmtojmga8nO1xyXG4gICAgICAgIG1zZ09iai5zbWFsbEF2YXRhciA9ICcnO1xyXG4gICAgICAgIHNlbGYuYWRkTWVzc2FnZShtc2dPYmopO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDQ6IC8vICDmuIXlsY9cclxuICAgICAgICBzZWxmLmFkZE1lc3NhZ2UobXNnT2JqKTtcclxuICAgICAgICBzZWxmLkZsYXNoQXBpLm9uUmVhZHkoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgdGhpcy5ub3RpZnlpbmcobXNnT2JqKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgICAvLyDnpoHoqIBcclxuICAgICAgY2FzZSA1OlxyXG4gICAgICAgIHNlbGYuYWRkTWVzc2FnZShtc2dPYmopO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDg6XHJcbiAgICAgIGNhc2UgOTpcclxuICAgICAgICAkKCcjYnRuLWxvY2snKS5maW5kKCdzcGFuJykudGV4dChtc2dPYmoubXNnVHlwZSA9PT0gOCA/ICfop6PlsY8nIDogJ+mUgeWxjycpO1xyXG4gICAgICAgIHNlbGYuYWRkTWVzc2FnZShtc2dPYmopO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDEwOlxyXG4gICAgICAgIHNlbGYuYWRkTWVzc2FnZShtc2dPYmopO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgaW5pdEdpZnRMaXN0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLmdpZnRNb2RlbC5nZXQodGhpcy5naWZ0UGFyYW1zLCBmdW5jdGlvbiAoKSB7fSwgZnVuY3Rpb24gKGVycikge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSk7XHJcbiAgfSxcclxuICBvbkdyb3VwSW5mb0NoYW5nZU5vdGlmeTogZnVuY3Rpb24gKG5vdGlmeUluZm8pIHtcclxuICAgIGNvbnNvbGUubG9nKG5vdGlmeUluZm8pO1xyXG4gIH0sXHJcbiAgZ3JvdXBTeXN0ZW1Ob3RpZnlzOiBmdW5jdGlvbiAobm90aWZ5SW5mbykge1xyXG4gICAgY29uc29sZS5sb2cobm90aWZ5SW5mbyk7XHJcbiAgfSxcclxuICAvKipcclxuICAgKiDojrflj5bmtojmga/mqKHmnb9cclxuICAgKiBAcmV0dXJucyB7Kn1cclxuICAgKi9cclxuICBnZXRNZXNzYWdlVHBsOiBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gcmVxdWlyZSgnLi90ZW1wbGF0ZS9jaGF0LW1lc3NhZ2UtdHBsLmh0bWwnKTtcclxuICB9LFxyXG4gIC8qKlxyXG4gICAqIOa3u+WKoOa2iOaBr1xyXG4gICAqIEBjb25zdHJ1Y3RvclxyXG4gICAqL1xyXG4gIGFkZE1lc3NhZ2U6IGZ1bmN0aW9uIChtc2cpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBtc2dPYmogPSBtc2c7XHJcbiAgICB2YXIgdHBsO1xyXG4gICAgbXNnT2JqID0gXy5leHRlbmQoe1xyXG4gICAgICBuaWNrTmFtZTogJycsXHJcbiAgICAgIGNvbnRlbnQ6ICcnLFxyXG4gICAgICBzbWFsbEF2YXRhcjogJycsXHJcbiAgICAgIHVzZXJJZDogJydcclxuICAgIH0sIHtcclxuICAgICAgdGltZTogQnVzaW5lc3NEYXRlLmZvcm1hdChuZXcgRGF0ZSwgJ2hoOm1tOnNzJyksXHJcbiAgICAgIGZyb21BY2NvdW50OiAnJ1xyXG4gICAgfSwgbXNnT2JqKTtcclxuICAgIGlmIChtc2dPYmogJiYgbXNnT2JqLnJvb21JZCAhPT0gc2VsZi5yb29tSW5mby5pZCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBtc2dPYmouY29udGVudCA9IHNlbGYuZmlsdGVyRW1vamkobXNnT2JqLmNvbnRlbnQpO1xyXG4gICAgaWYgKG1zZ09iaiAmJiBtc2dPYmouY29udGVudCkge1xyXG4gICAgICB0cGwgPSBfLnRlbXBsYXRlKHRoaXMuZ2V0TWVzc2FnZVRwbCgpKTtcclxuICAgICAgdGhpcy5tc2dMaXN0LmFwcGVuZCh0cGwobXNnT2JqKSk7XHJcbiAgICAgIHRoaXMuY2hhdEhpc3Rvcnkuc2Nyb2xsVG9wKHRoaXMubXNnTGlzdC5oZWlnaHQoKSk7XHJcbiAgICAgIGlmIChtc2cubXNnVHlwZSA9PT0gNSkge1xyXG4gICAgICAgIG1zZ09iai5tc2dUeXBlID0gMDtcclxuICAgICAgICBtc2dPYmouc3R5bGUgPSB7XHJcbiAgICAgICAgICBmb250Q29sb3I6ICcjOTk5OTk5J1xyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5GbGFzaEFwaS5vblJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLm5vdGlmeWluZyhtc2dPYmopO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIHNlbGYuYXV0b0RlbGV0ZU1zZ0xpc3QoKTtcclxuICB9LFxyXG4gIC8qKlxyXG4gICAqIOi/h+a7pOihqOaDhVxyXG4gICAqIEBwYXJhbSAge1t0eXBlXX0gY29udGVudCBbZGVzY3JpcHRpb25dXHJcbiAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgIFtkZXNjcmlwdGlvbl1cclxuICAgKi9cclxuICBmaWx0ZXJFbW9qaTogZnVuY3Rpb24gKGNvbnRlbnQpIHtcclxuICAgIHZhciByZWcgPSAvW1xcdTRlMDAtXFx1OWZhNVxcd1xcZEBcXC5cXC3jgIJfIV5eKyPjgJDjgJHvvIF+4oCc77ya44CK44CL77yfPD5dL2c7XHJcbiAgICB2YXIgcmVzdWx0O1xyXG4gICAgaWYgKGNvbnRlbnQpIHtcclxuICAgICAgcmVzdWx0ID0gY29udGVudC5tYXRjaChyZWcpIHx8IFtdO1xyXG4gICAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICByZXR1cm4gcmVzdWx0LmpvaW4oJycpIHx8ICcnO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxuICAgIHJldHVybiBjb250ZW50O1xyXG4gIH0sXHJcbiAgLy8g5b2T5raI5oGv5p2h5pWw6LaF6L+HMTAwMOiHquWKqOWIoOmZpOWJjemdoueahCzku4XnlZnkuIs1MDDmnaFcclxuICBhdXRvRGVsZXRlTXNnTGlzdDogZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHRvdGFsID0gdGhpcy5tc2dMaXN0LmNoaWxkcmVuKCkubGVuZ3RoO1xyXG4gICAgdmFyIGluZGV4ID0gMDtcclxuICAgIGlmICh0b3RhbCA+IDEwMDApIHtcclxuICAgICAgaW5kZXggPSB0b3RhbCAtIDUwMDtcclxuICAgIH1cclxuICAgIHRoaXMubXNnTGlzdC5jaGlsZHJlbignOmx0KCcgKyBpbmRleCArICcpJykucmVtb3ZlKCk7XHJcbiAgfSxcclxuICAvKipcclxuICAgKiDlrprkuYnlr7nlpJblhazluIPnmoTkuovku7ZcclxuICAgKi9cclxuICBkZWZpbmVFdmVudEludGVyZmFjZTogZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIEJhY2tib25lLm9uKCdldmVudDpvbk1zZ05vdGlmeScsIGZ1bmN0aW9uIChub3RpZnlJbmZvKSB7XHJcbiAgICAgIGlmIChfLmlzQXJyYXkobm90aWZ5SW5mbykpIHtcclxuICAgICAgICBfLmVhY2gobm90aWZ5SW5mbywgZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgIGlmICghaXRlbS5nZXRJc1NlbmQoKSkge1xyXG4gICAgICAgICAgICBzZWxmLm9uTXNnTm90aWZ5KGl0ZW0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2UgaWYgKF8uaXNPYmplY3Qobm90aWZ5SW5mbykpIHtcclxuICAgICAgICBpZiAobm90aWZ5SW5mby5pc1NlbmQgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICBzZWxmLm9uTXNnTm90aWZ5KG5vdGlmeUluZm8pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBCYWNrYm9uZS5vbignZXZlbnQ6b25Hcm91cEluZm9DaGFuZ2VOb3RpZnknLCBmdW5jdGlvbiAobm90aWZ5SW5mbykge1xyXG4gICAgICBzZWxmLm9uR3JvdXBJbmZvQ2hhbmdlTm90aWZ5KG5vdGlmeUluZm8pO1xyXG4gICAgfSk7XHJcbiAgICBCYWNrYm9uZS5vbignZXZlbnQ6Z3JvdXBTeXN0ZW1Ob3RpZnlzJywgZnVuY3Rpb24gKG5vdGlmeUluZm8pIHtcclxuICAgICAgc2VsZi5ncm91cFN5c3RlbU5vdGlmeXMobm90aWZ5SW5mbyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBCYWNrYm9uZS5vbignZXZlbnQ6Y2xlYXJBbGxTY3JlZW4nLCBmdW5jdGlvbiAobXNnKSB7XHJcbiAgICAgIHNlbGYuYWRkTWVzc2FnZShtc2cpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgQmFja2JvbmUub24oJ2V2ZW50OkxvY2tPclVuTG9jaycsIGZ1bmN0aW9uIChtc2cpIHtcclxuICAgICAgc2VsZi5hZGRNZXNzYWdlKG1zZyk7XHJcbiAgICB9KTtcclxuICB9LFxyXG4gIC8qKlxyXG4gICAqXHJcbiAgICovXHJcbiAgcm9vbUluZm9SZWFkeTogZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5nZXRHcm91cEluZm8oKTtcclxuICB9LFxyXG4gIC8qKlxyXG4gICAqIOS7juacjeWKoeWZqOerr+aLieWOu+a2iOaBr1xyXG4gICAqL1xyXG4gIGdldE1lc3NhZ2VGcm9tU2VydmVyOiBmdW5jdGlvbiAoKSB7fSxcclxuICAvKipcclxuICAgKiDojrflj5bnvqTnu4TlhazlkYrku6Xlj4rku4vnu41cclxuICAgKi9cclxuICBnZXRHcm91cEluZm86IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBpbnRybztcclxuICAgIGltU2VydmVyLmdldEdyb3VwSW5mbyhzZWxmLnJvb21JbmZvLmltR3JvdXBpZCwgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5BY3Rpb25TdGF0dXMgPT09ICdPSycpIHtcclxuICAgICAgICBpZiAocmVzdWx0Lkdyb3VwSW5mbyAmJiByZXN1bHQuR3JvdXBJbmZvWzBdICYmIHJlc3VsdC5Hcm91cEluZm9bMF0uSW50cm9kdWN0aW9uKSB7XHJcbiAgICAgICAgICBpbnRybyA9IEpTT04ucGFyc2UocmVzdWx0Lkdyb3VwSW5mb1swXS5JbnRyb2R1Y3Rpb24pO1xyXG4gICAgICAgICAgaWYgKGludHJvICYmIGludHJvLmJsb2NrU3RhdGUgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgJCgnI2J0bi1sb2NrJykuY2hpbGRyZW4oJ3NwYW4nKS50ZXh0KCfop6PlsY8nKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgbXNnQm94LnNob3dFcnJvcihlcnIubXNnIHx8ICfojrflj5bnvqTnu4Tmtojmga/lpLHotKUhJyk7XHJcbiAgICB9KTtcclxuICB9LFxyXG4gIC8vIOi9rOaNouaXtumXtOagvOW8j1xyXG4gIGdldERhdGVTdHI6IGZ1bmN0aW9uIChkYXRlSW50KSB7XHJcbiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKGRhdGVJbnQpO1xyXG4gICAgcmV0dXJuIEJ1c2luZXNzRGF0ZS5mb3JtYXQoZGF0ZSwgJ2hoOm1tOnNzJyk7XHJcbiAgfSxcclxuICAvLyDmo4Dmn6XlvZPliY3nm7Tmkq3nirbmgIFcclxuICBjaGVja0xpdmVSb29tUmVhZHk6IGZ1bmN0aW9uICgpIHtcclxuICAgIHN3aXRjaCAodGhpcy5yb29tSW5mby5zdGF0dXMpIHtcclxuICAgICAgY2FzZSAwOlxyXG4gICAgICAgIG1zZ0JveC5zaG93VGlwKCfor6Xnm7Tmkq3lsJrmnKrlj5HluIMhJyk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICBjYXNlIDE6XHJcbiAgICAgIGNhc2UgMjpcclxuICAgICAgICBpZiAoIXRoaXMucm9vbUluZm8gfHwgIXRoaXMucm9vbUluZm8uaW1Hcm91cGlkKSB7XHJcbiAgICAgICAgICBtc2dCb3guc2hvd1RpcCgn6K+35YWI5byA5aeL55u05pKtIScpO1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgY2FzZSAzOlxyXG4gICAgICAgIG1zZ0JveC5zaG93VGlwKCfor6Xnm7Tmkq3lt7Lnu4/nu5PmnZ8hJyk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBWaWV3O1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL3NyYy92aWV3cy9hbmNob3IvYW5jaG9yLWNoYXQudmlldy5qc1xuICoqIG1vZHVsZSBpZCA9IDg3XG4gKiogbW9kdWxlIGNodW5rcyA9IDEgM1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");
},function(module,exports){eval('var flashTemp =\r\n  \'<object width="{width}" height="{height}"  align="middle"\' +\r\n  \'id="{id}" type="application/x-shockwave-flash" \' +\r\n  \'classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">\' +\r\n  \'<param value="{src}" name="movie">\' +\r\n  \'<param value="{always}" name="allowscriptaccess">\' +\r\n  \'<param value="{fullscreen}" name="allowfullscreen">\' +\r\n  \'<param value="{quality}" name="quality">\' +\r\n  \'<param value="{flashvars}" name="flashvars">\' +\r\n  \'<param value="{wmode}" name="wmode" />\' +\r\n  \'<embed width="{width}" height="{height}"  name="{id}"\' +\r\n  \'type="application/x-shockwave-flash" src="{src}" allowscriptaccess="{always}"\' +\r\n  \'allowfullscreen="{fullscreen}" quality="{quality}"  wmode="{wmode}" flashvars="{flashvars}" />\' +\r\n  \'</object>\';\r\nvar win = window;\r\nvar origin = win.location.origin;\r\nvar uid = 999;\r\nwin.YYTPCFlashReadyState = false;\r\nvar getSwfDOM = function (id) {\r\n  var swf;\r\n  var embed;\r\n  var el = document.getElementById(id) || null;\r\n  if (el && el.nodeName.toUpperCase() === \'OBJECT\') {\r\n    if (typeof el.SetVariable !== \'undefined\') {\r\n      swf = el;\r\n    } else {\r\n      embed = el.getElementsByTagName(\'embed\')[0];\r\n      if (embed) {\r\n        swf = embed;\r\n      }\r\n    }\r\n  }\r\n  return swf;\r\n};\r\nvar render = function (tpl, data) {\r\n  if (data) {\r\n    return tpl.replace(/\\{(.*?)\\}/ig, function () {\r\n      return data[arguments[1]] || \'\';\r\n    });\r\n  }\r\n  return tpl;\r\n};\r\nvar FlashApi = function (options) {\r\n  this.$el = typeof options.el === \'string\' ? document.getElementById(options.el) : options.el;\r\n  this._options = options;\r\n  this._props = options.props || {};\r\n  this.$attrs = {\r\n    id: \'YYTFlash\' + (uid++), //  配置id\r\n    src: this._props.src || origin + \'/flash/RTMPInplayer.swf?t=20160713.19\', //  引入swf文件\r\n    width: this._props.width || 895,\r\n    height: this._props.height || 502,\r\n    wmode: this._props.wmode || \'transparent\', // 控制显示模型\r\n    flashvar: this._props.flashvar || \'\', //  初始化参数\r\n    always: this._props.always || \'always\', //  控制是否交互\r\n    fullscreen: this._props.fullscreen || true, //  控制是否全屏\r\n    quality: this._props.quality || \'high\'\r\n  };\r\n  this._html = render(flashTemp, this.$attrs);\r\n  this._methods = options.methods || {};\r\n  this._ready = false;\r\n  this._init();\r\n};\r\n\r\nFlashApi.prototype._init = function () {\r\n  this.$el.innerHTML = this._html;\r\n  this.$swf = getSwfDOM(this.$attrs.id);\r\n};\r\n\r\nFlashApi.prototype.onReady = function (callback) {\r\n  var self = this;\r\n  if (win.YYTPCFlashReadyState || this._ready) {\r\n    callback.call(this);\r\n  } else {\r\n    this.$timer = setInterval(function () {\r\n      if (win.YYTPCFlashReadyState) {\r\n        self._ready = true;\r\n        win.YYTPCFlashReadyState = false;\r\n        clearInterval(self.$timer);\r\n        self.$timer = null;\r\n        callback.call(self);\r\n      }\r\n    }, 0);\r\n  }\r\n};\r\n\r\nFlashApi.prototype.init = function (data) {\r\n  this.$swf.initData(data);\r\n};\r\n\r\nFlashApi.prototype.isReady = function () {\r\n  return this._ready;\r\n};\r\n\r\nFlashApi.prototype.addUrl = function (url, name) {\r\n  this.$swf.setvedioUrl(url, name);\r\n};\r\n\r\nFlashApi.prototype.width = function (value) {\r\n  var val = value;\r\n  if (typeof val === \'string\') {\r\n    val = ~~val;\r\n  }\r\n  this.$swf.setPlayerWidth(val);\r\n};\r\n\r\nFlashApi.prototype.height = function (value) {\r\n  var val = value;\r\n  if (typeof val === \'string\') {\r\n    val = ~~val;\r\n  }\r\n  this.$swf.setPlayerHeight(val);\r\n};\r\n\r\nFlashApi.prototype.notifying = function (obj) {\r\n  this.$swf.setOneMessageInchat(JSON.stringify(obj));\r\n};\r\n\r\nFlashApi.prototype.clear = function () {\r\n  this.$swf.clearAllMessage();\r\n};\r\n\r\nvar shared = null;\r\nFlashApi.sharedInstanceFlashApi = function (options) {\r\n  if (!shared) {\r\n    shared = new FlashApi(options);\r\n  }\r\n  return shared;\r\n};\r\n\r\nwin.YYTPCFlashOnReady = function () {\r\n  //  flash init success\r\n  win.YYTPCFlashReadyState = true;\r\n};\r\n\r\nmodule.exports = FlashApi;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZHVsZS9GbGFzaEFwaS9pbmRleC5qcz81MjRhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsbUJBQW1CLE1BQU0sV0FBVyxPQUFPO0FBQzNDLFFBQVEsR0FBRztBQUNYO0FBQ0Esa0JBQWtCLElBQUk7QUFDdEIsa0JBQWtCLE9BQU87QUFDekIsa0JBQWtCLFdBQVc7QUFDN0Isa0JBQWtCLFFBQVE7QUFDMUIsa0JBQWtCLFVBQVU7QUFDNUIsa0JBQWtCLE1BQU07QUFDeEIsa0JBQWtCLE1BQU0sV0FBVyxPQUFPLFVBQVUsR0FBRztBQUN2RCw4Q0FBOEMsSUFBSSxzQkFBc0IsT0FBTztBQUMvRSxxQkFBcUIsV0FBVyxZQUFZLFFBQVEsV0FBVyxNQUFNLGNBQWMsVUFBVTtBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsT0FBTztBQUNqQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6Ijg4LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGZsYXNoVGVtcCA9XHJcbiAgJzxvYmplY3Qgd2lkdGg9XCJ7d2lkdGh9XCIgaGVpZ2h0PVwie2hlaWdodH1cIiAgYWxpZ249XCJtaWRkbGVcIicgK1xyXG4gICdpZD1cIntpZH1cIiB0eXBlPVwiYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2hcIiAnICtcclxuICAnY2xhc3NpZD1cImNsc2lkOkQyN0NEQjZFLUFFNkQtMTFjZi05NkI4LTQ0NDU1MzU0MDAwMFwiPicgK1xyXG4gICc8cGFyYW0gdmFsdWU9XCJ7c3JjfVwiIG5hbWU9XCJtb3ZpZVwiPicgK1xyXG4gICc8cGFyYW0gdmFsdWU9XCJ7YWx3YXlzfVwiIG5hbWU9XCJhbGxvd3NjcmlwdGFjY2Vzc1wiPicgK1xyXG4gICc8cGFyYW0gdmFsdWU9XCJ7ZnVsbHNjcmVlbn1cIiBuYW1lPVwiYWxsb3dmdWxsc2NyZWVuXCI+JyArXHJcbiAgJzxwYXJhbSB2YWx1ZT1cIntxdWFsaXR5fVwiIG5hbWU9XCJxdWFsaXR5XCI+JyArXHJcbiAgJzxwYXJhbSB2YWx1ZT1cIntmbGFzaHZhcnN9XCIgbmFtZT1cImZsYXNodmFyc1wiPicgK1xyXG4gICc8cGFyYW0gdmFsdWU9XCJ7d21vZGV9XCIgbmFtZT1cIndtb2RlXCIgLz4nICtcclxuICAnPGVtYmVkIHdpZHRoPVwie3dpZHRofVwiIGhlaWdodD1cIntoZWlnaHR9XCIgIG5hbWU9XCJ7aWR9XCInICtcclxuICAndHlwZT1cImFwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoXCIgc3JjPVwie3NyY31cIiBhbGxvd3NjcmlwdGFjY2Vzcz1cInthbHdheXN9XCInICtcclxuICAnYWxsb3dmdWxsc2NyZWVuPVwie2Z1bGxzY3JlZW59XCIgcXVhbGl0eT1cIntxdWFsaXR5fVwiICB3bW9kZT1cInt3bW9kZX1cIiBmbGFzaHZhcnM9XCJ7Zmxhc2h2YXJzfVwiIC8+JyArXHJcbiAgJzwvb2JqZWN0Pic7XHJcbnZhciB3aW4gPSB3aW5kb3c7XHJcbnZhciBvcmlnaW4gPSB3aW4ubG9jYXRpb24ub3JpZ2luO1xyXG52YXIgdWlkID0gOTk5O1xyXG53aW4uWVlUUENGbGFzaFJlYWR5U3RhdGUgPSBmYWxzZTtcclxudmFyIGdldFN3ZkRPTSA9IGZ1bmN0aW9uIChpZCkge1xyXG4gIHZhciBzd2Y7XHJcbiAgdmFyIGVtYmVkO1xyXG4gIHZhciBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSB8fCBudWxsO1xyXG4gIGlmIChlbCAmJiBlbC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpID09PSAnT0JKRUNUJykge1xyXG4gICAgaWYgKHR5cGVvZiBlbC5TZXRWYXJpYWJsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgc3dmID0gZWw7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBlbWJlZCA9IGVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdlbWJlZCcpWzBdO1xyXG4gICAgICBpZiAoZW1iZWQpIHtcclxuICAgICAgICBzd2YgPSBlbWJlZDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gc3dmO1xyXG59O1xyXG52YXIgcmVuZGVyID0gZnVuY3Rpb24gKHRwbCwgZGF0YSkge1xyXG4gIGlmIChkYXRhKSB7XHJcbiAgICByZXR1cm4gdHBsLnJlcGxhY2UoL1xceyguKj8pXFx9L2lnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiBkYXRhW2FyZ3VtZW50c1sxXV0gfHwgJyc7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgcmV0dXJuIHRwbDtcclxufTtcclxudmFyIEZsYXNoQXBpID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICB0aGlzLiRlbCA9IHR5cGVvZiBvcHRpb25zLmVsID09PSAnc3RyaW5nJyA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG9wdGlvbnMuZWwpIDogb3B0aW9ucy5lbDtcclxuICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcclxuICB0aGlzLl9wcm9wcyA9IG9wdGlvbnMucHJvcHMgfHwge307XHJcbiAgdGhpcy4kYXR0cnMgPSB7XHJcbiAgICBpZDogJ1lZVEZsYXNoJyArICh1aWQrKyksIC8vICDphY3nva5pZFxyXG4gICAgc3JjOiB0aGlzLl9wcm9wcy5zcmMgfHwgb3JpZ2luICsgJy9mbGFzaC9SVE1QSW5wbGF5ZXIuc3dmP3Q9MjAxNjA3MTMuMTknLCAvLyAg5byV5YWlc3dm5paH5Lu2XHJcbiAgICB3aWR0aDogdGhpcy5fcHJvcHMud2lkdGggfHwgODk1LFxyXG4gICAgaGVpZ2h0OiB0aGlzLl9wcm9wcy5oZWlnaHQgfHwgNTAyLFxyXG4gICAgd21vZGU6IHRoaXMuX3Byb3BzLndtb2RlIHx8ICd0cmFuc3BhcmVudCcsIC8vIOaOp+WItuaYvuekuuaooeWei1xyXG4gICAgZmxhc2h2YXI6IHRoaXMuX3Byb3BzLmZsYXNodmFyIHx8ICcnLCAvLyAg5Yid5aeL5YyW5Y+C5pWwXHJcbiAgICBhbHdheXM6IHRoaXMuX3Byb3BzLmFsd2F5cyB8fCAnYWx3YXlzJywgLy8gIOaOp+WItuaYr+WQpuS6pOS6klxyXG4gICAgZnVsbHNjcmVlbjogdGhpcy5fcHJvcHMuZnVsbHNjcmVlbiB8fCB0cnVlLCAvLyAg5o6n5Yi25piv5ZCm5YWo5bGPXHJcbiAgICBxdWFsaXR5OiB0aGlzLl9wcm9wcy5xdWFsaXR5IHx8ICdoaWdoJ1xyXG4gIH07XHJcbiAgdGhpcy5faHRtbCA9IHJlbmRlcihmbGFzaFRlbXAsIHRoaXMuJGF0dHJzKTtcclxuICB0aGlzLl9tZXRob2RzID0gb3B0aW9ucy5tZXRob2RzIHx8IHt9O1xyXG4gIHRoaXMuX3JlYWR5ID0gZmFsc2U7XHJcbiAgdGhpcy5faW5pdCgpO1xyXG59O1xyXG5cclxuRmxhc2hBcGkucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gIHRoaXMuJGVsLmlubmVySFRNTCA9IHRoaXMuX2h0bWw7XHJcbiAgdGhpcy4kc3dmID0gZ2V0U3dmRE9NKHRoaXMuJGF0dHJzLmlkKTtcclxufTtcclxuXHJcbkZsYXNoQXBpLnByb3RvdHlwZS5vblJlYWR5ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gIGlmICh3aW4uWVlUUENGbGFzaFJlYWR5U3RhdGUgfHwgdGhpcy5fcmVhZHkpIHtcclxuICAgIGNhbGxiYWNrLmNhbGwodGhpcyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRoaXMuJHRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAod2luLllZVFBDRmxhc2hSZWFkeVN0YXRlKSB7XHJcbiAgICAgICAgc2VsZi5fcmVhZHkgPSB0cnVlO1xyXG4gICAgICAgIHdpbi5ZWVRQQ0ZsYXNoUmVhZHlTdGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwoc2VsZi4kdGltZXIpO1xyXG4gICAgICAgIHNlbGYuJHRpbWVyID0gbnVsbDtcclxuICAgICAgICBjYWxsYmFjay5jYWxsKHNlbGYpO1xyXG4gICAgICB9XHJcbiAgICB9LCAwKTtcclxuICB9XHJcbn07XHJcblxyXG5GbGFzaEFwaS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgdGhpcy4kc3dmLmluaXREYXRhKGRhdGEpO1xyXG59O1xyXG5cclxuRmxhc2hBcGkucHJvdG90eXBlLmlzUmVhZHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIHRoaXMuX3JlYWR5O1xyXG59O1xyXG5cclxuRmxhc2hBcGkucHJvdG90eXBlLmFkZFVybCA9IGZ1bmN0aW9uICh1cmwsIG5hbWUpIHtcclxuICB0aGlzLiRzd2Yuc2V0dmVkaW9VcmwodXJsLCBuYW1lKTtcclxufTtcclxuXHJcbkZsYXNoQXBpLnByb3RvdHlwZS53aWR0aCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gIHZhciB2YWwgPSB2YWx1ZTtcclxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcclxuICAgIHZhbCA9IH5+dmFsO1xyXG4gIH1cclxuICB0aGlzLiRzd2Yuc2V0UGxheWVyV2lkdGgodmFsKTtcclxufTtcclxuXHJcbkZsYXNoQXBpLnByb3RvdHlwZS5oZWlnaHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICB2YXIgdmFsID0gdmFsdWU7XHJcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XHJcbiAgICB2YWwgPSB+fnZhbDtcclxuICB9XHJcbiAgdGhpcy4kc3dmLnNldFBsYXllckhlaWdodCh2YWwpO1xyXG59O1xyXG5cclxuRmxhc2hBcGkucHJvdG90eXBlLm5vdGlmeWluZyA9IGZ1bmN0aW9uIChvYmopIHtcclxuICB0aGlzLiRzd2Yuc2V0T25lTWVzc2FnZUluY2hhdChKU09OLnN0cmluZ2lmeShvYmopKTtcclxufTtcclxuXHJcbkZsYXNoQXBpLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcclxuICB0aGlzLiRzd2YuY2xlYXJBbGxNZXNzYWdlKCk7XHJcbn07XHJcblxyXG52YXIgc2hhcmVkID0gbnVsbDtcclxuRmxhc2hBcGkuc2hhcmVkSW5zdGFuY2VGbGFzaEFwaSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgaWYgKCFzaGFyZWQpIHtcclxuICAgIHNoYXJlZCA9IG5ldyBGbGFzaEFwaShvcHRpb25zKTtcclxuICB9XHJcbiAgcmV0dXJuIHNoYXJlZDtcclxufTtcclxuXHJcbndpbi5ZWVRQQ0ZsYXNoT25SZWFkeSA9IGZ1bmN0aW9uICgpIHtcclxuICAvLyAgZmxhc2ggaW5pdCBzdWNjZXNzXHJcbiAgd2luLllZVFBDRmxhc2hSZWFkeVN0YXRlID0gdHJ1ZTtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gRmxhc2hBcGk7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvc3JjL21vZHVsZS9GbGFzaEFwaS9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDg4XG4gKiogbW9kdWxlIGNodW5rcyA9IDEgMyA1IDYgNyA5XG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports,__webpack_require__){eval("/**\r\n * 房间控制\r\n * 清屏, 锁屏,场控管理\r\n */\r\n'use strict';\r\n\r\nvar Backbone = window.Backbone;\r\nvar base = __webpack_require__(28);\r\nvar BaseView = base.View;\r\n\r\nvar FieldControlView = __webpack_require__(90);\r\n\r\nvar imServer = __webpack_require__(48);\r\nvar uiConfirm = __webpack_require__(61);\r\nvar msgBox = __webpack_require__(75);\r\nvar uiDialog = __webpack_require__(52);\r\n\r\n\r\nvar View = BaseView.extend({\r\n  el: '.room-control',\r\n  rawLoader: function () {\r\n    return __webpack_require__(95);\r\n  },\r\n  events: {\r\n    'click #btn-clear': 'clearHandler',\r\n    'click #btn-lock': 'lockClickHandler',\r\n    'click #btnFieldControl': 'fieldContrlClickHandler'\r\n  },\r\n  context: function (args) {\r\n    console.log(args);\r\n  },\r\n  beforeMount: function () {\r\n    //  初始化一些自定义属性\r\n  },\r\n  afterMount: function () {\r\n    //  获取findDOMNode DOM Node\r\n    var el = this.$el;\r\n    this.btnLock = el.find('#btn-lock');\r\n    this.btnFieldControl = el.find('#btnFieldControl');\r\n  },\r\n  ready: function (ops) {\r\n    //  初始化\r\n    this.roomInfo = ops.roomInfo || {};\r\n    this.FlashApi = ops.FlashApi || {};\r\n    this.msgList = ops.msgList || {};\r\n    this.assistant = ops.assistant || false;\r\n    if (ops.hideCtrl) {\r\n      this.btnFieldControl.hide();\r\n    }\r\n    this.defineEventInterface();\r\n    this.fieldControlView = new FieldControlView({\r\n      roomInfo: this.roomInfo\r\n    });\r\n    var status = ~~this.roomInfo.status;\r\n    if (status !== 2) {\r\n      // msgBox.showTip('直播尚未开始，暂时无法使用场控功能');\r\n      this.btnFieldControl.addClass('m_disabled');\r\n    }\r\n  },\r\n  defineEventInterface: function () {\r\n    var self = this;\r\n    Backbone.on('event:showFieldControllDialog', function () {\r\n      self.fieldContrlClickHandler();\r\n    });\r\n  },\r\n  beforeDestroy: function () {\r\n    //  进入销毁之前,将引用关系设置为null\r\n  },\r\n  destroyed: function () {\r\n    //  销毁之后\r\n  },\r\n  // 检查当前直播状态\r\n  checkLiveRoomReady: function () {\r\n    switch (this.roomInfo.status) {\r\n      case 0:\r\n        msgBox.showTip('该直播尚未发布!');\r\n        return false;\r\n      case 1:\r\n      case 2:\r\n        if (!this.roomInfo || !this.roomInfo.imGroupid) {\r\n          msgBox.showTip('请先开始直播!');\r\n          return false;\r\n        }\r\n        return true;\r\n      case 3:\r\n        msgBox.showTip('该直播已经结束!');\r\n        return false;\r\n      default:\r\n        return false;\r\n    }\r\n  },\r\n  // 清除屏幕\r\n  clearHandler: function () {\r\n    var self = this;\r\n    var flag = self.checkLiveRoomReady();\r\n    if (!flag) {\r\n      return;\r\n    }\r\n\r\n    uiConfirm.show({\r\n      content: '您确定要清屏吗?',\r\n      okFn: function () {\r\n        var msg = {\r\n          roomId: self.roomInfo.id,\r\n          nickName: self.assistant ? '场控' : '主播',\r\n          smallAvatar: '',\r\n          msgType: 4,\r\n          content: '进行了清屏操作'\r\n        };\r\n        self.FlashApi.onReady(function () {\r\n          this.notifying(msg);\r\n        });\r\n        Backbone.trigger('event:clearAllScreen', msg);\r\n        imServer.clearScreen({\r\n          groupId: self.roomInfo.imGroupid,\r\n          msg: msg\r\n        });\r\n      }\r\n    });\r\n  },\r\n  // 锁屏\r\n  lockClickHandler: function () {\r\n    var flag = this.checkLiveRoomReady();\r\n    var target = this.btnLock.children('span');\r\n    var self = this;\r\n    var txt = target.text() === '锁屏' ? '锁定屏幕' : '解开屏幕';\r\n    if (!flag) {\r\n      return;\r\n    }\r\n    uiConfirm.show({\r\n      content: '您确定要' + txt + '吗?',\r\n      okFn: function () {\r\n        self.lockIMHandler(target.text() === '锁屏');\r\n      }\r\n    });\r\n  },\r\n  lockIMHandler: function (isLock) {\r\n    var self = this;\r\n    var options = {\r\n      GroupId: this.roomInfo.imGroupid\r\n    };\r\n    var txt = isLock === true ? '锁屏' : '解屏';\r\n\r\n    if (isLock === true) {\r\n      options.Introduction = JSON.stringify({\r\n        blockState: !!isLock,\r\n        alert: '主播已锁屏'\r\n      });\r\n    } else {\r\n      options.Introduction = JSON.stringify({\r\n        blockState: false,\r\n        alert: '主播解除锁屏'\r\n      });\r\n    }\r\n\r\n    var msg = {\r\n      roomId: self.roomInfo.id,\r\n      nickName: self.assistant ? '场控' : '主播',\r\n      smallAvatar: '',\r\n      msgType: isLock ? 8 : 9,\r\n      content: (self.assistant ? '场控' : '主播') + '已' + txt,\r\n      isLock: isLock,\r\n      blockState: isLock\r\n    };\r\n    // self.FlashApi.onReady(function () {\r\n    //   this.notifying(msg);\r\n    // });\r\n\r\n    imServer.modifyGroupInfo(options, function (result) {\r\n      if (result && result.ActionStatus === 'OK') {\r\n        self.btnLock.children('span').text(isLock === true ? '解屏' : '锁屏');\r\n        msgBox.showOK(txt + '成功!');\r\n\r\n        Backbone.trigger('event:LockOrUnLock', msg);\r\n        imServer.sendMsg({\r\n          groupId: self.roomInfo.imGroupid,\r\n          msg: msg\r\n        });\r\n      } else {\r\n        msgBox.showError(txt + '操作失败,请稍后重试');\r\n      }\r\n    }, function () {\r\n      msgBox.showError(txt + '操作失败,请稍后重试');\r\n    });\r\n  },\r\n  // 清空消息\r\n  clearMessageList: function () {\r\n    if (this.msgList) {\r\n      this.msgList.children().remove();\r\n    }\r\n  },\r\n  // 场控管理\r\n  fieldContrlClickHandler: function () {\r\n    var status = ~~this.roomInfo.status;\r\n    if (status !== 2) {\r\n      msgBox.showTip('直播尚未开始，暂时无法使用场控功能');\r\n      return;\r\n    }\r\n    this.btnFieldControl.removeClass('m_disabled');\r\n    var tpl = __webpack_require__(96);\r\n    if (!this.fieldControlDialog) {\r\n      this.fieldControlDialog = uiDialog.classInstanceDialog(tpl, {\r\n        closeClass: 'editor_bg_close_x', // 'icons am-yyt-close close-white',\r\n        width: 560,\r\n        height: 335,\r\n        isRemoveAfterHide: false\r\n      });\r\n    }\r\n    this.fieldControlDialog.show();\r\n    this.fieldControlView.renderPage();\r\n  }\r\n});\r\n\r\nmodule.exports = View;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL3ZpZXdzL2FuY2hvci9yb29tLWNvbnRyb2wudmlldy5qcz80YzI0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7O0FBRVI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCIsImZpbGUiOiI4OS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDmiL/pl7TmjqfliLZcclxuICog5riF5bGPLCDplIHlsY8s5Zy65o6n566h55CGXHJcbiAqL1xyXG4ndXNlIHN0cmljdCc7XHJcblxyXG52YXIgQmFja2JvbmUgPSB3aW5kb3cuQmFja2JvbmU7XHJcbnZhciBiYXNlID0gcmVxdWlyZSgnYmFzZS1leHRlbmQtYmFja2JvbmUnKTtcclxudmFyIEJhc2VWaWV3ID0gYmFzZS5WaWV3O1xyXG5cclxudmFyIEZpZWxkQ29udHJvbFZpZXcgPSByZXF1aXJlKCcuL3Jvb20tbWFuYWdlci52aWV3Jyk7XHJcblxyXG52YXIgaW1TZXJ2ZXIgPSByZXF1aXJlKCdpbVNlcnZlcicpO1xyXG52YXIgdWlDb25maXJtID0gcmVxdWlyZSgndWkuY29uZmlybScpO1xyXG52YXIgbXNnQm94ID0gcmVxdWlyZSgndWkubXNnQm94Jyk7XHJcbnZhciB1aURpYWxvZyA9IHJlcXVpcmUoJ3VpLkRpYWxvZycpO1xyXG5cclxuXHJcbnZhciBWaWV3ID0gQmFzZVZpZXcuZXh0ZW5kKHtcclxuICBlbDogJy5yb29tLWNvbnRyb2wnLFxyXG4gIHJhd0xvYWRlcjogZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHJlcXVpcmUoJy4vdGVtcGxhdGUvcm9vbS1jb250cm9sLmh0bWwnKTtcclxuICB9LFxyXG4gIGV2ZW50czoge1xyXG4gICAgJ2NsaWNrICNidG4tY2xlYXInOiAnY2xlYXJIYW5kbGVyJyxcclxuICAgICdjbGljayAjYnRuLWxvY2snOiAnbG9ja0NsaWNrSGFuZGxlcicsXHJcbiAgICAnY2xpY2sgI2J0bkZpZWxkQ29udHJvbCc6ICdmaWVsZENvbnRybENsaWNrSGFuZGxlcidcclxuICB9LFxyXG4gIGNvbnRleHQ6IGZ1bmN0aW9uIChhcmdzKSB7XHJcbiAgICBjb25zb2xlLmxvZyhhcmdzKTtcclxuICB9LFxyXG4gIGJlZm9yZU1vdW50OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAg5Yid5aeL5YyW5LiA5Lqb6Ieq5a6a5LmJ5bGe5oCnXHJcbiAgfSxcclxuICBhZnRlck1vdW50OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAg6I635Y+WZmluZERPTU5vZGUgRE9NIE5vZGVcclxuICAgIHZhciBlbCA9IHRoaXMuJGVsO1xyXG4gICAgdGhpcy5idG5Mb2NrID0gZWwuZmluZCgnI2J0bi1sb2NrJyk7XHJcbiAgICB0aGlzLmJ0bkZpZWxkQ29udHJvbCA9IGVsLmZpbmQoJyNidG5GaWVsZENvbnRyb2wnKTtcclxuICB9LFxyXG4gIHJlYWR5OiBmdW5jdGlvbiAob3BzKSB7XHJcbiAgICAvLyAg5Yid5aeL5YyWXHJcbiAgICB0aGlzLnJvb21JbmZvID0gb3BzLnJvb21JbmZvIHx8IHt9O1xyXG4gICAgdGhpcy5GbGFzaEFwaSA9IG9wcy5GbGFzaEFwaSB8fCB7fTtcclxuICAgIHRoaXMubXNnTGlzdCA9IG9wcy5tc2dMaXN0IHx8IHt9O1xyXG4gICAgdGhpcy5hc3Npc3RhbnQgPSBvcHMuYXNzaXN0YW50IHx8IGZhbHNlO1xyXG4gICAgaWYgKG9wcy5oaWRlQ3RybCkge1xyXG4gICAgICB0aGlzLmJ0bkZpZWxkQ29udHJvbC5oaWRlKCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmRlZmluZUV2ZW50SW50ZXJmYWNlKCk7XHJcbiAgICB0aGlzLmZpZWxkQ29udHJvbFZpZXcgPSBuZXcgRmllbGRDb250cm9sVmlldyh7XHJcbiAgICAgIHJvb21JbmZvOiB0aGlzLnJvb21JbmZvXHJcbiAgICB9KTtcclxuICAgIHZhciBzdGF0dXMgPSB+fnRoaXMucm9vbUluZm8uc3RhdHVzO1xyXG4gICAgaWYgKHN0YXR1cyAhPT0gMikge1xyXG4gICAgICAvLyBtc2dCb3guc2hvd1RpcCgn55u05pKt5bCa5pyq5byA5aeL77yM5pqC5pe25peg5rOV5L2/55So5Zy65o6n5Yqf6IO9Jyk7XHJcbiAgICAgIHRoaXMuYnRuRmllbGRDb250cm9sLmFkZENsYXNzKCdtX2Rpc2FibGVkJyk7XHJcbiAgICB9XHJcbiAgfSxcclxuICBkZWZpbmVFdmVudEludGVyZmFjZTogZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgQmFja2JvbmUub24oJ2V2ZW50OnNob3dGaWVsZENvbnRyb2xsRGlhbG9nJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICBzZWxmLmZpZWxkQ29udHJsQ2xpY2tIYW5kbGVyKCk7XHJcbiAgICB9KTtcclxuICB9LFxyXG4gIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICDov5vlhaXplIDmr4HkuYvliY0s5bCG5byV55So5YWz57O76K6+572u5Li6bnVsbFxyXG4gIH0sXHJcbiAgZGVzdHJveWVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAg6ZSA5q+B5LmL5ZCOXHJcbiAgfSxcclxuICAvLyDmo4Dmn6XlvZPliY3nm7Tmkq3nirbmgIFcclxuICBjaGVja0xpdmVSb29tUmVhZHk6IGZ1bmN0aW9uICgpIHtcclxuICAgIHN3aXRjaCAodGhpcy5yb29tSW5mby5zdGF0dXMpIHtcclxuICAgICAgY2FzZSAwOlxyXG4gICAgICAgIG1zZ0JveC5zaG93VGlwKCfor6Xnm7Tmkq3lsJrmnKrlj5HluIMhJyk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICBjYXNlIDE6XHJcbiAgICAgIGNhc2UgMjpcclxuICAgICAgICBpZiAoIXRoaXMucm9vbUluZm8gfHwgIXRoaXMucm9vbUluZm8uaW1Hcm91cGlkKSB7XHJcbiAgICAgICAgICBtc2dCb3guc2hvd1RpcCgn6K+35YWI5byA5aeL55u05pKtIScpO1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgY2FzZSAzOlxyXG4gICAgICAgIG1zZ0JveC5zaG93VGlwKCfor6Xnm7Tmkq3lt7Lnu4/nu5PmnZ8hJyk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9LFxyXG4gIC8vIOa4hemZpOWxj+W5lVxyXG4gIGNsZWFySGFuZGxlcjogZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIGZsYWcgPSBzZWxmLmNoZWNrTGl2ZVJvb21SZWFkeSgpO1xyXG4gICAgaWYgKCFmbGFnKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB1aUNvbmZpcm0uc2hvdyh7XHJcbiAgICAgIGNvbnRlbnQ6ICfmgqjnoa7lrpropoHmuIXlsY/lkJc/JyxcclxuICAgICAgb2tGbjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBtc2cgPSB7XHJcbiAgICAgICAgICByb29tSWQ6IHNlbGYucm9vbUluZm8uaWQsXHJcbiAgICAgICAgICBuaWNrTmFtZTogc2VsZi5hc3Npc3RhbnQgPyAn5Zy65o6nJyA6ICfkuLvmkq0nLFxyXG4gICAgICAgICAgc21hbGxBdmF0YXI6ICcnLFxyXG4gICAgICAgICAgbXNnVHlwZTogNCxcclxuICAgICAgICAgIGNvbnRlbnQ6ICfov5vooYzkuobmuIXlsY/mk43kvZwnXHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLkZsYXNoQXBpLm9uUmVhZHkoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgdGhpcy5ub3RpZnlpbmcobXNnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBCYWNrYm9uZS50cmlnZ2VyKCdldmVudDpjbGVhckFsbFNjcmVlbicsIG1zZyk7XHJcbiAgICAgICAgaW1TZXJ2ZXIuY2xlYXJTY3JlZW4oe1xyXG4gICAgICAgICAgZ3JvdXBJZDogc2VsZi5yb29tSW5mby5pbUdyb3VwaWQsXHJcbiAgICAgICAgICBtc2c6IG1zZ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9LFxyXG4gIC8vIOmUgeWxj1xyXG4gIGxvY2tDbGlja0hhbmRsZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBmbGFnID0gdGhpcy5jaGVja0xpdmVSb29tUmVhZHkoKTtcclxuICAgIHZhciB0YXJnZXQgPSB0aGlzLmJ0bkxvY2suY2hpbGRyZW4oJ3NwYW4nKTtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciB0eHQgPSB0YXJnZXQudGV4dCgpID09PSAn6ZSB5bGPJyA/ICfplIHlrprlsY/luZUnIDogJ+ino+W8gOWxj+W5lSc7XHJcbiAgICBpZiAoIWZsYWcpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdWlDb25maXJtLnNob3coe1xyXG4gICAgICBjb250ZW50OiAn5oKo56Gu5a6a6KaBJyArIHR4dCArICflkJc/JyxcclxuICAgICAgb2tGbjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYubG9ja0lNSGFuZGxlcih0YXJnZXQudGV4dCgpID09PSAn6ZSB5bGPJyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgbG9ja0lNSGFuZGxlcjogZnVuY3Rpb24gKGlzTG9jaykge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIG9wdGlvbnMgPSB7XHJcbiAgICAgIEdyb3VwSWQ6IHRoaXMucm9vbUluZm8uaW1Hcm91cGlkXHJcbiAgICB9O1xyXG4gICAgdmFyIHR4dCA9IGlzTG9jayA9PT0gdHJ1ZSA/ICfplIHlsY8nIDogJ+ino+Wxjyc7XHJcblxyXG4gICAgaWYgKGlzTG9jayA9PT0gdHJ1ZSkge1xyXG4gICAgICBvcHRpb25zLkludHJvZHVjdGlvbiA9IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBibG9ja1N0YXRlOiAhIWlzTG9jayxcclxuICAgICAgICBhbGVydDogJ+S4u+aSreW3sumUgeWxjydcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBvcHRpb25zLkludHJvZHVjdGlvbiA9IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBibG9ja1N0YXRlOiBmYWxzZSxcclxuICAgICAgICBhbGVydDogJ+S4u+aSreino+mZpOmUgeWxjydcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIG1zZyA9IHtcclxuICAgICAgcm9vbUlkOiBzZWxmLnJvb21JbmZvLmlkLFxyXG4gICAgICBuaWNrTmFtZTogc2VsZi5hc3Npc3RhbnQgPyAn5Zy65o6nJyA6ICfkuLvmkq0nLFxyXG4gICAgICBzbWFsbEF2YXRhcjogJycsXHJcbiAgICAgIG1zZ1R5cGU6IGlzTG9jayA/IDggOiA5LFxyXG4gICAgICBjb250ZW50OiAoc2VsZi5hc3Npc3RhbnQgPyAn5Zy65o6nJyA6ICfkuLvmkq0nKSArICflt7InICsgdHh0LFxyXG4gICAgICBpc0xvY2s6IGlzTG9jayxcclxuICAgICAgYmxvY2tTdGF0ZTogaXNMb2NrXHJcbiAgICB9O1xyXG4gICAgLy8gc2VsZi5GbGFzaEFwaS5vblJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgdGhpcy5ub3RpZnlpbmcobXNnKTtcclxuICAgIC8vIH0pO1xyXG5cclxuICAgIGltU2VydmVyLm1vZGlmeUdyb3VwSW5mbyhvcHRpb25zLCBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LkFjdGlvblN0YXR1cyA9PT0gJ09LJykge1xyXG4gICAgICAgIHNlbGYuYnRuTG9jay5jaGlsZHJlbignc3BhbicpLnRleHQoaXNMb2NrID09PSB0cnVlID8gJ+ino+WxjycgOiAn6ZSB5bGPJyk7XHJcbiAgICAgICAgbXNnQm94LnNob3dPSyh0eHQgKyAn5oiQ5YqfIScpO1xyXG5cclxuICAgICAgICBCYWNrYm9uZS50cmlnZ2VyKCdldmVudDpMb2NrT3JVbkxvY2snLCBtc2cpO1xyXG4gICAgICAgIGltU2VydmVyLnNlbmRNc2coe1xyXG4gICAgICAgICAgZ3JvdXBJZDogc2VsZi5yb29tSW5mby5pbUdyb3VwaWQsXHJcbiAgICAgICAgICBtc2c6IG1zZ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG1zZ0JveC5zaG93RXJyb3IodHh0ICsgJ+aTjeS9nOWksei0pSzor7fnqI3lkI7ph43or5UnKTtcclxuICAgICAgfVxyXG4gICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICBtc2dCb3guc2hvd0Vycm9yKHR4dCArICfmk43kvZzlpLHotKUs6K+356iN5ZCO6YeN6K+VJyk7XHJcbiAgICB9KTtcclxuICB9LFxyXG4gIC8vIOa4heepuua2iOaBr1xyXG4gIGNsZWFyTWVzc2FnZUxpc3Q6IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICh0aGlzLm1zZ0xpc3QpIHtcclxuICAgICAgdGhpcy5tc2dMaXN0LmNoaWxkcmVuKCkucmVtb3ZlKCk7XHJcbiAgICB9XHJcbiAgfSxcclxuICAvLyDlnLrmjqfnrqHnkIZcclxuICBmaWVsZENvbnRybENsaWNrSGFuZGxlcjogZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHN0YXR1cyA9IH5+dGhpcy5yb29tSW5mby5zdGF0dXM7XHJcbiAgICBpZiAoc3RhdHVzICE9PSAyKSB7XHJcbiAgICAgIG1zZ0JveC5zaG93VGlwKCfnm7Tmkq3lsJrmnKrlvIDlp4vvvIzmmoLml7bml6Dms5Xkvb/nlKjlnLrmjqflip/og70nKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5idG5GaWVsZENvbnRyb2wucmVtb3ZlQ2xhc3MoJ21fZGlzYWJsZWQnKTtcclxuICAgIHZhciB0cGwgPSByZXF1aXJlKCcuL3RlbXBsYXRlL2ZpZWxkLWNvbnRyb2wuaHRtbCcpO1xyXG4gICAgaWYgKCF0aGlzLmZpZWxkQ29udHJvbERpYWxvZykge1xyXG4gICAgICB0aGlzLmZpZWxkQ29udHJvbERpYWxvZyA9IHVpRGlhbG9nLmNsYXNzSW5zdGFuY2VEaWFsb2codHBsLCB7XHJcbiAgICAgICAgY2xvc2VDbGFzczogJ2VkaXRvcl9iZ19jbG9zZV94JywgLy8gJ2ljb25zIGFtLXl5dC1jbG9zZSBjbG9zZS13aGl0ZScsXHJcbiAgICAgICAgd2lkdGg6IDU2MCxcclxuICAgICAgICBoZWlnaHQ6IDMzNSxcclxuICAgICAgICBpc1JlbW92ZUFmdGVySGlkZTogZmFsc2VcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmZpZWxkQ29udHJvbERpYWxvZy5zaG93KCk7XHJcbiAgICB0aGlzLmZpZWxkQ29udHJvbFZpZXcucmVuZGVyUGFnZSgpO1xyXG4gIH1cclxufSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFZpZXc7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvc3JjL3ZpZXdzL2FuY2hvci9yb29tLWNvbnRyb2wudmlldy5qc1xuICoqIG1vZHVsZSBpZCA9IDg5XG4gKiogbW9kdWxlIGNodW5rcyA9IDEgM1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("/**\r\n * 场控管理, 添加，删除\r\n */\r\n'use strict';\r\n\r\nvar _ = __webpack_require__(27);\r\nvar $ = __webpack_require__(1);\r\nvar Backbone = window.Backbone;\r\nvar base = __webpack_require__(28);\r\nvar BaseView = base.View;\r\n\r\nvar UserModel = __webpack_require__(51);\r\nvar user = UserModel.sharedInstanceUserModel();\r\nvar RoomManagerListModel = __webpack_require__(91);\r\nvar RoomManagerAddModel = __webpack_require__(92);\r\nvar RoomManagerRemoveModel = __webpack_require__(93);\r\n\r\nvar msgBox = __webpack_require__(75);\r\nvar uiConfirm = __webpack_require__(61);\r\n\r\nvar imServer = __webpack_require__(48);\r\n\r\nvar View = BaseView.extend({\r\n  el: '#field-control',\r\n  clientRender: false,\r\n  events: {\r\n    'click .btn-link': 'removeClickHandler',\r\n    'click #btnAdd': 'addClickHandler'\r\n  },\r\n  rawLoader: function () {\r\n    return '';\r\n  },\r\n  context: function (args) {\r\n    console.log(args);\r\n  },\r\n  beforeMount: function () {\r\n    //  初始化一些自定义属性\r\n    this.queryParams = {\r\n      deviceinfo: '{\"aid\": \"30001001\"}',\r\n      access_token: user.getWebToken()\r\n    };\r\n\r\n    this.roomManagerListParams = _.extend({}, this.queryParams);\r\n\r\n    this.roomManListModel = RoomManagerListModel.sharedInstanceModel();\r\n    this.roomManAddModel = RoomManagerAddModel.sharedInstanceModel();\r\n    this.roomManRemoveModel = RoomManagerRemoveModel.sharedInstanceModel();\r\n  },\r\n  afterMount: function () {\r\n    //  获取findDOMNode DOM Node\r\n  },\r\n  findElements: function () {\r\n    this.userListDom = this.$el.find('.user-list');\r\n    this.itemTpl = __webpack_require__(94);\r\n    this.userIdDom = this.$el.find('#txtUserID');\r\n  },\r\n  ready: function (ops) {\r\n    //  初始化\r\n    this.roomInfo = ops.roomInfo || {};\r\n\r\n    this.defineEventInterface();\r\n  },\r\n  defineEventInterface: function () {\r\n    var self = this;\r\n    // 添加用户为场控\r\n    Backbone.on('event:addUserToManager', function (userInfo) {\r\n      // self.addRoomManager(userId);\r\n      self.userVerify(userInfo.userId, userInfo.userName);\r\n    });\r\n  },\r\n  beforeDestroy: function () {\r\n    //  进入销毁之前,将引用关系设置为null\r\n  },\r\n  destroyed: function () {\r\n    //  销毁之后\r\n  },\r\n  renderPage: function () {\r\n    // 'click .btn-link': 'removeClickHandler',\r\n    // 'click #btnAdd': 'addClickHandler'\r\n    if (this.$el.length < 1) {\r\n      this.$el = $(this.$el.selector);\r\n      this.$el.find('.user-list').on('click', this.removeClickHandler.bind(this));\r\n      this.$el.find('#btnAdd').on('click', this.addClickHandler.bind(this));\r\n      this.renderRoomMangerList();\r\n      this.findElements();\r\n    }\r\n  },\r\n  // 删除场控\r\n  removeClickHandler: function (e) {\r\n    var target = $(e.target);\r\n    var userId = target.attr('data-id');\r\n    var self = this;\r\n    if (!userId) {\r\n      return;\r\n    }\r\n    var msg = '<div style=\"text-align:center;color:#a1a1a1;\" >' +\r\n      target.attr('data-name') + '(' + userId + ')</div>';\r\n    uiConfirm.show({\r\n      content: '您确定要删除该场控吗?' + msg,\r\n      okFn: function () {\r\n        self.removeRoomManger(userId);\r\n      }\r\n    });\r\n  },\r\n  // 删除场控\r\n  removeRoomManger: function (id) {\r\n    var promise = this.roomManRemoveModel.executeJSONP(_.extend({\r\n      userId: id,\r\n      roomId: this.roomInfo.id\r\n    }, this.queryParams));\r\n    this.setMember(id, 'Member').done(function () {\r\n      promise.done(function (res) {\r\n        if (res && res.data.success) {\r\n          msgBox.showOK('成功移除该场控');\r\n          $('[dom-id=\"' + id + '\"]').remove();\r\n        } else {\r\n          msgBox.showError('移除场控失败');\r\n        }\r\n      });\r\n    }).fail(function () {\r\n      msgBox.showError('移除场控失败');\r\n    });\r\n  },\r\n  // 添加场控\r\n  addClickHandler: function () {\r\n    var userId = $.trim(this.userIdDom.val());\r\n    if (!this.verifyUserID(userId)) {\r\n      msgBox.showTip('请输入正确的用户编号');\r\n      return null;\r\n    }\r\n    // this.addRoomManager(userId);\r\n    this.userVerify(userId, null, true);\r\n    return true;\r\n  },\r\n  setMember: function (userId, type) {\r\n    var defer = $.Deferred();\r\n    var params = {\r\n      GroupId: this.roomInfo.imGroupid,\r\n      Role: type || 'Admin',\r\n      Member_Account: userId + '$0'\r\n    };\r\n    console.log(params);\r\n    imServer.modifyGroupMember(params).done(function (res) {\r\n      if (res.ActionStatus === 'OK') {\r\n        defer.resolve();\r\n      } else {\r\n        defer.reject();\r\n      }\r\n    }).fail(function (err) {\r\n      var msg = '';\r\n      if (err.ActionStatus === 'FAIL') {\r\n        switch (err.ErrorCode) {\r\n          case 10004:\r\n            msg = '该用户还没有进入房间，不是组员，不能设为场控';\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        if (msg.length > 0) {\r\n          msgBox.showError(msg + '222');\r\n        }\r\n      }\r\n      defer.reject(msg);\r\n    });\r\n    return defer.promise();\r\n  },\r\n  verifyUserID: function (id) {\r\n    return /^\\d+$/.test(id);\r\n  },\r\n  checkUserIsManager: function (uid) {\r\n    var defer = $.Deferred();\r\n    var promise = this.getManagerList();\r\n    promise.done(function (res) {\r\n      var current = _.find(res.data, function (item) {\r\n        return item.user.uid === ~~uid;\r\n      });\r\n      if (current) {\r\n        defer.resolve(true);\r\n      } else {\r\n        defer.reject(false);\r\n      }\r\n    });\r\n    promise.fail(function () {\r\n      defer.reject(false);\r\n    });\r\n    return defer.promise();\r\n  },\r\n  userVerify: function (uid, uName, justAdd) {\r\n    var self = this;\r\n    var promise = this.getManagerList();\r\n    promise.done(function (res) {\r\n      var current = _.find(res.data, function (item) {\r\n        return item.user.uid === ~~uid;\r\n      });\r\n\r\n      var msg = '<div style=\"text-align:center;color:#a1a1a1;\" >' +\r\n        uName + '(' + uid + ')</div>';\r\n      if (!current) {\r\n        uiConfirm.show({\r\n          content: '您确定将该用户设为场控吗?' + (uName ? msg : ''),\r\n          okFn: function () {\r\n            self.addRoomManager(uid);\r\n          }\r\n        });\r\n      } else {\r\n        if (justAdd) {\r\n          msgBox.showTip('该用户已经是场控了');\r\n        } else {\r\n          uiConfirm.show({\r\n            content: '您确定要删除该场控吗?' + msg,\r\n            okFn: function () {\r\n              self.removeRoomManger(uid);\r\n            }\r\n          });\r\n        }\r\n      }\r\n    });\r\n  },\r\n  addRoomManager: function (id) {\r\n    var self = this;\r\n    this.setMember(id, 'Admin').done(function () {\r\n      var promise = self.roomManAddModel.executeJSONP(_.extend({}, self.queryParams, {\r\n        userId: id,\r\n        roomId: self.roomInfo.id || 0\r\n      }));\r\n      promise.done(function (res) {\r\n        if (res && res.code === '0') {\r\n          msgBox.showOK('场控添加成功');\r\n          self.renderRoomMangerList();\r\n          self.userIdDom.val('');\r\n        } else {\r\n          msgBox.showError('场控添加失败');\r\n        }\r\n      });\r\n    }).fail(function (err) {\r\n      msgBox.showError(err || '场控添加失败');\r\n    });\r\n  },\r\n  beforeAdd: function () {},\r\n  getManagerList: function () {\r\n    this.roomManagerListParams.roomId = this.roomInfo.id;\r\n    return this.roomManListModel.executeJSONP(this.roomManagerListParams);\r\n  },\r\n  // 渲染场控列表\r\n  renderRoomMangerList: function () {\r\n    var self = this;\r\n    // this.roomManagerListParams.roomId = this.roomInfo.id;\r\n    // var promise = this.roomManListModel.executeJSONP(this.roomManagerListParams);\r\n    var promise = this.getManagerList();\r\n    promise.done(function (res) {\r\n      if (res && res.code === '0') {\r\n        self.renderRoomManItem(res);\r\n      }\r\n    });\r\n  },\r\n  renderRoomManItem: function (res) {\r\n    var result = _.filter(res.data, function (item) {\r\n      return item.user && item.user.uid !== user.get('userId');\r\n    });\r\n    var html = this.compileHTML(this.itemTpl, {\r\n      data: result\r\n    });\r\n    this.userListDom.html(html);\r\n  }\r\n});\r\n\r\nmodule.exports = View;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL3ZpZXdzL2FuY2hvci9yb29tLW1hbmFnZXIudmlldy5qcz81NzJhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtCQUFrQjtBQUN0QztBQUNBOztBQUVBLDRDQUE0Qzs7QUFFNUM7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsY0FBYztBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUCwrQ0FBK0MsY0FBYztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRTtBQUNqRTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxDQUFDOztBQUVEIiwiZmlsZSI6IjkwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIOWcuuaOp+euoeeQhiwg5re75Yqg77yM5Yig6ZmkXHJcbiAqL1xyXG4ndXNlIHN0cmljdCc7XHJcblxyXG52YXIgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcclxudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcclxudmFyIEJhY2tib25lID0gd2luZG93LkJhY2tib25lO1xyXG52YXIgYmFzZSA9IHJlcXVpcmUoJ2Jhc2UtZXh0ZW5kLWJhY2tib25lJyk7XHJcbnZhciBCYXNlVmlldyA9IGJhc2UuVmlldztcclxuXHJcbnZhciBVc2VyTW9kZWwgPSByZXF1aXJlKCdVc2VyTW9kZWwnKTtcclxudmFyIHVzZXIgPSBVc2VyTW9kZWwuc2hhcmVkSW5zdGFuY2VVc2VyTW9kZWwoKTtcclxudmFyIFJvb21NYW5hZ2VyTGlzdE1vZGVsID0gcmVxdWlyZSgnLi4vLi4vbW9kZWxzL2FuY2hvci9yb29tLW1hbmFnZXItbGlzdC5tb2RlbC5qcycpO1xyXG52YXIgUm9vbU1hbmFnZXJBZGRNb2RlbCA9IHJlcXVpcmUoJy4uLy4uL21vZGVscy9hbmNob3Ivcm9vbS1tYW5hZ2VyLWFkZC5tb2RlbC5qcycpO1xyXG52YXIgUm9vbU1hbmFnZXJSZW1vdmVNb2RlbCA9IHJlcXVpcmUoJy4uLy4uL21vZGVscy9hbmNob3Ivcm9vbS1tYW5hZ2VyLWRlbGV0ZS5tb2RlbC5qcycpO1xyXG5cclxudmFyIG1zZ0JveCA9IHJlcXVpcmUoJ3VpLm1zZ0JveCcpO1xyXG52YXIgdWlDb25maXJtID0gcmVxdWlyZSgndWkuY29uZmlybScpO1xyXG5cclxudmFyIGltU2VydmVyID0gcmVxdWlyZSgnaW1TZXJ2ZXInKTtcclxuXHJcbnZhciBWaWV3ID0gQmFzZVZpZXcuZXh0ZW5kKHtcclxuICBlbDogJyNmaWVsZC1jb250cm9sJyxcclxuICBjbGllbnRSZW5kZXI6IGZhbHNlLFxyXG4gIGV2ZW50czoge1xyXG4gICAgJ2NsaWNrIC5idG4tbGluayc6ICdyZW1vdmVDbGlja0hhbmRsZXInLFxyXG4gICAgJ2NsaWNrICNidG5BZGQnOiAnYWRkQ2xpY2tIYW5kbGVyJ1xyXG4gIH0sXHJcbiAgcmF3TG9hZGVyOiBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gJyc7XHJcbiAgfSxcclxuICBjb250ZXh0OiBmdW5jdGlvbiAoYXJncykge1xyXG4gICAgY29uc29sZS5sb2coYXJncyk7XHJcbiAgfSxcclxuICBiZWZvcmVNb3VudDogZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gIOWIneWni+WMluS4gOS6m+iHquWumuS5ieWxnuaAp1xyXG4gICAgdGhpcy5xdWVyeVBhcmFtcyA9IHtcclxuICAgICAgZGV2aWNlaW5mbzogJ3tcImFpZFwiOiBcIjMwMDAxMDAxXCJ9JyxcclxuICAgICAgYWNjZXNzX3Rva2VuOiB1c2VyLmdldFdlYlRva2VuKClcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yb29tTWFuYWdlckxpc3RQYXJhbXMgPSBfLmV4dGVuZCh7fSwgdGhpcy5xdWVyeVBhcmFtcyk7XHJcblxyXG4gICAgdGhpcy5yb29tTWFuTGlzdE1vZGVsID0gUm9vbU1hbmFnZXJMaXN0TW9kZWwuc2hhcmVkSW5zdGFuY2VNb2RlbCgpO1xyXG4gICAgdGhpcy5yb29tTWFuQWRkTW9kZWwgPSBSb29tTWFuYWdlckFkZE1vZGVsLnNoYXJlZEluc3RhbmNlTW9kZWwoKTtcclxuICAgIHRoaXMucm9vbU1hblJlbW92ZU1vZGVsID0gUm9vbU1hbmFnZXJSZW1vdmVNb2RlbC5zaGFyZWRJbnN0YW5jZU1vZGVsKCk7XHJcbiAgfSxcclxuICBhZnRlck1vdW50OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAg6I635Y+WZmluZERPTU5vZGUgRE9NIE5vZGVcclxuICB9LFxyXG4gIGZpbmRFbGVtZW50czogZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy51c2VyTGlzdERvbSA9IHRoaXMuJGVsLmZpbmQoJy51c2VyLWxpc3QnKTtcclxuICAgIHRoaXMuaXRlbVRwbCA9IHJlcXVpcmUoJy4vdGVtcGxhdGUvZmllbGQtY29udHJvbC1pdGVtLmh0bWwnKTtcclxuICAgIHRoaXMudXNlcklkRG9tID0gdGhpcy4kZWwuZmluZCgnI3R4dFVzZXJJRCcpO1xyXG4gIH0sXHJcbiAgcmVhZHk6IGZ1bmN0aW9uIChvcHMpIHtcclxuICAgIC8vICDliJ3lp4vljJZcclxuICAgIHRoaXMucm9vbUluZm8gPSBvcHMucm9vbUluZm8gfHwge307XHJcblxyXG4gICAgdGhpcy5kZWZpbmVFdmVudEludGVyZmFjZSgpO1xyXG4gIH0sXHJcbiAgZGVmaW5lRXZlbnRJbnRlcmZhY2U6IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIC8vIOa3u+WKoOeUqOaIt+S4uuWcuuaOp1xyXG4gICAgQmFja2JvbmUub24oJ2V2ZW50OmFkZFVzZXJUb01hbmFnZXInLCBmdW5jdGlvbiAodXNlckluZm8pIHtcclxuICAgICAgLy8gc2VsZi5hZGRSb29tTWFuYWdlcih1c2VySWQpO1xyXG4gICAgICBzZWxmLnVzZXJWZXJpZnkodXNlckluZm8udXNlcklkLCB1c2VySW5mby51c2VyTmFtZSk7XHJcbiAgICB9KTtcclxuICB9LFxyXG4gIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICDov5vlhaXplIDmr4HkuYvliY0s5bCG5byV55So5YWz57O76K6+572u5Li6bnVsbFxyXG4gIH0sXHJcbiAgZGVzdHJveWVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAg6ZSA5q+B5LmL5ZCOXHJcbiAgfSxcclxuICByZW5kZXJQYWdlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAnY2xpY2sgLmJ0bi1saW5rJzogJ3JlbW92ZUNsaWNrSGFuZGxlcicsXHJcbiAgICAvLyAnY2xpY2sgI2J0bkFkZCc6ICdhZGRDbGlja0hhbmRsZXInXHJcbiAgICBpZiAodGhpcy4kZWwubGVuZ3RoIDwgMSkge1xyXG4gICAgICB0aGlzLiRlbCA9ICQodGhpcy4kZWwuc2VsZWN0b3IpO1xyXG4gICAgICB0aGlzLiRlbC5maW5kKCcudXNlci1saXN0Jykub24oJ2NsaWNrJywgdGhpcy5yZW1vdmVDbGlja0hhbmRsZXIuYmluZCh0aGlzKSk7XHJcbiAgICAgIHRoaXMuJGVsLmZpbmQoJyNidG5BZGQnKS5vbignY2xpY2snLCB0aGlzLmFkZENsaWNrSGFuZGxlci5iaW5kKHRoaXMpKTtcclxuICAgICAgdGhpcy5yZW5kZXJSb29tTWFuZ2VyTGlzdCgpO1xyXG4gICAgICB0aGlzLmZpbmRFbGVtZW50cygpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgLy8g5Yig6Zmk5Zy65o6nXHJcbiAgcmVtb3ZlQ2xpY2tIYW5kbGVyOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgdmFyIHRhcmdldCA9ICQoZS50YXJnZXQpO1xyXG4gICAgdmFyIHVzZXJJZCA9IHRhcmdldC5hdHRyKCdkYXRhLWlkJyk7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBpZiAoIXVzZXJJZCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgbXNnID0gJzxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOmNlbnRlcjtjb2xvcjojYTFhMWExO1wiID4nICtcclxuICAgICAgdGFyZ2V0LmF0dHIoJ2RhdGEtbmFtZScpICsgJygnICsgdXNlcklkICsgJyk8L2Rpdj4nO1xyXG4gICAgdWlDb25maXJtLnNob3coe1xyXG4gICAgICBjb250ZW50OiAn5oKo56Gu5a6a6KaB5Yig6Zmk6K+l5Zy65o6n5ZCXPycgKyBtc2csXHJcbiAgICAgIG9rRm46IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLnJlbW92ZVJvb21NYW5nZXIodXNlcklkKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSxcclxuICAvLyDliKDpmaTlnLrmjqdcclxuICByZW1vdmVSb29tTWFuZ2VyOiBmdW5jdGlvbiAoaWQpIHtcclxuICAgIHZhciBwcm9taXNlID0gdGhpcy5yb29tTWFuUmVtb3ZlTW9kZWwuZXhlY3V0ZUpTT05QKF8uZXh0ZW5kKHtcclxuICAgICAgdXNlcklkOiBpZCxcclxuICAgICAgcm9vbUlkOiB0aGlzLnJvb21JbmZvLmlkXHJcbiAgICB9LCB0aGlzLnF1ZXJ5UGFyYW1zKSk7XHJcbiAgICB0aGlzLnNldE1lbWJlcihpZCwgJ01lbWJlcicpLmRvbmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICBwcm9taXNlLmRvbmUoZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgIGlmIChyZXMgJiYgcmVzLmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgbXNnQm94LnNob3dPSygn5oiQ5Yqf56e76Zmk6K+l5Zy65o6nJyk7XHJcbiAgICAgICAgICAkKCdbZG9tLWlkPVwiJyArIGlkICsgJ1wiXScpLnJlbW92ZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBtc2dCb3guc2hvd0Vycm9yKCfnp7vpmaTlnLrmjqflpLHotKUnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSkuZmFpbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIG1zZ0JveC5zaG93RXJyb3IoJ+enu+mZpOWcuuaOp+Wksei0pScpO1xyXG4gICAgfSk7XHJcbiAgfSxcclxuICAvLyDmt7vliqDlnLrmjqdcclxuICBhZGRDbGlja0hhbmRsZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB1c2VySWQgPSAkLnRyaW0odGhpcy51c2VySWREb20udmFsKCkpO1xyXG4gICAgaWYgKCF0aGlzLnZlcmlmeVVzZXJJRCh1c2VySWQpKSB7XHJcbiAgICAgIG1zZ0JveC5zaG93VGlwKCfor7fovpPlhaXmraPnoa7nmoTnlKjmiLfnvJblj7cnKTtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICAvLyB0aGlzLmFkZFJvb21NYW5hZ2VyKHVzZXJJZCk7XHJcbiAgICB0aGlzLnVzZXJWZXJpZnkodXNlcklkLCBudWxsLCB0cnVlKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH0sXHJcbiAgc2V0TWVtYmVyOiBmdW5jdGlvbiAodXNlcklkLCB0eXBlKSB7XHJcbiAgICB2YXIgZGVmZXIgPSAkLkRlZmVycmVkKCk7XHJcbiAgICB2YXIgcGFyYW1zID0ge1xyXG4gICAgICBHcm91cElkOiB0aGlzLnJvb21JbmZvLmltR3JvdXBpZCxcclxuICAgICAgUm9sZTogdHlwZSB8fCAnQWRtaW4nLFxyXG4gICAgICBNZW1iZXJfQWNjb3VudDogdXNlcklkICsgJyQwJ1xyXG4gICAgfTtcclxuICAgIGNvbnNvbGUubG9nKHBhcmFtcyk7XHJcbiAgICBpbVNlcnZlci5tb2RpZnlHcm91cE1lbWJlcihwYXJhbXMpLmRvbmUoZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICBpZiAocmVzLkFjdGlvblN0YXR1cyA9PT0gJ09LJykge1xyXG4gICAgICAgIGRlZmVyLnJlc29sdmUoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBkZWZlci5yZWplY3QoKTtcclxuICAgICAgfVxyXG4gICAgfSkuZmFpbChmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgIHZhciBtc2cgPSAnJztcclxuICAgICAgaWYgKGVyci5BY3Rpb25TdGF0dXMgPT09ICdGQUlMJykge1xyXG4gICAgICAgIHN3aXRjaCAoZXJyLkVycm9yQ29kZSkge1xyXG4gICAgICAgICAgY2FzZSAxMDAwNDpcclxuICAgICAgICAgICAgbXNnID0gJ+ivpeeUqOaIt+i/mOayoeaciei/m+WFpeaIv+mXtO+8jOS4jeaYr+e7hOWRmO+8jOS4jeiDveiuvuS4uuWcuuaOpyc7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChtc2cubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgbXNnQm94LnNob3dFcnJvcihtc2cgKyAnMjIyJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGRlZmVyLnJlamVjdChtc2cpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZGVmZXIucHJvbWlzZSgpO1xyXG4gIH0sXHJcbiAgdmVyaWZ5VXNlcklEOiBmdW5jdGlvbiAoaWQpIHtcclxuICAgIHJldHVybiAvXlxcZCskLy50ZXN0KGlkKTtcclxuICB9LFxyXG4gIGNoZWNrVXNlcklzTWFuYWdlcjogZnVuY3Rpb24gKHVpZCkge1xyXG4gICAgdmFyIGRlZmVyID0gJC5EZWZlcnJlZCgpO1xyXG4gICAgdmFyIHByb21pc2UgPSB0aGlzLmdldE1hbmFnZXJMaXN0KCk7XHJcbiAgICBwcm9taXNlLmRvbmUoZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICB2YXIgY3VycmVudCA9IF8uZmluZChyZXMuZGF0YSwgZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICByZXR1cm4gaXRlbS51c2VyLnVpZCA9PT0gfn51aWQ7XHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAoY3VycmVudCkge1xyXG4gICAgICAgIGRlZmVyLnJlc29sdmUodHJ1ZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGVmZXIucmVqZWN0KGZhbHNlKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBwcm9taXNlLmZhaWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICBkZWZlci5yZWplY3QoZmFsc2UpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZGVmZXIucHJvbWlzZSgpO1xyXG4gIH0sXHJcbiAgdXNlclZlcmlmeTogZnVuY3Rpb24gKHVpZCwgdU5hbWUsIGp1c3RBZGQpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBwcm9taXNlID0gdGhpcy5nZXRNYW5hZ2VyTGlzdCgpO1xyXG4gICAgcHJvbWlzZS5kb25lKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgdmFyIGN1cnJlbnQgPSBfLmZpbmQocmVzLmRhdGEsIGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgcmV0dXJuIGl0ZW0udXNlci51aWQgPT09IH5+dWlkO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHZhciBtc2cgPSAnPGRpdiBzdHlsZT1cInRleHQtYWxpZ246Y2VudGVyO2NvbG9yOiNhMWExYTE7XCIgPicgK1xyXG4gICAgICAgIHVOYW1lICsgJygnICsgdWlkICsgJyk8L2Rpdj4nO1xyXG4gICAgICBpZiAoIWN1cnJlbnQpIHtcclxuICAgICAgICB1aUNvbmZpcm0uc2hvdyh7XHJcbiAgICAgICAgICBjb250ZW50OiAn5oKo56Gu5a6a5bCG6K+l55So5oi36K6+5Li65Zy65o6n5ZCXPycgKyAodU5hbWUgPyBtc2cgOiAnJyksXHJcbiAgICAgICAgICBva0ZuOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNlbGYuYWRkUm9vbU1hbmFnZXIodWlkKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoanVzdEFkZCkge1xyXG4gICAgICAgICAgbXNnQm94LnNob3dUaXAoJ+ivpeeUqOaIt+W3sue7j+aYr+WcuuaOp+S6hicpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB1aUNvbmZpcm0uc2hvdyh7XHJcbiAgICAgICAgICAgIGNvbnRlbnQ6ICfmgqjnoa7lrpropoHliKDpmaTor6XlnLrmjqflkJc/JyArIG1zZyxcclxuICAgICAgICAgICAgb2tGbjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgIHNlbGYucmVtb3ZlUm9vbU1hbmdlcih1aWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgYWRkUm9vbU1hbmFnZXI6IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdGhpcy5zZXRNZW1iZXIoaWQsICdBZG1pbicpLmRvbmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgcHJvbWlzZSA9IHNlbGYucm9vbU1hbkFkZE1vZGVsLmV4ZWN1dGVKU09OUChfLmV4dGVuZCh7fSwgc2VsZi5xdWVyeVBhcmFtcywge1xyXG4gICAgICAgIHVzZXJJZDogaWQsXHJcbiAgICAgICAgcm9vbUlkOiBzZWxmLnJvb21JbmZvLmlkIHx8IDBcclxuICAgICAgfSkpO1xyXG4gICAgICBwcm9taXNlLmRvbmUoZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgIGlmIChyZXMgJiYgcmVzLmNvZGUgPT09ICcwJykge1xyXG4gICAgICAgICAgbXNnQm94LnNob3dPSygn5Zy65o6n5re75Yqg5oiQ5YqfJyk7XHJcbiAgICAgICAgICBzZWxmLnJlbmRlclJvb21NYW5nZXJMaXN0KCk7XHJcbiAgICAgICAgICBzZWxmLnVzZXJJZERvbS52YWwoJycpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBtc2dCb3guc2hvd0Vycm9yKCflnLrmjqfmt7vliqDlpLHotKUnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSkuZmFpbChmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgIG1zZ0JveC5zaG93RXJyb3IoZXJyIHx8ICflnLrmjqfmt7vliqDlpLHotKUnKTtcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgYmVmb3JlQWRkOiBmdW5jdGlvbiAoKSB7fSxcclxuICBnZXRNYW5hZ2VyTGlzdDogZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5yb29tTWFuYWdlckxpc3RQYXJhbXMucm9vbUlkID0gdGhpcy5yb29tSW5mby5pZDtcclxuICAgIHJldHVybiB0aGlzLnJvb21NYW5MaXN0TW9kZWwuZXhlY3V0ZUpTT05QKHRoaXMucm9vbU1hbmFnZXJMaXN0UGFyYW1zKTtcclxuICB9LFxyXG4gIC8vIOa4suafk+WcuuaOp+WIl+ihqFxyXG4gIHJlbmRlclJvb21NYW5nZXJMaXN0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAvLyB0aGlzLnJvb21NYW5hZ2VyTGlzdFBhcmFtcy5yb29tSWQgPSB0aGlzLnJvb21JbmZvLmlkO1xyXG4gICAgLy8gdmFyIHByb21pc2UgPSB0aGlzLnJvb21NYW5MaXN0TW9kZWwuZXhlY3V0ZUpTT05QKHRoaXMucm9vbU1hbmFnZXJMaXN0UGFyYW1zKTtcclxuICAgIHZhciBwcm9taXNlID0gdGhpcy5nZXRNYW5hZ2VyTGlzdCgpO1xyXG4gICAgcHJvbWlzZS5kb25lKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgaWYgKHJlcyAmJiByZXMuY29kZSA9PT0gJzAnKSB7XHJcbiAgICAgICAgc2VsZi5yZW5kZXJSb29tTWFuSXRlbShyZXMpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9LFxyXG4gIHJlbmRlclJvb21NYW5JdGVtOiBmdW5jdGlvbiAocmVzKSB7XHJcbiAgICB2YXIgcmVzdWx0ID0gXy5maWx0ZXIocmVzLmRhdGEsIGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgIHJldHVybiBpdGVtLnVzZXIgJiYgaXRlbS51c2VyLnVpZCAhPT0gdXNlci5nZXQoJ3VzZXJJZCcpO1xyXG4gICAgfSk7XHJcbiAgICB2YXIgaHRtbCA9IHRoaXMuY29tcGlsZUhUTUwodGhpcy5pdGVtVHBsLCB7XHJcbiAgICAgIGRhdGE6IHJlc3VsdFxyXG4gICAgfSk7XHJcbiAgICB0aGlzLnVzZXJMaXN0RG9tLmh0bWwoaHRtbCk7XHJcbiAgfVxyXG59KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gVmlldztcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9zcmMvdmlld3MvYW5jaG9yL3Jvb20tbWFuYWdlci52aWV3LmpzXG4gKiogbW9kdWxlIGlkID0gOTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMSAzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");
},function(module,exports,__webpack_require__){eval("/**\r\n * 场控管理列表\r\n */\r\n'use strict';\r\n\r\nvar base = __webpack_require__(28);\r\nvar Config = __webpack_require__(50);\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/room/manager_list.json',\r\n  beforeEmit: function beforeEmit() {\r\n    // 给请求地址替换一下环境变量\r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZGVscy9hbmNob3Ivcm9vbS1tYW5hZ2VyLWxpc3QubW9kZWwuanM/MWIxNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVUsWUFBWTtBQUN0QjtBQUNBO0FBQ0EsYUFBYSxJQUFJLGVBQWUsSUFBSTtBQUNwQyxxQ0FBcUMsWUFBWTtBQUNqRDtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiI5MS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDlnLrmjqfnrqHnkIbliJfooahcclxuICovXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbnZhciBiYXNlID0gcmVxdWlyZSgnYmFzZS1leHRlbmQtYmFja2JvbmUnKTtcclxudmFyIENvbmZpZyA9IHJlcXVpcmUoJ2NvbmZpZycpO1xyXG52YXIgQmFzZU1vZGVsID0gYmFzZS5Nb2RlbDtcclxudmFyIGVudiA9IENvbmZpZy5lbnZbQ29uZmlnLnNjaGVtZV07XHJcblxyXG52YXIgTW9kZWwgPSBCYXNlTW9kZWwuZXh0ZW5kKHtcclxuICB1cmw6ICd7e3VybF9wcmVmaXh9fS9yb29tL21hbmFnZXJfbGlzdC5qc29uJyxcclxuICBiZWZvcmVFbWl0OiBmdW5jdGlvbiBiZWZvcmVFbWl0KCkge1xyXG4gICAgLy8g57uZ6K+35rGC5Zyw5Z2A5pu/5o2i5LiA5LiL546v5aKD5Y+Y6YePXHJcbiAgICBpZiAoL15cXHt7MCwyfSh1cmxfcHJlZml4KVxcfXswLDJ9Ly50ZXN0KHRoaXMudXJsKSkge1xyXG4gICAgICB0aGlzLnVybCA9IHRoaXMudXJsLnJlcGxhY2UoJ3t7dXJsX3ByZWZpeH19JywgZW52LnVybF9wcmVmaXgpO1xyXG4gICAgfVxyXG4gIH1cclxufSk7XHJcblxyXG52YXIgc2hhcmVkID0gbnVsbDtcclxuTW9kZWwuc2hhcmVkSW5zdGFuY2VNb2RlbCA9IGZ1bmN0aW9uIHNoYXJlZEluc3RhbmNlTW9kZWwoKSB7XHJcbiAgaWYgKCFzaGFyZWQpIHtcclxuICAgIHNoYXJlZCA9IG5ldyBNb2RlbCgpO1xyXG4gIH1cclxuICByZXR1cm4gc2hhcmVkO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBNb2RlbDtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9zcmMvbW9kZWxzL2FuY2hvci9yb29tLW1hbmFnZXItbGlzdC5tb2RlbC5qc1xuICoqIG1vZHVsZSBpZCA9IDkxXG4gKiogbW9kdWxlIGNodW5rcyA9IDEgM1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("/**\r\n * 添加场控\r\n */\r\n'use strict';\r\n\r\nvar base = __webpack_require__(28);\r\nvar Config = __webpack_require__(50);\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/room/manager_create.json',\r\n  beforeEmit: function beforeEmit() {\r\n    // 给请求地址替换一下环境变量\r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZGVscy9hbmNob3Ivcm9vbS1tYW5hZ2VyLWFkZC5tb2RlbC5qcz82NWYxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVSxZQUFZO0FBQ3RCO0FBQ0E7QUFDQSxhQUFhLElBQUksZUFBZSxJQUFJO0FBQ3BDLHFDQUFxQyxZQUFZO0FBQ2pEO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjkyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIOa3u+WKoOWcuuaOp1xyXG4gKi9cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxudmFyIGJhc2UgPSByZXF1aXJlKCdiYXNlLWV4dGVuZC1iYWNrYm9uZScpO1xyXG52YXIgQ29uZmlnID0gcmVxdWlyZSgnY29uZmlnJyk7XHJcbnZhciBCYXNlTW9kZWwgPSBiYXNlLk1vZGVsO1xyXG52YXIgZW52ID0gQ29uZmlnLmVudltDb25maWcuc2NoZW1lXTtcclxuXHJcbnZhciBNb2RlbCA9IEJhc2VNb2RlbC5leHRlbmQoe1xyXG4gIHVybDogJ3t7dXJsX3ByZWZpeH19L3Jvb20vbWFuYWdlcl9jcmVhdGUuanNvbicsXHJcbiAgYmVmb3JlRW1pdDogZnVuY3Rpb24gYmVmb3JlRW1pdCgpIHtcclxuICAgIC8vIOe7meivt+axguWcsOWdgOabv+aNouS4gOS4i+eOr+Wig+WPmOmHj1xyXG4gICAgaWYgKC9eXFx7ezAsMn0odXJsX3ByZWZpeClcXH17MCwyfS8udGVzdCh0aGlzLnVybCkpIHtcclxuICAgICAgdGhpcy51cmwgPSB0aGlzLnVybC5yZXBsYWNlKCd7e3VybF9wcmVmaXh9fScsIGVudi51cmxfcHJlZml4KTtcclxuICAgIH1cclxuICB9XHJcbn0pO1xyXG5cclxudmFyIHNoYXJlZCA9IG51bGw7XHJcbk1vZGVsLnNoYXJlZEluc3RhbmNlTW9kZWwgPSBmdW5jdGlvbiBzaGFyZWRJbnN0YW5jZU1vZGVsKCkge1xyXG4gIGlmICghc2hhcmVkKSB7XHJcbiAgICBzaGFyZWQgPSBuZXcgTW9kZWwoKTtcclxuICB9XHJcbiAgcmV0dXJuIHNoYXJlZDtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gTW9kZWw7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvc3JjL21vZGVscy9hbmNob3Ivcm9vbS1tYW5hZ2VyLWFkZC5tb2RlbC5qc1xuICoqIG1vZHVsZSBpZCA9IDkyXG4gKiogbW9kdWxlIGNodW5rcyA9IDEgM1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("/**\r\n * 删除场控\r\n */\r\n'use strict';\r\n\r\nvar base = __webpack_require__(28);\r\nvar Config = __webpack_require__(50);\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/room/manager_delete.json',\r\n  beforeEmit: function beforeEmit() {\r\n    // 给请求地址替换一下环境变量\r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZGVscy9hbmNob3Ivcm9vbS1tYW5hZ2VyLWRlbGV0ZS5tb2RlbC5qcz80NzAxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVSxZQUFZO0FBQ3RCO0FBQ0E7QUFDQSxhQUFhLElBQUksZUFBZSxJQUFJO0FBQ3BDLHFDQUFxQyxZQUFZO0FBQ2pEO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjkzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIOWIoOmZpOWcuuaOp1xyXG4gKi9cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxudmFyIGJhc2UgPSByZXF1aXJlKCdiYXNlLWV4dGVuZC1iYWNrYm9uZScpO1xyXG52YXIgQ29uZmlnID0gcmVxdWlyZSgnY29uZmlnJyk7XHJcbnZhciBCYXNlTW9kZWwgPSBiYXNlLk1vZGVsO1xyXG52YXIgZW52ID0gQ29uZmlnLmVudltDb25maWcuc2NoZW1lXTtcclxuXHJcbnZhciBNb2RlbCA9IEJhc2VNb2RlbC5leHRlbmQoe1xyXG4gIHVybDogJ3t7dXJsX3ByZWZpeH19L3Jvb20vbWFuYWdlcl9kZWxldGUuanNvbicsXHJcbiAgYmVmb3JlRW1pdDogZnVuY3Rpb24gYmVmb3JlRW1pdCgpIHtcclxuICAgIC8vIOe7meivt+axguWcsOWdgOabv+aNouS4gOS4i+eOr+Wig+WPmOmHj1xyXG4gICAgaWYgKC9eXFx7ezAsMn0odXJsX3ByZWZpeClcXH17MCwyfS8udGVzdCh0aGlzLnVybCkpIHtcclxuICAgICAgdGhpcy51cmwgPSB0aGlzLnVybC5yZXBsYWNlKCd7e3VybF9wcmVmaXh9fScsIGVudi51cmxfcHJlZml4KTtcclxuICAgIH1cclxuICB9XHJcbn0pO1xyXG5cclxudmFyIHNoYXJlZCA9IG51bGw7XHJcbk1vZGVsLnNoYXJlZEluc3RhbmNlTW9kZWwgPSBmdW5jdGlvbiBzaGFyZWRJbnN0YW5jZU1vZGVsKCkge1xyXG4gIGlmICghc2hhcmVkKSB7XHJcbiAgICBzaGFyZWQgPSBuZXcgTW9kZWwoKTtcclxuICB9XHJcbiAgcmV0dXJuIHNoYXJlZDtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gTW9kZWw7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvc3JjL21vZGVscy9hbmNob3Ivcm9vbS1tYW5hZ2VyLWRlbGV0ZS5tb2RlbC5qc1xuICoqIG1vZHVsZSBpZCA9IDkzXG4gKiogbW9kdWxlIGNodW5rcyA9IDEgM1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports){eval('module.exports = " {{each data as item}}\\r\\n {{if item.user}}\\r\\n<div class=\\"am-g\\" dom-id=\\"{{item.user.uid}}\\">\\r\\n  <div class=\\"am-u-sm-3 am-vertical-align\\"><img src=\\"{{item.user.largeAvatar}}\\" class=\\"am-vertical-align-middle am-circle avatar\\"><span class=\\"id am-vertical-align-middle am-margin-left-sm\\">{{item.user.uid}}</span></div>\\r\\n  <div class=\\"am-u-sm-6 name\\">{{item.user.nickName}}</div>\\r\\n  <div class=\\"am-u-sm-3\\"><a data-name=\\"{{item.user.nickName}}\\" data-id=\\"{{item.user.uid}}\\" class=\\"am-btn btn-link\\">删除</a></div>\\r\\n</div>\\r\\n{{/if}}\\r\\n{{/each}}\\r\\n"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL3ZpZXdzL2FuY2hvci90ZW1wbGF0ZS9maWVsZC1jb250cm9sLWl0ZW0uaHRtbD83ZDY5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHFCQUFxQixtQkFBbUIsT0FBTyxjQUFjLG1DQUFtQyxlQUFlLGlFQUFpRSx1QkFBdUIsdUhBQXVILGVBQWUsbURBQW1ELG9CQUFvQixzREFBc0Qsb0JBQW9CLGVBQWUsZUFBZSx5REFBeUQsS0FBSyxNQUFNLE9BQU8iLCJmaWxlIjoiOTQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiIHt7ZWFjaCBkYXRhIGFzIGl0ZW19fVxcclxcbiB7e2lmIGl0ZW0udXNlcn19XFxyXFxuPGRpdiBjbGFzcz1cXFwiYW0tZ1xcXCIgZG9tLWlkPVxcXCJ7e2l0ZW0udXNlci51aWR9fVxcXCI+XFxyXFxuICA8ZGl2IGNsYXNzPVxcXCJhbS11LXNtLTMgYW0tdmVydGljYWwtYWxpZ25cXFwiPjxpbWcgc3JjPVxcXCJ7e2l0ZW0udXNlci5sYXJnZUF2YXRhcn19XFxcIiBjbGFzcz1cXFwiYW0tdmVydGljYWwtYWxpZ24tbWlkZGxlIGFtLWNpcmNsZSBhdmF0YXJcXFwiPjxzcGFuIGNsYXNzPVxcXCJpZCBhbS12ZXJ0aWNhbC1hbGlnbi1taWRkbGUgYW0tbWFyZ2luLWxlZnQtc21cXFwiPnt7aXRlbS51c2VyLnVpZH19PC9zcGFuPjwvZGl2PlxcclxcbiAgPGRpdiBjbGFzcz1cXFwiYW0tdS1zbS02IG5hbWVcXFwiPnt7aXRlbS51c2VyLm5pY2tOYW1lfX08L2Rpdj5cXHJcXG4gIDxkaXYgY2xhc3M9XFxcImFtLXUtc20tM1xcXCI+PGEgZGF0YS1uYW1lPVxcXCJ7e2l0ZW0udXNlci5uaWNrTmFtZX19XFxcIiBkYXRhLWlkPVxcXCJ7e2l0ZW0udXNlci51aWR9fVxcXCIgY2xhc3M9XFxcImFtLWJ0biBidG4tbGlua1xcXCI+5Yig6ZmkPC9hPjwvZGl2PlxcclxcbjwvZGl2Plxcclxcbnt7L2lmfX1cXHJcXG57ey9lYWNofX1cXHJcXG5cIlxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvc3JjL3ZpZXdzL2FuY2hvci90ZW1wbGF0ZS9maWVsZC1jb250cm9sLWl0ZW0uaHRtbFxuICoqIG1vZHVsZSBpZCA9IDk0XG4gKiogbW9kdWxlIGNodW5rcyA9IDEgM1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports){eval('module.exports = "<div class=\\"am-vertical-align room-manager-block\\">\\r\\n    <a id=\\"btn-clear\\" class=\\"am-btn am-btn-purple am-vertical-align-middle boderRadAll_5\\">\\r\\n        <i class=\\"clear\\"></i><span>清屏</span></a>\\r\\n    <a id=\\"btn-lock\\" class=\\"am-btn am-btn-purple am-vertical-align-middle boderRadAll_5\\">\\r\\n        <i class=\\"lock\\"></i><span>锁屏</span></a>\\r\\n    <a id=\\"btnFieldControl\\" class=\\"am-btn am-btn-purple am-vertical-align-middle boderRadAll_5\\">\\r\\n        <span class=\\"ctrl first\\">场控</span>\\r\\n        <span class=\\"ctrl\\">管理</span>\\r\\n    </a>\\r\\n</div>\\r\\n"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL3ZpZXdzL2FuY2hvci90ZW1wbGF0ZS9yb29tLWNvbnRyb2wuaHRtbD9iYjllIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Ijk1LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9XFxcImFtLXZlcnRpY2FsLWFsaWduIHJvb20tbWFuYWdlci1ibG9ja1xcXCI+XFxyXFxuICAgIDxhIGlkPVxcXCJidG4tY2xlYXJcXFwiIGNsYXNzPVxcXCJhbS1idG4gYW0tYnRuLXB1cnBsZSBhbS12ZXJ0aWNhbC1hbGlnbi1taWRkbGUgYm9kZXJSYWRBbGxfNVxcXCI+XFxyXFxuICAgICAgICA8aSBjbGFzcz1cXFwiY2xlYXJcXFwiPjwvaT48c3Bhbj7muIXlsY88L3NwYW4+PC9hPlxcclxcbiAgICA8YSBpZD1cXFwiYnRuLWxvY2tcXFwiIGNsYXNzPVxcXCJhbS1idG4gYW0tYnRuLXB1cnBsZSBhbS12ZXJ0aWNhbC1hbGlnbi1taWRkbGUgYm9kZXJSYWRBbGxfNVxcXCI+XFxyXFxuICAgICAgICA8aSBjbGFzcz1cXFwibG9ja1xcXCI+PC9pPjxzcGFuPumUgeWxjzwvc3Bhbj48L2E+XFxyXFxuICAgIDxhIGlkPVxcXCJidG5GaWVsZENvbnRyb2xcXFwiIGNsYXNzPVxcXCJhbS1idG4gYW0tYnRuLXB1cnBsZSBhbS12ZXJ0aWNhbC1hbGlnbi1taWRkbGUgYm9kZXJSYWRBbGxfNVxcXCI+XFxyXFxuICAgICAgICA8c3BhbiBjbGFzcz1cXFwiY3RybCBmaXJzdFxcXCI+5Zy65o6nPC9zcGFuPlxcclxcbiAgICAgICAgPHNwYW4gY2xhc3M9XFxcImN0cmxcXFwiPueuoeeQhjwvc3Bhbj5cXHJcXG4gICAgPC9hPlxcclxcbjwvZGl2PlxcclxcblwiXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9zcmMvdmlld3MvYW5jaG9yL3RlbXBsYXRlL3Jvb20tY29udHJvbC5odG1sXG4gKiogbW9kdWxlIGlkID0gOTVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMSAzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports){eval('module.exports = "<div class=\\"field-control-wrap\\" id=\\"field-control\\">\\r\\n\\r\\n  <div class=\\"popup-wrap\\">\\r\\n    <div class=\\"popup-header am-cf boderRadTop_5\\"><span class=\\"am-fl\\">场控管理</span>\\r\\n      <!-- <a class=\\"am-btn am-btn-close am-fr icons close-white\\"></a> -->\\r\\n    </div>\\r\\n    <div class=\\"popup-content\\">\\r\\n      <div class=\\"detail\\">\\r\\n        <div class=\\"am-g first\\">\\r\\n          <div class=\\"am-u-sm-3\\">用户ID</div>\\r\\n          <div class=\\"am-u-sm-6\\">用户名</div>\\r\\n          <div class=\\"am-u-sm-3\\">操作</div>\\r\\n        </div>\\r\\n        <div class=\\"user-list\\">\\r\\n          <!--<div class=\\"am-g\\">-->\\r\\n          <!--<div class=\\"am-u-sm-3 am-vertical-align\\"><img-->\\r\\n          <!--src=\\"http://img1.yytcdn.com/user/avatar/160322/703-1458640483613/-M-216abfaf3d4ae2ee4d194029b70cdc9d_100x100.jpg\\"-->\\r\\n          <!--class=\\"am-vertical-align-middle am-circle avatar\\"><span-->\\r\\n          <!--class=\\"id am-vertical-align-middle am-margin-left-sm\\">用户ID22</span></div>-->\\r\\n          <!--<div class=\\"am-u-sm-6 name\\">用户名sdfasfasfas</div>-->\\r\\n          <!--<div class=\\"am-u-sm-3\\"><a class=\\"am-btn btn-link\\">删除</a></div>-->\\r\\n          <!--</div>-->\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\"footer am-padding-bottom\\">\\r\\n        <div class=\\"form-input\\">\\r\\n          <input id=\\"txtUserID\\" type=\\"number\\" min=\\"1\\" class=\\"input-user-id boderRadAll_5\\">\\r\\n          <button id=\\"btnAdd\\" class=\\" am-btn am-btn-red boderRadAll_5 am-margin-left-xs\\">添加场控</button>\\r\\n          <p class=\\"tip\\">输入用户音悦台ID,或者从聊天列表中选择用户添加场控权限</p>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL3ZpZXdzL2FuY2hvci90ZW1wbGF0ZS9maWVsZC1jb250cm9sLmh0bWw/MzZjYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI5Ni5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPVxcXCJmaWVsZC1jb250cm9sLXdyYXBcXFwiIGlkPVxcXCJmaWVsZC1jb250cm9sXFxcIj5cXHJcXG5cXHJcXG4gIDxkaXYgY2xhc3M9XFxcInBvcHVwLXdyYXBcXFwiPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJwb3B1cC1oZWFkZXIgYW0tY2YgYm9kZXJSYWRUb3BfNVxcXCI+PHNwYW4gY2xhc3M9XFxcImFtLWZsXFxcIj7lnLrmjqfnrqHnkIY8L3NwYW4+XFxyXFxuICAgICAgPCEtLSA8YSBjbGFzcz1cXFwiYW0tYnRuIGFtLWJ0bi1jbG9zZSBhbS1mciBpY29ucyBjbG9zZS13aGl0ZVxcXCI+PC9hPiAtLT5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcInBvcHVwLWNvbnRlbnRcXFwiPlxcclxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImRldGFpbFxcXCI+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJhbS1nIGZpcnN0XFxcIj5cXHJcXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYW0tdS1zbS0zXFxcIj7nlKjmiLdJRDwvZGl2PlxcclxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJhbS11LXNtLTZcXFwiPueUqOaIt+WQjTwvZGl2PlxcclxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJhbS11LXNtLTNcXFwiPuaTjeS9nDwvZGl2PlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ1c2VyLWxpc3RcXFwiPlxcclxcbiAgICAgICAgICA8IS0tPGRpdiBjbGFzcz1cXFwiYW0tZ1xcXCI+LS0+XFxyXFxuICAgICAgICAgIDwhLS08ZGl2IGNsYXNzPVxcXCJhbS11LXNtLTMgYW0tdmVydGljYWwtYWxpZ25cXFwiPjxpbWctLT5cXHJcXG4gICAgICAgICAgPCEtLXNyYz1cXFwiaHR0cDovL2ltZzEueXl0Y2RuLmNvbS91c2VyL2F2YXRhci8xNjAzMjIvNzAzLTE0NTg2NDA0ODM2MTMvLU0tMjE2YWJmYWYzZDRhZTJlZTRkMTk0MDI5YjcwY2RjOWRfMTAweDEwMC5qcGdcXFwiLS0+XFxyXFxuICAgICAgICAgIDwhLS1jbGFzcz1cXFwiYW0tdmVydGljYWwtYWxpZ24tbWlkZGxlIGFtLWNpcmNsZSBhdmF0YXJcXFwiPjxzcGFuLS0+XFxyXFxuICAgICAgICAgIDwhLS1jbGFzcz1cXFwiaWQgYW0tdmVydGljYWwtYWxpZ24tbWlkZGxlIGFtLW1hcmdpbi1sZWZ0LXNtXFxcIj7nlKjmiLdJRDIyPC9zcGFuPjwvZGl2Pi0tPlxcclxcbiAgICAgICAgICA8IS0tPGRpdiBjbGFzcz1cXFwiYW0tdS1zbS02IG5hbWVcXFwiPueUqOaIt+WQjXNkZmFzZmFzZmFzPC9kaXY+LS0+XFxyXFxuICAgICAgICAgIDwhLS08ZGl2IGNsYXNzPVxcXCJhbS11LXNtLTNcXFwiPjxhIGNsYXNzPVxcXCJhbS1idG4gYnRuLWxpbmtcXFwiPuWIoOmZpDwvYT48L2Rpdj4tLT5cXHJcXG4gICAgICAgICAgPCEtLTwvZGl2Pi0tPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgPC9kaXY+XFxyXFxuICAgICAgPGRpdiBjbGFzcz1cXFwiZm9vdGVyIGFtLXBhZGRpbmctYm90dG9tXFxcIj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0taW5wdXRcXFwiPlxcclxcbiAgICAgICAgICA8aW5wdXQgaWQ9XFxcInR4dFVzZXJJRFxcXCIgdHlwZT1cXFwibnVtYmVyXFxcIiBtaW49XFxcIjFcXFwiIGNsYXNzPVxcXCJpbnB1dC11c2VyLWlkIGJvZGVyUmFkQWxsXzVcXFwiPlxcclxcbiAgICAgICAgICA8YnV0dG9uIGlkPVxcXCJidG5BZGRcXFwiIGNsYXNzPVxcXCIgYW0tYnRuIGFtLWJ0bi1yZWQgYm9kZXJSYWRBbGxfNSBhbS1tYXJnaW4tbGVmdC14c1xcXCI+5re75Yqg5Zy65o6nPC9idXR0b24+XFxyXFxuICAgICAgICAgIDxwIGNsYXNzPVxcXCJ0aXBcXFwiPui+k+WFpeeUqOaIt+mfs+aCpuWPsElELOaIluiAheS7juiBiuWkqeWIl+ihqOS4remAieaLqeeUqOaIt+a3u+WKoOWcuuaOp+adg+mZkDwvcD5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgIDwvZGl2PlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gIDwvZGl2PlxcclxcbjwvZGl2PlxcclxcblwiXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9zcmMvdmlld3MvYW5jaG9yL3RlbXBsYXRlL2ZpZWxkLWNvbnRyb2wuaHRtbFxuICoqIG1vZHVsZSBpZCA9IDk2XG4gKiogbW9kdWxlIGNodW5rcyA9IDEgM1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports){eval('module.exports = "<div class=\\"chatCon\\" id=\\"chatHistory\\">\\r\\n    <!--聊天记录-->\\r\\n    <ul id=\\"msgList\\">\\r\\n        <!-- <li class=\\"clearfix \\" data-msgtype=\\"0\\" data-name=\\"袁家小黑球\\" data-id=\\"44648642$0\\">\\r\\n            <img onerror=\\"this.src=\'../img/visitor_avator.jpg\'\\" src=\\"http://tp1.sinaimg.cn/1973769700/50/5678264169/1\\"\\r\\n                 alt=\\"\\" class=\\"fl visitor_avator\\">\\r\\n            <p class=\\"visitor_chat fl\\">\\r\\n                <span class=\\"visitorName\\">袁家小黑球:</span>\\r\\n                消息内容\\r\\n                <span class=\\"time fr\\">11:58:11</span>\\r\\n            </p>\\r\\n            <div class=\\"controls_forbid_reject\\">\\r\\n                <a href=\\"javascript:;\\" class=\\"forbid\\">禁言</a>\\r\\n                <a href=\\"javascript:;\\" class=\\"reject\\">踢出</a>\\r\\n                <a href=\\"javascript:;\\" class=\\"ctrl\\">场控</a>\\r\\n            </div>\\r\\n        </li> -->\\r\\n    </ul>\\r\\n</div>\\r\\n\\r\\n<div id=\\"sendMessageWrap\\" class=\\"anchor-ctrl pAll10 room-control\\">\\r\\n    <!--控制按钮-->\\r\\n</div>\\r\\n"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL3ZpZXdzL2FuY2hvci90ZW1wbGF0ZS9jaGF0Lmh0bWw/YWY1MCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSwwckJBQTByQixvRUFBb0Usb0VBQW9FIiwiZmlsZSI6Ijk3LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9XFxcImNoYXRDb25cXFwiIGlkPVxcXCJjaGF0SGlzdG9yeVxcXCI+XFxyXFxuICAgIDwhLS3ogYrlpKnorrDlvZUtLT5cXHJcXG4gICAgPHVsIGlkPVxcXCJtc2dMaXN0XFxcIj5cXHJcXG4gICAgICAgIDwhLS0gPGxpIGNsYXNzPVxcXCJjbGVhcmZpeCBcXFwiIGRhdGEtbXNndHlwZT1cXFwiMFxcXCIgZGF0YS1uYW1lPVxcXCLoooHlrrblsI/pu5HnkINcXFwiIGRhdGEtaWQ9XFxcIjQ0NjQ4NjQyJDBcXFwiPlxcclxcbiAgICAgICAgICAgIDxpbWcgb25lcnJvcj1cXFwidGhpcy5zcmM9Jy4uL2ltZy92aXNpdG9yX2F2YXRvci5qcGcnXFxcIiBzcmM9XFxcImh0dHA6Ly90cDEuc2luYWltZy5jbi8xOTczNzY5NzAwLzUwLzU2NzgyNjQxNjkvMVxcXCJcXHJcXG4gICAgICAgICAgICAgICAgIGFsdD1cXFwiXFxcIiBjbGFzcz1cXFwiZmwgdmlzaXRvcl9hdmF0b3JcXFwiPlxcclxcbiAgICAgICAgICAgIDxwIGNsYXNzPVxcXCJ2aXNpdG9yX2NoYXQgZmxcXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwidmlzaXRvck5hbWVcXFwiPuiigeWutuWwj+m7keeQgzo8L3NwYW4+XFxyXFxuICAgICAgICAgICAgICAgIOa2iOaBr+WGheWuuVxcclxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwidGltZSBmclxcXCI+MTE6NTg6MTE8L3NwYW4+XFxyXFxuICAgICAgICAgICAgPC9wPlxcclxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbnRyb2xzX2ZvcmJpZF9yZWplY3RcXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8YSBocmVmPVxcXCJqYXZhc2NyaXB0OjtcXFwiIGNsYXNzPVxcXCJmb3JiaWRcXFwiPuemgeiogDwvYT5cXHJcXG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiamF2YXNjcmlwdDo7XFxcIiBjbGFzcz1cXFwicmVqZWN0XFxcIj7ouKLlh7o8L2E+XFxyXFxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6O1xcXCIgY2xhc3M9XFxcImN0cmxcXFwiPuWcuuaOpzwvYT5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDwvbGk+IC0tPlxcclxcbiAgICA8L3VsPlxcclxcbjwvZGl2PlxcclxcblxcclxcbjxkaXYgaWQ9XFxcInNlbmRNZXNzYWdlV3JhcFxcXCIgY2xhc3M9XFxcImFuY2hvci1jdHJsIHBBbGwxMCByb29tLWNvbnRyb2xcXFwiPlxcclxcbiAgICA8IS0t5o6n5Yi25oyJ6ZKuLS0+XFxyXFxuPC9kaXY+XFxyXFxuXCJcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL3NyYy92aWV3cy9hbmNob3IvdGVtcGxhdGUvY2hhdC5odG1sXG4gKiogbW9kdWxlIGlkID0gOTdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMSAzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports){eval('module.exports = "<li class=\\"clearfix <%=msgType==0?\'\':\'system-info\'%>\\" data-msgType=\\"<%=msgType%>\\" data-name=\\"<%=nickName%>\\" data-id=\\"<%=fromAccount%>\\">\\r\\n  <%if(msgType == 0){%>\\r\\n  <img src=\\"<%=smallAvatar%>\\" alt=\\"\\" class=\\"fl visitor_avator\\">\\r\\n  <%}%>\\r\\n  <p class=\\"visitor_chat fl\\">\\r\\n    <%if(msgType == 0){%>\\r\\n    <span class=\\"visitorName\\"><%=nickName%>:</span>\\r\\n    <%} else if(msgType == 4){%>\\r\\n        <span class=\\"visitorName\\"><%=nickName%>:</span>\\r\\n    <%} else{%>\\r\\n        <span class=\\"visitorName\\">消息:</span>\\r\\n    <% }%>\\r\\n    <%=content%>\\r\\n    <span class=\\"time fr\\"><%=time%></span>\\r\\n  </p>\\r\\n  <div class=\\"controls_forbid_reject\\">\\r\\n    <a href=\\"javascript:;\\" class=\\"forbid am-btn-red\\">禁言</a>\\r\\n    <a href=\\"javascript:;\\" class=\\"reject am-btn-red\\">踢出</a>\\r\\n    <%if(userId) {%>\\r\\n    <a href=\\"javascript:;\\" data-name=\\"<%=nickName%>\\" data-uid=\'<%=userId%>\' class=\\"ctrl am-btn-red\\">场控</a>\\r\\n    <%}%>\\r\\n  </div>\\r\\n</li>\\r\\n"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL3ZpZXdzL2FuY2hvci90ZW1wbGF0ZS9jaGF0LW1lc3NhZ2UtdHBsLmh0bWw/NzQ5ZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSwwTEFBMEwsb0ZBQW9GLGdFQUFnRSxzRUFBc0UsdUJBQXVCLDBFQUEwRSxNQUFNLGdFQUFnRSwwSkFBMEosbUVBQW1FLDJEQUEyRCxnQ0FBZ0MsaUdBQWlHIiwiZmlsZSI6Ijk4LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxsaSBjbGFzcz1cXFwiY2xlYXJmaXggPCU9bXNnVHlwZT09MD8nJzonc3lzdGVtLWluZm8nJT5cXFwiIGRhdGEtbXNnVHlwZT1cXFwiPCU9bXNnVHlwZSU+XFxcIiBkYXRhLW5hbWU9XFxcIjwlPW5pY2tOYW1lJT5cXFwiIGRhdGEtaWQ9XFxcIjwlPWZyb21BY2NvdW50JT5cXFwiPlxcclxcbiAgPCVpZihtc2dUeXBlID09IDApeyU+XFxyXFxuICA8aW1nIHNyYz1cXFwiPCU9c21hbGxBdmF0YXIlPlxcXCIgYWx0PVxcXCJcXFwiIGNsYXNzPVxcXCJmbCB2aXNpdG9yX2F2YXRvclxcXCI+XFxyXFxuICA8JX0lPlxcclxcbiAgPHAgY2xhc3M9XFxcInZpc2l0b3JfY2hhdCBmbFxcXCI+XFxyXFxuICAgIDwlaWYobXNnVHlwZSA9PSAwKXslPlxcclxcbiAgICA8c3BhbiBjbGFzcz1cXFwidmlzaXRvck5hbWVcXFwiPjwlPW5pY2tOYW1lJT46PC9zcGFuPlxcclxcbiAgICA8JX0gZWxzZSBpZihtc2dUeXBlID09IDQpeyU+XFxyXFxuICAgICAgICA8c3BhbiBjbGFzcz1cXFwidmlzaXRvck5hbWVcXFwiPjwlPW5pY2tOYW1lJT46PC9zcGFuPlxcclxcbiAgICA8JX0gZWxzZXslPlxcclxcbiAgICAgICAgPHNwYW4gY2xhc3M9XFxcInZpc2l0b3JOYW1lXFxcIj7mtojmga86PC9zcGFuPlxcclxcbiAgICA8JSB9JT5cXHJcXG4gICAgPCU9Y29udGVudCU+XFxyXFxuICAgIDxzcGFuIGNsYXNzPVxcXCJ0aW1lIGZyXFxcIj48JT10aW1lJT48L3NwYW4+XFxyXFxuICA8L3A+XFxyXFxuICA8ZGl2IGNsYXNzPVxcXCJjb250cm9sc19mb3JiaWRfcmVqZWN0XFxcIj5cXHJcXG4gICAgPGEgaHJlZj1cXFwiamF2YXNjcmlwdDo7XFxcIiBjbGFzcz1cXFwiZm9yYmlkIGFtLWJ0bi1yZWRcXFwiPuemgeiogDwvYT5cXHJcXG4gICAgPGEgaHJlZj1cXFwiamF2YXNjcmlwdDo7XFxcIiBjbGFzcz1cXFwicmVqZWN0IGFtLWJ0bi1yZWRcXFwiPui4ouWHujwvYT5cXHJcXG4gICAgPCVpZih1c2VySWQpIHslPlxcclxcbiAgICA8YSBocmVmPVxcXCJqYXZhc2NyaXB0OjtcXFwiIGRhdGEtbmFtZT1cXFwiPCU9bmlja05hbWUlPlxcXCIgZGF0YS11aWQ9JzwlPXVzZXJJZCU+JyBjbGFzcz1cXFwiY3RybCBhbS1idG4tcmVkXFxcIj7lnLrmjqc8L2E+XFxyXFxuICAgIDwlfSU+XFxyXFxuICA8L2Rpdj5cXHJcXG48L2xpPlxcclxcblwiXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9zcmMvdmlld3MvYW5jaG9yL3RlbXBsYXRlL2NoYXQtbWVzc2FnZS10cGwuaHRtbFxuICoqIG1vZHVsZSBpZCA9IDk4XG4gKiogbW9kdWxlIGNodW5rcyA9IDEgMyA1IDdcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9')},function(module,exports,__webpack_require__){eval("/*\r\n clientRender:{bool} // 默认设置为false，如果为true，内部将不会调用rawLoader方法或者根据templateUrl请求模版\r\n */\r\n\r\n\r\n/**\r\n * @time 2016-3-9\r\n * @author YuanXuJia\r\n * @info 公告模块\r\n */\r\n\r\n'use strict';\r\nvar base = __webpack_require__(28);\r\nvar BaseView = base.View; // View的基类\r\nvar Backbone = window.Backbone;\r\n\r\nvar NoticeModel = __webpack_require__(100);\r\nvar NoticeGetModel = __webpack_require__(101);\r\nvar imServer = __webpack_require__(48);\r\nvar UserModel = __webpack_require__(51);\r\nvar user = UserModel.sharedInstanceUserModel();\r\n\r\nvar msgBox = __webpack_require__(75);\r\n\r\nvar View = BaseView.extend({\r\n  el: '#noticeWraper', // 设置View对象作用于的根元素，比如id\r\n  rawLoader: function () { // 可用此方法返回字符串模版\r\n    return __webpack_require__(102);\r\n  },\r\n  events: { // 监听事件\r\n    'click #btnEditNotice': 'editClickHandler',\r\n    'click .closeNoticePanel': 'panelDisplay',\r\n    'click #btnSubmitNotice': 'submitClickHandler',\r\n    'keyup #txtNotice': 'noticeChanged'\r\n  },\r\n  // 当模板挂载到元素之前\r\n  beforeMount: function () {\r\n    this.noticeModel = new NoticeModel();\r\n    this.noticeGetModel = new NoticeGetModel();\r\n    this.noticeInfo = {\r\n      content: ''\r\n    };\r\n\r\n    this.noticeInfoParams = {\r\n      deviceinfo: '{\"aid\": \"30001001\"}',\r\n      access_token: user.getWebToken(),\r\n      roomId: '',\r\n      content: ''\r\n    };\r\n\r\n    this.noticeGetParams = {\r\n      deviceinfo: '{\"aid\":\"30001001\"}',\r\n      roomId: '',\r\n      access_token: user.getWebToken()\r\n    };\r\n  },\r\n  // 当模板挂载到元素之后\r\n  afterMount: function () {\r\n    // 修改公告弹出框\r\n    this.editNoticPanel = $('#editNoticPanel');\r\n    this.noticeWrap = $('#noticeWrap');\r\n    // 公告内容\r\n    this.txtNotice = $('#txtNotice');\r\n    this.imgRoomPic = $('#imgRoomPic');\r\n    this.errNoticeTip = $('#errNoticeTip');\r\n\r\n    this.tipTextarea = this.$el.find('.tipTextarea');\r\n  },\r\n  // 当事件监听器，内部实例初始化完成，模板挂载到文档之后\r\n  ready: function () {\r\n    this.defineEventInterface();\r\n  },\r\n  /**\r\n   * 编辑按钮点击\r\n   */\r\n  editClickHandler: function () {\r\n    this.noticeChanged();\r\n    this.panelDisplay(true);\r\n  },\r\n  /**\r\n   * 编辑公告悬浮框控制\r\n   * @param isShow\r\n   */\r\n  panelDisplay: function (isShow) {\r\n    this.errNoticeTip.text('');\r\n    if (isShow === true) {\r\n      this.txtNotice.val(this.noticeInfo.content);\r\n      this.editNoticPanel.show();\r\n    } else {\r\n      this.editNoticPanel.hide();\r\n    }\r\n  },\r\n  /**\r\n   * 提交公告\r\n   */\r\n  submitClickHandler: function () {\r\n    var content = this.txtNotice.val().trim();\r\n    var self = this;\r\n    var promise;\r\n    if (!content || content.length > 50 || content.length <= 0) {\r\n      this.errNoticeTip.text('公告文字请在50字以内');\r\n      return null;\r\n    }\r\n\r\n    this.noticeInfoParams.roomId = this.roomInfo.id;\r\n    this.noticeInfoParams.content = content;\r\n\r\n    promise = this.noticeModel.executeJSONP(this.noticeInfoParams);\r\n    promise.done(function (res) {\r\n      if (res && res.code === '0') {\r\n        Backbone.trigger('event:noticeChanged', content);\r\n        self.noticeInfo.content = content;\r\n        self.noticeWrap.text(content);\r\n        self.panelDisplay();\r\n        msgBox.showOK('公告发布成功');\r\n        self.sendNotifyToIM(content);\r\n      }\r\n    });\r\n    promise.fail(function () {\r\n      msgBox.showError('数据保存失败,请稍后重试');\r\n    });\r\n    return null;\r\n  },\r\n  sendNotifyToIM: function (content) {\r\n    if (!this.roomInfo.imGroupid) {\r\n      return;\r\n    }\r\n    imServer.sendMessage({\r\n      groupId: this.roomInfo.imGroupid,\r\n      msg: {\r\n        roomId: this.roomInfo.id,\r\n        smallAvatar: '',\r\n        msgType: 2,\r\n        content: content\r\n      }\r\n    }, function () {}, function () {});\r\n  },\r\n  /**\r\n   * 定义事件\r\n   */\r\n  defineEventInterface: function () {\r\n    var self = this;\r\n    Backbone.on('event:roomInfoReady', function (data) {\r\n      if (data) {\r\n        self.roomInfo = data;\r\n      }\r\n      self.getNoticeInfo();\r\n      //  if (data.imageUrl) {\r\n      //      self.imgRoomPic.attr('src', data.imageUrl);\r\n      //  }\r\n    });\r\n  },\r\n  /**\r\n   * 获取公告信息\r\n   */\r\n  getNoticeInfo: function () {\r\n    var self = this;\r\n    var notice = null;\r\n    var promise;\r\n\r\n    this.noticeGetParams.roomId = this.roomInfo.id;\r\n\r\n    promise = this.noticeGetModel.executeJSONP(this.noticeGetParams);\r\n    promise.done(function (res) {\r\n      if (res && res.data) {\r\n        if (res.data.placards) {\r\n          notice = res.data.placards[0];\r\n        }\r\n        if (notice) {\r\n          self.noticeInfo = notice;\r\n          self.noticeWrap.text(notice.content || '暂无公告');\r\n          self.txtNotice.val(notice.content);\r\n        } else {\r\n          self.noticeWrap.text('暂无公告');\r\n        }\r\n      }\r\n    });\r\n    promise.fail(function (err) {\r\n      msgBox.showError(err.msg || '获取公告失败');\r\n    });\r\n  },\r\n  noticeChanged: function () {\r\n    this.tipTextarea.find('.red').text(50 - this.txtNotice.val().length);\r\n    // if (this.txtNotice.val().length < 50) {\r\n    //   this.tipTextarea.text('您还可以输入' + (50 - this.txtNotice.val().length) + '个字');\r\n    // } else {\r\n    //   this.tipTextarea.text('您的输入超出了' + (this.txtNotice.val().length - 50) + '个字');\r\n    // }\r\n  }\r\n});\r\n\r\nmodule.exports = View;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL3ZpZXdzL2FuY2hvci9ub3RpY2Uudmlldy5qcz82ZDFiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsZUFBZSxLQUFLO0FBQ3BCOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0EsR0FBRztBQUNILFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQixrQkFBa0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0IsaUJBQWlCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLGdCQUFnQixnQkFBZ0I7QUFDckMsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCIsImZpbGUiOiI5OS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiBjbGllbnRSZW5kZXI6e2Jvb2x9IC8vIOm7mOiupOiuvue9ruS4umZhbHNl77yM5aaC5p6c5Li6dHJ1Ze+8jOWGhemDqOWwhuS4jeS8muiwg+eUqHJhd0xvYWRlcuaWueazleaIluiAheagueaNrnRlbXBsYXRlVXJs6K+35rGC5qih54mIXHJcbiAqL1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAdGltZSAyMDE2LTMtOVxyXG4gKiBAYXV0aG9yIFl1YW5YdUppYVxyXG4gKiBAaW5mbyDlhazlkYrmqKHlnZdcclxuICovXHJcblxyXG4ndXNlIHN0cmljdCc7XHJcbnZhciBiYXNlID0gcmVxdWlyZSgnYmFzZS1leHRlbmQtYmFja2JvbmUnKTtcclxudmFyIEJhc2VWaWV3ID0gYmFzZS5WaWV3OyAvLyBWaWV355qE5Z+657G7XHJcbnZhciBCYWNrYm9uZSA9IHdpbmRvdy5CYWNrYm9uZTtcclxuXHJcbnZhciBOb3RpY2VNb2RlbCA9IHJlcXVpcmUoJy4uLy4uL21vZGVscy9hbmNob3Ivbm90aWNlLWNyZWF0ZS5tb2RlbCcpO1xyXG52YXIgTm90aWNlR2V0TW9kZWwgPSByZXF1aXJlKCcuLi8uLi9tb2RlbHMvYW5jaG9yL25vdGljZS1nZXQubW9kZWwnKTtcclxudmFyIGltU2VydmVyID0gcmVxdWlyZSgnaW1TZXJ2ZXInKTtcclxudmFyIFVzZXJNb2RlbCA9IHJlcXVpcmUoJ1VzZXJNb2RlbCcpO1xyXG52YXIgdXNlciA9IFVzZXJNb2RlbC5zaGFyZWRJbnN0YW5jZVVzZXJNb2RlbCgpO1xyXG5cclxudmFyIG1zZ0JveCA9IHJlcXVpcmUoJ3VpLm1zZ0JveCcpO1xyXG5cclxudmFyIFZpZXcgPSBCYXNlVmlldy5leHRlbmQoe1xyXG4gIGVsOiAnI25vdGljZVdyYXBlcicsIC8vIOiuvue9rlZpZXflr7nosaHkvZznlKjkuo7nmoTmoLnlhYPntKDvvIzmr5TlpoJpZFxyXG4gIHJhd0xvYWRlcjogZnVuY3Rpb24gKCkgeyAvLyDlj6/nlKjmraTmlrnms5Xov5Tlm57lrZfnrKbkuLLmqKHniYhcclxuICAgIHJldHVybiByZXF1aXJlKCcuL3RlbXBsYXRlL25vdGljZS5odG1sJyk7XHJcbiAgfSxcclxuICBldmVudHM6IHsgLy8g55uR5ZCs5LqL5Lu2XHJcbiAgICAnY2xpY2sgI2J0bkVkaXROb3RpY2UnOiAnZWRpdENsaWNrSGFuZGxlcicsXHJcbiAgICAnY2xpY2sgLmNsb3NlTm90aWNlUGFuZWwnOiAncGFuZWxEaXNwbGF5JyxcclxuICAgICdjbGljayAjYnRuU3VibWl0Tm90aWNlJzogJ3N1Ym1pdENsaWNrSGFuZGxlcicsXHJcbiAgICAna2V5dXAgI3R4dE5vdGljZSc6ICdub3RpY2VDaGFuZ2VkJ1xyXG4gIH0sXHJcbiAgLy8g5b2T5qih5p2/5oyC6L295Yiw5YWD57Sg5LmL5YmNXHJcbiAgYmVmb3JlTW91bnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMubm90aWNlTW9kZWwgPSBuZXcgTm90aWNlTW9kZWwoKTtcclxuICAgIHRoaXMubm90aWNlR2V0TW9kZWwgPSBuZXcgTm90aWNlR2V0TW9kZWwoKTtcclxuICAgIHRoaXMubm90aWNlSW5mbyA9IHtcclxuICAgICAgY29udGVudDogJydcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5ub3RpY2VJbmZvUGFyYW1zID0ge1xyXG4gICAgICBkZXZpY2VpbmZvOiAne1wiYWlkXCI6IFwiMzAwMDEwMDFcIn0nLFxyXG4gICAgICBhY2Nlc3NfdG9rZW46IHVzZXIuZ2V0V2ViVG9rZW4oKSxcclxuICAgICAgcm9vbUlkOiAnJyxcclxuICAgICAgY29udGVudDogJydcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5ub3RpY2VHZXRQYXJhbXMgPSB7XHJcbiAgICAgIGRldmljZWluZm86ICd7XCJhaWRcIjpcIjMwMDAxMDAxXCJ9JyxcclxuICAgICAgcm9vbUlkOiAnJyxcclxuICAgICAgYWNjZXNzX3Rva2VuOiB1c2VyLmdldFdlYlRva2VuKClcclxuICAgIH07XHJcbiAgfSxcclxuICAvLyDlvZPmqKHmnb/mjILovb3liLDlhYPntKDkuYvlkI5cclxuICBhZnRlck1vdW50OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyDkv67mlLnlhazlkYrlvLnlh7rmoYZcclxuICAgIHRoaXMuZWRpdE5vdGljUGFuZWwgPSAkKCcjZWRpdE5vdGljUGFuZWwnKTtcclxuICAgIHRoaXMubm90aWNlV3JhcCA9ICQoJyNub3RpY2VXcmFwJyk7XHJcbiAgICAvLyDlhazlkYrlhoXlrrlcclxuICAgIHRoaXMudHh0Tm90aWNlID0gJCgnI3R4dE5vdGljZScpO1xyXG4gICAgdGhpcy5pbWdSb29tUGljID0gJCgnI2ltZ1Jvb21QaWMnKTtcclxuICAgIHRoaXMuZXJyTm90aWNlVGlwID0gJCgnI2Vyck5vdGljZVRpcCcpO1xyXG5cclxuICAgIHRoaXMudGlwVGV4dGFyZWEgPSB0aGlzLiRlbC5maW5kKCcudGlwVGV4dGFyZWEnKTtcclxuICB9LFxyXG4gIC8vIOW9k+S6i+S7tuebkeWQrOWZqO+8jOWGhemDqOWunuS+i+WIneWni+WMluWujOaIkO+8jOaooeadv+aMgui9veWIsOaWh+aho+S5i+WQjlxyXG4gIHJlYWR5OiBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLmRlZmluZUV2ZW50SW50ZXJmYWNlKCk7XHJcbiAgfSxcclxuICAvKipcclxuICAgKiDnvJbovpHmjInpkq7ngrnlh7tcclxuICAgKi9cclxuICBlZGl0Q2xpY2tIYW5kbGVyOiBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLm5vdGljZUNoYW5nZWQoKTtcclxuICAgIHRoaXMucGFuZWxEaXNwbGF5KHRydWUpO1xyXG4gIH0sXHJcbiAgLyoqXHJcbiAgICog57yW6L6R5YWs5ZGK5oKs5rWu5qGG5o6n5Yi2XHJcbiAgICogQHBhcmFtIGlzU2hvd1xyXG4gICAqL1xyXG4gIHBhbmVsRGlzcGxheTogZnVuY3Rpb24gKGlzU2hvdykge1xyXG4gICAgdGhpcy5lcnJOb3RpY2VUaXAudGV4dCgnJyk7XHJcbiAgICBpZiAoaXNTaG93ID09PSB0cnVlKSB7XHJcbiAgICAgIHRoaXMudHh0Tm90aWNlLnZhbCh0aGlzLm5vdGljZUluZm8uY29udGVudCk7XHJcbiAgICAgIHRoaXMuZWRpdE5vdGljUGFuZWwuc2hvdygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lZGl0Tm90aWNQYW5lbC5oaWRlKCk7XHJcbiAgICB9XHJcbiAgfSxcclxuICAvKipcclxuICAgKiDmj5DkuqTlhazlkYpcclxuICAgKi9cclxuICBzdWJtaXRDbGlja0hhbmRsZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBjb250ZW50ID0gdGhpcy50eHROb3RpY2UudmFsKCkudHJpbSgpO1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIHByb21pc2U7XHJcbiAgICBpZiAoIWNvbnRlbnQgfHwgY29udGVudC5sZW5ndGggPiA1MCB8fCBjb250ZW50Lmxlbmd0aCA8PSAwKSB7XHJcbiAgICAgIHRoaXMuZXJyTm90aWNlVGlwLnRleHQoJ+WFrOWRiuaWh+Wtl+ivt+WcqDUw5a2X5Lul5YaFJyk7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMubm90aWNlSW5mb1BhcmFtcy5yb29tSWQgPSB0aGlzLnJvb21JbmZvLmlkO1xyXG4gICAgdGhpcy5ub3RpY2VJbmZvUGFyYW1zLmNvbnRlbnQgPSBjb250ZW50O1xyXG5cclxuICAgIHByb21pc2UgPSB0aGlzLm5vdGljZU1vZGVsLmV4ZWN1dGVKU09OUCh0aGlzLm5vdGljZUluZm9QYXJhbXMpO1xyXG4gICAgcHJvbWlzZS5kb25lKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgaWYgKHJlcyAmJiByZXMuY29kZSA9PT0gJzAnKSB7XHJcbiAgICAgICAgQmFja2JvbmUudHJpZ2dlcignZXZlbnQ6bm90aWNlQ2hhbmdlZCcsIGNvbnRlbnQpO1xyXG4gICAgICAgIHNlbGYubm90aWNlSW5mby5jb250ZW50ID0gY29udGVudDtcclxuICAgICAgICBzZWxmLm5vdGljZVdyYXAudGV4dChjb250ZW50KTtcclxuICAgICAgICBzZWxmLnBhbmVsRGlzcGxheSgpO1xyXG4gICAgICAgIG1zZ0JveC5zaG93T0soJ+WFrOWRiuWPkeW4g+aIkOWKnycpO1xyXG4gICAgICAgIHNlbGYuc2VuZE5vdGlmeVRvSU0oY29udGVudCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcHJvbWlzZS5mYWlsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgbXNnQm94LnNob3dFcnJvcign5pWw5o2u5L+d5a2Y5aSx6LSlLOivt+eojeWQjumHjeivlScpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9LFxyXG4gIHNlbmROb3RpZnlUb0lNOiBmdW5jdGlvbiAoY29udGVudCkge1xyXG4gICAgaWYgKCF0aGlzLnJvb21JbmZvLmltR3JvdXBpZCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpbVNlcnZlci5zZW5kTWVzc2FnZSh7XHJcbiAgICAgIGdyb3VwSWQ6IHRoaXMucm9vbUluZm8uaW1Hcm91cGlkLFxyXG4gICAgICBtc2c6IHtcclxuICAgICAgICByb29tSWQ6IHRoaXMucm9vbUluZm8uaWQsXHJcbiAgICAgICAgc21hbGxBdmF0YXI6ICcnLFxyXG4gICAgICAgIG1zZ1R5cGU6IDIsXHJcbiAgICAgICAgY29udGVudDogY29udGVudFxyXG4gICAgICB9XHJcbiAgICB9LCBmdW5jdGlvbiAoKSB7fSwgZnVuY3Rpb24gKCkge30pO1xyXG4gIH0sXHJcbiAgLyoqXHJcbiAgICog5a6a5LmJ5LqL5Lu2XHJcbiAgICovXHJcbiAgZGVmaW5lRXZlbnRJbnRlcmZhY2U6IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIEJhY2tib25lLm9uKCdldmVudDpyb29tSW5mb1JlYWR5JywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICBzZWxmLnJvb21JbmZvID0gZGF0YTtcclxuICAgICAgfVxyXG4gICAgICBzZWxmLmdldE5vdGljZUluZm8oKTtcclxuICAgICAgLy8gIGlmIChkYXRhLmltYWdlVXJsKSB7XHJcbiAgICAgIC8vICAgICAgc2VsZi5pbWdSb29tUGljLmF0dHIoJ3NyYycsIGRhdGEuaW1hZ2VVcmwpO1xyXG4gICAgICAvLyAgfVxyXG4gICAgfSk7XHJcbiAgfSxcclxuICAvKipcclxuICAgKiDojrflj5blhazlkYrkv6Hmga9cclxuICAgKi9cclxuICBnZXROb3RpY2VJbmZvOiBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgbm90aWNlID0gbnVsbDtcclxuICAgIHZhciBwcm9taXNlO1xyXG5cclxuICAgIHRoaXMubm90aWNlR2V0UGFyYW1zLnJvb21JZCA9IHRoaXMucm9vbUluZm8uaWQ7XHJcblxyXG4gICAgcHJvbWlzZSA9IHRoaXMubm90aWNlR2V0TW9kZWwuZXhlY3V0ZUpTT05QKHRoaXMubm90aWNlR2V0UGFyYW1zKTtcclxuICAgIHByb21pc2UuZG9uZShmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgIGlmIChyZXMgJiYgcmVzLmRhdGEpIHtcclxuICAgICAgICBpZiAocmVzLmRhdGEucGxhY2FyZHMpIHtcclxuICAgICAgICAgIG5vdGljZSA9IHJlcy5kYXRhLnBsYWNhcmRzWzBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobm90aWNlKSB7XHJcbiAgICAgICAgICBzZWxmLm5vdGljZUluZm8gPSBub3RpY2U7XHJcbiAgICAgICAgICBzZWxmLm5vdGljZVdyYXAudGV4dChub3RpY2UuY29udGVudCB8fCAn5pqC5peg5YWs5ZGKJyk7XHJcbiAgICAgICAgICBzZWxmLnR4dE5vdGljZS52YWwobm90aWNlLmNvbnRlbnQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzZWxmLm5vdGljZVdyYXAudGV4dCgn5pqC5peg5YWs5ZGKJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHByb21pc2UuZmFpbChmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgIG1zZ0JveC5zaG93RXJyb3IoZXJyLm1zZyB8fCAn6I635Y+W5YWs5ZGK5aSx6LSlJyk7XHJcbiAgICB9KTtcclxuICB9LFxyXG4gIG5vdGljZUNoYW5nZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMudGlwVGV4dGFyZWEuZmluZCgnLnJlZCcpLnRleHQoNTAgLSB0aGlzLnR4dE5vdGljZS52YWwoKS5sZW5ndGgpO1xyXG4gICAgLy8gaWYgKHRoaXMudHh0Tm90aWNlLnZhbCgpLmxlbmd0aCA8IDUwKSB7XHJcbiAgICAvLyAgIHRoaXMudGlwVGV4dGFyZWEudGV4dCgn5oKo6L+Y5Y+v5Lul6L6T5YWlJyArICg1MCAtIHRoaXMudHh0Tm90aWNlLnZhbCgpLmxlbmd0aCkgKyAn5Liq5a2XJyk7XHJcbiAgICAvLyB9IGVsc2Uge1xyXG4gICAgLy8gICB0aGlzLnRpcFRleHRhcmVhLnRleHQoJ+aCqOeahOi+k+WFpei2heWHuuS6hicgKyAodGhpcy50eHROb3RpY2UudmFsKCkubGVuZ3RoIC0gNTApICsgJ+S4quWtlycpO1xyXG4gICAgLy8gfVxyXG4gIH1cclxufSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFZpZXc7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvc3JjL3ZpZXdzL2FuY2hvci9ub3RpY2Uudmlldy5qc1xuICoqIG1vZHVsZSBpZCA9IDk5XG4gKiogbW9kdWxlIGNodW5rcyA9IDEgM1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");
},function(module,exports,__webpack_require__){eval("'use strict';\r\n\r\nvar base = __webpack_require__(28);\r\nvar Config = __webpack_require__(50);\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/room/placard_create.json', // 填写请求地址\r\n  beforeEmit: function beforeEmit() {\r\n    // 给请求地址替换一下环境变量\r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZGVscy9hbmNob3Ivbm90aWNlLWNyZWF0ZS5tb2RlbC5qcz8zMjRhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVSxZQUFZO0FBQ3RCO0FBQ0E7QUFDQSxhQUFhLElBQUksZUFBZSxJQUFJO0FBQ3BDLHFDQUFxQyxZQUFZO0FBQ2pEO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjEwMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbnZhciBiYXNlID0gcmVxdWlyZSgnYmFzZS1leHRlbmQtYmFja2JvbmUnKTtcclxudmFyIENvbmZpZyA9IHJlcXVpcmUoJ2NvbmZpZycpO1xyXG52YXIgQmFzZU1vZGVsID0gYmFzZS5Nb2RlbDtcclxudmFyIGVudiA9IENvbmZpZy5lbnZbQ29uZmlnLnNjaGVtZV07XHJcblxyXG52YXIgTW9kZWwgPSBCYXNlTW9kZWwuZXh0ZW5kKHtcclxuICB1cmw6ICd7e3VybF9wcmVmaXh9fS9yb29tL3BsYWNhcmRfY3JlYXRlLmpzb24nLCAvLyDloavlhpnor7fmsYLlnLDlnYBcclxuICBiZWZvcmVFbWl0OiBmdW5jdGlvbiBiZWZvcmVFbWl0KCkge1xyXG4gICAgLy8g57uZ6K+35rGC5Zyw5Z2A5pu/5o2i5LiA5LiL546v5aKD5Y+Y6YePXHJcbiAgICBpZiAoL15cXHt7MCwyfSh1cmxfcHJlZml4KVxcfXswLDJ9Ly50ZXN0KHRoaXMudXJsKSkge1xyXG4gICAgICB0aGlzLnVybCA9IHRoaXMudXJsLnJlcGxhY2UoJ3t7dXJsX3ByZWZpeH19JywgZW52LnVybF9wcmVmaXgpO1xyXG4gICAgfVxyXG4gIH1cclxufSk7XHJcblxyXG52YXIgc2hhcmVkID0gbnVsbDtcclxuTW9kZWwuc2hhcmVkSW5zdGFuY2VNb2RlbCA9IGZ1bmN0aW9uIHNoYXJlZEluc3RhbmNlTW9kZWwoKSB7XHJcbiAgaWYgKCFzaGFyZWQpIHtcclxuICAgIHNoYXJlZCA9IG5ldyBNb2RlbCgpO1xyXG4gIH1cclxuICByZXR1cm4gc2hhcmVkO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBNb2RlbDtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9zcmMvbW9kZWxzL2FuY2hvci9ub3RpY2UtY3JlYXRlLm1vZGVsLmpzXG4gKiogbW9kdWxlIGlkID0gMTAwXG4gKiogbW9kdWxlIGNodW5rcyA9IDEgM1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("'use strict';\r\n\r\nvar base = __webpack_require__(28);\r\nvar Config = __webpack_require__(50);\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/room/placard_get.json', // 填写请求地址\r\n  beforeEmit: function beforeEmit() {\r\n    // 给请求地址替换一下环境变量\r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZGVscy9hbmNob3Ivbm90aWNlLWdldC5tb2RlbC5qcz8yNDNlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVSxZQUFZO0FBQ3RCO0FBQ0E7QUFDQSxhQUFhLElBQUksZUFBZSxJQUFJO0FBQ3BDLHFDQUFxQyxZQUFZO0FBQ2pEO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjEwMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbnZhciBiYXNlID0gcmVxdWlyZSgnYmFzZS1leHRlbmQtYmFja2JvbmUnKTtcclxudmFyIENvbmZpZyA9IHJlcXVpcmUoJ2NvbmZpZycpO1xyXG52YXIgQmFzZU1vZGVsID0gYmFzZS5Nb2RlbDtcclxudmFyIGVudiA9IENvbmZpZy5lbnZbQ29uZmlnLnNjaGVtZV07XHJcblxyXG52YXIgTW9kZWwgPSBCYXNlTW9kZWwuZXh0ZW5kKHtcclxuICB1cmw6ICd7e3VybF9wcmVmaXh9fS9yb29tL3BsYWNhcmRfZ2V0Lmpzb24nLCAvLyDloavlhpnor7fmsYLlnLDlnYBcclxuICBiZWZvcmVFbWl0OiBmdW5jdGlvbiBiZWZvcmVFbWl0KCkge1xyXG4gICAgLy8g57uZ6K+35rGC5Zyw5Z2A5pu/5o2i5LiA5LiL546v5aKD5Y+Y6YePXHJcbiAgICBpZiAoL15cXHt7MCwyfSh1cmxfcHJlZml4KVxcfXswLDJ9Ly50ZXN0KHRoaXMudXJsKSkge1xyXG4gICAgICB0aGlzLnVybCA9IHRoaXMudXJsLnJlcGxhY2UoJ3t7dXJsX3ByZWZpeH19JywgZW52LnVybF9wcmVmaXgpO1xyXG4gICAgfVxyXG4gIH1cclxufSk7XHJcblxyXG52YXIgc2hhcmVkID0gbnVsbDtcclxuTW9kZWwuc2hhcmVkSW5zdGFuY2VNb2RlbCA9IGZ1bmN0aW9uIHNoYXJlZEluc3RhbmNlTW9kZWwoKSB7XHJcbiAgaWYgKCFzaGFyZWQpIHtcclxuICAgIHNoYXJlZCA9IG5ldyBNb2RlbCgpO1xyXG4gIH1cclxuICByZXR1cm4gc2hhcmVkO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBNb2RlbDtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9zcmMvbW9kZWxzL2FuY2hvci9ub3RpY2UtZ2V0Lm1vZGVsLmpzXG4gKiogbW9kdWxlIGlkID0gMTAxXG4gKiogbW9kdWxlIGNodW5rcyA9IDEgMyA1IDcgOVxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports){eval('module.exports = "<!--<h2 class=\\"clearfix annoucement\\">-->\\r\\n<!--<span class=\\"fl .annoucement_title\\">公告</span>-->\\r\\n<!--<span id=\\"btnEditNotice\\" class=\\"fr annoucement_editr\\">编辑</span>-->\\r\\n<!--</h2>-->\\r\\n<!--<p id=\\"noticeWrap\\"></p>-->\\r\\n<!--编辑公告弹出框-->\\r\\n<div id=\\"editNoticPanel\\" style=\\"display: none;\\" class=\\"shadow_screen\\">\\r\\n    <div class=\\"shadow closeNoticePanel\\"></div>\\r\\n    <div class=\\"edit_annmoucement_con\\" style=\\"width: 450px;\\">\\r\\n        <h2 class=\\"edit_title has-title\\">文字输入<span class=\\"close closeNoticePanel icons am-yyt-close close-white\\"></span></h2>\\r\\n        <div class=\\"editCon\\">\\r\\n            <span class=\\"title-tip\\">公告内容:</span>\\r\\n            <textarea class=\\"txt-notice boderRadAll_5\\" style=\\"width: 375px;\\" id=\\"txtNotice\\" placeholder=\\"(公告文字请在50字以内)\\"></textarea>\\r\\n            <div id=\\"errNoticeTip\\" class=\\"errTip\\"></div>\\r\\n            <div class=\\"tipTextarea\\" style=\\"\\">你还可以输入<span class=\\"red\\">50</span>个字</div>\\r\\n            <p class=\\"btn-wrap\\" style=\\"\\">\\r\\n                <a id=\\"btnSubmitNotice\\" href=\\"####\\" class=\\"submit boderRadAll_3\\">确定</a>\\r\\n                <a href=\\"####\\" class=\\"cancel closeNoticePanel boderRadAll_3\\">取消</a>\\r\\n            </p>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<header class=\\"boderRadTop_5 am-vertical-align\\">\\r\\n    <i class=\\"icon-voice am-vertical-align-middle\\"></i>\\r\\n    <span class=\\"title am-vertical-align-middle\\">直播公告</span>\\r\\n    <a id=\\"btnEditNotice\\" href=\\"javascript:;\\"\\r\\n       class=\\"edit am-vertical-align-middle\\">编辑</a></header>\\r\\n<section class=\\"content am-vertical-align\\">\\r\\n    <p id=\\"noticeWrap\\" class=\\"am-vertical-align-middle detail\\">暂无公告.</p>\\r\\n</section>\\r\\n"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL3ZpZXdzL2FuY2hvci90ZW1wbGF0ZS9ub3RpY2UuaHRtbD81Nzk4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLCtUQUErVCxrSkFBa0osbVRBQW1ULHF2QkFBcXZCIiwiZmlsZSI6IjEwMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8IS0tPGgyIGNsYXNzPVxcXCJjbGVhcmZpeCBhbm5vdWNlbWVudFxcXCI+LS0+XFxyXFxuPCEtLTxzcGFuIGNsYXNzPVxcXCJmbCAuYW5ub3VjZW1lbnRfdGl0bGVcXFwiPuWFrOWRijwvc3Bhbj4tLT5cXHJcXG48IS0tPHNwYW4gaWQ9XFxcImJ0bkVkaXROb3RpY2VcXFwiIGNsYXNzPVxcXCJmciBhbm5vdWNlbWVudF9lZGl0clxcXCI+57yW6L6RPC9zcGFuPi0tPlxcclxcbjwhLS08L2gyPi0tPlxcclxcbjwhLS08cCBpZD1cXFwibm90aWNlV3JhcFxcXCI+PC9wPi0tPlxcclxcbjwhLS3nvJbovpHlhazlkYrlvLnlh7rmoYYtLT5cXHJcXG48ZGl2IGlkPVxcXCJlZGl0Tm90aWNQYW5lbFxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IG5vbmU7XFxcIiBjbGFzcz1cXFwic2hhZG93X3NjcmVlblxcXCI+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcInNoYWRvdyBjbG9zZU5vdGljZVBhbmVsXFxcIj48L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZWRpdF9hbm5tb3VjZW1lbnRfY29uXFxcIiBzdHlsZT1cXFwid2lkdGg6IDQ1MHB4O1xcXCI+XFxyXFxuICAgICAgICA8aDIgY2xhc3M9XFxcImVkaXRfdGl0bGUgaGFzLXRpdGxlXFxcIj7mloflrZfovpPlhaU8c3BhbiBjbGFzcz1cXFwiY2xvc2UgY2xvc2VOb3RpY2VQYW5lbCBpY29ucyBhbS15eXQtY2xvc2UgY2xvc2Utd2hpdGVcXFwiPjwvc3Bhbj48L2gyPlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZWRpdENvblxcXCI+XFxyXFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInRpdGxlLXRpcFxcXCI+5YWs5ZGK5YaF5a65Ojwvc3Bhbj5cXHJcXG4gICAgICAgICAgICA8dGV4dGFyZWEgY2xhc3M9XFxcInR4dC1ub3RpY2UgYm9kZXJSYWRBbGxfNVxcXCIgc3R5bGU9XFxcIndpZHRoOiAzNzVweDtcXFwiIGlkPVxcXCJ0eHROb3RpY2VcXFwiIHBsYWNlaG9sZGVyPVxcXCIo5YWs5ZGK5paH5a2X6K+35ZyoNTDlrZfku6XlhoUpXFxcIj48L3RleHRhcmVhPlxcclxcbiAgICAgICAgICAgIDxkaXYgaWQ9XFxcImVyck5vdGljZVRpcFxcXCIgY2xhc3M9XFxcImVyclRpcFxcXCI+PC9kaXY+XFxyXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlwVGV4dGFyZWFcXFwiIHN0eWxlPVxcXCJcXFwiPuS9oOi/mOWPr+S7pei+k+WFpTxzcGFuIGNsYXNzPVxcXCJyZWRcXFwiPjUwPC9zcGFuPuS4quWtlzwvZGl2PlxcclxcbiAgICAgICAgICAgIDxwIGNsYXNzPVxcXCJidG4td3JhcFxcXCIgc3R5bGU9XFxcIlxcXCI+XFxyXFxuICAgICAgICAgICAgICAgIDxhIGlkPVxcXCJidG5TdWJtaXROb3RpY2VcXFwiIGhyZWY9XFxcIiMjIyNcXFwiIGNsYXNzPVxcXCJzdWJtaXQgYm9kZXJSYWRBbGxfM1xcXCI+56Gu5a6aPC9hPlxcclxcbiAgICAgICAgICAgICAgICA8YSBocmVmPVxcXCIjIyMjXFxcIiBjbGFzcz1cXFwiY2FuY2VsIGNsb3NlTm90aWNlUGFuZWwgYm9kZXJSYWRBbGxfM1xcXCI+5Y+W5raIPC9hPlxcclxcbiAgICAgICAgICAgIDwvcD5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICA8L2Rpdj5cXHJcXG48L2Rpdj5cXHJcXG5cXHJcXG48aGVhZGVyIGNsYXNzPVxcXCJib2RlclJhZFRvcF81IGFtLXZlcnRpY2FsLWFsaWduXFxcIj5cXHJcXG4gICAgPGkgY2xhc3M9XFxcImljb24tdm9pY2UgYW0tdmVydGljYWwtYWxpZ24tbWlkZGxlXFxcIj48L2k+XFxyXFxuICAgIDxzcGFuIGNsYXNzPVxcXCJ0aXRsZSBhbS12ZXJ0aWNhbC1hbGlnbi1taWRkbGVcXFwiPuebtOaSreWFrOWRijwvc3Bhbj5cXHJcXG4gICAgPGEgaWQ9XFxcImJ0bkVkaXROb3RpY2VcXFwiIGhyZWY9XFxcImphdmFzY3JpcHQ6O1xcXCJcXHJcXG4gICAgICAgY2xhc3M9XFxcImVkaXQgYW0tdmVydGljYWwtYWxpZ24tbWlkZGxlXFxcIj7nvJbovpE8L2E+PC9oZWFkZXI+XFxyXFxuPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQgYW0tdmVydGljYWwtYWxpZ25cXFwiPlxcclxcbiAgICA8cCBpZD1cXFwibm90aWNlV3JhcFxcXCIgY2xhc3M9XFxcImFtLXZlcnRpY2FsLWFsaWduLW1pZGRsZSBkZXRhaWxcXFwiPuaaguaXoOWFrOWRii48L3A+XFxyXFxuPC9zZWN0aW9uPlxcclxcblwiXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9zcmMvdmlld3MvYW5jaG9yL3RlbXBsYXRlL25vdGljZS5odG1sXG4gKiogbW9kdWxlIGlkID0gMTAyXG4gKiogbW9kdWxlIGNodW5rcyA9IDEgM1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports,__webpack_require__){eval("/*\r\n clientRender:{bool} // 默认设置为false，如果为true，内部将不会调用rawLoader方法或者根据templateUrl请求模版\r\n */\r\n\r\n\r\n/**\r\n * @time 2016-3-9\r\n * @author  YuanXuJia\r\n * @info 直播按钮控制\r\n */\r\n\r\n'use strict';\r\nvar Backbone = window.Backbone;\r\nvar _ = __webpack_require__(27);\r\nvar base = __webpack_require__(28);\r\nvar BaseView = base.View; // View的基类\r\nvar imServer = __webpack_require__(48);\r\nvar uiConfirm = __webpack_require__(61);\r\nvar msgBox = __webpack_require__(75);\r\nvar StartLiveModel = __webpack_require__(104);\r\nvar EndLiveModel = __webpack_require__(105);\r\nvar FlashApi = __webpack_require__(88);\r\nvar UserModel = __webpack_require__(51);\r\nvar user = UserModel.sharedInstanceUserModel();\r\nvar BusinessDate = __webpack_require__(76);\r\n\r\nvar View = BaseView.extend({\r\n  el: '#liveShowBtnWraper', // 设置View对象作用于的根元素，比如id\r\n  rawLoader: function () { // 可用此方法返回字符串模版\r\n    return __webpack_require__(106);\r\n  },\r\n  events: { // 监听事件\r\n    'click .endLive': 'endLiveClick',\r\n    'click .startLive': 'startLiveClick'\r\n  },\r\n  // 当模板挂载到元素之前\r\n  beforeMount: function () {\r\n    this.startLiveModel = new StartLiveModel();\r\n    this.endLiveModel = new EndLiveModel();\r\n\r\n    this.startLiveParams = {\r\n      deviceinfo: '{\"aid\": \"30001001\"}',\r\n      access_token: user.getWebToken(),\r\n      roomId: '',\r\n      imGroupId: ''\r\n    };\r\n\r\n    this.endLiveParams = {\r\n      deviceinfo: '{\"aid\": \"30001001\"}',\r\n      access_token: user.getWebToken(),\r\n      roomId: ''\r\n    };\r\n  },\r\n  // 当模板挂载到元素之后\r\n  afterMount: function () {\r\n    this.btnEndLive = $('.endLive');\r\n    this.btnStartLive = $('.startLive');\r\n    this.defineEventInterface();\r\n  },\r\n  // 当事件监听器，内部实例初始化完成，模板挂载到文档之后\r\n  ready: function (ops) {\r\n    this.options = _.extend({}, ops);\r\n    this.FlashApi = FlashApi.sharedInstanceFlashApi({\r\n      el: 'broadCastFlash'\r\n    });\r\n  },\r\n  /**\r\n   * 判断是否超过预播时间\r\n   * @param time\r\n   * @returns {number} 1: 超过1小时以上;  0:没有超时;  -1: 太早了\r\n   */\r\n  isTooLate: function (time) {\r\n    var currentTime = new Date();\r\n    var timeSpan = time - currentTime.getTime();\r\n    var result = BusinessDate.difference(Math.abs(timeSpan));\r\n    if (timeSpan < 0 && (result.hours >= 1 || result.day >= 1)) {\r\n      return 1;\r\n    } else if (timeSpan > 300000) {\r\n      return -1;\r\n    }\r\n    return 0;\r\n  },\r\n  /**\r\n   * 开启直播\r\n   */\r\n  startLiveClick: function (e) {\r\n    var current = $(e.target);\r\n    var self = this;\r\n    var result = self.isTooLate(self.roomInfo.liveTime);\r\n    var status = ~~self.roomInfo.status;\r\n\r\n    if (status === 0) {\r\n      msgBox.showTip('该直播尚未发布,无法开启直播!');\r\n      return null;\r\n    } else if (status === 1) {\r\n      if (result === 1) {\r\n        msgBox.showTip('您已经迟到超过一小时，无法再进行本场直播了');\r\n        return null;\r\n      }\r\n    }\r\n    if (current.hasClass('m_disabled')) {\r\n      return null;\r\n    }\r\n\r\n    current.addClass('m_disabled');\r\n    this.btnEndLive.removeClass('m_disabled');\r\n\r\n    if (!this.roomInfo) {\r\n      msgBox.showError('没有获取到房间信息');\r\n      return '';\r\n    }\r\n    if (!this.roomInfo.imGroupid) {\r\n      imServer.createIMChatRoom(function (res) {\r\n        self.roomInfo.imGroupid = res.GroupId;\r\n        self.startLive();\r\n      }, function () {\r\n        msgBox.showError('创建房间失败,请稍后重试');\r\n      });\r\n    } else {\r\n      self.startLive();\r\n    }\r\n    return null;\r\n  },\r\n  /**\r\n   * 开启直播\r\n   */\r\n  startLive: function () {\r\n    var self = this;\r\n    var msg;\r\n    var promise;\r\n\r\n    self.startLiveParams.roomId = self.roomInfo.id;\r\n    self.startLiveParams.imGroupId = self.roomInfo.imGroupid;\r\n\r\n    promise = self.startLiveModel.executeJSONP(this.startLiveParams);\r\n    promise.done(function (result) {\r\n      if (result && ~~result.code === 0) {\r\n        msg = '您已成功开启直播，请复制下面的信息：</br>' +\r\n          '视频连接：' + result.data.livePushStreamUrl +\r\n          '</br>视频流：' + result.data.streamName;\r\n        uiConfirm.show({\r\n          title: '开启直播成功',\r\n          content: msg,\r\n          cancelBtn: false,\r\n          okFn: function () {\r\n            window.location.reload();\r\n          },\r\n          cancelFn: function () {\r\n            window.location.reload();\r\n          }\r\n        });\r\n        self.startFlash();\r\n        Backbone.trigger('event:LiveShowStarted');\r\n      } else {\r\n        self.btnStartLive.removeClass('m_disabled');\r\n        msgBox.showError(result.msg || '开启直播失败,请稍后重试');\r\n      }\r\n    });\r\n    promise.fail(function (err) {\r\n      msgBox.showError(err.msg || '开启直播失败,请稍后重试');\r\n    });\r\n  },\r\n\r\n  startFlash: function () {\r\n    var self = this;\r\n    self.FlashApi.onReady(function () {\r\n      //  this.addUrl(self.roomInfo.url, self.roomInfo.streamName);\r\n      this.init(self.roomInfo);\r\n    });\r\n  },\r\n  /**\r\n   * 结束直播\r\n   */\r\n  endLiveClick: function () {\r\n    var self = this;\r\n    if (this.btnEndLive.hasClass('m_disabled')) {\r\n      msgBox.showTip('直播尚未开始，不能结束直播.');\r\n      return null;\r\n    }\r\n    uiConfirm.show({\r\n      title: '消息',\r\n      content: '您确定要结束直播吗',\r\n      okFn: function () {\r\n        self.endLive();\r\n        window.location.href = '/anchor-setting.html?view=history';\r\n      },\r\n      cancelFn: function () {}\r\n    });\r\n    return null;\r\n  },\r\n  /**\r\n   * 点击结束直播\r\n   */\r\n  endLive: function () {\r\n    var self = this;\r\n    var promise;\r\n\r\n    self.endLiveParams.roomId = self.roomInfo.id;\r\n    promise = self.endLiveModel.executeJSONP(self.endLiveParams);\r\n    promise.done(function () {\r\n      self.btnEndLive.addClass('m_disabled');\r\n      self.isLiveShowing = false;\r\n      msgBox.showOK('结束直播操作成功');\r\n      Backbone.trigger('event:liveShowEnded');\r\n    });\r\n    promise.fail(function (err) {\r\n      msgBox.showError(err.msg || '操作失败,稍后重试');\r\n    });\r\n  },\r\n\r\n  roomInfoReady: function (data) {\r\n    if (data) {\r\n      this.roomInfo = data;\r\n      this.changeButtonStatus(this.roomInfo.status);\r\n    }\r\n  },\r\n  defineEventInterface: function () {\r\n    var self = this;\r\n    // 成功获取房间信息\r\n    Backbone.on('event:roomInfoReady', function (data) {\r\n      self.roomInfoReady(data);\r\n    });\r\n  },\r\n  changeButtonStatus: function (status) {\r\n    var result = this.isTooLate(this.roomInfo.liveTime);\r\n    if (result === 1) {\r\n      this.btnStartLive.addClass('m_disabled');\r\n      Backbone.trigger('event:stopLoopRoomInfo');\r\n    } else if (result === 0) {\r\n      this.btnStartLive.removeClass('m_disabled');\r\n    }\r\n\r\n    switch (status) {\r\n      case 0:\r\n        this.btnStartLive.addClass('m_disabled');\r\n        this.btnEndLive.addClass('m_disabled');\r\n        break;\r\n      case 1:\r\n        this.btnEndLive.addClass('m_disabled');\r\n        break;\r\n      case 2:\r\n        this.btnStartLive.addClass('m_disabled').text('直播中');\r\n        this.btnEndLive.removeClass('m_disabled');\r\n        this.startFlash();\r\n        break;\r\n      case 3:\r\n        this.btnStartLive.addClass('m_disabled');\r\n        this.btnEndLive.addClass('m_disabled');\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n});\r\n\r\nmodule.exports = View;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL3ZpZXdzL2FuY2hvci9saXZlLXNob3ctYnRuLnZpZXcuanM/N2I0OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLGVBQWUsS0FBSztBQUNwQjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBLEdBQUc7QUFDSCxXQUFXO0FBQ1g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQixrQkFBa0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0Isa0JBQWtCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPLFlBQVksU0FBUztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQiLCJmaWxlIjoiMTAzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxuIGNsaWVudFJlbmRlcjp7Ym9vbH0gLy8g6buY6K6k6K6+572u5Li6ZmFsc2XvvIzlpoLmnpzkuLp0cnVl77yM5YaF6YOo5bCG5LiN5Lya6LCD55SocmF3TG9hZGVy5pa55rOV5oiW6ICF5qC55o2udGVtcGxhdGVVcmzor7fmsYLmqKHniYhcclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEB0aW1lIDIwMTYtMy05XHJcbiAqIEBhdXRob3IgIFl1YW5YdUppYVxyXG4gKiBAaW5mbyDnm7Tmkq3mjInpkq7mjqfliLZcclxuICovXHJcblxyXG4ndXNlIHN0cmljdCc7XHJcbnZhciBCYWNrYm9uZSA9IHdpbmRvdy5CYWNrYm9uZTtcclxudmFyIF8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJyk7XHJcbnZhciBiYXNlID0gcmVxdWlyZSgnYmFzZS1leHRlbmQtYmFja2JvbmUnKTtcclxudmFyIEJhc2VWaWV3ID0gYmFzZS5WaWV3OyAvLyBWaWV355qE5Z+657G7XHJcbnZhciBpbVNlcnZlciA9IHJlcXVpcmUoJ2ltU2VydmVyJyk7XHJcbnZhciB1aUNvbmZpcm0gPSByZXF1aXJlKCd1aS5jb25maXJtJyk7XHJcbnZhciBtc2dCb3ggPSByZXF1aXJlKCd1aS5tc2dCb3gnKTtcclxudmFyIFN0YXJ0TGl2ZU1vZGVsID0gcmVxdWlyZSgnLi4vLi4vbW9kZWxzL2FuY2hvci9zdGFydC1saXZlLm1vZGVsJyk7XHJcbnZhciBFbmRMaXZlTW9kZWwgPSByZXF1aXJlKCcuLi8uLi9tb2RlbHMvYW5jaG9yL2VuZC1saXZlLm1vZGVsJyk7XHJcbnZhciBGbGFzaEFwaSA9IHJlcXVpcmUoJ0ZsYXNoQXBpJyk7XHJcbnZhciBVc2VyTW9kZWwgPSByZXF1aXJlKCdVc2VyTW9kZWwnKTtcclxudmFyIHVzZXIgPSBVc2VyTW9kZWwuc2hhcmVkSW5zdGFuY2VVc2VyTW9kZWwoKTtcclxudmFyIEJ1c2luZXNzRGF0ZSA9IHJlcXVpcmUoJ0J1c2luZXNzRGF0ZScpO1xyXG5cclxudmFyIFZpZXcgPSBCYXNlVmlldy5leHRlbmQoe1xyXG4gIGVsOiAnI2xpdmVTaG93QnRuV3JhcGVyJywgLy8g6K6+572uVmlld+WvueixoeS9nOeUqOS6jueahOagueWFg+e0oO+8jOavlOWmgmlkXHJcbiAgcmF3TG9hZGVyOiBmdW5jdGlvbiAoKSB7IC8vIOWPr+eUqOatpOaWueazlei/lOWbnuWtl+espuS4suaooeeJiFxyXG4gICAgcmV0dXJuIHJlcXVpcmUoJy4vdGVtcGxhdGUvbGl2ZS1zaG93LWJ0bi5odG1sJyk7XHJcbiAgfSxcclxuICBldmVudHM6IHsgLy8g55uR5ZCs5LqL5Lu2XHJcbiAgICAnY2xpY2sgLmVuZExpdmUnOiAnZW5kTGl2ZUNsaWNrJyxcclxuICAgICdjbGljayAuc3RhcnRMaXZlJzogJ3N0YXJ0TGl2ZUNsaWNrJ1xyXG4gIH0sXHJcbiAgLy8g5b2T5qih5p2/5oyC6L295Yiw5YWD57Sg5LmL5YmNXHJcbiAgYmVmb3JlTW91bnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuc3RhcnRMaXZlTW9kZWwgPSBuZXcgU3RhcnRMaXZlTW9kZWwoKTtcclxuICAgIHRoaXMuZW5kTGl2ZU1vZGVsID0gbmV3IEVuZExpdmVNb2RlbCgpO1xyXG5cclxuICAgIHRoaXMuc3RhcnRMaXZlUGFyYW1zID0ge1xyXG4gICAgICBkZXZpY2VpbmZvOiAne1wiYWlkXCI6IFwiMzAwMDEwMDFcIn0nLFxyXG4gICAgICBhY2Nlc3NfdG9rZW46IHVzZXIuZ2V0V2ViVG9rZW4oKSxcclxuICAgICAgcm9vbUlkOiAnJyxcclxuICAgICAgaW1Hcm91cElkOiAnJ1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmVuZExpdmVQYXJhbXMgPSB7XHJcbiAgICAgIGRldmljZWluZm86ICd7XCJhaWRcIjogXCIzMDAwMTAwMVwifScsXHJcbiAgICAgIGFjY2Vzc190b2tlbjogdXNlci5nZXRXZWJUb2tlbigpLFxyXG4gICAgICByb29tSWQ6ICcnXHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgLy8g5b2T5qih5p2/5oyC6L295Yiw5YWD57Sg5LmL5ZCOXHJcbiAgYWZ0ZXJNb3VudDogZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5idG5FbmRMaXZlID0gJCgnLmVuZExpdmUnKTtcclxuICAgIHRoaXMuYnRuU3RhcnRMaXZlID0gJCgnLnN0YXJ0TGl2ZScpO1xyXG4gICAgdGhpcy5kZWZpbmVFdmVudEludGVyZmFjZSgpO1xyXG4gIH0sXHJcbiAgLy8g5b2T5LqL5Lu255uR5ZCs5Zmo77yM5YaF6YOo5a6e5L6L5Yid5aeL5YyW5a6M5oiQ77yM5qih5p2/5oyC6L295Yiw5paH5qGj5LmL5ZCOXHJcbiAgcmVhZHk6IGZ1bmN0aW9uIChvcHMpIHtcclxuICAgIHRoaXMub3B0aW9ucyA9IF8uZXh0ZW5kKHt9LCBvcHMpO1xyXG4gICAgdGhpcy5GbGFzaEFwaSA9IEZsYXNoQXBpLnNoYXJlZEluc3RhbmNlRmxhc2hBcGkoe1xyXG4gICAgICBlbDogJ2Jyb2FkQ2FzdEZsYXNoJ1xyXG4gICAgfSk7XHJcbiAgfSxcclxuICAvKipcclxuICAgKiDliKTmlq3mmK/lkKbotoXov4fpooTmkq3ml7bpl7RcclxuICAgKiBAcGFyYW0gdGltZVxyXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IDE6IOi2hei/hzHlsI/ml7bku6XkuIo7ICAwOuayoeaciei2heaXtjsgIC0xOiDlpKrml6nkuoZcclxuICAgKi9cclxuICBpc1Rvb0xhdGU6IGZ1bmN0aW9uICh0aW1lKSB7XHJcbiAgICB2YXIgY3VycmVudFRpbWUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgdmFyIHRpbWVTcGFuID0gdGltZSAtIGN1cnJlbnRUaW1lLmdldFRpbWUoKTtcclxuICAgIHZhciByZXN1bHQgPSBCdXNpbmVzc0RhdGUuZGlmZmVyZW5jZShNYXRoLmFicyh0aW1lU3BhbikpO1xyXG4gICAgaWYgKHRpbWVTcGFuIDwgMCAmJiAocmVzdWx0LmhvdXJzID49IDEgfHwgcmVzdWx0LmRheSA+PSAxKSkge1xyXG4gICAgICByZXR1cm4gMTtcclxuICAgIH0gZWxzZSBpZiAodGltZVNwYW4gPiAzMDAwMDApIHtcclxuICAgICAgcmV0dXJuIC0xO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIDA7XHJcbiAgfSxcclxuICAvKipcclxuICAgKiDlvIDlkK/nm7Tmkq1cclxuICAgKi9cclxuICBzdGFydExpdmVDbGljazogZnVuY3Rpb24gKGUpIHtcclxuICAgIHZhciBjdXJyZW50ID0gJChlLnRhcmdldCk7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgcmVzdWx0ID0gc2VsZi5pc1Rvb0xhdGUoc2VsZi5yb29tSW5mby5saXZlVGltZSk7XHJcbiAgICB2YXIgc3RhdHVzID0gfn5zZWxmLnJvb21JbmZvLnN0YXR1cztcclxuXHJcbiAgICBpZiAoc3RhdHVzID09PSAwKSB7XHJcbiAgICAgIG1zZ0JveC5zaG93VGlwKCfor6Xnm7Tmkq3lsJrmnKrlj5HluIMs5peg5rOV5byA5ZCv55u05pKtIScpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH0gZWxzZSBpZiAoc3RhdHVzID09PSAxKSB7XHJcbiAgICAgIGlmIChyZXN1bHQgPT09IDEpIHtcclxuICAgICAgICBtc2dCb3guc2hvd1RpcCgn5oKo5bey57uP6L+f5Yiw6LaF6L+H5LiA5bCP5pe277yM5peg5rOV5YaN6L+b6KGM5pys5Zy655u05pKt5LqGJyk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChjdXJyZW50Lmhhc0NsYXNzKCdtX2Rpc2FibGVkJykpIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgY3VycmVudC5hZGRDbGFzcygnbV9kaXNhYmxlZCcpO1xyXG4gICAgdGhpcy5idG5FbmRMaXZlLnJlbW92ZUNsYXNzKCdtX2Rpc2FibGVkJyk7XHJcblxyXG4gICAgaWYgKCF0aGlzLnJvb21JbmZvKSB7XHJcbiAgICAgIG1zZ0JveC5zaG93RXJyb3IoJ+ayoeacieiOt+WPluWIsOaIv+mXtOS/oeaBrycpO1xyXG4gICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcbiAgICBpZiAoIXRoaXMucm9vbUluZm8uaW1Hcm91cGlkKSB7XHJcbiAgICAgIGltU2VydmVyLmNyZWF0ZUlNQ2hhdFJvb20oZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgIHNlbGYucm9vbUluZm8uaW1Hcm91cGlkID0gcmVzLkdyb3VwSWQ7XHJcbiAgICAgICAgc2VsZi5zdGFydExpdmUoKTtcclxuICAgICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIG1zZ0JveC5zaG93RXJyb3IoJ+WIm+W7uuaIv+mXtOWksei0pSzor7fnqI3lkI7ph43or5UnKTtcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzZWxmLnN0YXJ0TGl2ZSgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfSxcclxuICAvKipcclxuICAgKiDlvIDlkK/nm7Tmkq1cclxuICAgKi9cclxuICBzdGFydExpdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBtc2c7XHJcbiAgICB2YXIgcHJvbWlzZTtcclxuXHJcbiAgICBzZWxmLnN0YXJ0TGl2ZVBhcmFtcy5yb29tSWQgPSBzZWxmLnJvb21JbmZvLmlkO1xyXG4gICAgc2VsZi5zdGFydExpdmVQYXJhbXMuaW1Hcm91cElkID0gc2VsZi5yb29tSW5mby5pbUdyb3VwaWQ7XHJcblxyXG4gICAgcHJvbWlzZSA9IHNlbGYuc3RhcnRMaXZlTW9kZWwuZXhlY3V0ZUpTT05QKHRoaXMuc3RhcnRMaXZlUGFyYW1zKTtcclxuICAgIHByb21pc2UuZG9uZShmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgIGlmIChyZXN1bHQgJiYgfn5yZXN1bHQuY29kZSA9PT0gMCkge1xyXG4gICAgICAgIG1zZyA9ICfmgqjlt7LmiJDlip/lvIDlkK/nm7Tmkq3vvIzor7flpI3liLbkuIvpnaLnmoTkv6Hmga/vvJo8L2JyPicgK1xyXG4gICAgICAgICAgJ+inhumikei/nuaOpe+8micgKyByZXN1bHQuZGF0YS5saXZlUHVzaFN0cmVhbVVybCArXHJcbiAgICAgICAgICAnPC9icj7op4bpopHmtYHvvJonICsgcmVzdWx0LmRhdGEuc3RyZWFtTmFtZTtcclxuICAgICAgICB1aUNvbmZpcm0uc2hvdyh7XHJcbiAgICAgICAgICB0aXRsZTogJ+W8gOWQr+ebtOaSreaIkOWKnycsXHJcbiAgICAgICAgICBjb250ZW50OiBtc2csXHJcbiAgICAgICAgICBjYW5jZWxCdG46IGZhbHNlLFxyXG4gICAgICAgICAgb2tGbjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgY2FuY2VsRm46IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNlbGYuc3RhcnRGbGFzaCgpO1xyXG4gICAgICAgIEJhY2tib25lLnRyaWdnZXIoJ2V2ZW50OkxpdmVTaG93U3RhcnRlZCcpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNlbGYuYnRuU3RhcnRMaXZlLnJlbW92ZUNsYXNzKCdtX2Rpc2FibGVkJyk7XHJcbiAgICAgICAgbXNnQm94LnNob3dFcnJvcihyZXN1bHQubXNnIHx8ICflvIDlkK/nm7Tmkq3lpLHotKUs6K+356iN5ZCO6YeN6K+VJyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcHJvbWlzZS5mYWlsKGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgbXNnQm94LnNob3dFcnJvcihlcnIubXNnIHx8ICflvIDlkK/nm7Tmkq3lpLHotKUs6K+356iN5ZCO6YeN6K+VJyk7XHJcbiAgICB9KTtcclxuICB9LFxyXG5cclxuICBzdGFydEZsYXNoOiBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLkZsYXNoQXBpLm9uUmVhZHkoZnVuY3Rpb24gKCkge1xyXG4gICAgICAvLyAgdGhpcy5hZGRVcmwoc2VsZi5yb29tSW5mby51cmwsIHNlbGYucm9vbUluZm8uc3RyZWFtTmFtZSk7XHJcbiAgICAgIHRoaXMuaW5pdChzZWxmLnJvb21JbmZvKTtcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgLyoqXHJcbiAgICog57uT5p2f55u05pKtXHJcbiAgICovXHJcbiAgZW5kTGl2ZUNsaWNrOiBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBpZiAodGhpcy5idG5FbmRMaXZlLmhhc0NsYXNzKCdtX2Rpc2FibGVkJykpIHtcclxuICAgICAgbXNnQm94LnNob3dUaXAoJ+ebtOaSreWwmuacquW8gOWni++8jOS4jeiDvee7k+adn+ebtOaSrS4nKTtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICB1aUNvbmZpcm0uc2hvdyh7XHJcbiAgICAgIHRpdGxlOiAn5raI5oGvJyxcclxuICAgICAgY29udGVudDogJ+aCqOehruWumuimgee7k+adn+ebtOaSreWQlycsXHJcbiAgICAgIG9rRm46IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLmVuZExpdmUoKTtcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYW5jaG9yLXNldHRpbmcuaHRtbD92aWV3PWhpc3RvcnknO1xyXG4gICAgICB9LFxyXG4gICAgICBjYW5jZWxGbjogZnVuY3Rpb24gKCkge31cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfSxcclxuICAvKipcclxuICAgKiDngrnlh7vnu5PmnZ/nm7Tmkq1cclxuICAgKi9cclxuICBlbmRMaXZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgcHJvbWlzZTtcclxuXHJcbiAgICBzZWxmLmVuZExpdmVQYXJhbXMucm9vbUlkID0gc2VsZi5yb29tSW5mby5pZDtcclxuICAgIHByb21pc2UgPSBzZWxmLmVuZExpdmVNb2RlbC5leGVjdXRlSlNPTlAoc2VsZi5lbmRMaXZlUGFyYW1zKTtcclxuICAgIHByb21pc2UuZG9uZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHNlbGYuYnRuRW5kTGl2ZS5hZGRDbGFzcygnbV9kaXNhYmxlZCcpO1xyXG4gICAgICBzZWxmLmlzTGl2ZVNob3dpbmcgPSBmYWxzZTtcclxuICAgICAgbXNnQm94LnNob3dPSygn57uT5p2f55u05pKt5pON5L2c5oiQ5YqfJyk7XHJcbiAgICAgIEJhY2tib25lLnRyaWdnZXIoJ2V2ZW50OmxpdmVTaG93RW5kZWQnKTtcclxuICAgIH0pO1xyXG4gICAgcHJvbWlzZS5mYWlsKGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgbXNnQm94LnNob3dFcnJvcihlcnIubXNnIHx8ICfmk43kvZzlpLHotKUs56iN5ZCO6YeN6K+VJyk7XHJcbiAgICB9KTtcclxuICB9LFxyXG5cclxuICByb29tSW5mb1JlYWR5OiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgaWYgKGRhdGEpIHtcclxuICAgICAgdGhpcy5yb29tSW5mbyA9IGRhdGE7XHJcbiAgICAgIHRoaXMuY2hhbmdlQnV0dG9uU3RhdHVzKHRoaXMucm9vbUluZm8uc3RhdHVzKTtcclxuICAgIH1cclxuICB9LFxyXG4gIGRlZmluZUV2ZW50SW50ZXJmYWNlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAvLyDmiJDlip/ojrflj5bmiL/pl7Tkv6Hmga9cclxuICAgIEJhY2tib25lLm9uKCdldmVudDpyb29tSW5mb1JlYWR5JywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgc2VsZi5yb29tSW5mb1JlYWR5KGRhdGEpO1xyXG4gICAgfSk7XHJcbiAgfSxcclxuICBjaGFuZ2VCdXR0b25TdGF0dXM6IGZ1bmN0aW9uIChzdGF0dXMpIHtcclxuICAgIHZhciByZXN1bHQgPSB0aGlzLmlzVG9vTGF0ZSh0aGlzLnJvb21JbmZvLmxpdmVUaW1lKTtcclxuICAgIGlmIChyZXN1bHQgPT09IDEpIHtcclxuICAgICAgdGhpcy5idG5TdGFydExpdmUuYWRkQ2xhc3MoJ21fZGlzYWJsZWQnKTtcclxuICAgICAgQmFja2JvbmUudHJpZ2dlcignZXZlbnQ6c3RvcExvb3BSb29tSW5mbycpO1xyXG4gICAgfSBlbHNlIGlmIChyZXN1bHQgPT09IDApIHtcclxuICAgICAgdGhpcy5idG5TdGFydExpdmUucmVtb3ZlQ2xhc3MoJ21fZGlzYWJsZWQnKTtcclxuICAgIH1cclxuXHJcbiAgICBzd2l0Y2ggKHN0YXR1cykge1xyXG4gICAgICBjYXNlIDA6XHJcbiAgICAgICAgdGhpcy5idG5TdGFydExpdmUuYWRkQ2xhc3MoJ21fZGlzYWJsZWQnKTtcclxuICAgICAgICB0aGlzLmJ0bkVuZExpdmUuYWRkQ2xhc3MoJ21fZGlzYWJsZWQnKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAxOlxyXG4gICAgICAgIHRoaXMuYnRuRW5kTGl2ZS5hZGRDbGFzcygnbV9kaXNhYmxlZCcpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDI6XHJcbiAgICAgICAgdGhpcy5idG5TdGFydExpdmUuYWRkQ2xhc3MoJ21fZGlzYWJsZWQnKS50ZXh0KCfnm7Tmkq3kuK0nKTtcclxuICAgICAgICB0aGlzLmJ0bkVuZExpdmUucmVtb3ZlQ2xhc3MoJ21fZGlzYWJsZWQnKTtcclxuICAgICAgICB0aGlzLnN0YXJ0Rmxhc2goKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAzOlxyXG4gICAgICAgIHRoaXMuYnRuU3RhcnRMaXZlLmFkZENsYXNzKCdtX2Rpc2FibGVkJyk7XHJcbiAgICAgICAgdGhpcy5idG5FbmRMaXZlLmFkZENsYXNzKCdtX2Rpc2FibGVkJyk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG59KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gVmlldztcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9zcmMvdmlld3MvYW5jaG9yL2xpdmUtc2hvdy1idG4udmlldy5qc1xuICoqIG1vZHVsZSBpZCA9IDEwM1xuICoqIG1vZHVsZSBjaHVua3MgPSAxIDNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){eval("'use strict';\r\n\r\nvar base = __webpack_require__(28);\r\nvar Config = __webpack_require__(50);\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/room/start.json', // 填写请求地址\r\n  beforeEmit: function beforeEmit() {\r\n    // 给请求地址替换一下环境变量\r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZGVscy9hbmNob3Ivc3RhcnQtbGl2ZS5tb2RlbC5qcz83MjFlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVSxZQUFZO0FBQ3RCO0FBQ0E7QUFDQSxhQUFhLElBQUksZUFBZSxJQUFJO0FBQ3BDLHFDQUFxQyxZQUFZO0FBQ2pEO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjEwNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbnZhciBiYXNlID0gcmVxdWlyZSgnYmFzZS1leHRlbmQtYmFja2JvbmUnKTtcclxudmFyIENvbmZpZyA9IHJlcXVpcmUoJ2NvbmZpZycpO1xyXG52YXIgQmFzZU1vZGVsID0gYmFzZS5Nb2RlbDtcclxudmFyIGVudiA9IENvbmZpZy5lbnZbQ29uZmlnLnNjaGVtZV07XHJcblxyXG52YXIgTW9kZWwgPSBCYXNlTW9kZWwuZXh0ZW5kKHtcclxuICB1cmw6ICd7e3VybF9wcmVmaXh9fS9yb29tL3N0YXJ0Lmpzb24nLCAvLyDloavlhpnor7fmsYLlnLDlnYBcclxuICBiZWZvcmVFbWl0OiBmdW5jdGlvbiBiZWZvcmVFbWl0KCkge1xyXG4gICAgLy8g57uZ6K+35rGC5Zyw5Z2A5pu/5o2i5LiA5LiL546v5aKD5Y+Y6YePXHJcbiAgICBpZiAoL15cXHt7MCwyfSh1cmxfcHJlZml4KVxcfXswLDJ9Ly50ZXN0KHRoaXMudXJsKSkge1xyXG4gICAgICB0aGlzLnVybCA9IHRoaXMudXJsLnJlcGxhY2UoJ3t7dXJsX3ByZWZpeH19JywgZW52LnVybF9wcmVmaXgpO1xyXG4gICAgfVxyXG4gIH1cclxufSk7XHJcblxyXG52YXIgc2hhcmVkID0gbnVsbDtcclxuTW9kZWwuc2hhcmVkSW5zdGFuY2VNb2RlbCA9IGZ1bmN0aW9uIHNoYXJlZEluc3RhbmNlTW9kZWwoKSB7XHJcbiAgaWYgKCFzaGFyZWQpIHtcclxuICAgIHNoYXJlZCA9IG5ldyBNb2RlbCgpO1xyXG4gIH1cclxuICByZXR1cm4gc2hhcmVkO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBNb2RlbDtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9zcmMvbW9kZWxzL2FuY2hvci9zdGFydC1saXZlLm1vZGVsLmpzXG4gKiogbW9kdWxlIGlkID0gMTA0XG4gKiogbW9kdWxlIGNodW5rcyA9IDEgM1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");
},function(module,exports,__webpack_require__){eval("'use strict';\r\n\r\nvar base = __webpack_require__(28);\r\nvar Config = __webpack_require__(50);\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/room/close.json', // 填写请求地址\r\n  beforeEmit: function beforeEmit() {\r\n    // 给请求地址替换一下环境变量\r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZGVscy9hbmNob3IvZW5kLWxpdmUubW9kZWwuanM/NzkzNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVUsWUFBWTtBQUN0QjtBQUNBO0FBQ0EsYUFBYSxJQUFJLGVBQWUsSUFBSTtBQUNwQyxxQ0FBcUMsWUFBWTtBQUNqRDtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIxMDUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcblxyXG52YXIgYmFzZSA9IHJlcXVpcmUoJ2Jhc2UtZXh0ZW5kLWJhY2tib25lJyk7XHJcbnZhciBDb25maWcgPSByZXF1aXJlKCdjb25maWcnKTtcclxudmFyIEJhc2VNb2RlbCA9IGJhc2UuTW9kZWw7XHJcbnZhciBlbnYgPSBDb25maWcuZW52W0NvbmZpZy5zY2hlbWVdO1xyXG5cclxudmFyIE1vZGVsID0gQmFzZU1vZGVsLmV4dGVuZCh7XHJcbiAgdXJsOiAne3t1cmxfcHJlZml4fX0vcm9vbS9jbG9zZS5qc29uJywgLy8g5aGr5YaZ6K+35rGC5Zyw5Z2AXHJcbiAgYmVmb3JlRW1pdDogZnVuY3Rpb24gYmVmb3JlRW1pdCgpIHtcclxuICAgIC8vIOe7meivt+axguWcsOWdgOabv+aNouS4gOS4i+eOr+Wig+WPmOmHj1xyXG4gICAgaWYgKC9eXFx7ezAsMn0odXJsX3ByZWZpeClcXH17MCwyfS8udGVzdCh0aGlzLnVybCkpIHtcclxuICAgICAgdGhpcy51cmwgPSB0aGlzLnVybC5yZXBsYWNlKCd7e3VybF9wcmVmaXh9fScsIGVudi51cmxfcHJlZml4KTtcclxuICAgIH1cclxuICB9XHJcbn0pO1xyXG5cclxudmFyIHNoYXJlZCA9IG51bGw7XHJcbk1vZGVsLnNoYXJlZEluc3RhbmNlTW9kZWwgPSBmdW5jdGlvbiBzaGFyZWRJbnN0YW5jZU1vZGVsKCkge1xyXG4gIGlmICghc2hhcmVkKSB7XHJcbiAgICBzaGFyZWQgPSBuZXcgTW9kZWwoKTtcclxuICB9XHJcbiAgcmV0dXJuIHNoYXJlZDtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gTW9kZWw7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvc3JjL21vZGVscy9hbmNob3IvZW5kLWxpdmUubW9kZWwuanNcbiAqKiBtb2R1bGUgaWQgPSAxMDVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMSAzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports){eval('module.exports = "<div id=\\"liveShowBtnWraper\\" class=\\"anchor_control am-cf\\">\\r\\n    <!-- <div class=\\"luck-draw am-fl am-margin-right\\"><a class=\\"btn\\"></a>\\r\\n        <div class=\\"tip am-circle\\"></div>\\r\\n    </div> -->\\r\\n    <!-- <button class=\\"am-btn am-btn-purple am-fl boderRadAll_5 am-margin-left\\">发起抽奖</button>\\r\\n    <button class=\\"am-btn am-btn-purple am-fl boderRadAll_5\\">抽奖记录</button> -->\\r\\n    <button class=\\"endLive am-btn am-btn-red am-fr boderRadAll_5 am-margin-right-lg\\">结束直播</button>\\r\\n    <button class=\\"startLive am-btn am-btn-purple am-fr boderRadAll_5 am-margin-right-sm\\">开启直播</button>\\r\\n</div>\\r\\n"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL3ZpZXdzL2FuY2hvci90ZW1wbGF0ZS9saXZlLXNob3ctYnRuLmh0bWw/ZDA1YiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIxMDYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBpZD1cXFwibGl2ZVNob3dCdG5XcmFwZXJcXFwiIGNsYXNzPVxcXCJhbmNob3JfY29udHJvbCBhbS1jZlxcXCI+XFxyXFxuICAgIDwhLS0gPGRpdiBjbGFzcz1cXFwibHVjay1kcmF3IGFtLWZsIGFtLW1hcmdpbi1yaWdodFxcXCI+PGEgY2xhc3M9XFxcImJ0blxcXCI+PC9hPlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwidGlwIGFtLWNpcmNsZVxcXCI+PC9kaXY+XFxyXFxuICAgIDwvZGl2PiAtLT5cXHJcXG4gICAgPCEtLSA8YnV0dG9uIGNsYXNzPVxcXCJhbS1idG4gYW0tYnRuLXB1cnBsZSBhbS1mbCBib2RlclJhZEFsbF81IGFtLW1hcmdpbi1sZWZ0XFxcIj7lj5Hotbfmir3lpZY8L2J1dHRvbj5cXHJcXG4gICAgPGJ1dHRvbiBjbGFzcz1cXFwiYW0tYnRuIGFtLWJ0bi1wdXJwbGUgYW0tZmwgYm9kZXJSYWRBbGxfNVxcXCI+5oq95aWW6K6w5b2VPC9idXR0b24+IC0tPlxcclxcbiAgICA8YnV0dG9uIGNsYXNzPVxcXCJlbmRMaXZlIGFtLWJ0biBhbS1idG4tcmVkIGFtLWZyIGJvZGVyUmFkQWxsXzUgYW0tbWFyZ2luLXJpZ2h0LWxnXFxcIj7nu5PmnZ/nm7Tmkq08L2J1dHRvbj5cXHJcXG4gICAgPGJ1dHRvbiBjbGFzcz1cXFwic3RhcnRMaXZlIGFtLWJ0biBhbS1idG4tcHVycGxlIGFtLWZyIGJvZGVyUmFkQWxsXzUgYW0tbWFyZ2luLXJpZ2h0LXNtXFxcIj7lvIDlkK/nm7Tmkq08L2J1dHRvbj5cXHJcXG48L2Rpdj5cXHJcXG5cIlxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvc3JjL3ZpZXdzL2FuY2hvci90ZW1wbGF0ZS9saXZlLXNob3ctYnRuLmh0bWxcbiAqKiBtb2R1bGUgaWQgPSAxMDZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMSAzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports,__webpack_require__){eval("'use strict';\r\n\r\nvar base = __webpack_require__(28);\r\nvar BaseView = base.View;\r\nvar _ = __webpack_require__(27);\r\n\r\nvar View = BaseView.extend({\r\n  el: '',\r\n  rawLoader: function () {\r\n    return '';\r\n  },\r\n  context: function (args) {\r\n    console.log(args);\r\n  },\r\n  beforeMount: function () {\r\n    //  初始化一些自定义属性\r\n  },\r\n  afterMount: function () {\r\n    //  获取findDOMNode DOM Node\r\n    this.chatHistory = $('#chatHistory');\r\n    this.liveShowBtnWraper = $('#liveShowBtnWraper');\r\n    this.btnFieldControl = $('#btnFieldControl');\r\n    this.btnEditBgTheme = $('.edit_bg_btn');\r\n    this.btnEditNotice = $('#btnEditNotice');\r\n  },\r\n  ready: function (ops) {\r\n    //  初始化\r\n    this.options = _.extend({}, ops);\r\n    this.renderPage();\r\n  },\r\n  beforeDestroy: function () {\r\n    //  进入销毁之前,将引用关系设置为null\r\n  },\r\n  destroyed: function () {\r\n    //  销毁之后\r\n  },\r\n  renderPage: function () {\r\n    if (this.options.assistant) {\r\n      // 控制聊天列表高度\r\n      this.chatHistory.height(389);\r\n      // 隐藏直播控制模块\r\n      this.liveShowBtnWraper.hide();\r\n      // 隐藏场控控制按钮\r\n      this.btnFieldControl.hide();\r\n      // 隐藏编辑主题按钮\r\n      this.btnEditBgTheme.hide();\r\n      // 隐藏编辑公告按钮\r\n      this.btnEditNotice.hide();\r\n    }\r\n  }\r\n});\r\n\r\nmodule.exports = View;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL3ZpZXdzL2FuY2hvci9hc3Npc3RhbnQudmlldy5qcz9iNmUyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQiLCJmaWxlIjoiMTA3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxudmFyIGJhc2UgPSByZXF1aXJlKCdiYXNlLWV4dGVuZC1iYWNrYm9uZScpO1xyXG52YXIgQmFzZVZpZXcgPSBiYXNlLlZpZXc7XHJcbnZhciBfID0gcmVxdWlyZSgndW5kZXJzY29yZScpO1xyXG5cclxudmFyIFZpZXcgPSBCYXNlVmlldy5leHRlbmQoe1xyXG4gIGVsOiAnJyxcclxuICByYXdMb2FkZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiAnJztcclxuICB9LFxyXG4gIGNvbnRleHQ6IGZ1bmN0aW9uIChhcmdzKSB7XHJcbiAgICBjb25zb2xlLmxvZyhhcmdzKTtcclxuICB9LFxyXG4gIGJlZm9yZU1vdW50OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAg5Yid5aeL5YyW5LiA5Lqb6Ieq5a6a5LmJ5bGe5oCnXHJcbiAgfSxcclxuICBhZnRlck1vdW50OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAg6I635Y+WZmluZERPTU5vZGUgRE9NIE5vZGVcclxuICAgIHRoaXMuY2hhdEhpc3RvcnkgPSAkKCcjY2hhdEhpc3RvcnknKTtcclxuICAgIHRoaXMubGl2ZVNob3dCdG5XcmFwZXIgPSAkKCcjbGl2ZVNob3dCdG5XcmFwZXInKTtcclxuICAgIHRoaXMuYnRuRmllbGRDb250cm9sID0gJCgnI2J0bkZpZWxkQ29udHJvbCcpO1xyXG4gICAgdGhpcy5idG5FZGl0QmdUaGVtZSA9ICQoJy5lZGl0X2JnX2J0bicpO1xyXG4gICAgdGhpcy5idG5FZGl0Tm90aWNlID0gJCgnI2J0bkVkaXROb3RpY2UnKTtcclxuICB9LFxyXG4gIHJlYWR5OiBmdW5jdGlvbiAob3BzKSB7XHJcbiAgICAvLyAg5Yid5aeL5YyWXHJcbiAgICB0aGlzLm9wdGlvbnMgPSBfLmV4dGVuZCh7fSwgb3BzKTtcclxuICAgIHRoaXMucmVuZGVyUGFnZSgpO1xyXG4gIH0sXHJcbiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gIOi/m+WFpemUgOavgeS5i+WJjSzlsIblvJXnlKjlhbPns7vorr7nva7kuLpudWxsXHJcbiAgfSxcclxuICBkZXN0cm95ZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICDplIDmr4HkuYvlkI5cclxuICB9LFxyXG4gIHJlbmRlclBhZ2U6IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICh0aGlzLm9wdGlvbnMuYXNzaXN0YW50KSB7XHJcbiAgICAgIC8vIOaOp+WItuiBiuWkqeWIl+ihqOmrmOW6plxyXG4gICAgICB0aGlzLmNoYXRIaXN0b3J5LmhlaWdodCgzODkpO1xyXG4gICAgICAvLyDpmpDol4/nm7Tmkq3mjqfliLbmqKHlnZdcclxuICAgICAgdGhpcy5saXZlU2hvd0J0bldyYXBlci5oaWRlKCk7XHJcbiAgICAgIC8vIOmakOiXj+WcuuaOp+aOp+WItuaMiemSrlxyXG4gICAgICB0aGlzLmJ0bkZpZWxkQ29udHJvbC5oaWRlKCk7XHJcbiAgICAgIC8vIOmakOiXj+e8lui+keS4u+mimOaMiemSrlxyXG4gICAgICB0aGlzLmJ0bkVkaXRCZ1RoZW1lLmhpZGUoKTtcclxuICAgICAgLy8g6ZqQ6JeP57yW6L6R5YWs5ZGK5oyJ6ZKuXHJcbiAgICAgIHRoaXMuYnRuRWRpdE5vdGljZS5oaWRlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG59KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gVmlldztcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9zcmMvdmlld3MvYW5jaG9yL2Fzc2lzdGFudC52aWV3LmpzXG4gKiogbW9kdWxlIGlkID0gMTA3XG4gKiogbW9kdWxlIGNodW5rcyA9IDEgM1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("var base = __webpack_require__(28);\r\nvar LoginUserView = __webpack_require__(109);\r\nvar BaseView = base.View;\r\n\r\nvar View = BaseView.extend({\r\n  el: '#topBar',\r\n  context: function (args) {\r\n    console.log(args);\r\n  },\r\n  beforeMount: function () {\r\n    //  初始化一些自定义属性\r\n    this.loginUser = new LoginUserView();\r\n  },\r\n  afterMount: function () {\r\n    //  获取findDOMNode DOM Node\r\n  },\r\n  ready: function () {\r\n    //  初始化\r\n    var _this = this;\r\n    this.loginUser.on('topbar-logined', function () {\r\n      _this.trigger('logined');\r\n    });\r\n  },\r\n  beforeDestroy: function () {\r\n    //  进入销毁之前,将引用关系设置为null\r\n  },\r\n  destroyed: function () {\r\n    //  销毁之后\r\n  },\r\n  showLoginDialog: function () {\r\n    this.loginUser.showDialog();\r\n  },\r\n  hideLoginDialog: function () {\r\n    this.loginUser.hideDialog();\r\n  }\r\n});\r\n\r\nmodule.exports = View;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZHVsZS9Ub3BCYXJWaWV3L2luZGV4LmpzPzE2ODQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQiLCJmaWxlIjoiMTA4LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGJhc2UgPSByZXF1aXJlKCdiYXNlLWV4dGVuZC1iYWNrYm9uZScpO1xyXG52YXIgTG9naW5Vc2VyVmlldyA9IHJlcXVpcmUoJy4vbG9naW5Vc2VyLnZpZXcnKTtcclxudmFyIEJhc2VWaWV3ID0gYmFzZS5WaWV3O1xyXG5cclxudmFyIFZpZXcgPSBCYXNlVmlldy5leHRlbmQoe1xyXG4gIGVsOiAnI3RvcEJhcicsXHJcbiAgY29udGV4dDogZnVuY3Rpb24gKGFyZ3MpIHtcclxuICAgIGNvbnNvbGUubG9nKGFyZ3MpO1xyXG4gIH0sXHJcbiAgYmVmb3JlTW91bnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICDliJ3lp4vljJbkuIDkupvoh6rlrprkuYnlsZ7mgKdcclxuICAgIHRoaXMubG9naW5Vc2VyID0gbmV3IExvZ2luVXNlclZpZXcoKTtcclxuICB9LFxyXG4gIGFmdGVyTW91bnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICDojrflj5ZmaW5kRE9NTm9kZSBET00gTm9kZVxyXG4gIH0sXHJcbiAgcmVhZHk6IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICDliJ3lp4vljJZcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICB0aGlzLmxvZ2luVXNlci5vbigndG9wYmFyLWxvZ2luZWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIF90aGlzLnRyaWdnZXIoJ2xvZ2luZWQnKTtcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gIOi/m+WFpemUgOavgeS5i+WJjSzlsIblvJXnlKjlhbPns7vorr7nva7kuLpudWxsXHJcbiAgfSxcclxuICBkZXN0cm95ZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICDplIDmr4HkuYvlkI5cclxuICB9LFxyXG4gIHNob3dMb2dpbkRpYWxvZzogZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5sb2dpblVzZXIuc2hvd0RpYWxvZygpO1xyXG4gIH0sXHJcbiAgaGlkZUxvZ2luRGlhbG9nOiBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLmxvZ2luVXNlci5oaWRlRGlhbG9nKCk7XHJcbiAgfVxyXG59KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gVmlldztcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9zcmMvbW9kdWxlL1RvcEJhclZpZXcvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAxMDhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMSAyIDMgNCA1IDYgNyA4IDkgMTBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){eval("'use strict';\r\n\r\nvar Backbone = window.Backbone;\r\nvar base = __webpack_require__(28);\r\nvar BaseView = base.View;\r\nvar storage = base.storage;\r\nvar UserModel = __webpack_require__(51);\r\nvar user = UserModel.sharedInstanceUserModel();\r\nvar loginBox = __webpack_require__(56);\r\nvar sginHTML = __webpack_require__(110);\r\nvar loginedTemp = __webpack_require__(111);\r\nvar win = window;\r\nvar location = win.location;\r\nvar IMModel = __webpack_require__(49);\r\nvar imModel = IMModel.sharedInstanceIMModel();\r\nvar config = __webpack_require__(50);\r\nvar View = BaseView.extend({\r\n  el: '#loginUser',\r\n  events: {\r\n    'click #login': 'loginHandler',\r\n    'click .show-drop-menu': 'showDropMenu',\r\n    'click #logout': 'logoutHandler',\r\n    'mouseover .hoverMenu': 'nameHover',\r\n    'mouseout .hoverMenu': 'nameOut'\r\n  },\r\n  context: function (args) {\r\n    console.log(args);\r\n  },\r\n  beforeMount: function () {\r\n    //  初始化一些自定义属性\r\n    this._dialog = null;\r\n  },\r\n  afterMount: function () {\r\n    //  获取findDOMNode DOM Node\r\n    this.loginBox = loginBox();\r\n    this._dialog = this.loginBox.dialog;\r\n    this.userDromMenu = this.findDOMNode('.pcNav');\r\n  },\r\n  ready: function () {\r\n    //  初始化\r\n    if (user.isLogined()) {\r\n      //  已经登录\r\n      this.fetchUserInfo();\r\n    } else {\r\n      //  未登录\r\n      this.$el.html(sginHTML);\r\n    }\r\n    this.hideDropMenu();\r\n    this.defineEventInterface();\r\n  },\r\n  beforeDestroy: function () {\r\n    //  进入销毁之前,将引用关系设置为null\r\n  },\r\n  destroyed: function () {\r\n    //  销毁之后\r\n  },\r\n  /**\r\n   * [loginHandler 处理登录按钮]\r\n   * @param  {[type]} e [description]\r\n   * @return {[type]}   [description]\r\n   */\r\n  loginHandler: function (e) {\r\n    var _this = this;\r\n    var status = this._dialog.status();\r\n    e.preventDefault();\r\n    if (status === 'hide') {\r\n      this._dialog.trigger('show');\r\n      this._dialog.once('hide', function () {\r\n        if (user.isLogined()) {\r\n          storage.remove('imSig');\r\n          _this.fetchUserInfo();\r\n          _this.trigger('topbar-logined');\r\n        }\r\n      });\r\n    } else {\r\n      this._dialog.trigger('hide');\r\n    }\r\n  },\r\n  /**\r\n   * [logoutHandler 退出]\r\n   * @param  {[type]} e [description]\r\n   * @return {[type]}   [description]\r\n   */\r\n  logoutHandler: function () {\r\n    storage.remove('imSig');\r\n    storage.set('signout', 1);\r\n    location.href = config.prefix + '/login.html';\r\n  },\r\n  fetchUserInfo: function () {\r\n    var _this = this;\r\n    var fetchImUserSigPromise = imModel.fetchIMUserSig();\r\n    fetchImUserSigPromise.done(function (userImInfo) {\r\n      var data;\r\n      if (userImInfo.roleType === 2) {\r\n        //  游客，未登录\r\n        _this.$el.html(sginHTML);\r\n      } else {\r\n        data = {\r\n          userName: userImInfo.nickName,\r\n          bigheadImg: userImInfo.largeAvatar\r\n        };\r\n        _this.render(data);\r\n      }\r\n    });\r\n  },\r\n  render: function (data) {\r\n    var loginedHTML = this.compileHTML(loginedTemp, data);\r\n    this.$el.html(loginedHTML);\r\n    this.showDropMenuEle = $('.loginMsg .pcNav');\r\n  },\r\n  /**\r\n   * 显示下拉菜单\r\n   */\r\n  showDropMenu: function (e) {\r\n    e.preventDefault();\r\n    this.showDropMenuEle.toggle();\r\n    return false;\r\n  },\r\n  /**\r\n   * 隐藏下拉菜单\r\n   */\r\n  hideDropMenu: function () {\r\n    var _this = this;\r\n    $(document).on('click', function () {\r\n      if (_this.showDropMenuEle) {\r\n        _this.showDropMenuEle.hide();\r\n      }\r\n    });\r\n  },\r\n  showDialog: function () {\r\n    var _this = this;\r\n    this._dialog.trigger('show');\r\n    this._dialog.once('hide', function () {\r\n      if (user.isLogined()) {\r\n        _this.trigger('topbar-logined');\r\n      }\r\n    });\r\n  },\r\n  hideDialog: function () {\r\n    this._dialog.trigger('hide');\r\n  },\r\n  /**\r\n   * 定义对外公布的事件\r\n   */\r\n  defineEventInterface: function () {\r\n    var self = this;\r\n    Backbone.on('event:userProfileChanged', function (users) {\r\n      var data = {\r\n        userName: users.nickName,\r\n        bigheadImg: users.headImg\r\n      };\r\n      self.render(data);\r\n    });\r\n  },\r\n  nameHover: function () {\r\n    this.showDropMenuEle.show();\r\n  },\r\n  nameOut: function () {\r\n    this.showDropMenuEle.hide();\r\n  }\r\n});\r\n\r\nmodule.exports = View;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZHVsZS9Ub3BCYXJWaWV3L2xvZ2luVXNlci52aWV3LmpzPzE4N2MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEIiwiZmlsZSI6IjEwOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbnZhciBCYWNrYm9uZSA9IHdpbmRvdy5CYWNrYm9uZTtcclxudmFyIGJhc2UgPSByZXF1aXJlKCdiYXNlLWV4dGVuZC1iYWNrYm9uZScpO1xyXG52YXIgQmFzZVZpZXcgPSBiYXNlLlZpZXc7XHJcbnZhciBzdG9yYWdlID0gYmFzZS5zdG9yYWdlO1xyXG52YXIgVXNlck1vZGVsID0gcmVxdWlyZSgnVXNlck1vZGVsJyk7XHJcbnZhciB1c2VyID0gVXNlck1vZGVsLnNoYXJlZEluc3RhbmNlVXNlck1vZGVsKCk7XHJcbnZhciBsb2dpbkJveCA9IHJlcXVpcmUoJ2xvZ2luQm94Jyk7XHJcbnZhciBzZ2luSFRNTCA9IHJlcXVpcmUoJy4vdGVtcGxhdGUvc2dpbi5odG1sJyk7XHJcbnZhciBsb2dpbmVkVGVtcCA9IHJlcXVpcmUoJy4vdGVtcGxhdGUvbG9naW5lZC5odG1sJyk7XHJcbnZhciB3aW4gPSB3aW5kb3c7XHJcbnZhciBsb2NhdGlvbiA9IHdpbi5sb2NhdGlvbjtcclxudmFyIElNTW9kZWwgPSByZXF1aXJlKCdJTU1vZGVsJyk7XHJcbnZhciBpbU1vZGVsID0gSU1Nb2RlbC5zaGFyZWRJbnN0YW5jZUlNTW9kZWwoKTtcclxudmFyIGNvbmZpZyA9IHJlcXVpcmUoJ2NvbmZpZycpO1xyXG52YXIgVmlldyA9IEJhc2VWaWV3LmV4dGVuZCh7XHJcbiAgZWw6ICcjbG9naW5Vc2VyJyxcclxuICBldmVudHM6IHtcclxuICAgICdjbGljayAjbG9naW4nOiAnbG9naW5IYW5kbGVyJyxcclxuICAgICdjbGljayAuc2hvdy1kcm9wLW1lbnUnOiAnc2hvd0Ryb3BNZW51JyxcclxuICAgICdjbGljayAjbG9nb3V0JzogJ2xvZ291dEhhbmRsZXInLFxyXG4gICAgJ21vdXNlb3ZlciAuaG92ZXJNZW51JzogJ25hbWVIb3ZlcicsXHJcbiAgICAnbW91c2VvdXQgLmhvdmVyTWVudSc6ICduYW1lT3V0J1xyXG4gIH0sXHJcbiAgY29udGV4dDogZnVuY3Rpb24gKGFyZ3MpIHtcclxuICAgIGNvbnNvbGUubG9nKGFyZ3MpO1xyXG4gIH0sXHJcbiAgYmVmb3JlTW91bnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICDliJ3lp4vljJbkuIDkupvoh6rlrprkuYnlsZ7mgKdcclxuICAgIHRoaXMuX2RpYWxvZyA9IG51bGw7XHJcbiAgfSxcclxuICBhZnRlck1vdW50OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAg6I635Y+WZmluZERPTU5vZGUgRE9NIE5vZGVcclxuICAgIHRoaXMubG9naW5Cb3ggPSBsb2dpbkJveCgpO1xyXG4gICAgdGhpcy5fZGlhbG9nID0gdGhpcy5sb2dpbkJveC5kaWFsb2c7XHJcbiAgICB0aGlzLnVzZXJEcm9tTWVudSA9IHRoaXMuZmluZERPTU5vZGUoJy5wY05hdicpO1xyXG4gIH0sXHJcbiAgcmVhZHk6IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICDliJ3lp4vljJZcclxuICAgIGlmICh1c2VyLmlzTG9naW5lZCgpKSB7XHJcbiAgICAgIC8vICDlt7Lnu4/nmbvlvZVcclxuICAgICAgdGhpcy5mZXRjaFVzZXJJbmZvKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyAg5pyq55m75b2VXHJcbiAgICAgIHRoaXMuJGVsLmh0bWwoc2dpbkhUTUwpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5oaWRlRHJvcE1lbnUoKTtcclxuICAgIHRoaXMuZGVmaW5lRXZlbnRJbnRlcmZhY2UoKTtcclxuICB9LFxyXG4gIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICDov5vlhaXplIDmr4HkuYvliY0s5bCG5byV55So5YWz57O76K6+572u5Li6bnVsbFxyXG4gIH0sXHJcbiAgZGVzdHJveWVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAg6ZSA5q+B5LmL5ZCOXHJcbiAgfSxcclxuICAvKipcclxuICAgKiBbbG9naW5IYW5kbGVyIOWkhOeQhueZu+W9leaMiemSrl1cclxuICAgKiBAcGFyYW0gIHtbdHlwZV19IGUgW2Rlc2NyaXB0aW9uXVxyXG4gICAqIEByZXR1cm4ge1t0eXBlXX0gICBbZGVzY3JpcHRpb25dXHJcbiAgICovXHJcbiAgbG9naW5IYW5kbGVyOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgIHZhciBzdGF0dXMgPSB0aGlzLl9kaWFsb2cuc3RhdHVzKCk7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBpZiAoc3RhdHVzID09PSAnaGlkZScpIHtcclxuICAgICAgdGhpcy5fZGlhbG9nLnRyaWdnZXIoJ3Nob3cnKTtcclxuICAgICAgdGhpcy5fZGlhbG9nLm9uY2UoJ2hpZGUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHVzZXIuaXNMb2dpbmVkKCkpIHtcclxuICAgICAgICAgIHN0b3JhZ2UucmVtb3ZlKCdpbVNpZycpO1xyXG4gICAgICAgICAgX3RoaXMuZmV0Y2hVc2VySW5mbygpO1xyXG4gICAgICAgICAgX3RoaXMudHJpZ2dlcigndG9wYmFyLWxvZ2luZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fZGlhbG9nLnRyaWdnZXIoJ2hpZGUnKTtcclxuICAgIH1cclxuICB9LFxyXG4gIC8qKlxyXG4gICAqIFtsb2dvdXRIYW5kbGVyIOmAgOWHul1cclxuICAgKiBAcGFyYW0gIHtbdHlwZV19IGUgW2Rlc2NyaXB0aW9uXVxyXG4gICAqIEByZXR1cm4ge1t0eXBlXX0gICBbZGVzY3JpcHRpb25dXHJcbiAgICovXHJcbiAgbG9nb3V0SGFuZGxlcjogZnVuY3Rpb24gKCkge1xyXG4gICAgc3RvcmFnZS5yZW1vdmUoJ2ltU2lnJyk7XHJcbiAgICBzdG9yYWdlLnNldCgnc2lnbm91dCcsIDEpO1xyXG4gICAgbG9jYXRpb24uaHJlZiA9IGNvbmZpZy5wcmVmaXggKyAnL2xvZ2luLmh0bWwnO1xyXG4gIH0sXHJcbiAgZmV0Y2hVc2VySW5mbzogZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgIHZhciBmZXRjaEltVXNlclNpZ1Byb21pc2UgPSBpbU1vZGVsLmZldGNoSU1Vc2VyU2lnKCk7XHJcbiAgICBmZXRjaEltVXNlclNpZ1Byb21pc2UuZG9uZShmdW5jdGlvbiAodXNlckltSW5mbykge1xyXG4gICAgICB2YXIgZGF0YTtcclxuICAgICAgaWYgKHVzZXJJbUluZm8ucm9sZVR5cGUgPT09IDIpIHtcclxuICAgICAgICAvLyAg5ri45a6i77yM5pyq55m75b2VXHJcbiAgICAgICAgX3RoaXMuJGVsLmh0bWwoc2dpbkhUTUwpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRhdGEgPSB7XHJcbiAgICAgICAgICB1c2VyTmFtZTogdXNlckltSW5mby5uaWNrTmFtZSxcclxuICAgICAgICAgIGJpZ2hlYWRJbWc6IHVzZXJJbUluZm8ubGFyZ2VBdmF0YXJcclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLnJlbmRlcihkYXRhKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSxcclxuICByZW5kZXI6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICB2YXIgbG9naW5lZEhUTUwgPSB0aGlzLmNvbXBpbGVIVE1MKGxvZ2luZWRUZW1wLCBkYXRhKTtcclxuICAgIHRoaXMuJGVsLmh0bWwobG9naW5lZEhUTUwpO1xyXG4gICAgdGhpcy5zaG93RHJvcE1lbnVFbGUgPSAkKCcubG9naW5Nc2cgLnBjTmF2Jyk7XHJcbiAgfSxcclxuICAvKipcclxuICAgKiDmmL7npLrkuIvmi4noj5zljZVcclxuICAgKi9cclxuICBzaG93RHJvcE1lbnU6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB0aGlzLnNob3dEcm9wTWVudUVsZS50b2dnbGUoKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9LFxyXG4gIC8qKlxyXG4gICAqIOmakOiXj+S4i+aLieiPnOWNlVxyXG4gICAqL1xyXG4gIGhpZGVEcm9wTWVudTogZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKF90aGlzLnNob3dEcm9wTWVudUVsZSkge1xyXG4gICAgICAgIF90aGlzLnNob3dEcm9wTWVudUVsZS5oaWRlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgc2hvd0RpYWxvZzogZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgIHRoaXMuX2RpYWxvZy50cmlnZ2VyKCdzaG93Jyk7XHJcbiAgICB0aGlzLl9kaWFsb2cub25jZSgnaGlkZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKHVzZXIuaXNMb2dpbmVkKCkpIHtcclxuICAgICAgICBfdGhpcy50cmlnZ2VyKCd0b3BiYXItbG9naW5lZCcpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9LFxyXG4gIGhpZGVEaWFsb2c6IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuX2RpYWxvZy50cmlnZ2VyKCdoaWRlJyk7XHJcbiAgfSxcclxuICAvKipcclxuICAgKiDlrprkuYnlr7nlpJblhazluIPnmoTkuovku7ZcclxuICAgKi9cclxuICBkZWZpbmVFdmVudEludGVyZmFjZTogZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgQmFja2JvbmUub24oJ2V2ZW50OnVzZXJQcm9maWxlQ2hhbmdlZCcsIGZ1bmN0aW9uICh1c2Vycykge1xyXG4gICAgICB2YXIgZGF0YSA9IHtcclxuICAgICAgICB1c2VyTmFtZTogdXNlcnMubmlja05hbWUsXHJcbiAgICAgICAgYmlnaGVhZEltZzogdXNlcnMuaGVhZEltZ1xyXG4gICAgICB9O1xyXG4gICAgICBzZWxmLnJlbmRlcihkYXRhKTtcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgbmFtZUhvdmVyOiBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLnNob3dEcm9wTWVudUVsZS5zaG93KCk7XHJcbiAgfSxcclxuICBuYW1lT3V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLnNob3dEcm9wTWVudUVsZS5oaWRlKCk7XHJcbiAgfVxyXG59KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gVmlldztcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9zcmMvbW9kdWxlL1RvcEJhclZpZXcvbG9naW5Vc2VyLnZpZXcuanNcbiAqKiBtb2R1bGUgaWQgPSAxMDlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMSAyIDMgNCA1IDYgNyA4IDkgMTBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports){eval('module.exports = "<div class=\\"PcMsg fl\\">\\r\\n    <a class=\\"user-login\\" href=\\"#\\" id=\\"login\\">登陆</a>\\r\\n</div>"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZHVsZS9Ub3BCYXJWaWV3L3RlbXBsYXRlL3NnaW4uaHRtbD8wNTBlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjExMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPVxcXCJQY01zZyBmbFxcXCI+XFxyXFxuICAgIDxhIGNsYXNzPVxcXCJ1c2VyLWxvZ2luXFxcIiBocmVmPVxcXCIjXFxcIiBpZD1cXFwibG9naW5cXFwiPueZu+mZhjwvYT5cXHJcXG48L2Rpdj5cIlxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvc3JjL21vZHVsZS9Ub3BCYXJWaWV3L3RlbXBsYXRlL3NnaW4uaHRtbFxuICoqIG1vZHVsZSBpZCA9IDExMFxuICoqIG1vZHVsZSBjaHVua3MgPSAxIDIgMyA0IDUgNiA3IDggOSAxMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports){eval('module.exports = "<div class=\\"avator fl\\">\\r\\n    <img class=\\"am-circle\\" style=\\"width: 40px; height: 40px;\\" src=\\"{{bigheadImg}}\\" alt=\\"用户头像\\">\\r\\n</div>\\r\\n<div class=\\"loginMsg fl hoverMenu\\">\\r\\n    <a class=\\"user-name show-drop-menu\\" href=\\"#\\">{{userName}}<span></span></a>\\r\\n    <ul class=\\"pcNav hoverMenu\\">\\r\\n        <li><a href=\\"anchor-setting.html\\">个人中心</a></li>\\r\\n        <li><span class=\\"header-logout\\" id=\\"logout\\">退出</span></li>\\r\\n    </ul>\\r\\n</div>\\r\\n"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21vZHVsZS9Ub3BCYXJWaWV3L3RlbXBsYXRlL2xvZ2luZWQuaHRtbD84MDkxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGdHQUFnRyxjQUFjLFdBQVcsWUFBWSw4SEFBOEgsVUFBVSIsImZpbGUiOiIxMTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1cXFwiYXZhdG9yIGZsXFxcIj5cXHJcXG4gICAgPGltZyBjbGFzcz1cXFwiYW0tY2lyY2xlXFxcIiBzdHlsZT1cXFwid2lkdGg6IDQwcHg7IGhlaWdodDogNDBweDtcXFwiIHNyYz1cXFwie3tiaWdoZWFkSW1nfX1cXFwiIGFsdD1cXFwi55So5oi35aS05YOPXFxcIj5cXHJcXG48L2Rpdj5cXHJcXG48ZGl2IGNsYXNzPVxcXCJsb2dpbk1zZyBmbCBob3Zlck1lbnVcXFwiPlxcclxcbiAgICA8YSBjbGFzcz1cXFwidXNlci1uYW1lIHNob3ctZHJvcC1tZW51XFxcIiBocmVmPVxcXCIjXFxcIj57e3VzZXJOYW1lfX08c3Bhbj48L3NwYW4+PC9hPlxcclxcbiAgICA8dWwgY2xhc3M9XFxcInBjTmF2IGhvdmVyTWVudVxcXCI+XFxyXFxuICAgICAgICA8bGk+PGEgaHJlZj1cXFwiYW5jaG9yLXNldHRpbmcuaHRtbFxcXCI+5Liq5Lq65Lit5b+DPC9hPjwvbGk+XFxyXFxuICAgICAgICA8bGk+PHNwYW4gY2xhc3M9XFxcImhlYWRlci1sb2dvdXRcXFwiIGlkPVxcXCJsb2dvdXRcXFwiPumAgOWHujwvc3Bhbj48L2xpPlxcclxcbiAgICA8L3VsPlxcclxcbjwvZGl2PlxcclxcblwiXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9zcmMvbW9kdWxlL1RvcEJhclZpZXcvdGVtcGxhdGUvbG9naW5lZC5odG1sXG4gKiogbW9kdWxlIGlkID0gMTExXG4gKiogbW9kdWxlIGNodW5rcyA9IDEgMiAzIDQgNSA2IDcgOCA5IDEwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports){eval("// removed by extract-text-webpack-plugin//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3R5bGVzaGVldHMvYW5jaG9yLnNjc3M/YTAxYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIxMTIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvc3R5bGVzaGVldHMvYW5jaG9yLnNjc3NcbiAqKiBtb2R1bGUgaWQgPSAxMTJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMSAzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==")}]);
{"version":3,"sources":["webpack:///./app/src/channellive.js","webpack:///external \"window._\"?37bd***","webpack:///./~/.npminstall/base-extend-backbone/0.1.4/base-extend-backbone/src/index.js?ada2***","webpack:///./~/.npminstall/base-extend-backbone/0.1.4/base-extend-backbone/src/instance/baseView.js?49c7***","webpack:///external \"window.Backbone\"?776e***","webpack:///./app/link/artTemplate/dist/template.js?5487***","webpack:///./~/.npminstall/base-extend-backbone/0.1.4/base-extend-backbone/src/util/warn.js?a2c4***","webpack:///./~/.npminstall/base-extend-backbone/0.1.4/base-extend-backbone/src/util/log.js?499a***","webpack:///./~/.npminstall/process/0.11.5/process/browser.js?9e37***","webpack:///./~/.npminstall/base-extend-backbone/0.1.4/base-extend-backbone/src/util/tools.js?a8b4***","webpack:///./~/.npminstall/base-extend-backbone/0.1.4/base-extend-backbone/src/util/error.js?40a3***","webpack:///./~/.npminstall/base-extend-backbone/0.1.4/base-extend-backbone/src/instance/baseModel.js?b1ce***","webpack:///./~/.npminstall/base-extend-backbone/0.1.4/base-extend-backbone/src/store/storage.js?2c7f***","webpack:///./~/.npminstall/base-extend-backbone/0.1.4/base-extend-backbone/src/instance/baseRouter.js?7263***","webpack:///./~/.npminstall/base-extend-backbone/0.1.4/base-extend-backbone/src/entity/ManagedObject.js?f4a5***","webpack:///./~/.npminstall/auxiliary-additions/0.0.3/auxiliary-additions/src/index.js?b171***","webpack:///./~/.npminstall/auxiliary-additions/0.0.3/auxiliary-additions/src/util/url.js?ac79***","webpack:///./~/.npminstall/auxiliary-additions/0.0.3/auxiliary-additions/src/util/sheet.js?604b***","webpack:///./~/.npminstall/auxiliary-additions/0.0.3/auxiliary-additions/src/util/isNativeFunction.js?bde2***","webpack:///./~/.npminstall/auxiliary-additions/0.0.3/auxiliary-additions/src/store/cookie.js?8d39***","webpack:///./~/.npminstall/auxiliary-additions/0.0.3/auxiliary-additions/src/upload/AjaxForm.js?6096***","webpack:///./~/.npminstall/auxiliary-additions/0.0.3/auxiliary-additions/src/util/uniqueId.js?1d15***","webpack:///./~/.npminstall/auxiliary-additions/0.0.3/auxiliary-additions/src/upload/UploadFile.js?7be9***","webpack:///./app/src/module/webIM/IMServer.js?a0a2*","webpack:///./app/src/module/IMModel/index.js?2e98***","webpack:///./app/src/module/config.js?b633***","webpack:///./app/src/module/UserModel/index.js?acb3***","webpack:///./app/src/module/dialog/index.js?58c7***","webpack:///./app/src/module/dialog/mask.js?c06e***","webpack:///./app/src/module/dialog/template/close.html?696f***","webpack:///./app/src/module/dialog/template/title.html?cca4***","webpack:///./app/src/module/loginBox/index.js?3b27***","webpack:///./app/src/module/crypto/pwdencrypt.js?a7fd***","webpack:///./app/src/module/loginBox/template/loginBox.html?a674***","webpack:///./app/src/module/crypto/secret.js?e731***","webpack:///./app/src/module/UserModel/template/email.html?32b0***","webpack:///./app/src/module/confirm/index.js?88a9***","webpack:///./app/src/module/confirm/template/confirm.html?028f***","webpack:///./app/src/models/anchor/gift.model.js?7909*","webpack:///./app/src/models/live-room/permission.model.js?effb*","webpack:///./app/src/views/live-room/user.js?3089**","webpack:///./app/src/models/anchor/anchor-info.model.js?fddf***","webpack:///./app/src/views/advertising-wall/main.view.js?fd62*","webpack:///./app/src/models/advertising-wall/list.model.js?1dfa*","webpack:///./app/src/models/advertising-wall/like.model.js?bd26*","webpack:///./app/src/models/advertising-wall/create.model.js?f6be*","webpack:///./app/src/models/advertising-wall/loop.model.js?61d2*","webpack:///./app/src/module/msgbox/index.js?72cd***","webpack:///./app/src/module/BusinessDate/index.js?15a1***","webpack:///./app/src/views/advertising-wall/template/wall.html?99b3*","webpack:///./app/src/module/FlashApi/index.js?524a*","webpack:///./app/src/views/anchor/template/chat-message-tpl.html?749e*","webpack:///./app/src/models/anchor/notice-get.model.js?243e*","webpack:///./app/src/module/TopBarView/index.js?1684***","webpack:///./app/src/module/TopBarView/loginUser.view.js?187c***","webpack:///./app/src/module/TopBarView/template/sgin.html?050e***","webpack:///./app/src/module/TopBarView/template/logined.html?8091***","webpack:///./app/src/models/anchor-setting/unfollow.model.js?437e","webpack:///./app/src/models/live-room/popularity-add.model.js?07fe","webpack:///./app/src/views/channel/live.main.js","webpack:///./app/src/models/channel/loogpolling.model.js","webpack:///./app/src/models/channel/enter-out.model.js","webpack:///./app/src/models/channel/detail.model.js","webpack:///./app/src/models/channel/live-play.model.js","webpack:///./app/src/views/live-room/anchor-card.view.js","webpack:///./app/src/models/anchor-setting/follow.model.js","webpack:///./app/src/views/live-room/sns-share.view.js","webpack:///./app/src/views/live-room/template/sns-share.html","webpack:///./app/src/views/live-room/template/anchor-card.html","webpack:///./app/src/views/live-room/room-title.view.js","webpack:///./app/src/views/live-room/template/room-title.html","webpack:///./app/src/views/live-room/chat.view.js","webpack:///./app/src/views/live-room/room-manager.view.js","webpack:///./app/src/views/live-room/template/chat.html","webpack:///./app/src/views/live-room/send-message.view.js","webpack:///./app/src/views/live-room/template/send-message.html","webpack:///./app/src/views/live-room/gift.view.js","webpack:///./app/src/models/channel/popularity-add.model.js","webpack:///./app/src/views/channel/live-video-list.view.js","webpack:///./app/src/views/channel/template/live-video-list-tpl.html","webpack:///./app/stylesheets/channel-live.scss"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,EAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClBD,2B;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,QAAO,IAAI;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;;;;;;;ACvLA,kC;;;;;;ACAA;AACA,aAAY,cAAc,+FAA+F,cAAc,oFAAoF,gBAAgB,cAAc,qHAAqH,cAAc,QAAQ,+CAA+C,wBAAwB,EAAE,uBAAuB,2BAA2B,4BAA4B,aAAa,oCAAoC,wDAAwD,wBAAwB,cAAc,0BAA0B,wBAAwB,aAAa,MAAM,uGAAuG,SAAS,iFAAiF,uDAAuD,yBAAyB,aAAa,oBAAoB,kBAAkB,mCAAmC,YAAY,mBAAmB,gBAAgB,uCAAuC,MAAM,6BAA6B,iBAAiB,kDAAkD,MAAM,kBAAkB,mGAAmG,EAAE,yBAAyB,aAAa,kBAAkB,4CAA4C,EAAE,YAAY,WAAW,MAAM,SAAS,OAAO,gIAAgI,GAAG,IAAI,0CAA0C,uBAAuB,SAAS,mDAAmD,MAAM,KAAK,oBAAoB,8BAA8B,WAAW,UAAU,yCAAyC,QAAQ,kBAAkB,sEAAsE,cAAc,uBAAuB,eAAe,iCAAiC,mBAAmB,4DAA4D,EAAE,iBAAiB,kBAAkB,MAAM,eAAe,mCAAmC,iCAAiC,MAAM,sDAAsD,OAAO,WAAW,GAAG,UAAU,oBAAoB,6FAA6F,IAAI,UAAU,YAAY,YAAY,YAAY,YAAY,EAAE,eAAe,YAAY,eAAe,gCAAgC,cAAc,8BAA8B,2BAA2B,kBAAkB,iBAAiB,QAAQ,2BAA2B,IAAI,uBAAuB,iCAAiC,YAAY,WAAW,yCAAyC,uBAAuB,QAAQ,2BAA2B,sBAAsB,2BAA2B,0CAA0C,4CAA4C,kBAAkB,+BAA+B,QAAQ,eAAe,GAAG,2BAA2B,cAAc,IAAI,qBAAqB,SAAS,8CAA8C,QAAQ,0CAA0C,iBAAiB,IAAI,aAAa,SAAS,4DAA4D,qDAAqD,oBAAoB,wBAAwB,spBAAspB,aAAa,gBAAgB,EAAE,oBAAoB,iDAAiD,gDAAgD,uBAAuB,sBAAsB,6CAA6C,UAAU,sBAAsB,EAAE,MAAM,4DAA4D,UAAU,EAAE,MAAM,cAAc,EAAE,MAAM,wFAAwF,kDAAkD,EAAE,MAAM,gBAAgB,EAAE,EAAE,MAAM,2BAA2B,EAAE,MAAM,iDAAiD,EAAE,MAAM,gCAAgC,eAAe,yCAAyC,iFAAiF,IAAI,gBAAgB,SAAS,8CAA8C,QAAQ,SAAS,oDAA6C,SAAS,oNAA+D,G;;;;;;ACDnpK;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;;;;;;ACbA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,mBAAkB;AAClB,oBAAmB;AACnB,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;;;;;;;;AC7CA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,4BAA2B;AAC3B;AACA;AACA;AACA,6BAA4B,UAAU;;;;;;;ACtHtC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA,iBAAgB,SAAS;AACzB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,IAAI;AACpB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,SAAS;AACzB,iBAAgB,SAAS;AACzB,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,aAAa;AAC7B,iBAAgB,SAAS;AACzB,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,IAAI;AACpB,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAgB,EAAE;AAClB,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAgB,IAAI;AACpB,iBAAgB,IAAI;AACpB,iBAAgB,IAAI;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;;ACnHD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA,IAAG;AACH,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,aAAY,gBAAgB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;;;;;;;ACvQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,SAAS;AACtB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa,SAAS;AACtB,cAAa,SAAS;AACtB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,SAAS;AACtB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,SAAS;AACtB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,SAAS;AACtB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAc,SAAS;AACvB,eAAc,OAAO;AACrB,eAAc,UAAU;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAc,SAAS;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAc,SAAS;AACvB;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,mBAAkB,oBAAoB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,SAAS;AACvB,eAAc,SAAS;AACvB,eAAc,SAAS;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,IAAI;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,IAAI;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,iBAAgB,SAAS;AACzB,iBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;;ACtQD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,oCAAmC,eAAe;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,EAAC;AACD;;;;;;;ACvGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA;AACA,0BAAyB;AACzB;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS,IAAI;AACb,qBAAoB,IAAI;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5MA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,SAAS;AACtB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ,UAAU;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,SAAS;AACtB,cAAa,SAAS;AACtB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,SAAS;AACtB,cAAa,SAAS;AACtB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,SAAS;AACtB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ,UAAU;AAClB;AACA;AACA;AACA,wDAAuD,oBAAoB;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC3HA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AChBA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;;;;;;;AC1BA;AACA;AACA;;AAEA;;AAEA,qCAAoC;;AAEpC;AACA;AACA;AACA,SAAQ,sBAAsB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iCAAgC;AAChC,iCAAgC;AAChC,iCAAgC;AAChC,+BAA8B;AAC9B;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,6DAA4D;AAC5D,+BAA8B,EAAE;AAChC;;AAEA,WAAU,oBAAoB;AAC9B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;;AAEA;;AAEA;AACA;;;;;;;AChIA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wFAAuF;AACvF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH;AACA;AACA,GAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC1FA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;ACPA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAsD;;AAEtD;AACA;AACA;AACA;AACA,gBAAe;AACf,yDAAwD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;;AAEH;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACrXA;AACA,WAAU;AACV,aAAY;AACZ,WAAU;AACV;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,iCAAgC;AAChC,4BAA2B;AAC3B;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,eAAc,QAAQ;AACtB;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,qBAAoB,iBAAiB;AACrC;AACA;AACA,IAAG;AACH;AACA;AACA,qBAAoB,iBAAiB;AACrC;AACA,IAAG;AACH;AACA;AACA,eAAc,SAAS;AACvB,eAAc,OAAO;AACrB,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AClHA,eAAc,wBAAwB,SAAS,8CAA8C,SAAS,8CAA8C,YAAY,0CAA0C,wBAAwB,4cAA4c,yB;;;;;;ACA9qB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAkD,SAAS;AAC3D;;AAEA;AACA;AACA;AACA;AACA;AACA,iCAAgC;AAChC,4BAA2B;AAC3B;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA,kCAAiC;AACjC,6BAA4B;AAC5B;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA,kCAAiC;AACjC,6BAA4B;AAC5B;AACA;AACA,IAAG;AACH;AACA;AACA,eAAc,QAAQ;AACtB;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,eAAc,SAAS;AACvB,eAAc,OAAO;AACrB,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,IAAG;AACH;AACA;AACA,eAAc,OAAO;AACrB,eAAc,SAAS;AACvB,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,IAAG;AACH;AACA;AACA,eAAc,SAAS;AACvB,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,eAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,eAAc,OAAO;AACrB,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,eAAc,SAAS;AACvB,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA,eAAc,OAAO;AACrB;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA,EAAC;;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7RA;AACA,gBAAe,KAAK;AACpB;;;AAGA;AACA,WAAU;AACV,aAAY;AACZ;AACA;;AAEA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,qDAAoD,OAAO;AAC3D;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACvMA;AACA,gBAAe,KAAK;AACpB;;;AAGA;AACA,WAAU;AACV,aAAY;AACZ,WAAU;AACV;;AAEA;;AAEA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;;AAEA,IAAG;AACH;AACA;;AAEA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC/DA,6CAA4C,IAAI,aAAa,YAAY,KAAK,gBAAgB,aAAa,KAAK,cAAc,uCAAuC,yBAAyB,IAAI,aAAa,YAAY,4CAA4C,MAAM,yBAAyB,IAAI,aAAa,YAAY,aAAa,KAAK,K;;;;;;ACArV,wDAAuD,OAAO,U;;;;;;ACA9D;AACA,WAAU;AACV,aAAY;AACZ,WAAU;AACV;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA4D,IAAI;AAChE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACvOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,cAAc;AAC/B;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,oDAAoD;AAClE;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,cAAc,OAAO;AACrC;AACA;AACA,2B;;;;;;AC5MA,2MAA0M,KAAK,oJAAoJ,KAAK,+IAA+I,KAAK,uJAAuJ,KAAK,gjCAAgjC,KAAK,qOAAqO,KAAK,uH;;;;;;ACAv7D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,sBAAsB;AACtC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA2B,QAAQ;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,G;;;;;;AC9LA,mDAAkD,yEAAyE,SAAS,0F;;;;;;ACApI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,UAAS;AACT;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;;;;;;ACrGA,iLAAgL,cAAc,mBAAmB,gSAAgS,iBAAiB,oJAAoJ,yCAAyC,6IAA6I,sBAAsB,yI;;;;;;;;;ACAl2B;AACA;AACA,aAAY;AACZ;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClDA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAkB,kBAAkB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;;;;;;AChLA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACzBA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA,qBAAoB,kBAAkB;AACtC;AACA;;AAEA;AACA;;AAEA,kCAAiC;;AAEjC;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH,uCAAsC;AACtC;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;;AAEA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA,UAAS;AACT;AACA;AACA,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,EAAC;;AAED;;;;;;;ACtaA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,EAAE;AACxB;AACA,mBAAkB,2EAA2E;AAC7F,qBAAoB,0DAA0D;AAC9E,qBAAoB,cAAc,gBAAgB,gBAAgB,8BAA8B,oBAAoB,GAAG;AACvH,mBAAkB,IAAI,IAAI,oBAAoB;AAC9C;AACA;AACA,sBAAqB,wCAAwC;AAC7D,oBAAmB,aAAa;AAChC,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,6BAA4B;AAC5B;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA,yEAAwE,cAAc,0CAA0C,KAAK,UAAU,UAAU,QAAQ;AACjK;AACA,+FAA8F,oCAAoC;AAClI;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;;;;;;;;ACpQA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ,UAAU;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ,cAAc;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC9LA,4YAA2Y,mJAAmJ,oGAAoG,yRAAyR,WAAW,iBAAiB,SAAS,uIAAuI,cAAc,mEAAmE,MAAM,6BAA6B,kBAAkB,gDAAgD,KAAK,qGAAqG,kCAAkC,kFAAkF,MAAM,mFAAmF,mBAAmB,mBAAmB,IAAI,kBAAkB,UAAU,uIAAuI,WAAW,6YAA6Y,KAAK,KAAK,4HAA4H,MAAM,KAAK,UAAU,ujEAAujE,uEAAuE,0EAA0E,yEAAyE,wEAAwE,0EAA0E,65B;;;;;;;;;;;;;;;;ACAvtJ;AACA,oBAAmB,MAAM,WAAW,OAAO;AAC3C,SAAQ,GAAG;AACX;AACA,mBAAkB,IAAI;AACtB,mBAAkB,OAAO;AACzB,mBAAkB,WAAW;AAC7B,mBAAkB,QAAQ;AAC1B,mBAAkB,UAAU;AAC5B,mBAAkB,MAAM;AACxB,mBAAkB,MAAM,WAAW,OAAO,UAAU,GAAG;AACvD,+CAA8C,IAAI,sBAAsB,OAAO;AAC/E,sBAAqB,WAAW,YAAY,QAAQ,WAAW,MAAM,cAAc,UAAU;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B,OAAO;AACjC;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;ACtIA,2LAA0L,oFAAoF,gEAAgE,sEAAsE,uBAAuB,0EAA0E,MAAM,gEAAgE,0JAA0J,mEAAmE,2DAA2D,gCAAgC,iGAAiG,4B;;;;;;;;ACAp9B;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;ACzBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,EAAC;;AAED;;;;;;;ACrCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,eAAc,OAAO;AACrB,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA,eAAc,OAAO;AACrB,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,EAAC;;AAED;;;;;;;AClKA,oH;;;;;;ACAA,iGAAgG,cAAc,WAAW,YAAY,8HAA8H,UAAU,0N;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA7Q;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;ACzBA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;ACzBA;AACA,WAAU;AACV,aAAY;AACZ;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;;AAEA;AACA;AACA,0BAAyB;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,qBAAoB,kBAAkB;AACtC;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;;AAEA;AACA,qBAAoB,kBAAkB;AACtC;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA,gEAA+D;AAC/D;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B;AAC/B,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA,UAAS;AACT;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;;;;;;;AC9hBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACzCA;AACA,gBAAe,KAAK;AACpB;;;AAGA;AACA,WAAU;AACV,aAAY;AACZ,WAAU;AACV;;AAEA;;AAEA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2BAA0B;AAC1B;AACA,IAAG;AACH,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,qBAAoB,kBAAkB;AACtC;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL,kEAAiE;AACjE;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;;;;;;;AC1MA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACzBA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sEAAqE,oBAAoB;;AAEzF,8EAA6E,oBAAoB,wBAAwB,mBAAmB,qCAAqC;;AAEjL,qFAAoF,gBAAgB,uBAAuB,wBAAwB,YAAY,sCAAsC,cAAc,aAAa;;AAEhO,gGAA+F;;AAE/F,6EAA4E;;AAE5E,oGAAmG,kBAAkB;;AAErH,2FAA0F,oBAAoB;;AAE9G,2EAA0E,oBAAoB;;AAE9F,mEAAkE,WAAW,wBAAwB,uCAAuC;;AAE5I,uDAAsD,oBAAoB,wBAAwB;;AAElG,4DAA2D,oBAAoB;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC;;AAED;;;;;;;ACpJA,qOAAoO,0FAA0F,4FAA4F,gBAAgB,oBAAoB,qBAAqB,YAAY,mCAAmC,cAAc,aAAa,iIAAiI,yHAAyH,iBAAiB,qBAAqB,mBAAmB,kCAAkC,8GAA8G,gD;;;;;;ACAh+B,ijCAAgjC,wIAAwI,kCAAkC,OAAO,OAAO,6EAA6E,4B;;;;;;ACArzC;AACA,gBAAe,KAAK;AACpB;;;AAGA;AACA,WAAU;AACV,aAAY;AACZ,WAAU;AACV;;AAEA;;AAEA;AACA,0BAAyB;AACzB;;AAEA;AACA;AACA,2BAA0B;AAC1B;AACA,IAAG;AACH,YAAW;AACX,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;;;;;;;ACpFA,ob;;;;;;ACAA;AACA,gBAAe,KAAK;AACpB;;;AAGA;AACA,WAAU;AACV,aAAY;AACZ,WAAU;AACV;;AAEA;;AAEA;AACA;AACA;AACA;AACA,0BAAyB;;AAEzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2BAA0B;AAC1B;AACA,IAAG;AACH,YAAW;AACX;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAG;AACH;AACA;AACA,+BAA8B;AAC9B;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,MAAK;;AAEL;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,UAAS;AACT;AACA,MAAK;;AAEL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,SAAQ;;AAER;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,QAAO;AACP;AACA,MAAK;AACL,IAAG;;AAEH;AACA;AACA;;AAEA,uCAAsC;AACtC,sCAAqC,OAAO;AAC5C;AACA,iCAAgC;AAChC;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA,4DAA2D;AAC3D;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,qCAAoC;AACpC;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK,gBAAgB;AACrB,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;;;;;;;ACpaA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,qBAAoB,kBAAkB;AACtC;AACA;AACA;AACA,sFAAqF;AACrF,6BAA4B;AAC5B,6BAA4B;AAC5B,IAAG;AACH;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,+BAA8B;AAC9B;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU;AACV;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,IAAG;AACH;AACA,EAAC;;AAED;;;;;;;AChHA,2I;;;;;;ACAA;AACA,gBAAe,KAAK;AACpB;;;AAGA;AACA,WAAU;AACV,aAAY;AACZ,WAAU;AACV;;AAEA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,2BAA0B;AAC1B;AACA,IAAG;AACH,YAAW;AACX;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,+BAA8B;AAC9B;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL,IAAG;AACH;AACA;;AAEA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;;;;;;;ACrJA,ytC;;;;;;ACAA;AACA,gBAAe,KAAK;AACpB;;;AAGA;AACA,WAAU;AACV,aAAY;AACZ,WAAU;AACV;;AAEA;;AAEA;AACA;AACA;AACA,0BAAyB;;AAEzB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA,qBAAoB,kBAAkB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,kBAAkB;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,+BAA8B;AAC9B;;AAEA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA,QAAO;AACP,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAoC,YAAY;AAChD,kEAAiE;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,sEAAqE,oBAAoB;;AAEzF,8EAA6E,oBAAoB,wBAAwB,mBAAmB,qCAAqC;;AAEjL,qFAAoF,gBAAgB,uBAAuB,wBAAwB,YAAY,sCAAsC,cAAc,aAAa;;AAEhO,gGAA+F;;AAE/F,6EAA4E;;AAE5E,oGAAmG,kBAAkB;;AAErH,2FAA0F,oBAAoB;;AAE9G,2EAA0E,oBAAoB;;AAE9F,mEAAkE,WAAW,wBAAwB,uCAAuC;;AAE5I,uDAAsD,oBAAoB,wBAAwB;;AAElG,4DAA2D,oBAAoB;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC;;AAED;;;;;;;AC7XA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAU,YAAY;AACtB;AACA;AACA,cAAa,IAAI,eAAe,IAAI;AACpC,sCAAqC,YAAY;AACjD;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC;;AAED;;;;;;;ACzEA,gFAA+E,oBAAoB,uDAAuD,SAAS,kBAAkB,eAAe,gBAAgB,cAAc,yCAAyC,eAAe,8CAA8C,gBAAgB,uDAAuD,OAAO,K;;;;;;ACAtZ,0C","file":"channellive.js","sourcesContent":["/**\r\n *\r\n * Created by AaronYuan on 6/7/16.\r\n */\r\n// \r\nvar $ = require('jquery');\r\n\r\n$(function () {\r\n  'use strict';\r\n  var TopBarView = require('TopBarView');\r\n  var MainView = require('./views/channel/live.main.js');\r\n\r\n  var a = new TopBarView();\r\n\r\n  a = new MainView();\r\n\r\n  console.log(a);\r\n  require('../stylesheets/channel-live.scss');\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/channellive.js\n ** module id = 0\n ** module chunks = 5\n **/","module.exports = window._;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"window._\"\n ** module id = 27\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","var BaseView = require('./instance/baseView');\r\nvar BaseModel = require('./instance/baseModel');\r\nvar BaseRouter = require('./instance/baseRouter');\r\nvar ManagedObject = require('./entity/ManagedObject');\r\nvar storage = require('./store/storage');\r\nmodule.exports = {\r\n    'View':BaseView,\r\n    'Model':BaseModel,\r\n    'Router':BaseRouter,\r\n    'ManagedObject':ManagedObject,\r\n    'storage':storage\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/.npminstall/base-extend-backbone/0.1.4/base-extend-backbone/src/index.js\n ** module id = 28\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/**\r\n * @time 20121019\r\n * @author icepy\r\n * @info View\r\n *\r\n * @time 2016227\r\n * @author icepy\r\n * @info webpack\r\n */\r\n\r\n'use strict';\r\n\r\nvar Backbone = require('backbone');\r\nvar tplEng = require('tplEng');\r\nvar warn = require('../util/warn');\r\nvar Tools = require('../util/tools');\r\nvar error = require('../util/error');\r\nvar uid = 999;\r\nvar createID = function(){\r\n\treturn 'view_'+(uid++)+'_'+(new Date().getTime())+Math.floor(Math.random(100)*100);\r\n};\r\nvar BaseView = Backbone.View.extend({\r\n\tinitialize:function(options){\r\n\t\t//\r\n\t\tthis._ICEOptions = options || {};\r\n\t\tif (_.isFunction(this.beforeMount)){\r\n\t\t\tthis.beforeMount();\r\n\t\t}else{\r\n\t\t\twarn('beforeMount');\r\n\t\t};\r\n\t\tif (this.router) {\r\n\t\t\tthis.id = createID();\r\n\t\t\tthis.$el.append('<div id=\"'+this.id+'\"></div>');\r\n\t\t\tthis.$el = this.$el.find('#'+this.id);\r\n\t\t};\r\n\t\tthis._ICEinit();\r\n\t\treturn this;\r\n\t},\r\n\t_ICEinit:function(){\r\n\t\tif (_.isFunction(this.rawLoader)) {\r\n\t\t\tthis._template = this.rawLoader();\r\n\t\t\tif (this._template) {\r\n\t\t\t\tthis.$el.append(this._template);\r\n\t\t\t};\r\n\t\t}\r\n\t\tif (typeof this.afterMount === 'function') {\r\n\t\t\tthis.afterMount();\r\n\t\t}else{\r\n\t\t\twarn('afterMountDOM');\r\n\t\t};\r\n\t\tthis._ICEObject();\r\n\t},\r\n\t_ICEObject:function(){\r\n\t\tthis._ICEinitNode();\r\n\t\tthis.__YYTPC__ = true;\r\n\t\tif (_.isFunction(this.ready)) {\r\n\t\t\tthis.ready(this._ICEOptions);\r\n\t\t}else{\r\n\t\t\terror('Viewready');\r\n\t\t};\r\n\t},\r\n\t_ICEinitEvent:function(){\r\n\t\tthis.delegateEvents(this.events);\r\n\t},\r\n\t_ICEinitNode:function(){\r\n\t\tvar self = this;\r\n\t\tthis.$parent = this._ICEOptions.parent;\r\n\t\tthis.$children  = [];\r\n\t\tthis.$root = this.$parent ? this.$parent.$root : this;\r\n\t\tif (this.$parent && this.$parent.__YYTPC__) {\r\n\t\t\tthis.$parent.$children.push(this);\r\n\t\t};\r\n\t\tthis.on('hook:context',function(){\r\n\t\t\tvar args = Tools.toArray(arguments);\r\n\t\t\tif (self && self.__YYTPC__) {\r\n\t\t\t\tif (_.isFunction(self.context)) {\r\n\t\t\t\t\tself.context.apply(self,args);\r\n\t\t\t\t}else{\r\n\t\t\t\t\twarn('context');\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\t});\r\n\t},\r\n\t_ICEDestroy:function(){\r\n\t\t//\r\n\t\tif (_.isFunction(this.beforeDestroy)) {\r\n\t\t\tthis.beforeDestroy();\r\n\t\t};\r\n\t\tthis.remove();\r\n\t\tthis.undelegate();\r\n\t\t//\r\n\t\tif (_.isFunction(this.destroyed)) {\r\n\t\t\tthis.destroyed();\r\n\t\t};\r\n\t},\r\n\t/**\r\n\t * [triggerHook Hook]\r\n\t * @return {[type]} [description]\r\n\t */\r\n\ttriggerContextHook:function(){\r\n\t\tif (this.$parent && this.$parent.__YYTPC__) {\r\n\t\t\tvar args = Tools.toArray(arguments);\r\n\t\t\tvar event = args[0];\r\n\t\t\tif (_.isString(event)) {\r\n\t\t\t\targs[0] = 'hook:context';\r\n\t\t\t}else{\r\n\t\t\t\targs.splice(0,0,'hook:context');\r\n\t\t\t};\r\n\t\t\tswitch (event) {\r\n\t\t\t\tcase 'root':\r\n\t\t\t\t\t\tthis.$root.trigger.apply(this.$root,args);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t\tthis.$parent.trigger.apply(this.$parent,args);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\twarn('View');\r\n\t\t}\r\n\t},\r\n\t/**\r\n\t * [findDOMNode DOM]\r\n\t * @param  {[type]} exprs [description]\r\n\t * @return {[type]}       [description]\r\n\t */\r\n\tfindDOMNode:function(exprs){\r\n\t\treturn this.$el && this.$el.find(exprs);\r\n\t},\r\n\t/**\r\n\t * [compileHTML ]\r\n\t * @param  {[type]} tplStr [description]\r\n\t * @param  {[type]} data   [description]\r\n\t * @return {[type]}        [description]\r\n\t */\r\n\tcompileHTML:function(tplStr,data){\r\n\t\treturn tplEng.compile(tplStr)(data);\r\n\t},\r\n\t/**\r\n\t * [broadcast ]\r\n\t * @param  {[type]} event [description]\r\n\t * @return {[type]}       [description]\r\n\t */\r\n\tbroadcast:function(){\r\n\t\tvar args = Tools.toArray(arguments);\r\n\t\tvar children = this.$children;\r\n\t\tvar i = 0;\r\n\t\tvar j = children.length;\r\n\t\tfor(;i<j;i++){\r\n\t\t\tvar child = children[i];\r\n\t\t\tvar propagate = child.trigger.apply(child,args);\r\n\t\t\tif(propagate){\r\n\t\t\t\tchild.broadcast.apply(child,args);\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\t/**\r\n\t * [dispatch ]\r\n\t * @param  {[type]} event [description]\r\n\t * @return {[type]}       [description]\r\n\t */\r\n\tdispatch:function(){\r\n\t\tvar args = Tools.toArray(arguments);\r\n\t\tvar parent = this.$parent;\r\n\t\twhile(parent){\r\n\t\t\tparent.trigger.apply(parent,args);\r\n\t\t\tparent = parent.$parent;\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\t/**\r\n\t * [destroy ]\r\n\t * @return {[type]} [description]\r\n\t */\r\n\tdestroy:function(){\r\n\t\tthis._ICEOptions = null;\r\n\t\tthis.$children.length = 0;\r\n\t\tthis.$parent = null;\r\n\t\tthis.$root = null;\r\n\t\tthis._ICEDestroy();\r\n\t}\r\n});\r\n\r\nmodule.exports = BaseView;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/.npminstall/base-extend-backbone/0.1.4/base-extend-backbone/src/instance/baseView.js\n ** module id = 29\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","module.exports = window.Backbone;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"window.Backbone\"\n ** module id = 30\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/*!art-template - Template Engine | http://aui.github.com/artTemplate/*/\r\n!function(){function a(a){return a.replace(t,\"\").replace(u,\",\").replace(v,\"\").replace(w,\"\").replace(x,\"\").split(/^$|,+/)}function b(a){return\"'\"+a.replace(/('|\\\\)/g,\"\\\\$1\").replace(/\\r/g,\"\\\\r\").replace(/\\n/g,\"\\\\n\")+\"'\"}function c(c,d){function e(a){return m+=a.split(/\\n/).length-1,k&&(a=a.replace(/\\s+/g,\" \").replace(/<!--.*?-->/g,\"\")),a&&(a=s[1]+b(a)+s[2]+\"\\n\"),a}function f(b){var c=m;if(j?b=j(b,d):g&&(b=b.replace(/\\n/g,function(){return m++,\"$line=\"+m+\";\"})),0===b.indexOf(\"=\")){var e=l&&!/^=[=#]/.test(b);if(b=b.replace(/^=[=#]?|[\\s;]*$/g,\"\"),e){var f=b.replace(/\\s*\\([^\\)]+\\)/,\"\");n[f]||/^(include|print)$/.test(f)||(b=\"$escape(\"+b+\")\")}else b=\"$string(\"+b+\")\";b=s[1]+b+s[2]}return g&&(b=\"$line=\"+c+\";\"+b),r(a(b),function(a){if(a&&!p[a]){var b;b=\"print\"===a?u:\"include\"===a?v:n[a]?\"$utils.\"+a:o[a]?\"$helpers.\"+a:\"$data.\"+a,w+=a+\"=\"+b+\",\",p[a]=!0}}),b+\"\\n\"}var g=d.debug,h=d.openTag,i=d.closeTag,j=d.parser,k=d.compress,l=d.escape,m=1,p={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},q=\"\".trim,s=q?[\"$out='';\",\"$out+=\",\";\",\"$out\"]:[\"$out=[];\",\"$out.push(\",\");\",\"$out.join('')\"],t=q?\"$out+=text;return $out;\":\"$out.push(text);\",u=\"function(){var text=''.concat.apply('',arguments);\"+t+\"}\",v=\"function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);\"+t+\"}\",w=\"'use strict';var $utils=this,$helpers=$utils.$helpers,\"+(g?\"$line=0,\":\"\"),x=s[0],y=\"return new String(\"+s[3]+\");\";r(c.split(h),function(a){a=a.split(i);var b=a[0],c=a[1];1===a.length?x+=e(b):(x+=f(b),c&&(x+=e(c)))});var z=w+x+y;g&&(z=\"try{\"+z+\"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:\"+b(c)+\".split(/\\\\n/)[$line-1].replace(/^\\\\s+/,'')};}\");try{var A=new Function(\"$data\",\"$filename\",z);return A.prototype=n,A}catch(B){throw B.temp=\"function anonymous($data,$filename) {\"+z+\"}\",B}}var d=function(a,b){return\"string\"==typeof b?q(b,{filename:a}):g(a,b)};d.version=\"3.0.0\",d.config=function(a,b){e[a]=b};var e=d.defaults={openTag:\"<%\",closeTag:\"%>\",escape:!0,cache:!0,compress:!1,parser:null},f=d.cache={};d.render=function(a,b){return q(a,b)};var g=d.renderFile=function(a,b){var c=d.get(a)||p({filename:a,name:\"Render Error\",message:\"Template not found\"});return b?c(b):c};d.get=function(a){var b;if(f[a])b=f[a];else if(\"object\"==typeof document){var c=document.getElementById(a);if(c){var d=(c.value||c.innerHTML).replace(/^\\s*|\\s*$/g,\"\");b=q(d,{filename:a})}}return b};var h=function(a,b){return\"string\"!=typeof a&&(b=typeof a,\"number\"===b?a+=\"\":a=\"function\"===b?h(a.call(a)):\"\"),a},i={\"<\":\"&#60;\",\">\":\"&#62;\",'\"':\"&#34;\",\"'\":\"&#39;\",\"&\":\"&#38;\"},j=function(a){return i[a]},k=function(a){return h(a).replace(/&(?![\\w#]+;)|[<>\"']/g,j)},l=Array.isArray||function(a){return\"[object Array]\"==={}.toString.call(a)},m=function(a,b){var c,d;if(l(a))for(c=0,d=a.length;d>c;c++)b.call(a,a[c],c,a);else for(c in a)b.call(a,a[c],c)},n=d.utils={$helpers:{},$include:g,$string:h,$escape:k,$each:m};d.helper=function(a,b){o[a]=b};var o=d.helpers=n.$helpers;d.onerror=function(a){var b=\"Template Error\\n\\n\";for(var c in a)b+=\"<\"+c+\">\\n\"+a[c]+\"\\n\\n\";\"object\"==typeof console&&console.error(b)};var p=function(a){return d.onerror(a),function(){return\"{Template Error}\"}},q=d.compile=function(a,b){function d(c){try{return new i(c,h)+\"\"}catch(d){return b.debug?p(d)():(b.debug=!0,q(a,b)(c))}}b=b||{};for(var g in e)void 0===b[g]&&(b[g]=e[g]);var h=b.filename;try{var i=c(a,b)}catch(j){return j.filename=h||\"anonymous\",j.name=\"Syntax Error\",p(j)}return d.prototype=i.prototype,d.toString=function(){return i.toString()},h&&b.cache&&(f[h]=d),d},r=n.$each,s=\"break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined\",t=/\\/\\*[\\w\\W]*?\\*\\/|\\/\\/[^\\n]*\\n|\\/\\/[^\\n]*$|\"(?:[^\"\\\\]|\\\\[\\w\\W])*\"|'(?:[^'\\\\]|\\\\[\\w\\W])*'|\\s*\\.\\s*[$\\w\\.]+/g,u=/[^\\w$]+/g,v=new RegExp([\"\\\\b\"+s.replace(/,/g,\"\\\\b|\\\\b\")+\"\\\\b\"].join(\"|\"),\"g\"),w=/^\\d[^,]*|,\\d[^,]*/g,x=/^,+|,+$/g;e.openTag=\"{{\",e.closeTag=\"}}\";var y=function(a,b){var c=b.split(\":\"),d=c.shift(),e=c.join(\":\")||\"\";return e&&(e=\", \"+e),\"$helpers.\"+d+\"(\"+a+e+\")\"};e.parser=function(a,b){a=a.replace(/^\\s/,\"\");var c=a.split(\" \"),e=c.shift(),f=c.join(\" \");switch(e){case\"if\":a=\"if(\"+f+\"){\";break;case\"else\":c=\"if\"===c.shift()?\" if(\"+c.join(\" \")+\")\":\"\",a=\"}else\"+c+\"{\";break;case\"/if\":a=\"}\";break;case\"each\":var g=c[0]||\"$data\",h=c[1]||\"as\",i=c[2]||\"$value\",j=c[3]||\"$index\",k=i+\",\"+j;\"as\"!==h&&(g=\"[]\"),a=\"$each(\"+g+\",function(\"+k+\"){\";break;case\"/each\":a=\"});\";break;case\"echo\":a=\"print(\"+f+\");\";break;case\"print\":case\"include\":a=e+\"(\"+c.join(\",\")+\");\";break;default:if(-1!==f.indexOf(\"|\")){var l=b.escape;0===a.indexOf(\"#\")&&(a=a.substr(1),l=!1);for(var m=0,n=a.split(\"|\"),o=n.length,p=l?\"$escape\":\"$string\",q=p+\"(\"+n[m++]+\")\";o>m;m++)q=y(q,n[m]);a=\"=#\"+q}else a=d.helpers[e]?\"=#\"+e+\"(\"+c.join(\",\")+\");\":\"=\"+a}return a},\"function\"==typeof define?define(function(){return d}):\"undefined\"!=typeof exports?module.exports=d:this.template=d}();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/link/artTemplate/dist/template.js\n ** module id = 31\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/**\r\n * @time 20121026\r\n * @author icepy\r\n * @info warn\r\n */\r\n\r\n'use strict';\r\n\r\nvar log = require('./log');\r\n\r\nvar warn = function(msg,e){\r\n\tlog.warn(msg,e);\r\n}\r\nmodule.exports = warn;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/.npminstall/base-extend-backbone/0.1.4/base-extend-backbone/src/util/warn.js\n ** module id = 32\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/**\r\n * @time 20121026\r\n * @author icepy\r\n * @info debug\r\n */\r\n\r\n'use strict';\r\n\r\nvar log = {\r\n\twarn:function(){},\r\n\terror:function(){},\r\n\tinfo:function(){},\r\n\tdir:function(){}\r\n};\r\nif (process.env.NODE_ENV !== 'product') {\r\n\tvar hasConsole =  typeof console !== undefined;\r\n\tlog.warn = function(msg,e){\r\n\t\tif (hasConsole) {\r\n\t\t\tconsole.warn('[YYT PC Warning]:'+ msg);\r\n\t\t\tif (e) {\r\n\t\t\t\tthrow e;\r\n\t\t\t}else{\r\n\t\t\t\tvar warning = new Error('Warning Stack Trace');\r\n\t\t\t\tconsole.warn(warning.stack);\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\tlog.error = function(msg){\r\n\t\tvar error = new Error(msg);\r\n\t\tthrow error.stack;\r\n\t};\r\n\tlog.info = function(msg){\r\n\t\tif (hasConsole) {\r\n\t\t\tconsole.info('[YYT PC INFO]'+msg);\r\n\t\t}\r\n\t};\r\n\tlog.dir = function(tag){\r\n\t\tvar arr = document.querySelectorAll(tag);\r\n\t\tif (arr && arr.length) {\r\n\t\t\tarr.forEach(function(element){\r\n\t\t\t\tconsole.dir(element);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n}\r\nmodule.exports = log;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/.npminstall/base-extend-backbone/0.1.4/base-extend-backbone/src/util/log.js\n ** module id = 33\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","// shim for using process in browser\n\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\n(function () {\n  try {\n    cachedSetTimeout = setTimeout;\n  } catch (e) {\n    cachedSetTimeout = function () {\n      throw new Error('setTimeout is not defined');\n    }\n  }\n  try {\n    cachedClearTimeout = clearTimeout;\n  } catch (e) {\n    cachedClearTimeout = function () {\n      throw new Error('clearTimeout is not defined');\n    }\n  }\n} ())\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = cachedSetTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    cachedClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        cachedSetTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/.npminstall/process/0.11.5/process/browser.js\n ** module id = 34\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/**\r\n * @time 20121026\r\n * @author icepy\r\n * @info tools\r\n */\r\n\r\n'use strict';\r\n\r\n(function (factory) {\r\n    var root = (typeof self == 'object' && self.self == self && self) ||\r\n        (typeof global == 'object' && global.global == global && global);\r\n    if (typeof exports === 'object' && typeof module === 'object') {\r\n        module.exports = factory();\r\n    } else if (typeof exports === 'object') {\r\n        exports['tools'] = factory()\r\n    } else {\r\n        if (!root.ICEPlugs) {\r\n            root.ICEPlugs = {};\r\n        }\r\n        root.ICEPlugs.tools = factory();\r\n    }\r\n})(function () {\r\n    var tools = {};\r\n    var toString = Object.prototype.toString;\r\n    var OBJECT_TYPE = '[object Object]';\r\n    /**\r\n     * [isPlainObject ]\r\n     * @param  {[Object]}  obj []\r\n     * @return {Boolean}\r\n     */\r\n    tools.isPlainObject = function (obj) {\r\n        return toString.call(obj) === OBJECT_TYPE;\r\n    };\r\n    /**\r\n     * [isObject ]\r\n     * @param  {[*]}  obj []\r\n     * @return {Boolean}\r\n     */\r\n    tools.isObject = function (obj) {\r\n        return obj !== null && typeof obj === 'object';\r\n    };\r\n    var hasOwnProperty = Object.prototype.hasOwnProperty;\r\n    /**\r\n     * [hasOwn ]\r\n     * @param  {[Object]}  obj [description]\r\n     * @param  {[String]}  key [description]\r\n     * @return {Boolean}     [description]\r\n     */\r\n    tools.hasOwn = function (obj, key) {\r\n        return hasOwnProperty.call(obj, key);\r\n    };\r\n    /**\r\n     * [toArray ]\r\n     * @param  {[Array-like]} list  []\r\n     * @param  {[Number]} index []\r\n     * @return {[Array]}       []\r\n     */\r\n    tools.toArray = function (list, index) {\r\n        index = index || 0;\r\n        var i = list.length - index;\r\n        var _array = new Array(i);\r\n        while (i--) {\r\n            _array[i] = list[i + index];\r\n        }\r\n        return _array;\r\n    };\r\n    /**\r\n     * [toType ]\r\n     * @param  {[type]} value [description]\r\n     * @return {[type]}       [description]\r\n     */\r\n    tools.toType = function (value) {\r\n        return toString.call(value);\r\n    };\r\n    /**\r\n     * [exportToNumber ]\r\n     * @param  {[*]} value [description]\r\n     * @return {[*|Number]}       [description]\r\n     */\r\n    tools.exportToNumber = function (value) {\r\n        if (typeof value !== 'string') {\r\n            return value;\r\n        } else {\r\n            var number = Number(value);\r\n            return isNaN(number) ? value : number;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * [isArray ]\r\n     * @param  {*} value [description]\r\n     * @return {Boolean}       [description]\r\n     */\r\n    tools.isArray = function(obj){\r\n        return tools.toType(obj) === '[object Array]';\r\n    };\r\n\r\n    /**\r\n     * [mergeData ]\r\n     * @param  {obj} value [description]\r\n     * @param  {obj} value [description]\r\n     * @return {obj}       [description]\r\n     */\r\n    tools.mergeData = function(to,from){\r\n        var key,toVal,fromVal;\r\n        for(key in from){\r\n            toVal = to[key];\r\n            fromVal = from[key];\r\n            if (tools.isPlainObject(toVal) && tools.isPlainObject(fromVal)) {\r\n                tools.mergeData(toVal,fromVal);\r\n            }\r\n        }\r\n        return to;\r\n    };\r\n    return tools;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/.npminstall/base-extend-backbone/0.1.4/base-extend-backbone/src/util/tools.js\n ** module id = 35\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/**\r\n * @time 20121026\r\n * @author icepy\r\n * @info error\r\n */\r\n\r\n'use strict';\r\n\r\nvar log = require('./log');\r\n\r\nvar error = function(msg,e){\r\n\tlog.error(msg,e);\r\n}\r\nmodule.exports = error;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/.npminstall/base-extend-backbone/0.1.4/base-extend-backbone/src/util/error.js\n ** module id = 36\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/**\r\n * @time 20121019\r\n * @author icepy\r\n * @info \r\n *\r\n * @time 20121027\r\n * @author icepy\r\n * @info \r\n *\r\n * @time 2016227\r\n * @author icepy\r\n * @info webpackModel\r\n *\r\n */\r\n\r\n\r\n'use strict';\r\nvar Backbone = require('backbone')\r\nvar storage = require('../store/storage');\r\nvar Tools = require('../util/tools');\r\nvar warn = require('../util/warn');\r\nvar uid = 1314;\r\nvar expiration = storage.expiration;\r\nvar BaseModel = Backbone.Model.extend({\r\n\tinitialize:function(options){\r\n\t\tif (_.isFunction(this.beforeEmit)) {\r\n\t\t\tthis.beforeEmit(options);\r\n\t\t};\r\n\t\tthis._url = this.url;\r\n\t},\r\n\t_ICEFetch:function(options){\r\n\t\tthis.fetch(options);\r\n\t},\r\n\t_ICESave:function(HTTPBody,options){\r\n\t\tthis.save(HTTPBody,options);\r\n\t},\r\n\t_ICEDestroy:function(options){\r\n\t\tthis.destroy(options);\r\n\t},\r\n\t_ICEJSONP:function(parameter,options){\r\n\t\t$.ajax($.extend({\r\n\t\t\turl:this.url,\r\n\t\t\tdata:parameter || {},\r\n\t\t\tdataType:'jsonp',\r\n\t\t\tjsonp:'callback'\r\n\t\t},options));\r\n\t},\r\n\t_ICESendHelper:function(message,defer){\r\n\t\tvar self = this;\r\n\t\tif (message.url) {\r\n\t\t\t//urlthisurl\r\n\t\t\tthis.url = message.url;\r\n\t\t};\r\n\t\tvar options = {};\r\n\t\toptions.beforeSend = function(xhr,setting){\r\n\t\t\tfor(var key in this.headers){\r\n\t\t\t\txhr.setRequestHeader(key,this.headers[key]);\r\n\t\t\t}\r\n\t\t};\r\n\t\toptions.success = function(model,response,afterSetting){\r\n\t\t\tresponse = self._ICEProcessData(response);\r\n\t\t\tdefer.resolve.call(model,response,afterSetting.xhr);\r\n\t\t}\r\n\t\toptions.error = function(model,xhr){\r\n\t\t\tdefer.reject.call(model,xhr);\r\n\t\t}\r\n\t\tswitch(message.type){\r\n\t\t\tcase 'POST':\r\n\t\t\t\tthis._ICESave(message.HTTPBody,options);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'PUT':\r\n\t\t\t\tvar id = message.HTTPBody.id;\r\n\t\t\t\tif(!id && id !== 0){\r\n\t\t\t\t\tmessage.HTTPBody.id = 'icepy'+(uid++);\r\n\t\t\t\t};\r\n\t\t\t\tthis._ICESave(message.HTTPBody,options);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'DELETE':\r\n\t\t\t\tthis._ICEDestroy(options);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'JSONP':\r\n\t\t\t\tthis._ICEJSONP(message.parameter,{\r\n\t\t\t\t\tsuccess:function(response,state,xhr){\r\n\t\t\t\t\t\tresponse = self._ICEProcessData(response);\r\n\t\t\t\t\t\tdefer.resolve.call(self,response,state,xhr);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror:function(xhr,state,errors){\r\n\t\t\t\t\t\tdefer.reject.call(self,xhr,state,errors);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthis._ICEFetch(options);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\t_ICESendMessage:function(message,defer){\r\n\t\tvar self = this;\r\n\t\tif (this.storageCache && this.expiration){\r\n\t\t\tif (!storage.enabled){\r\n\t\t\t\tthis._ICESendHelper(message,defer);\r\n\t\t\t}else{\r\n\t\t\t\tvar data = expiration.get(this.url);\r\n\t\t\t\tif (!data) {\r\n\t\t\t\t\tthis._ICESendHelper(message,defer);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t};\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\tdata = self._ICEProcessData(data,true);\r\n\t\t\t\t\tdefer.reslove(data)\r\n\t\t\t\t},50);\r\n\t\t\t};\r\n\t\t}else{\r\n\t\t\tthis._ICESendHelper(message,defer);\r\n\t\t};\r\n\t},\r\n\t_ICEProcessData:function(response,before){\r\n\t\t//formatter\r\n\t\tif (_.isFunction(this.formatter)) {\r\n\t\t\tresponse = this.formatter(response);\r\n\t\t};\r\n\t\t//\r\n\t\tif (this.storageCache && this.expiration && !before) {\r\n\t\t\tif (storage.enabled){\r\n\t\t\t\texpiration.set(this.url,response,this.expiration);\r\n\t\t\t};\r\n\t\t};\r\n\t\tthis.set(response);\r\n\t\treturn response;\r\n\t},\r\n\t/**\r\n\t * [execute GET]\r\n\t * @param  {[type]} success [description]\r\n\t * @param  {[type]} error   [description]\r\n\t * @return {[type]}         [description]\r\n\t */\r\n\texecute:function(){\r\n\t\tvar defer = $.Deferred();\r\n\t\tvar message = {\r\n\t\t\ttype:'GET'\r\n\t\t};\r\n\t\tvar args = Tools.toArray(arguments);\r\n\t\tvar g = args.splice(0,1)[0];\r\n\t\tif (Tools.isPlainObject(g)) {\r\n\t\t\tmessage = _.extend(message,g);\r\n\t\t}\r\n\t\tthis._ICESendMessage(message,defer);\r\n\t\treturn defer.promise();\r\n\t},\r\n\t/**\r\n\t * [executeGET GET]\r\n\t * @param  {[type]} success [description]\r\n\t * @param  {[type]} error   [description]\r\n\t * @return {[type]}         [description]\r\n\t */\r\n\texecuteGET:function(){\r\n\t\tvar message = {\r\n\t\t\ttype:'GET'\r\n\t\t};\r\n\t\treturn this.execute(message);\r\n\t},\r\n\t/**\r\n\t * [executePOST POST]\r\n\t * @param  {[type]} HTTPBody [description]\r\n\t * @param  {[type]} success  [description]\r\n\t * @param  {[type]} error    [description]\r\n\t * @return {[type]}          [description]\r\n\t */\r\n\texecutePOST:function(HTTPBody){\r\n\t\tvar message = {\r\n\t\t\ttype:'POST',\r\n\t\t\tHTTPBody:HTTPBody\r\n\t\t};\r\n\t\treturn this.execute(message);\r\n\t},\r\n\t/**\r\n\t * [executePUT PUT]\r\n\t * @param  {[type]} HTTPBody [description]\r\n\t * @param  {[type]} success  [description]\r\n\t * @param  {[type]} error    [description]\r\n\t * @return {[type]}          [description]\r\n\t */\r\n\texecutePUT:function(HTTPBody){\r\n\t\tvar message = {\r\n\t\t\ttype:'PUT',\r\n\t\t\tHTTPBody:HTTPBody\r\n\t\t};\r\n\t\treturn this.execute(message);\r\n\t},\r\n\t/**\r\n\t * [executeDELETE delete]\r\n\t * @return {[type]} [description]\r\n\t */\r\n\texecuteDELETE:function(){\r\n\t\tvar message = {\r\n\t\t\ttype:'DELETE'\r\n\t\t};\r\n\t\treturn this.execute(message);\r\n\t},\r\n\t/**\r\n\t * [executeJSONP JSONP]\r\n\t * @param  {[type]} success [description]\r\n\t * @param  {[type]} error   [description]\r\n\t * @return {[type]}         [description]\r\n\t */\r\n\texecuteJSONP:function(parameter){\r\n\t\tvar message = {\r\n\t\t\ttype:'JSONP',\r\n\t\t\tparameter:parameter\r\n\t\t};\r\n\t\treturn this.execute(message);\r\n\t},\r\n\t/**\r\n\t * [setChangeURL URL]\r\n\t * @param {[type]} parameter [description]\r\n\t */\r\n\tsetChangeURL:function(parameter){\r\n\t\tvar url = ''\r\n\t\tif (!parameter) {\r\n\t\t\treturn this.url;\r\n\t\t};\r\n\t\tfor(var key in parameter){\r\n\t\t\tvar value = parameter[key];\r\n\t\t\tif (!url.length) {\r\n\t\t\t\turl += '?'+key+'='+value;\r\n\t\t\t}else{\r\n\t\t\t\turl += '&'+key+'='+value;\r\n\t\t\t};\r\n\t\t};\r\n\t\tthis.url = this._url + url;\r\n\t},\r\n\t/**\r\n\t * [setHeaders XHR ]\r\n\t * @param {[string|object]} headers [description]\r\n\t */\r\n\tsetHeaders:function(){\r\n\t\tif (!this.headers) {\r\n\t\t\tthis.headers = {};\r\n\t\t};\r\n\t\tvar args = Tools.toArray(arguments);\r\n\t\tif (args.length === 1) {\r\n\t\t\tvar headers = args[0];\r\n\t\t\tfor(var key in headers){\r\n\t\t\t\tthis.headers[key] = headers[key];\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tif (args.length) {\r\n\t\t\t\tvar key = args[0];\r\n\t\t\t\tvar value = args[1];\r\n\t\t\t\tthis.headers[key] = value;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t/**\r\n\t * [setUpdateStorage ]\r\n\t * @return {[type]} [description]\r\n\t */\r\n\tsetUpdateStorage:function(){\r\n\t\tif (storage.enabled){\r\n\t\t\texpiration.set(self.url,this.manager.$get(),self.expiration);\r\n\t\t};\r\n\t}\r\n});\r\nmodule.exports = BaseModel;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/.npminstall/base-extend-backbone/0.1.4/base-extend-backbone/src/instance/baseModel.js\n ** module id = 37\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/**\r\n * @time 20121027\r\n * @author icepy\r\n * @info API\r\n *\r\n * @time 2016227\r\n * @author icepy\r\n * @info webpack\r\n */\r\n\r\n'use strict';\r\n\r\n(function(factory) {\r\n\tvar root = (typeof self == 'object' && self.self == self && self) ||\r\n\t\t(typeof global == 'object' && global.global == global && global);\r\n\tif(typeof exports === 'object' && typeof module === 'object'){\r\n\t\tmodule.exports = factory();\r\n\t}else if(typeof exports === 'object'){\r\n\t\texports['storage'] = factory()\r\n\t}else{\r\n\t\tif (!root.ICEPlugs) {\r\n\t\t\troot.ICEPlugs = {};\r\n\t\t};\r\n\t\troot.ICEPlugs.storage = factory();\r\n\t};\r\n})(function() {\r\n\tvar store = {};\r\n\tvar _window = window;\r\n\tvar localStorageName = 'localStorage';\r\n\tvar sessionStorageName = 'sessionStorage';\r\n\tvar rootKey = 'ICEStorageCache';\r\n\tvar storage, session;\r\n\tvar isLocalStorageNameSupported = function() {\r\n\t\ttry {\r\n\t\t\treturn (localStorageName in _window && _window[localStorageName]);\r\n\t\t} catch (err) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\tvar isSessionStorageNameSupported = function() {\r\n\t\ttry {\r\n\t\t\treturn (sessionStorageName in _window && _window[sessionStorageName]);\r\n\t\t} catch (err) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\tstore.disabled = false;\r\n\tstore.version = '0.0.1';\r\n\t/**\r\n\t * [has Key]\r\n\t * @param  {[String]}  key [description]\r\n\t * @return {Boolean}     [description]\r\n\t */\r\n\tstore.has = function(key) {\r\n\t\treturn store.get(key) !== undefined;\r\n\t};\r\n\r\n\t/**\r\n\t * [transact ]\r\n\t * @param  {[String]} key           [description]\r\n\t * @param  {[String]} defaultVal    [description]\r\n\t * @param  {[type]} transactionFn [description]\r\n\t */\r\n\tstore.transact = function(key, defaultVal, transactionFn) {\r\n\t\tif (transactionFn == null) {\r\n\t\t\ttransactionFn = defaultVal;\r\n\t\t\tdefaultVal = null;\r\n\t\t}\r\n\r\n\t\tif (defaultVal == null) {\r\n\t\t\tdefaultVal = {};\r\n\t\t}\r\n\r\n\t\tvar val = store.get(key, defaultVal);\r\n\t\ttransactionFn(val);\r\n\t\tstore.set(key, val);\r\n\t};\r\n\t/**\r\n\t * [serialize ]\r\n\t * @param  {[Object]} value [description]\r\n\t * @return {[String]}       [description]\r\n\t */\r\n\tstore.serialize = function(value) {\r\n\t\treturn JSON.stringify(value);\r\n\t};\r\n\t/**\r\n\t * [deserialize ]\r\n\t * @param  {[String]} value [description]\r\n\t * @return {[Object]}       [description]\r\n\t */\r\n\tstore.deserialize = function(value) {\r\n\t\tif (typeof value != 'string') {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t\ttry {\r\n\t\t\treturn JSON.parse(value);\r\n\t\t} catch (e) {\r\n\t\t\treturn value || undefined;\r\n\t\t}\r\n\t};\r\n\tif (isLocalStorageNameSupported()) {\r\n\t\tstorage = _window[localStorageName];\r\n\t\t/**\r\n\t\t * [set  ]\r\n\t\t * @param {[String]} key [description]\r\n\t\t * @param {[Object]} val [description]\r\n\t\t */\r\n\t\tstore.set = function(key, val) {\r\n\t\t\tif (val === undefined) {\r\n\t\t\t\treturn store.remove(key);\r\n\t\t\t}\r\n\t\t\tstorage.setItem(key, store.serialize(val));\r\n\t\t\treturn val;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * [get ]\r\n\t\t * @param  {[String]} key        [description]\r\n\t\t * @param  {[type]} defaultVal [description]\r\n\t\t * @return {[Boolean]}            [description]\r\n\t\t */\r\n\t\tstore.get = function(key, defaultVal) {\r\n\t\t\tvar val = store.deserialize(storage.getItem(key));\r\n\t\t\treturn (val === undefined ? defaultVal : val);\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * [remove key]\r\n\t\t * @param  {[String]} key [description]\r\n\t\t */\r\n\t\tstore.remove = function(key) {\r\n\t\t\tstorage.removeItem(key);\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * [clear ]\r\n\t\t */\r\n\t\tstore.clear = function() {\r\n\t\t\tstorage.clear();\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * [getAll description]\r\n\t\t * @return {[Object]} [description]\r\n\t\t */\r\n\t\tstore.getAll = function() {\r\n\t\t\tvar ret = {};\r\n\t\t\tstore.forEach(function(key, val) {\r\n\t\t\t\tret[key] = val;\r\n\t\t\t});\r\n\t\t\treturn ret;\r\n\t\t};\r\n\t\tstore.forEach = function(callback) {\r\n\t\t\tfor (var i = 0; i < storage.length; i++) {\r\n\t\t\t\tvar key = storage.key(i);\r\n\t\t\t\tcallback(key, store.get(key));\r\n\t\t\t}\r\n\t\t};\r\n\t\t//\r\n\t\tstore.expiration = {\r\n\t\t\t/**\r\n\t\t\t * [set ]\r\n\t\t\t * @param {[String]} key [description]\r\n\t\t\t * @param {[Object]} val [description]\r\n\t\t\t * @param {[Number]} exp [description]\r\n\t\t\t */\r\n\t\t\tset: function(key, val, exp) {\r\n\t\t\t\t//exp 60\r\n\t\t\t\tvar Root = store.get(rootKey) || {};\r\n\t\t\t\tRoot[key] = {\r\n\t\t\t\t\tval: val,\r\n\t\t\t\t\texp: exp * (1000 * 60 * 60),\r\n\t\t\t\t\ttime: new Date().getTime()\r\n\t\t\t\t};\r\n\t\t\t\tstore.set(rootKey, Root);\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * [get ]\r\n\t\t\t * @param  {[String]} key [description]\r\n\t\t\t * @return {[*]}     [*]\r\n\t\t\t */\r\n\t\t\tget: function(key) {\r\n\t\t\t\tvar Root = store.get(rootKey);\r\n\t\t\t\tif (!Root) {\r\n\t\t\t\t\t//\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t};\r\n\t\t\t\tvar info = Root[key];\r\n\t\t\t\tif (!info) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t\tif (new Date().getTime() - info.time > info.exp) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t\treturn info.val\r\n\t\t\t},\r\n\t\t\tgetAll: function() {\r\n\t\t\t\tvar Root = store.get(rootKey);\r\n\t\t\t\treturn Root || null;\r\n\t\t\t},\r\n\t\t\tresetSave: function(val) {\r\n\t\t\t\tstore.set(rootKey, val);\r\n\t\t\t}\r\n\t\t};\r\n\t\tif (isSessionStorageNameSupported()) {\r\n\t\t\tsession = _window[sessionStorageName];\r\n\t\t\t//\r\n\t\t\tstore.session = {\r\n\t\t\t\t/**\r\n\t\t\t\t * [set ]\r\n\t\t\t\t * @param {[String]} key [description]\r\n\t\t\t\t * @param {[*]} val [*]\r\n\t\t\t\t */\r\n\t\t\t\tset: function(key, val) {\r\n\t\t\t\t\tif (val === undefined) {\r\n\t\t\t\t\t\treturn store.remove(key);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar stayStore;\r\n\t\t\t\t\tif (Object.prototype.toString.call(val) === '[object Object]') {\r\n\t\t\t\t\t\tstayStore = store.serialize(val);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tstayStore = val;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tsession.setItem(key, stayStore);\r\n\t\t\t\t},\r\n\t\t\t\t/**\r\n\t\t\t\t * [get ]\r\n\t\t\t\t * @param  {[String]} key [description]\r\n\t\t\t\t * @return {[Boolean]}     [description]\r\n\t\t\t\t */\r\n\t\t\t\tget: function(key) {\r\n\t\t\t\t\tvar val = store.deserialize(session.getItem(key));\r\n\t\t\t\t\treturn (val === undefined ? defaultVal : val);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\ttry {\r\n\t\tvar testKey = '__storeJs__';\r\n\t\tstore.set(testKey, testKey);\r\n\t\tif (store.get(testKey) != testKey) {\r\n\t\t\tstore.disabled = true;\r\n\t\t}\r\n\t\tstore.remove(testKey);\r\n\t} catch (e) {\r\n\t\tstore.disabled = true;\r\n\t}\r\n\tstore.enabled = !store.disabled;\r\n\tif (store.enabled) {\r\n\t\tvar modelCache = store.expiration.getAll();\r\n\t\tif (modelCache) {\r\n\t\t\tfor (var cacheKey in modelCache) {\r\n\t\t\t\tvar cache = modelCache[cacheKey];\r\n\t\t\t\tif (new Date().getTime() - cache.time > cache.exp) {\r\n\t\t\t\t\tcache = null;\r\n\t\t\t\t\tdelete modelCache[cacheKey]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tstore.expiration.resetSave(modelCache);\r\n\t};\r\n\treturn store;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/.npminstall/base-extend-backbone/0.1.4/base-extend-backbone/src/store/storage.js\n ** module id = 38\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/**\r\n * @time 2016321\r\n * @author icepy\r\n * @info \r\n */\r\n\r\n'use strict'\r\n\r\nvar Backbone = require('backbone');\r\nvar warn = require('../util/warn');\r\nvar stack = [];\r\nvar routerHash = {};\r\nvar curr = null;\r\nvar router = null;\r\nvar routerHashTop = function(key) {\r\n    return routerHash[key];\r\n};\r\nvar routerHashRmove = function(key) {\r\n    delete routerHash[key];\r\n};\r\nvar BaseRouter = Backbone.Router.extend({\r\n    addLifeCycleHelper: function(name, view, parameter) {\r\n        var top = routerHashTop(name);\r\n        var stackCheckHandler = function() {\r\n            if (curr) {\r\n                //\r\n                if (_.isFunction(router.viewWillDisappear)) {\r\n                    router.viewWillDisappear.call(curr);\r\n                }else{\r\n                    if (router.dealloc) {\r\n                        warn('{dealloc = true}viewWillDisappeardestroy');\r\n                    };\r\n                };\r\n                if (router.dealloc) {\r\n                    //\r\n                    curr.destroy();\r\n                    var obj = routerHashTop(curr._router);\r\n                    if (obj) {\r\n                        routerHashRmove(curr._router);\r\n                        stack.splice(stack.indexOf(curr.cid), 1);\r\n                        obj = null;\r\n                    };\r\n                }\r\n                //\r\n                if (_.isFunction(router.viewDidDisappear)) {\r\n                    router.viewDidDisappear.call(curr);\r\n                };\r\n            }\r\n        }\r\n        if (top) {\r\n            stackCheckHandler();\r\n            curr = null;\r\n            curr = top;\r\n            curr.trigger('viewWillAppear');\r\n        } else {\r\n            stackCheckHandler();\r\n            curr = parameter ? new view({\r\n                '$parameter': parameter\r\n            }) : new view();\r\n            stack.push(curr.cid);\r\n            curr._router = name;\r\n            curr._didLoad = false; //viewDidLoad\r\n            router = curr.router;\r\n            routerHash[name] = curr;\r\n            //\r\n            curr.once('viewDidLoad', function() {\r\n                if (_.isFunction(router.viewDidLoad)) {\r\n                    router.viewDidLoad.call(curr);\r\n                }else{\r\n                    warn('Root ComponentviewDidLoad');\r\n                };\r\n                if (!curr._didLoad) {\r\n                    curr._didLoad = true;\r\n                    curr.trigger('viewDidAppear');\r\n                };\r\n            });\r\n            //\r\n            curr.on('viewWillAppear', function() {\r\n                if (_.isFunction(router.viewWillAppear)) {\r\n                    router.viewWillAppear.call(curr);\r\n                }else{\r\n                    warn('Root ComponentviewWillAppear');\r\n                };\r\n                if (!curr._didLoad) {\r\n                    //viewDidLoad\r\n                    curr.trigger('viewDidLoad');\r\n                }else{\r\n                    curr.trigger('viewDidAppear');\r\n                };\r\n            });\r\n            //\r\n            curr.on('viewDidAppear', function() {\r\n                if (_.isFunction(router.viewDidAppear)) {\r\n                    router.viewDidAppear.call(curr);\r\n                }else{\r\n                    warn('Root ComponentviewDidAppear');\r\n                };\r\n            });\r\n            curr.trigger('viewWillAppear');\r\n        }\r\n        return curr;\r\n    }\r\n});\r\nmodule.exports = BaseRouter;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/.npminstall/base-extend-backbone/0.1.4/base-extend-backbone/src/instance/baseRouter.js\n ** module id = 39\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/**\r\n * @time 2016329\r\n * @author icepy\r\n * @info \r\n */\r\nvar Tools = require('../util/tools');\r\nvar baseModelSort = [];\r\n\r\nvar ManagedObject = function(options){\r\n    options = options || {};\r\n    this.entity = options.entity || {};\r\n};\r\n\r\nManagedObject.prototype.$update = function(obj){\r\n    var entity = _.extend(this.entity,obj);\r\n    this.entity = null;\r\n    this.entity = entity;\r\n};\r\n/**\r\n * [$get .this.$get('items.0.id')]\r\n * @param  {[type]} expression [description]\r\n * @return {[type]}            [description]\r\n */\r\nManagedObject.prototype.$get = function(expression){\r\n    if (!expression) {\r\n        return this.entity;\r\n    }\r\n    var attrNodes = expression.split('.');\r\n    var lh = attrNodes.length;\r\n    if (lh > 0) {\r\n        var node = attrNodes[0];\r\n        var i = 0;\r\n        var entity = this.entity;\r\n        while(node){\r\n            i++\r\n            entity = entity[node];\r\n            node = attrNodes[i];\r\n        }\r\n        return entity;\r\n    }\r\n};\r\n/**\r\n * [$set key/value]\r\n * @param {[type]} expression [description]\r\n * @param {[type]} value      [description]\r\n */\r\nManagedObject.prototype.$set = function(expression,value,options){\r\n    if (expression === null || expression === undefined) {\r\n        return this;\r\n    };\r\n    if (Tools.isPlainObject(expression)) {\r\n        this.entity = null;\r\n        this.entity = expression;\r\n        return this.entity;\r\n    };\r\n    var attrNodes = expression.split('.');\r\n    var lh = attrNodes.length;\r\n    if (lh > 0) {\r\n        var i = 0;\r\n        var node = attrNodes[i];\r\n        var entity = this.entity;\r\n        if (lh !== 1) {\r\n            while(node){\r\n                i++\r\n                entity = entity[node];\r\n                node = attrNodes[i];\r\n                if (i > (lh - 2)) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        switch(Tools.toType(entity)){\r\n            case '[object Object]':\r\n                entity[node] = value;\r\n                break;\r\n            case '[object Array]':\r\n                entity[Tools.exportToNumber(node)] = value;\r\n                break;\r\n            default:\r\n                entity = value;\r\n                break;\r\n        };\r\n    }\r\n};\r\n/**\r\n * [$filter .]\r\n * @param  {[type]} expression [description]\r\n * @param  {[type]} value      [description]\r\n * @return {[type]}            [description]\r\n */\r\nManagedObject.prototype.$filter = function(expression,value){\r\n    var data = this.$get(expression);\r\n    var result = [];\r\n    if (Tools.isArray(data)) {\r\n        var i = data.length;\r\n        var n;\r\n        while(i--){\r\n            var val = data[i];\r\n            switch(Tools.toType(value)){\r\n                case '[object Object]':\r\n                    n = true;\r\n                    for(var k in value){\r\n                        if (!(val[k] === value[k])) {\r\n                            n = null;\r\n                            break;\r\n                        }\r\n                    }\r\n                    break\r\n                case '[object Function]':\r\n                    n = value(val,i);\r\n                    break\r\n                default:\r\n                    n = (val === value);\r\n                    break\r\n            };\r\n            if (n) {\r\n                result.push(val)\r\n            };\r\n        };\r\n    };\r\n    return result;\r\n};\r\n/**\r\n * [$sort .]\r\n * @param  {[type]} expression [description]\r\n * @param  {[type]} value      [description]\r\n * @return {[type]}            [description]\r\n */\r\nManagedObject.prototype.$sort = function(expression,value){\r\n    // >  true\r\n    // <  false\r\n    var data = this.$get(expression);\r\n    baseModelSort.length = 0;\r\n    if (Tools.isArray(data)) {\r\n        switch(Tools.toType(value)){\r\n            case '[object Function]':\r\n                baseModelSort = this._sort(data,value)\r\n                break\r\n            default:\r\n                if (typeof value === 'string') {\r\n                    var attrNodes = value.split('.');\r\n                    var logic = null;\r\n                    var lh = attrNodes.length - 1;\r\n                    switch(attrNodes[lh]){\r\n                        case '>':\r\n                            logic = true;\r\n                            break\r\n                        case '<':\r\n                            logic = false;\r\n                            break\r\n                        default:\r\n                            return baseModelSort;\r\n                            break\r\n                    };\r\n                    if (logic !== null) {\r\n                        return this._sort(data,function(val1,val2){\r\n                            var node = attrNodes[0];\r\n                            var i = 0;\r\n                            while(node){\r\n                                val1 = val1[node];\r\n                                val2 = val2[node];\r\n                                i++\r\n                                if (i === lh) {\r\n                                    break;\r\n                                };\r\n                                node = attrNodes[i];\r\n                            }\r\n                            if (logic) {\r\n                                return val1 > val2;\r\n                            }else{\r\n                                return val1 < val2;\r\n                            };\r\n                        });\r\n                    }\r\n\r\n                };\r\n                break\r\n        }\r\n    };\r\n    return baseModelSort;\r\n};\r\n\r\nManagedObject.prototype._sort = function(data,fun){\r\n    var n = data.length;\r\n    if (n < 2) {\r\n        return data;\r\n    };\r\n    var i = 0;\r\n    var j = i+1;\r\n    var logic,temp,key;\r\n    for(;i<j;i++){\r\n        for(j = i+1;j<n;j++){\r\n            logic = fun.call(this,data[i],data[j]);\r\n            key = (typeof logic === 'number' ? logic : !!logic ? 1 : 0) > 0 ? true : false;\r\n            if (key) {\r\n                temp = data[i];\r\n                data[i] = data[j];\r\n                data[j] = temp;\r\n            }\r\n        }\r\n    }\r\n    return data;\r\n};\r\n\r\nmodule.exports = ManagedObject;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/.npminstall/base-extend-backbone/0.1.4/base-extend-backbone/src/entity/ManagedObject.js\n ** module id = 40\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","var url = require('./util/url');\r\nvar sheet = require('./util/sheet');\r\nvar isNativeFunction = require('./util/isNativeFunction');\r\nvar cookie = require('./store/cookie');\r\nvar AjaxForm = require('./upload/AjaxForm');\r\nvar UploadFile = require('./upload/UploadFile');\r\n\r\nmodule.exports = {\r\n  'url':url,\r\n  'sheet':sheet,\r\n  'isNativeFunction':isNativeFunction,\r\n  'cookie':cookie,\r\n  'AjaxForm':AjaxForm,\r\n  'UploadFile':UploadFile\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/.npminstall/auxiliary-additions/0.0.3/auxiliary-additions/src/index.js\n ** module id = 41\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/**\r\n * @time 20121026\r\n * @author icepy\r\n * @info URL\r\n *\r\n */\r\n\r\n'use strict';\r\nvar urlString = [];\r\nvar location = window.location;\r\n\r\nmodule.exports = {\r\n\t/**\r\n\t * [parse URL]\r\n\t * @param  {[String]} url [url]\r\n\t * @return {[Object]}     [object]\r\n\t */\r\n\tparse: function(url) {\r\n\t\tvar temp = document.createElement('a');\r\n\t\ttemp.href = url;\r\n\t\tvar result = {\r\n\t\t\t\"port\": temp.port,\r\n\t\t\t\"protocol\": temp.protocol.replace(':', ''),\r\n\t\t\t\"hash\": temp.hash.replace('#', ''),\r\n\t\t\t\"host\": temp.host,\r\n\t\t\t\"href\": temp.href,\r\n\t\t\t\"hostname\": temp.hostname,\r\n\t\t\t\"pathname\": temp.pathname,\r\n\t\t\t\"search\": temp.search,\r\n\t\t\t\"query\": {}\r\n\t\t};\r\n\t\tvar seg = result.search.replace(/^\\?/, '').split('&'),\r\n\t\t\tleng = seg.length,\r\n\t\t\ti = 0,\r\n\t\t\ttarget;\r\n\t\tfor (; i < leng; i++) {\r\n\t\t\tif (!seg[i]) continue;\r\n\t\t\ttarget = seg[i].split('=');\r\n\t\t\tresult.query[target[0]] = target[1];\r\n\t\t}\r\n\t\ttemp = null;\r\n\t\treturn result;\r\n\t},\r\n\t/**\r\n\t * [format url]\r\n\t * @param  {[String]} url [URL]\r\n\t * @param  {[Object]} obj [queryhash]\r\n\t * @return {[String]}     [URL]\r\n\t */\r\n\tformat: function(url, obj) {\r\n\t\tvar i = 0,\r\n\t\t\tquery = obj.query,\r\n\t\t\thash = obj.hash;\r\n\t\turlString.length = 0;\r\n\t\turlString.push(url.lastIndexOf('?') > -1 ? url : url + '?');\r\n\t\tif (query) {\r\n\t\t\tfor (var key in query) {\r\n\t\t\t\tvar val = query[key]\r\n\t\t\t\tif (!i) {\r\n\t\t\t\t\ti++;\r\n\t\t\t\t\turlString.push(key + '=' + val)\r\n\t\t\t\t} else {\r\n\t\t\t\t\turlString.push('&' + key + '=' + val);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tif (hash) {\r\n\t\t\turlString.push(hash.indexOf('#') > -1 ? hash : '#' + hash);\r\n\t\t};\r\n\t\treturn urlString.join('');\r\n\t},\r\n\t/**\r\n\t * [resolve  to ]\r\n\t * @param  {[String]} from []\r\n\t * @param  {[String]} to   []\r\n\t * @return {[String]}      []\r\n\t */\r\n\tresolve: function(from, to) {\r\n\t\t/**\r\n\t\t *   ./ ../\r\n\t\t */\r\n\t\tif (/^(.\\/)/.test(to)) {\r\n\t\t\tto = to.replace(/^(.\\/)/, '/');\r\n\t\t};\r\n\r\n\t\tif (/^(..\\/)/.test(to)) {\r\n\t\t\tfrom = from.substr(0, from.lastIndexOf('/'));\r\n\t\t\tto = to.replace(/^(..\\/)/, '/');\r\n\t\t};\r\n\t\treturn from + to;\r\n\t},\r\n\t/**\r\n\t * [extname ]\r\n\t * @param  {[String]} p [description]\r\n\t * @return {[String]}   [description]\r\n\t */\r\n\textname: function(p) {\r\n\t\tvar _p = p.split('.');\r\n\t\treturn _p[_p.length - 1] || '';\r\n\t},\r\n\t/**\r\n\t * [parseSearch searchobj]\r\n\t * @param  {[type]} query [description]\r\n\t * @return {[type]}       [description]\r\n\t */\r\n\tparseSearch:function(query){\r\n\t\tvar _query = {};\r\n\t\tvar seg = query.replace(/^\\?/, '').split('&'),\r\n\t\t\tleng = seg.length,\r\n\t\t\ti = 0,\r\n\t\t\tvalue,\r\n\t\t\ttarget;\r\n\t\tfor (; i < leng; i++) {\r\n\t\t\tif (!seg[i]) continue;\r\n\t\t\ttarget = seg[i].split('=');\r\n\t\t\tvalue = target[1];\r\n\t\t\tif ((/^\\[/.test(value) && /\\]$/.test(value)) || (/^{/.test(value) || /\\}$/.test(value))) {\r\n\t\t\t\tvalue = JSON.parse(value);\r\n\t\t\t};\r\n\t\t\t_query[target[0]] = value;\r\n\t\t}\r\n\t\treturn _query;\r\n\t}\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/.npminstall/auxiliary-additions/0.0.3/auxiliary-additions/src/util/url.js\n ** module id = 42\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/**\r\n * @time 2012926\r\n * @author icepy\r\n * @info style.sheetcss\r\n */\r\n\r\n'use strict';\r\n\r\nmodule.exports = sheet();\r\n\r\nfunction sheet() {\r\n  // style.sheet.insertRule()\r\n  var style = document.createElement('style');\r\n  style.appendChild(document.createTextNode(''));\r\n  document.head.appendChild(style);\r\n  return style.sheet;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/.npminstall/auxiliary-additions/0.0.3/auxiliary-additions/src/util/sheet.js\n ** module id = 43\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/**\r\n * @time 2012927\r\n * @author icepy\r\n * @info \r\n */\r\n\r\n'use strict';\r\n\r\nmodule.exports = isNativeFunction;\r\n\r\nvar toString = Object.prototype.toString;\r\nvar funToString = Function.prototype.toString;\r\nvar reConstructor= /^\\[object .+?Constructor\\]$/;\r\nvar reNative = RegExp('^' +\r\n  String(toString)\r\n  .replace(/[.*+?^${}()|[\\]\\/\\\\]/g, '\\\\$&')\r\n  .replace(/toString|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\r\n);\r\n/**\r\n * []\r\n * @param  {[type]} value [description]\r\n * @return {[type]}       [description]\r\n */\r\nfunction isNativeFunction(value) {\r\n  var type = typeof value;\r\n  return type === 'function' ? reNative.test(funToString.call(value)) : (value && type === 'object' && reConstructor.test(toString.call(value))) || false;\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/.npminstall/auxiliary-additions/0.0.3/auxiliary-additions/src/util/isNativeFunction.js\n ** module id = 44\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/*\r\n    `https://github.com/js-cookie/js-cookie` 2.1.0\r\n */\r\n\r\n'use strict';\r\n\r\nmodule.exports = init(function () {});\r\n\r\nfunction extend () {\r\n  var i = 0;\r\n  var result = {};\r\n  for (; i < arguments.length; i++) {\r\n    var attributes = arguments[ i ];\r\n    for (var key in attributes) {\r\n      result[key] = attributes[key];\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nfunction init (converter) {\r\n  function api (key, value, attributes) {\r\n    var result;\r\n\r\n    // Write\r\n\r\n    if (arguments.length > 1) {\r\n      attributes = extend({\r\n        path: '/'\r\n      }, api.defaults, attributes);\r\n\r\n      if (typeof attributes.expires === 'number') {\r\n        var expires = new Date();\r\n        expires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\r\n        attributes.expires = expires;\r\n      }\r\n\r\n      try {\r\n        result = JSON.stringify(value);\r\n        if (/^[\\{\\[]/.test(result)) {\r\n          value = result;\r\n        }\r\n      } catch (e) {}\r\n\r\n      if (!converter.write) {\r\n        value = encodeURIComponent(String(value))\r\n          .replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\r\n      } else {\r\n        value = converter.write(value, key);\r\n      }\r\n\r\n      key = encodeURIComponent(String(key));\r\n      key = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\r\n      key = key.replace(/[\\(\\)]/g, escape);\r\n\r\n      return (document.cookie = [\r\n        key, '=', value,\r\n        attributes.expires && '; expires=' + attributes.expires.toUTCString(), // use expires attribute, max-age is not supported by IE\r\n        attributes.path    && '; path=' + attributes.path,\r\n        attributes.domain  && '; domain=' + attributes.domain,\r\n        attributes.secure ? '; secure' : ''\r\n      ].join(''));\r\n    }\r\n\r\n    // Read\r\n\r\n    if (!key) {\r\n      result = {};\r\n    }\r\n\r\n    // To prevent the for loop in the first place assign an empty array\r\n    // in case there are no cookies at all. Also prevents odd result when\r\n    // calling \"get()\"\r\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\r\n    var rdecode = /(%[0-9A-Z]{2})+/g;\r\n    var i = 0;\r\n\r\n    for (; i < cookies.length; i++) {\r\n      var parts = cookies[i].split('=');\r\n      var name = parts[0].replace(rdecode, decodeURIComponent);\r\n      var cookie = parts.slice(1).join('=');\r\n\r\n      if (cookie.charAt(0) === '\"') {\r\n        cookie = cookie.slice(1, -1);\r\n      }\r\n\r\n      try {\r\n        cookie = converter.read ?\r\n          converter.read(cookie, name) : converter(cookie, name) ||\r\n          cookie.replace(rdecode, decodeURIComponent);\r\n\r\n        if (this.json) {\r\n          try {\r\n            cookie = JSON.parse(cookie);\r\n          } catch (e) {}\r\n        }\r\n\r\n        if (key === name) {\r\n          result = cookie;\r\n          break;\r\n        }\r\n\r\n        if (!key) {\r\n          result[name] = cookie;\r\n        }\r\n      } catch (e) {}\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  api.get = api.set = api;\r\n  api.getJSON = function () {\r\n    return api.apply({\r\n      json: true\r\n    }, [].slice.call(arguments));\r\n  };\r\n  api.defaults = {};\r\n\r\n  api.remove = function (key, attributes) {\r\n    api(key, '', extend(attributes, {\r\n      expires: -1\r\n    }));\r\n  };\r\n\r\n  api.withConverter = init;\r\n\r\n  return api;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/.npminstall/auxiliary-additions/0.0.3/auxiliary-additions/src/store/cookie.js\n ** module id = 45\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/**\r\n * @time 201633\r\n * @author  icepy\r\n * @info  AjaxForm\r\n */\r\n\r\n'use strict';\r\n\r\nvar url = require('../util/url');\r\nvar uniqueId = require('../util/uniqueId');\r\n\r\nvar AjaxForm = function(options){\r\n\toptions = options || {};\r\n\tthis.$el = typeof options.el === 'string' ? $(options.el) : options.el;\r\n\tthis.uid = uniqueId('AjaxForm-');\r\n\tthis.loadState = false;\r\n\tthis._init();\r\n};\r\n\r\nAjaxForm.prototype._init = function(){\r\n\tvar defer = $.Deferred();\r\n\t$.extend(this,defer.promise());\r\n\tthis._createIframe();\r\n\tthis._addEvent(defer);\r\n};\r\n\r\nAjaxForm.prototype._createIframe = function(){\r\n\tvar iframeHTML = '<iframe id=\"'+this.uid+'\" name=\"'+this.uid+'\"  style=\"display: none;\" src=\"about:blank\"></iframe>';\r\n\tthis.$el.attr('target',this.uid);\r\n\tthis.$el.append(iframeHTML);\r\n\tthis._iframe = $('#'+this.uid);\r\n};\r\n\r\nAjaxForm.prototype._addEvent = function(promise){\r\n\tvar self = this;\r\n\tthis._iframe.on('load',function(){\r\n\t\tif (self.loadState) {\r\n\t\t\tvar cw = this.contentWindow;\r\n\t\t\tvar loc = cw.location;\r\n\t\t\tif (loc.href === 'about:blank') {\r\n\t\t\t\tpromise.reject(cw);\r\n\t\t\t}else{\r\n\t\t\t\ttry {//onComplete\r\n\t\t\t\t\tvar body = this._iframe[0].contentWindow.document.body;\r\n\t\t\t\t\tinnerText = body.innerText;\r\n\t\t\t\t\tif (!innerText) {\r\n\t\t\t\t\t\tinnerText = body.innerHTML;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tif (innerText) {\r\n\t\t\t\t\t\tpromise.resolve($.parseJSON(innerText));\r\n\t\t\t\t\t};\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tpromise.resolve(cw);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tself.loadState = false;\r\n\t\t};\r\n\t});\r\n};\r\n\r\nAjaxForm.prototype.encrypto = function(secret){\r\n\tvar self = this;\r\n\t$.each(secret, function(key, value) {\r\n\t\tvar $item = self.$el.find('[name=' + key + ']');\r\n\t\tif ($item.length === 0) {\r\n\t\t\t$('<input />').attr({\r\n\t\t\t\ttype : 'hidden',\r\n\t\t\t\tname : key,\r\n\t\t\t\tvalue : value\r\n\t\t\t}).appendTo(self.$el);\r\n\t\t} else {\r\n\t\t\t$item.val(value);\r\n\t\t}\r\n\t});\r\n};\r\n\r\nvar shared = null;\r\nAjaxForm.sharedInstanceAjaxForm = function(element,options){\r\n\tif (!shared) {\r\n\t\toptions = options || {};\r\n\t\toptions.el = element;\r\n\t\tshared = new AjaxForm(options);\r\n\t}\r\n\treturn shared;\r\n};\r\nAjaxForm.classInstanceAjaxForm = function(element,options){\r\n\toptions = options || {};\r\n\toptions.el = element;\r\n\treturn new AjaxForm(options);\r\n};\r\n\r\nmodule.exports = AjaxForm;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/.npminstall/auxiliary-additions/0.0.3/auxiliary-additions/src/upload/AjaxForm.js\n ** module id = 46\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","\r\nmodule.exports = uniqueId;\r\n\r\nvar idCounter = 0;\r\nfunction uniqueId(prefix) {\r\n  var id = ++idCounter + '';\r\n  return prefix ? prefix + id : id;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/.npminstall/auxiliary-additions/0.0.3/auxiliary-additions/src/util/uniqueId.js\n ** module id = 47\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/**\r\n * @time 201633\r\n * @author  icepy\r\n * @info  iframe\r\n */\r\n\r\n'use strict';\r\n\r\nvar url = require('../util/url');\r\nvar AjaxForm = require('./AjaxForm');\r\nvar uniqueId = require('../util/uniqueId');\r\n\r\nvar UploadFile = function(options){\r\n\tvar self = this;\r\n\tthis.$el = typeof options.el === 'string' ? $(options.el) : options.el;\r\n\tthis.uid = uniqueId('UploadFile-');\r\n\tthis.options = options;\r\n\tthis._data = options.data || {};\r\n\tthis._filename = options.filename || 'image';\r\n\tthis._url = options.url;\r\n\tif (!this._url) {\r\n\t\tconsole.warn('URL');\r\n\t\treturn;\r\n\t};\r\n\tthis._init();\r\n};\r\n\r\nUploadFile.prototype._init = function(){\r\n\tthis._createElement();\r\n};\r\n\r\nUploadFile.prototype._createElement = function(){\r\n\tvar inputs = '';\r\n\tfor(var name in this._data){\r\n\t\tvar value = this._data[name];\r\n\t\tvar type = Object.prototype.toString.call(value);\r\n\t\tif (type === '[object Object]' || type === '[object Array]') {\r\n\t\t\tvalue = JSON.stringify(value);\r\n\t\t};\r\n\t\tinputs += '<input type=\"hidden\" name=\"'+name+'\" value=\\''+value+'\\'/>';\r\n\t};\r\n\tinputs += '<input type=\"file\" class=\"opacity0 upload-file '+this.options.className+'\" name=\"'+this._filename+'\"  />';\r\n\tthis.$el.attr('method','POST');\r\n\tthis.$el.attr('action',this._url);\r\n\tthis.$el.attr('enctype','multipart/form-data');\r\n\tthis.$el.append(inputs);\r\n};\r\n\r\n//\r\nUploadFile.prototype.parseErrorMsg = function(res){\r\n\tif(res && res.state == 'SUCCESS'){\r\n\t\treturn true;\r\n\t}\r\n\tvar code = res.errCode *1 || 0;\r\n\tswitch(code){\r\n\t\tcase 29:\r\n\t\t\treturn ',';\r\n\t\tcase 31:\r\n\t\t\treturn 'JPGE,JPG,PNG,GIF';\r\n\t}\r\n\treturn ',';\r\n};\r\n\r\n/**\r\n * [submit ]\r\n * @return {[type]} [description]\r\n */\r\nUploadFile.prototype.submit = function(){\r\n\tthis.ajaxForm.loadState = true;\r\n\tif (typeof this._before === 'function' ) {\r\n\t\tthis._before();\r\n\t};\r\n\tvar defer = $.Deferred();\r\n\tthis.ajaxForm = AjaxForm.classInstanceAjaxForm(this.$el,{\r\n\t\ttype:'img'\r\n\t});\r\n\tthis.ajaxForm.done(function(cw){\r\n\t\tvar loc = cw.location;\r\n\t\tvar search = decodeURIComponent(loc.search);\r\n\t\tvar query = url.parseSearch(search);\r\n\t\tdefer.resolve(query);\r\n\t});\r\n\tthis.ajaxForm.fail(function(){\r\n\t\tdefer.reject(this);\r\n\t});\r\n\tthis.$el.submit();\r\n\treturn defer.promise();\r\n};\r\n\r\nvar shared = null;\r\nUploadFile.sharedInstanceUploadFile = function(options){\r\n\tif (!shared) {\r\n\t\tshared = new UploadFile(options);\r\n\t}\r\n\treturn shared;\r\n};\r\nUploadFile.classInstanceUploadFile = function(options){\r\n\treturn new UploadFile(options);\r\n};\r\n\r\nmodule.exports = UploadFile;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/.npminstall/auxiliary-additions/0.0.3/auxiliary-additions/src/upload/UploadFile.js\n ** module id = 48\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/**\r\n * \r\n */\r\n\r\n'use strict';\r\nvar base = require('base-extend-backbone');\r\nvar IMModel = require('IMModel');\r\nvar imModel = IMModel.sharedInstanceIMModel();\r\nvar store = base.storage;\r\nvar webim = window.webim;\r\nvar _ = require('underscore');\r\nvar $ = require('jquery');\r\n\r\nvar imServer = {\r\n  setting: {\r\n    listeners: {\r\n      onMsgNotify: null,\r\n      onGroupInfoChangeNotify: null,\r\n      groupSystemNotifys: null\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * \r\n * @param options\r\n */\r\nimServer.init = function (listeners) {\r\n  var self = this;\r\n  var defer = $.Deferred();\r\n  var promise = imModel.fetchIMUserSig();\r\n  promise.then(function (imSig) {\r\n    var loginInfo = {\r\n      sdkAppID: imSig.imAppid, // id\r\n      appIDAt3rd: imSig.imAppid, // id\r\n      accountType: imSig.imAccountType, // \r\n      identifier: imSig.imIdentifier, // ID\r\n      userSig: imSig.userSig // \r\n    };\r\n    self.im = imSig;\r\n    if (imSig && listeners) {\r\n      // IM\r\n      // webim.init(loginInfo, listeners, null);\r\n      webim.login(loginInfo, listeners, null, function () {\r\n        defer.resolve();\r\n      }, function (err) {\r\n        console.log(err);\r\n        defer.reject();\r\n      });\r\n    } else {\r\n      defer.reject();\r\n    }\r\n  }, function (err) {\r\n    console.log(err);\r\n    defer.reject();\r\n  });\r\n  return defer.promise();\r\n};\r\n\r\n/**\r\n * \r\n *\r\n */\r\nimServer.sendMessage = function (attrs, okFn, errFn) {\r\n  var currentSession = webim.MsgStore.sessByTypeId('GROUP', attrs.groupId);\r\n  var random = Math.floor(Math.random() * 10000);\r\n  var sendMsg;\r\n  var msg;\r\n  if (!currentSession) {\r\n    // var currentSession = new webim.Session('GROUP', attrs.groupId, attrs.groupId, '', random);\r\n    currentSession = new webim.Session('GROUP', attrs.groupId, attrs.groupId, '', random);\r\n  }\r\n\r\n  if (currentSession) {\r\n    sendMsg = new webim.Msg(currentSession, true);\r\n    msg = new webim.Msg.Elem('TIMCustomElem', {\r\n      data: JSON.stringify(attrs.msg)\r\n    });\r\n    sendMsg.elems.push(msg);\r\n    sendMsg.fromAccount = this.im.imIdentifier;\r\n    webim.sendMsg(sendMsg, function (resp) {\r\n      if (okFn) {\r\n        okFn(resp);\r\n      }\r\n    }, function (err) {\r\n      if (errFn) {\r\n        errFn(err);\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\n/**\r\n * 1.4 \r\n *  attrs.subType\r\n *  attrs.msg.fromAccount\r\n */\r\nimServer.sendMsg = function (attrs) {\r\n  console.log(attrs);\r\n  var defer = $.Deferred();\r\n  var currentSession = webim.MsgStore.sessByTypeId('GROUP', attrs.groupId);\r\n  var random = Math.round(Math.random() * 4294967296); // \r\n\r\n  if (!currentSession) {\r\n    currentSession = new webim.Session(\r\n      webim.SESSION_TYPE.GROUP, attrs.groupId, attrs.groupId, '', random);\r\n  }\r\n  var seq = -1; // -1sdk\r\n  var msgTime = Math.round(new Date().getTime() / 1000); // \r\n  var subType = attrs.subType || webim.GROUP_MSG_SUB_TYPE.REDPACKET;\r\n  var msg = new webim.Msg(\r\n    currentSession,\r\n    true, seq, random, msgTime, attrs.msg.fromAccount, subType, '');\r\n  var textObj = new webim.Msg.Elem('TIMCustomElem', {\r\n    data: JSON.stringify(attrs.msg)\r\n  });\r\n  msg.fromAccount = this.im.imIdentifier;\r\n  msg.elems.push(textObj);\r\n  webim.sendMsg(msg, function (resp) {\r\n    defer.resolve(resp);\r\n  }, function (err) {\r\n    defer.reject(err);\r\n  });\r\n\r\n  return defer.promise();\r\n};\r\n\r\n\r\n/**\r\n * \r\n */\r\nimServer.clearScreen = function (args) {\r\n  this.sendMessage(args);\r\n};\r\n\r\n/**\r\n * \r\n */\r\nimServer.lockScreen = function () {\r\n  console.log('IM lock');\r\n};\r\n\r\n/**\r\n * \r\n // options = {\r\n    //     'GroupId': '',\r\n    //     'Members_Account': [],\r\n    //     'ShutUpTime': time\r\n    // };\r\n */\r\nimServer.disableSendMsg = function (options, okFn, errFn) {\r\n  var time = webim.Tool.formatTimeStamp(Math.round(new Date().getTime() / 1000) + 10 * 60);\r\n  var ops;\r\n\r\n  time = new Date(time + '').getTime();\r\n  ops = _.extend({\r\n    ShutUpTime: time\r\n  }, options);\r\n\r\n  webim.forbidSendMsg(\r\n    ops,\r\n    function (resp) {\r\n      if (okFn) {\r\n        okFn(resp);\r\n      }\r\n    },\r\n    function (err) {\r\n      if (errFn) {\r\n        errFn(err);\r\n      }\r\n    }\r\n  );\r\n};\r\n\r\n/**\r\n * \r\n * options : {GroupId: '', MemberToDel_Account: []}\r\n */\r\nimServer.removeUserFromGroup = function (options, okFn, errFn) {\r\n  if (!options || !options.GroupId || options.MemberToDel_Account.length <= 0) {\r\n    if (errFn) {\r\n      errFn({\r\n        msg: ''\r\n      });\r\n    }\r\n  }\r\n  webim.deleteGroupMember(\r\n    options,\r\n    function (resp) {\r\n      if (okFn) {\r\n        okFn(resp);\r\n      }\r\n    },\r\n    function (err) {\r\n      if (errFn) {\r\n        errFn(err);\r\n      }\r\n    }\r\n  );\r\n};\r\n\r\n/**\r\n * \r\n */\r\nimServer.msgNotify = function () {\r\n\r\n};\r\n\r\n/**\r\n * \r\n */\r\nimServer.getRoomMsgs = function (callback) {\r\n  var data = [];\r\n  var i = 1;\r\n  while (true) {\r\n    if (i++ > 20) {\r\n      break;\r\n    }\r\n    data.push({\r\n      name: 'Aaron-' + i,\r\n      msg: 'asdfasdfasfjaslfjasklfasdklf' + i\r\n    });\r\n  }\r\n  if (callback) {\r\n    callback.call(this, data);\r\n  }\r\n};\r\n\r\n/**\r\n * \r\n */\r\nimServer.createIMChatRoom = function (okFn, errFn) {\r\n  var imSig = store.get('imSig');\r\n  var options = {\r\n    Owner_Account: imSig.imIdentifier,\r\n    Type: 'ChatRoom', // Private/Public/ChatRoom\r\n    Name: '',\r\n    Notification: '',\r\n    Introduction: '',\r\n    MemberList: []\r\n  };\r\n\r\n  webim.createGroup(\r\n    options,\r\n    function (resp) {\r\n      if (okFn) {\r\n        okFn(resp);\r\n      }\r\n    },\r\n    function (err) {\r\n      if (errFn) {\r\n        errFn(err);\r\n      }\r\n    }\r\n  );\r\n};\r\n\r\nimServer.applyJoinGroup = function (groupId, okFn, errFn) {\r\n  var options = {\r\n    GroupId: groupId,\r\n    ApplyMsg: '',\r\n    UserDefinedField: ''\r\n  };\r\n  webim.applyJoinGroup(\r\n    options,\r\n    function (resp) {\r\n      if (okFn) {\r\n        okFn(resp);\r\n      }\r\n    },\r\n    function (err) {\r\n      if (errFn) {\r\n        errFn(err);\r\n      }\r\n    }\r\n  );\r\n};\r\n\r\n/**\r\n * \r\n * @param groupId\r\n * @param okFn\r\n * @param errFn\r\n */\r\nimServer.getGroupInfo = function (groupId, okFn, errFn) {\r\n  var options = {\r\n    GroupIdList: [\r\n      groupId\r\n    ],\r\n    GroupBaseInfoFilter: [\r\n      'Type',\r\n      'Name',\r\n      'Introduction',\r\n      'Notification',\r\n      'FaceUrl',\r\n      'CreateTime',\r\n      'Owner_Account',\r\n      'LastInfoTime',\r\n      'LastMsgTime',\r\n      'NextMsgSeq',\r\n      'MemberNum',\r\n      'MaxMemberNum',\r\n      'ApplyJoinOption'\r\n    ],\r\n    MemberInfoFilter: [\r\n      'Account',\r\n      'Role',\r\n      'JoinTime',\r\n      'LastSendMsgTime',\r\n      'ShutUpUntil'\r\n    ]\r\n  };\r\n  webim.getGroupInfo(\r\n    options,\r\n    function (resp) {\r\n      if (okFn) {\r\n        okFn(resp);\r\n      }\r\n    },\r\n    function (err) {\r\n      if (errFn) {\r\n        errFn(err);\r\n      }\r\n    }\r\n  );\r\n};\r\n\r\n/**\r\n * \r\n * @param options\r\n *      { GroupId: 1, Name: 'xx', Notification: '', Introduction: ''}\r\n * @param okFn\r\n * @param errFn\r\n */\r\nimServer.modifyGroupInfo = function (options, okFn, errFn) {\r\n  webim.modifyGroupBaseInfo(\r\n    options,\r\n    function (resp) {\r\n      if (okFn) {\r\n        okFn(resp);\r\n      }\r\n    },\r\n    function (err) {\r\n      if (errFn) {\r\n        errFn(err);\r\n      }\r\n    }\r\n  );\r\n};\r\n\r\n/**\r\n * \r\n */\r\nimServer.modifyGroupMember = function (ops) {\r\n  var defer = $.Deferred();\r\n  console.log(ops);\r\n  var options = _.extend({\r\n    GroupId: '',\r\n    Member_Account: '',\r\n    Role: ''\r\n  }, ops);\r\n  webim.modifyGroupMember(\r\n    options,\r\n    function (resp) {\r\n      defer.resolve(resp);\r\n    },\r\n    function (err) {\r\n      defer.reject(err);\r\n    }\r\n  );\r\n  return defer.promise();\r\n};\r\n\r\nmodule.exports = imServer;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/webIM/IMServer.js\n ** module id = 49\n ** module chunks = 1 3 5 7\n **/","/**\r\n * @time {}\r\n * @author {}\r\n * @info {}\r\n */\r\n\r\n'use strict';\r\n\r\nvar $ = require('jquery');\r\nvar base = require('base-extend-backbone');\r\nvar Config = require('config');\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\nvar storage = base.storage;\r\nvar UserModel = require('UserModel');\r\nvar user = UserModel.sharedInstanceUserModel();\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/user/sig_get.json',\r\n  beforeEmit: function () {\r\n    // \r\n    // this.storageCache = true; //\r\n    // this.expiration = 1; //160*60*1000 \r\n    // \r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n    this.notTokenURL = this.url;\r\n    this.imData = null;\r\n  },\r\n  /**\r\n   * [isAnchor ]\r\n   * @return {Boolean} [description]\r\n   */\r\n  isAnchor: function () {\r\n    return !!this.get('data').anchor;\r\n  },\r\n  setTokenUrl: function (token) {\r\n    this.imData = {\r\n      deviceinfo: '{\"aid\":\"30001001\"}',\r\n      access_token: 'web-' + token\r\n    };\r\n  },\r\n  setNoTokenUrl: function () {\r\n    this.imData = {\r\n      deviceinfo: '{\"aid\":\"30001001\"}'\r\n    };\r\n  },\r\n  /**\r\n   * [fetchIMUserSig IM]\r\n   * @param  {Function} callback [description]\r\n   * @param  {[type]}   error    [description]\r\n   * @return {[type]}            [description]\r\n   */\r\n  fetchIMUserSig: function () {\r\n    //  \r\n    var defer = $.Deferred();\r\n    var token;\r\n    var imSig;\r\n    imSig = storage.get('imSig');\r\n    if (imSig) {\r\n      this.set({\r\n        data: imSig\r\n      });\r\n      defer.resolve(imSig);\r\n      return defer.promise();\r\n    }\r\n    token = user.getToken();\r\n    if (token) {\r\n      this.setTokenUrl(token);\r\n    }\r\n    var sigModelPromise = this.executeJSONP(this.imData);\r\n    sigModelPromise.done(function (response) {\r\n      var data = response.data;\r\n      storage.set('imSig', data);\r\n      defer.resolve(data);\r\n    });\r\n    sigModelPromise.fail(function (e) {\r\n      defer.reject(e);\r\n    });\r\n    return defer.promise();\r\n  },\r\n  //  \r\n  updateIMUserSig: function () {\r\n    var defer = $.Deferred();\r\n    var token;\r\n    storage.remove('imSig');\r\n    token = user.getToken();\r\n    if (token) {\r\n      this.setTokenUrl(token);\r\n    }\r\n    var sigModelPromise = this.executeJSONP();\r\n    sigModelPromise.done(function (response) {\r\n      var data = response.data;\r\n      storage.set('imSig', data);\r\n      defer.resolve(data);\r\n    });\r\n    sigModelPromise.fail(function (e) {\r\n      defer.reject(e);\r\n    });\r\n    return defer.promise();\r\n  },\r\n  remove: function () {\r\n    storage.remove('imSig');\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceIMModel = function () {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\nmodule.exports = Model;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/IMModel/index.js\n ** module id = 50\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","var config = {\"scheme\":\"alpha\",\"env\":{\"alpha\":{\"url_prefix\":\"http://beta.yinyuetai.com:9019\"},\"beta\":{\"url_prefix\":\"http://beta.yinyuetai.com:9019\"},\"release\":{\"url_prefix\":\"http://lapi.yinyuetai.com\"}},\"prefix\":\"\",\"domains\":{\"urlStatic\":\"http://s.yytcdn.com\",\"loginSite\":\"http://login.yinyuetai.com\",\"mainSite\":\"http://www.yinyuetai.com\",\"mvSite\":\"http://mv.yinyuetai.com\",\"homeSite\":\"http://i.yinyuetai.com\",\"vchartSite\":\"http://vchart.yinyuetai.com\",\"commentSite\":\"http://comment.yinyuetai.com\",\"playlistSite\":\"http://pl.yinyuetai.com\",\"searcresiehSite\":\"http://so.yinyuetai.com\",\"vSite\":\"http://v.yinyuetai.com\",\"fanSite\":\"\",\"paySite\":\"\",\"tradeSite\":\"\",\"shopSite\":\"\",\"vipSite\":\"\"}}; module.exports = config;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/config.js\n ** module id = 51\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/**\r\n * Created by YYT on 2016/4/20.\r\n */\r\nvar base = require('base-extend-backbone');\r\nvar Auxiliary = require('auxiliary-additions');\r\nvar _ = require('underscore');\r\nvar BaseModel = base.Model;\r\nvar Dialog = require('ui.Dialog');\r\nvar loginBox = require('loginBox');\r\nvar cookie = Auxiliary.cookie;\r\nvar Config = require('config');\r\nvar domains = Config.domains;\r\nvar checkEmailTemplate = require('./template/email.html');\r\nvar checkEmailHTML = checkEmailTemplate.replace('{homeSite}', domains.homeSite);\r\nvar loginbox = loginBox().dialog;\r\n\r\nvar CheckVIPModel = BaseModel.extend({\r\n  url: 'http://vip.yinyuetai.com/vip/check-vip',\r\n  setEnv: true,\r\n  beforeEmit: function () {\r\n    // \r\n    // this.storageCache = true; //\r\n    // this.expiration = 1; //160*60*1000 \r\n  }\r\n});\r\n\r\nvar FetchUserInfoForDB = BaseModel.extend({\r\n  url: domains.loginSite + '/login-info',\r\n  setEnv: true,\r\n  beforeEmit: function () {\r\n    //  \r\n    //  this.storageCache = true; //\r\n    //  this.expiration = 1; //160*60*1000 \r\n  }\r\n});\r\n\r\nvar UserModel = BaseModel.extend({\r\n  setEnv: true,\r\n  beforeEmit: function () {\r\n    //  \r\n    //  this.storageCache = true; //\r\n    //  this.expiration = 1; //160*60*1000 \r\n    this.checkVIPModel = new CheckVIPModel();\r\n    this.fetchUserInfoForDBModel = new FetchUserInfoForDB();\r\n  },\r\n  /**\r\n   * [isLogined ]\r\n   * @return {Boolean} [description]\r\n   */\r\n  isLogined: function () {\r\n    return !!this.getToken();\r\n  },\r\n  /**\r\n   * [login ]\r\n   * @param  {Function} callback [description]\r\n   * @param  {[type]}   onCancel [description]\r\n   * @return {[type]}            [description]\r\n   */\r\n  login: function () {\r\n    var defer = $.Deferred();\r\n    if (this.isLogined()) {\r\n      //  \r\n      defer.resolve();\r\n    } else {\r\n      loginbox.trigger('show');\r\n      loginbox.once('hide', function () {\r\n        defer.resolve();\r\n      });\r\n    }\r\n    return defer.promise();\r\n  },\r\n  /**\r\n   * [getUserInfo ]\r\n   * @param  {[type]}   key      [description]\r\n   * @param  {Function} callback [description]\r\n   * @return {[type]}            [description]\r\n   */\r\n  getUserInfo: function (key, callback) {\r\n    var value;\r\n    var email;\r\n    var self = this;\r\n    var _key = key;\r\n    var _callback = callback;\r\n    var getParam = function () {\r\n      if (_.isFunction(_key)) {\r\n        return self.get();\r\n      }\r\n      return self.get(_key);\r\n    };\r\n    if (this.isLogined()) {\r\n      email = this.get('isEmailVerified');\r\n      if (!_callback) {\r\n        _callback = _key;\r\n      }\r\n      if (email) {\r\n        if (_.isFunction(_callback)) {\r\n          value = getParam();\r\n          _callback.call(this, value);\r\n        }\r\n      } else {\r\n        this.fetchUserInfo(function () {\r\n          if (_.isFunction(_callback)) {\r\n            value = getParam();\r\n            _callback.call(self, value);\r\n          }\r\n        });\r\n      }\r\n    }\r\n  },\r\n  /**\r\n   * [checkUserEmail ]\r\n   * @param  {Function} callback [description]\r\n   * @return {[type]}            [description]\r\n   */\r\n  checkUserEmail: function (callback) {\r\n    var self = this;\r\n    this.getUserInfo('isEmailVerified', function (isEmailVerified) {\r\n      if (isEmailVerified) {\r\n        if (typeof callback === 'function') {\r\n          callback.call(self);\r\n        }\r\n      } else {\r\n        Dialog.classInstanceDialog(checkEmailHTML, {\r\n          title: '',\r\n          width: 400,\r\n          height: 100,\r\n          isAutoShow: true\r\n        });\r\n      }\r\n    });\r\n  },\r\n  /**\r\n   * [checkVIPUser VIP]\r\n   * @return {[type]} [description]\r\n   */\r\n  checkUserVIP: function (success, error) {\r\n    var vip;\r\n    var self = this;\r\n    if (this.isLogined()) {\r\n      this.login(function () {\r\n        self.fetchVIPInfo(success, error);\r\n      });\r\n    } else {\r\n      vip = this.get('vipInfo');\r\n      if (vip) {\r\n        if (vip && !vip.error && vip.realVip && ~~vip.realVip > 0) {\r\n          success(vip);\r\n        }\r\n      } else {\r\n        this.fetchVIPInfo(success, error);\r\n      }\r\n    }\r\n  },\r\n  /**\r\n   * [emit ]\r\n   * @return {[type]} [description]\r\n   */\r\n  emit: function () {\r\n    var token = this.getToken();\r\n    var uinf = cookie.get('u_inf');\r\n    if (token) {\r\n      if (uinf && uinf.length > 0) {\r\n        this.readUserInfoForCookie(uinf);\r\n      } else {\r\n        this.fetchUserInfo();\r\n      }\r\n    }\r\n  },\r\n  /**\r\n   * [isVIPUser vip]\r\n   * @return {Boolean} [description]\r\n   */\r\n  isVIPUser: function () {\r\n    var list;\r\n    var token;\r\n    var val;\r\n    token = cookie.get('token');\r\n    if (token) {\r\n      list = token.split('.');\r\n      if (list.length > 2) {\r\n        val = list[2];\r\n        return ~~val[0] > 0;\r\n      }\r\n    }\r\n    return false;\r\n  },\r\n  /**\r\n   * [readUserInfoForCookie cookie]\r\n   * @param  {[type]} u_inf [description]\r\n   * @return {[type]}       [description]\r\n   */\r\n  readUserInfoForCookie: function (uinfs) {\r\n    var uinf;\r\n    var users;\r\n    var splitChar;\r\n    splitChar = String.fromCharCode(2);\r\n    uinf = decodeURIComponent(uinfs);\r\n    users = uinf.split(splitChar);\r\n    this.set({\r\n      userId: ~~users[0],\r\n      userName: users[1],\r\n      bigheadImg: users[4]\r\n    });\r\n  },\r\n  /**\r\n   * [fetchUserInfo ]\r\n   * @param  {Function} callback [description]\r\n   * @return {[type]}            [description]\r\n   */\r\n  fetchUserInfo: function (callback) {\r\n    var self = this;\r\n    var promise = this.fetchUserInfoForDBModel.executeJSONP();\r\n    promise.done(function (response) {\r\n      self.set(response);\r\n      if (_.isFunction(callback)) {\r\n        callback.call(self);\r\n      }\r\n    });\r\n    promise.fail(function () {\r\n      if (_.isFunction(callback)) {\r\n        callback.call(self.e);\r\n      }\r\n    });\r\n  },\r\n  /**\r\n   * [fetchVIPInfo vip]\r\n   * @return {[type]}         [description]\r\n   */\r\n  fetchVIPInfo: function () {\r\n    var self = this;\r\n    var defer = $.Deferred();\r\n    var promise = this.checkVIPModel.executeJSONP();\r\n    promise.done(function (result) {\r\n      if (result && !result.error) {\r\n        if ((result.realVip && parseInt(result.realVip, 10) > 0) || result.isWo) {\r\n          self.set('vipInfo', result);\r\n          defer.resolve.call(self, result);\r\n        }\r\n      }\r\n    });\r\n    promise.fail(function (e) {\r\n      defer.reject.call(self, e);\r\n    });\r\n    return defer.promise();\r\n  },\r\n  /**\r\n   * [getToken token]\r\n   * @return {[type]} [description]\r\n   */\r\n  getToken: function () {\r\n    return cookie.get('token');\r\n  },\r\n  getWebToken: function () {\r\n    var token = cookie.get('token');\r\n    return token ? ('web-' + token) : '';\r\n  },\r\n  /**\r\n   * [getUserId userId]\r\n   * @return {[type]} [description]\r\n   */\r\n  getUserId: function () {\r\n    return this.get('userId');\r\n  }\r\n});\r\n\r\n\r\nvar shared = null;\r\nUserModel.sharedInstanceUserModel = function () {\r\n  if (!shared) {\r\n    shared = new UserModel();\r\n    shared.on('change:userId', function () {\r\n      shared.trigger('login');\r\n    });\r\n    shared.emit();\r\n  }\r\n  return shared;\r\n};\r\n\r\nUserModel.get = function (name) {\r\n  if (shared) {\r\n    return shared.get(name);\r\n  }\r\n  return null;\r\n};\r\n\r\nmodule.exports = UserModel;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/UserModel/index.js\n ** module id = 52\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/*\r\n clientRender:{bool} // falsetruerawLoadertemplateUrl\r\n */\r\n\r\n\r\n/**\r\n * @time {}\r\n * @author {}\r\n * @info \r\n */\r\n\r\n'use strict';\r\nvar base = require('base-extend-backbone');\r\nvar BaseView = base.View; // View\r\nvar Mask = require('./mask.js');\r\nvar mask;\r\nvar uid = 999;\r\nvar _ = require('underscore');\r\n\r\nvar View = BaseView.extend({\r\n  clientRender: false,\r\n  events: {\r\n    //  \r\n    'click .J_close': '_close'\r\n  },\r\n  //  \r\n  beforeMount: function () {\r\n    this.id = 'YYT_UI_Dialog' + (uid++);\r\n    this.options = {\r\n      width: '',    // box\r\n      height: '',   // box\r\n      hasMark: true, // \r\n      hasClose: true,    // \r\n      isRemoveAfterHide: true,   // dom\r\n      isAutoShow: true,  // dialog\r\n      title: '',\r\n      className: '',\r\n      effect: 'fade',    //  none, fade\r\n      draggable: false,\r\n      mainClass: 'dialog',\r\n      closeClass: 'ico_close J_close icons close',\r\n      closeText: '',\r\n      onShow: function () {\r\n      },\r\n      onHide: function () {\r\n      }\r\n    };\r\n    this.options = _.extend(this.options, this._ICEOptions);\r\n    this._status = false;\r\n    this.$el = $('<div id=\"' + this.id + '\" class=\"' + this.options.mainClass + '\"/>')\r\n      .append(this.$el.show())\r\n      .addClass(this.options.className)\r\n      .appendTo(document.body);\r\n    this.$title = this.$el.find('.upload-title');\r\n    this._ICEinitEvent();\r\n  },\r\n  // \r\n  afterMount: function () {\r\n    this.closeTemp = require('./template/close.html');\r\n    this.titleTemp = require('./template/title.html');\r\n  },\r\n  // \r\n  ready: function () {\r\n    this._renderTitle();\r\n    this._renderClose();\r\n    this._adjustPosition();\r\n    this.on('show', function () {\r\n      this._status = true;\r\n      this._toggle('show');\r\n    });\r\n    this.on('hide', function () {\r\n      this._status = false;\r\n      this._toggle('hide');\r\n    });\r\n    this.on('show', this.options.onShow, this.$el);\r\n    this.on('hide', this.options.onHide, this.$el);\r\n    if (this.options.isAutoShow) {\r\n      this.trigger('show');\r\n    }\r\n    if (typeof this.options.attached === 'function') {\r\n      this.options.attached.call(this);\r\n    }\r\n  },\r\n  _renderTitle: function () {\r\n    var title = this.options.title;\r\n    if (title) {\r\n      this.$title.text(title);\r\n      //  var titleHTML = this.titleTemp.replace('{{title}}',title);\r\n      //  this.$title = $(titleHTML).prependTo(this.$el);\r\n    }\r\n  },\r\n  _renderClose: function () {\r\n    var self = this;\r\n    var id = 'dialogClose' + (uid++);\r\n    var closeHTML;\r\n    if (this.options.hasClose) {\r\n      closeHTML = this.compileHTML(this.closeTemp, {\r\n        closeClass: this.options.closeClass,\r\n        closeText: this.options.closeText,\r\n        id: id\r\n      });\r\n      $(closeHTML).attr('hidefocus', 'true').appendTo(this.$el);\r\n      $('#' + id).on('click', function (e) {\r\n        e.preventDefault();\r\n        self.hide();\r\n      });\r\n    }\r\n  },\r\n  _adjustPosition: function () {\r\n    var size = {\r\n      width: this.options.width || this.$el.innerWidth(),\r\n      height: this.options.height ? this.options.height : this.$el.innerHeight()\r\n    };\r\n    this.$el.css(_.extend({\r\n      marginLeft: -(size.width / 2),\r\n      marginTop: -(size.height / 2)\r\n    }, size));\r\n  },\r\n  _close: function () {\r\n    this.trigger('hide');\r\n  },\r\n  _toggle: function (action) {\r\n    var effect = this.options.effect;\r\n    var self = this;\r\n    if (action === 'show') {\r\n      if (effect === 'none') {\r\n        this.$el.css('display', 'block');\r\n      } else if (effect === 'fade') {\r\n        this.$el.fadeIn();\r\n      }\r\n    } else if (action === 'hide') {\r\n      if (effect === 'none') {\r\n        this.$el.css('display', 'none');\r\n      } else if (effect === 'fade') {\r\n        this.$el.fadeOut();\r\n      }\r\n      if (this.options.isRemoveAfterHide) {\r\n        setTimeout(function () {\r\n          self.$el.remove();\r\n        }, 2000);\r\n      }\r\n    }\r\n    this._toggleMask(action);\r\n  },\r\n  _toggleMask: function (action) {\r\n    if (this.options.hasMark) {\r\n      if (action === 'show') {\r\n        mask.show();\r\n      } else if (action === 'hide') {\r\n        mask.hide();\r\n      }\r\n    }\r\n  },\r\n  status: function () {\r\n    return this._status ? 'show' : 'hide';\r\n  },\r\n  show: function () {\r\n    this.trigger('show');\r\n    return this;\r\n  },\r\n  hide: function () {\r\n    this.trigger('hide');\r\n    return this;\r\n  },\r\n  destroy: function () {\r\n    this.$el.remove();\r\n    mask.hide();\r\n  },\r\n  resize: function (width, height) {\r\n    this.options.width = width;\r\n    this.options.height = height;\r\n    this._adjustPosition();\r\n    return this;\r\n  },\r\n  title: function (title) {\r\n    if (this.$title) {\r\n      this.$title.html(title);\r\n    }\r\n    return this;\r\n  }\r\n});\r\nvar shared = null;\r\nView.sharedInstanceDialog = function (options) {\r\n  if (!shared) {\r\n    if (!mask) {\r\n      mask = Mask.classInstanceMask();\r\n    }\r\n    shared = new View(options || {});\r\n  }\r\n  return shared;\r\n};\r\nView.classInstanceDialog = function (content, options) {\r\n  var ops = options || {};\r\n  ops.el = content || '<b>11111111</b>';\r\n  if (!mask) {\r\n    mask = Mask.classInstanceMask();\r\n  }\r\n  return new View(ops);\r\n};\r\nmodule.exports = View;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/dialog/index.js\n ** module id = 53\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/*\r\n clientRender:{bool} // falsetruerawLoadertemplateUrl\r\n */\r\n\r\n\r\n/**\r\n * @time {}\r\n * @author {}\r\n * @info {}\r\n */\r\n\r\n'use strict';\r\n\r\nvar base = require('base-extend-backbone');\r\nvar BaseView = base.View; //  View\r\nvar doc = $(document);\r\nvar isIE6 = navigator.userAgent.indexOf('MSIE 6.0') !== -1;\r\nvar style = {\r\n  position: isIE6 ? 'absolute' : 'fixed',\r\n  top: 0,\r\n  left: 0,\r\n  width: '100%',\r\n  height: isIE6 ? doc.outerHeight(true) : '100%',\r\n  display: 'none',\r\n  'z-index': 998,\r\n  opacity: 0.2,\r\n  'background-color': 'black'\r\n};\r\nvar View = BaseView.extend({\r\n  clientRender: false,\r\n  // \r\n  beforeMount: function () {\r\n    this.element = $('<iframe/>').attr({\r\n      frameborder: 0,\r\n      scrolling: 'no'\r\n    }).css(style).appendTo(document.body);\r\n  },\r\n  // \r\n  afterMount: function () {\r\n\r\n  },\r\n  // \r\n  ready: function () {\r\n\r\n  },\r\n  show: function () {\r\n    this.element.fadeIn();\r\n  },\r\n  hide: function () {\r\n    this.element.fadeOut();\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nView.sharedInstanceMask = function () {\r\n  if (!shared) {\r\n    shared = new View();\r\n  }\r\n  return shared;\r\n};\r\nView.classInstanceMask = function () {\r\n  return new View();\r\n};\r\nmodule.exports = View;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/dialog/mask.js\n ** module id = 54\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","module.exports = \"<!-- <a  href=\\\"\\\" id=\\\"{{id}}\\\" class=\\\"{{closeClass}}\\\">{{if closeText}}{{closeText}}{{/if}}</a> -->\\r\\n{{if closeClass === 'editor_bg_close_x'}}\\r\\n<a  href=\\\"\\\" id=\\\"{{id}}\\\" class=\\\"{{closeClass}} icons am-yyt-close close-white\\\"></a>\\r\\n{{else}}\\r\\n<a  href=\\\"\\\" id=\\\"{{id}}\\\" class=\\\"{{closeClass}}\\\"></a>\\r\\n{{/if}}\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/dialog/template/close.html\n ** module id = 55\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","module.exports = \"<h3 class=\\\"dialog_title J_title\\\">{{title}}</h3>\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/dialog/template/title.html\n ** module id = 56\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/**\r\n * @time {}\r\n * @author {}\r\n * @info {}\r\n */\r\n\r\n'use strict';\r\n\r\nvar Auxiliary = require('auxiliary-additions');\r\n// Diglog\r\nvar Dialog = require('ui.Dialog');\r\nvar AjaxForm = Auxiliary.AjaxForm;\r\nvar url = Auxiliary.url;\r\nvar pwdencrypt = require('pwdencrypt');\r\nvar loginBoxTemp = require('./template/loginBox.html');\r\nvar tplEng = require('tplEng');\r\nvar secret = require('secret');\r\n// \r\nvar EMAIL_PATTERN =\r\n  /^([a-zA-Z0-9_\\.\\-\\+])+@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\r\n// \r\nvar NUMBER_PATTERN =\r\n  /^[+-]?[1-9][0-9]*(\\.[0-9]+)?([eE][+-][1-9][0-9]*)?$|^[+-]?0?\\.[0-9]+([eE][+-][1-9][0-9]*)?$/;\r\n\r\n/*  */\r\nvar isGeetest = false;\r\nvar Geetest;\r\nvar errorinfo;\r\nvar email;\r\nvar password;\r\nvar loginBoxForm;\r\nvar ajaxForm;\r\nvar dialog;\r\nvar user;\r\n\r\n// \r\nwindow.gt_custom_ajax = function (result) {\r\n  var info;\r\n  if (result) {\r\n    isGeetest = true;\r\n    info = loginBoxForm.find('.errorinfo');\r\n    if (info.html() === '') {\r\n      info.css('visibility', 'hidden');\r\n    }\r\n  }\r\n};\r\n\r\n// \r\nfunction _setFocusEffect(input) {\r\n  if (input.attr('name') === 'email') {\r\n    input.focus(function () {\r\n      $(this).parent().addClass('emailfocus').removeClass('emailerror');\r\n    });\r\n    input.blur(function () {\r\n      $(this).parent().removeClass('emailfocus');\r\n    });\r\n  } else {\r\n    input.focus(function () {\r\n      $(this).parent().addClass('focus').removeClass('error');\r\n    });\r\n    input.blur(function () {\r\n      $(this).parent().removeClass('focus');\r\n    });\r\n  }\r\n}\r\n\r\n// \r\nfunction refreshGeetest() {\r\n  Geetest.refresh();\r\n  isGeetest = false;\r\n}\r\n// \r\nfunction _initForm() {\r\n  var UserModel = require('UserModel');\r\n  errorinfo = loginBoxForm.find('.errorinfo');\r\n  email = loginBoxForm.find('[name=email]');\r\n  password = loginBoxForm.find('.pwd');\r\n  _setFocusEffect(email);\r\n  _setFocusEffect(password);\r\n  user = UserModel.sharedInstanceUserModel();\r\n  $('<input />').attr({\r\n    type: 'hidden',\r\n    name: 'cross_post',\r\n    value: '1'\r\n  }).appendTo(loginBoxForm);\r\n}\r\n// \r\nfunction cryptoParam() {\r\n  return [$.trim(email.val()) + $.trim(password.val())];\r\n}\r\n\r\nfunction validator() {\r\n  var emailVal = $.trim(email.val());\r\n  var passwordVal = $.trim(password.val());\r\n  if (emailVal.length === 0) {\r\n    errorinfo.text('').css('visibility', 'visible');\r\n    email.parent().addClass('emailerror');\r\n    return false;\r\n  }\r\n  if (!EMAIL_PATTERN.test(emailVal)) {\r\n    if (NUMBER_PATTERN.test(emailVal)) {\r\n      if (emailVal.length !== 11) {\r\n        errorinfo.text('').css('visibility', 'visible');\r\n        email.parent().addClass('emailerror');\r\n        return false;\r\n      }\r\n    } else {\r\n      errorinfo.text('').css('visibility', 'visible');\r\n      email.parent().addClass('emailerror');\r\n      return false;\r\n    }\r\n  }\r\n  if (passwordVal.length === 0) {\r\n    errorinfo.text('').css('visibility', 'visible');\r\n    password.parent().addClass('error');\r\n    return false;\r\n  }\r\n  if (passwordVal.length < 4 || passwordVal.length > 20) {\r\n    errorinfo.text('420').css('visibility', 'visible');\r\n    password.parent().addClass('error');\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction isPassTest() {\r\n  var errorText = '';\r\n  if (!validator()) {\r\n    refreshGeetest();\r\n    return false;\r\n  }\r\n  if (!isGeetest) {\r\n    errorinfo.text(errorText).css('visibility', 'visible');\r\n    return false;\r\n  }\r\n  if (loginBoxForm.find('[name=encpsw]').length !== 0) {\r\n    loginBoxForm.find('[name=encpsw]').val(pwdencrypt(password.val()));\r\n  } else {\r\n    $('<input />').attr({\r\n      type: 'hidden',\r\n      name: 'encpsw',\r\n      value: pwdencrypt(password.val())\r\n    }).appendTo(loginBoxForm);\r\n  }\r\n  return true;\r\n}\r\n\r\n// submit\r\nfunction loginSubmit(e) {\r\n  var _crytoP = cryptoParam();\r\n  e.preventDefault();\r\n  if (isPassTest()) {\r\n    ajaxForm = AjaxForm.classInstanceAjaxForm(loginBoxForm);\r\n    ajaxForm.encrypto(secret.apply(window, _crytoP));\r\n    ajaxForm.done(function (cw) {\r\n      var search = decodeURIComponent(cw.location.search);\r\n      var response = url.parseSearch(search);\r\n      response = response.json;\r\n      if (!response.error) {\r\n        if (response.platFormRef) {\r\n          location.href = 'http://login.yinyuetai.com/platform';\r\n        } else {\r\n          user.set(response);\r\n          dialog.trigger('hide');\r\n        }\r\n      } else {\r\n        errorinfo.text(response.message).css('visibility', 'visible');\r\n        refreshGeetest();\r\n      }\r\n    });\r\n    ajaxForm.fail(function (cw) {\r\n      console.log(cw);\r\n    });\r\n    ajaxForm.loadState = true;\r\n    this.submit();\r\n  }\r\n}\r\n\r\nfunction compileHTML(tplStr, data) {\r\n  return tplEng.compile(tplStr)(data);\r\n}\r\n\r\nfunction LoginBox() {\r\n  var dialogHTML = compileHTML(loginBoxTemp, {\r\n    url: 'http://login.yinyuetai.com'\r\n  });\r\n  if (!dialog) {\r\n    dialog = Dialog.classInstanceDialog(dialogHTML, {\r\n      width: 691,\r\n      height: 342,\r\n      isRemoveAfterHide: false,\r\n      isAutoShow: false\r\n    });\r\n    loginBoxForm = dialog.$el.find('#loginBoxForm');\r\n    dialog.on('show', function () {\r\n      if (!Geetest) {\r\n        /* */\r\n        Geetest = new window.Geetest({\r\n          gt: 'cc34bd7df5c42f7d9c3f540fdfb671cf',\r\n          product: 'float'\r\n        });\r\n        Geetest.appendTo('#captcha');\r\n      }\r\n      _initForm();\r\n      // UA_Opt.reload();\r\n      $.getJSON('http://www.yinyuetai.com/partner/get-partner-code?placeIds=reg_window&callback=?', function (data) {\r\n        if (data && data.reg_window) {\r\n          self.dialog.$el.find('.loginbox-placehold').html(data.reg_window);\r\n        }\r\n      });\r\n    });\r\n    dialog.on('hide', function () {\r\n      var form = dialog.$el.find('form');\r\n      form.find('.errorinfo').css('visibility', 'hidden');\r\n      form.find('[name=email],[name=password]')\r\n          .parent()\r\n          .removeClass('emailerror')\r\n          .removeClass('error');\r\n      // active\r\n      $('.J_pop_download').removeClass('v_button_curv');\r\n      setTimeout(function () {\r\n        refreshGeetest();\r\n      }, 500);\r\n    });\r\n    loginBoxForm.on('submit', loginSubmit);\r\n  }\r\n  return {\r\n    dialog: dialog\r\n  };\r\n}\r\n\r\nmodule.exports = LoginBox;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/loginBox/index.js\n ** module id = 57\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","function yytcrypt(o) {\r\n\tvar l = 0, S = 1, t = \"inputvec\", O = 1, C = \"yytcdn2b\";\r\n\tvar B = new Array(16843776, 0, 65536, 16843780, 16842756, 66564, 4, 65536, 1024, 16843776, 16843780, 1024, 16778244, 16842756,\r\n\t\t\t16777216, 4, 1028, 16778240, 16778240, 66560, 66560, 16842752, 16842752, 16778244, 65540, 16777220, 16777220, 65540, 0,\r\n\t\t\t1028, 66564, 16777216, 65536, 16843780, 4, 16842752, 16843776, 16777216, 16777216, 1024, 16842756, 65536, 66560, 16777220,\r\n\t\t\t1024, 4, 16778244, 66564, 16843780, 65540, 16842752, 16778244, 16777220, 1028, 66564, 16843776, 1028, 16778240, 16778240, 0,\r\n\t\t\t65540, 66560, 0, 16842756);\r\n\tvar A = new Array(-2146402272, -2147450880, 32768, 1081376, 1048576, 32, -2146435040, -2147450848, -2147483616, -2146402272,\r\n\t\t\t-2146402304, -2147483648, -2147450880, 1048576, 32, -2146435040, 1081344, 1048608, -2147450848, 0, -2147483648, 32768,\r\n\t\t\t1081376, -2146435072, 1048608, -2147483616, 0, 1081344, 32800, -2146402304, -2146435072, 32800, 0, 1081376, -2146435040,\r\n\t\t\t1048576, -2147450848, -2146435072, -2146402304, 32768, -2146435072, -2147450880, 32, -2146402272, 1081376, 32, 32768,\r\n\t\t\t-2147483648, 32800, -2146402304, 1048576, -2147483616, 1048608, -2147450848, -2147483616, 1048608, 1081344, 0, -2147450880,\r\n\t\t\t32800, -2147483648, -2146435040, -2146402272, 1081344);\r\n\tvar z = new Array(520, 134349312, 0, 134348808, 134218240, 0, 131592, 134218240, 131080, 134217736, 134217736, 131072, 134349320,\r\n\t\t\t131080, 134348800, 520, 134217728, 8, 134349312, 512, 131584, 134348800, 134348808, 131592, 134218248, 131584, 131072,\r\n\t\t\t134218248, 8, 134349320, 512, 134217728, 134349312, 134217728, 131080, 520, 131072, 134349312, 134218240, 0, 512, 131080,\r\n\t\t\t134349320, 134218240, 134217736, 512, 0, 134348808, 134218248, 131072, 134217728, 134349320, 8, 131592, 131584, 134217736,\r\n\t\t\t134348800, 134218248, 520, 134348800, 131592, 8, 134348808, 131584);\r\n\tvar x = new Array(8396801, 8321, 8321, 128, 8396928, 8388737, 8388609, 8193, 0, 8396800, 8396800, 8396929, 129, 0, 8388736, 8388609,\r\n\t\t\t1, 8192, 8388608, 8396801, 128, 8388608, 8193, 8320, 8388737, 1, 8320, 8388736, 8192, 8396928, 8396929, 129, 8388736,\r\n\t\t\t8388609, 8396800, 8396929, 129, 0, 0, 8396800, 8320, 8388736, 8388737, 1, 8396801, 8321, 8321, 128, 8396929, 129, 1, 8192,\r\n\t\t\t8388609, 8193, 8396928, 8388737, 8193, 8320, 8388608, 8396801, 128, 8388608, 8192, 8396928);\r\n\tvar w = new Array(256, 34078976, 34078720, 1107296512, 524288, 256, 1073741824, 34078720, 1074266368, 524288, 33554688, 1074266368,\r\n\t\t\t1107296512, 1107820544, 524544, 1073741824, 33554432, 1074266112, 1074266112, 0, 1073742080, 1107820800, 1107820800,\r\n\t\t\t33554688, 1107820544, 1073742080, 0, 1107296256, 34078976, 33554432, 1107296256, 524544, 524288, 1107296512, 256, 33554432,\r\n\t\t\t1073741824, 34078720, 1107296512, 1074266368, 33554688, 1073741824, 1107820544, 34078976, 1074266368, 256, 33554432,\r\n\t\t\t1107820544, 1107820800, 524544, 1107296256, 1107820800, 34078720, 0, 1074266112, 1107296256, 524544, 33554688, 1073742080,\r\n\t\t\t524288, 0, 1074266112, 34078976, 1073742080);\r\n\tvar v = new Array(536870928, 541065216, 16384, 541081616, 541065216, 16, 541081616, 4194304, 536887296, 4210704, 4194304, 536870928,\r\n\t\t\t4194320, 536887296, 536870912, 16400, 0, 4194320, 536887312, 16384, 4210688, 536887312, 16, 541065232, 541065232, 0,\r\n\t\t\t4210704, 541081600, 16400, 4210688, 541081600, 536870912, 536887296, 16, 541065232, 4210688, 541081616, 4194304, 16400,\r\n\t\t\t536870928, 4194304, 536887296, 536870912, 16400, 536870928, 541081616, 4210688, 541065216, 4210704, 541081600, 0, 541065232,\r\n\t\t\t16, 16384, 541065216, 4210704, 16384, 4194320, 536887312, 0, 541081600, 536870912, 4194320, 536887312);\r\n\tvar u = new Array(2097152, 69206018, 67110914, 0, 2048, 67110914, 2099202, 69208064, 69208066, 2097152, 0, 67108866, 2, 67108864,\r\n\t\t\t69206018, 2050, 67110912, 2099202, 2097154, 67110912, 67108866, 69206016, 69208064, 2097154, 69206016, 2048, 2050, 69208066,\r\n\t\t\t2099200, 2, 67108864, 2099200, 67108864, 2099200, 2097152, 67110914, 67110914, 69206018, 69206018, 2, 2097154, 67108864,\r\n\t\t\t67110912, 2097152, 69208064, 2050, 2099202, 69208064, 2050, 67108866, 69208066, 69206016, 2099200, 0, 2, 69208066, 0,\r\n\t\t\t2099202, 69206016, 2048, 67108866, 67110912, 2048, 2097154);\r\n\tvar q = new Array(268439616, 4096, 262144, 268701760, 268435456, 268439616, 64, 268435456, 262208, 268697600, 268701760, 266240,\r\n\t\t\t268701696, 266304, 4096, 64, 268697600, 268435520, 268439552, 4160, 266240, 262208, 268697664, 268701696, 4160, 0, 0,\r\n\t\t\t268697664, 268435520, 268439552, 266304, 262144, 266304, 262144, 268701696, 4096, 64, 268697664, 4096, 266304, 268439552,\r\n\t\t\t64, 268435520, 268697600, 268697664, 268435456, 262144, 268439616, 0, 268701760, 262208, 268435520, 268697600, 268439552,\r\n\t\t\t268439616, 0, 268701760, 266240, 266240, 4160, 4160, 262208, 268435456, 268701696);\r\n\tpc2bytes0 = new Array(0, 4, 536870912, 536870916, 65536, 65540, 536936448, 536936452, 512, 516, 536871424, 536871428, 66048, 66052,\r\n\t\t\t536936960, 536936964);\r\n\tpc2bytes1 =\r\n\t\t\tnew Array(0, 1, 1048576, 1048577, 67108864, 67108865, 68157440, 68157441, 256, 257, 1048832, 1048833, 67109120, 67109121,\r\n\t\t\t\t\t68157696, 68157697);\r\n\tpc2bytes2 = new Array(0, 8, 2048, 2056, 16777216, 16777224, 16779264, 16779272, 0, 8, 2048, 2056, 16777216, 16777224, 16779264,\r\n\t\t\t16779272);\r\n\tpc2bytes3 = new Array(0, 2097152, 134217728, 136314880, 8192, 2105344, 134225920, 136323072, 131072, 2228224, 134348800, 136445952,\r\n\t\t\t139264, 2236416, 134356992, 136454144);\r\n\tpc2bytes4 = new Array(0, 262144, 16, 262160, 0, 262144, 16, 262160, 4096, 266240, 4112, 266256, 4096, 266240, 4112, 266256);\r\n\tpc2bytes5 = new Array(0, 1024, 32, 1056, 0, 1024, 32, 1056, 33554432, 33555456, 33554464, 33555488, 33554432, 33555456, 33554464,\r\n\t\t\t33555488);\r\n\tpc2bytes6 =\r\n\t\t\tnew Array(0, 268435456, 524288, 268959744, 2, 268435458, 524290, 268959746, 0, 268435456, 524288, 268959744, 2, 268435458,\r\n\t\t\t\t\t524290, 268959746);\r\n\tpc2bytes7 = new Array(0, 65536, 2048, 67584, 536870912, 536936448, 536872960, 536938496, 131072, 196608, 133120, 198656, 537001984,\r\n\t\t\t537067520, 537004032, 537069568);\r\n\tpc2bytes8 =\r\n\t\t\tnew Array(0, 262144, 0, 262144, 2, 262146, 2, 262146, 33554432, 33816576, 33554432, 33816576, 33554434, 33816578, 33554434,\r\n\t\t\t\t\t33816578);\r\n\tpc2bytes9 =\r\n\t\t\tnew Array(0, 268435456, 8, 268435464, 0, 268435456, 8, 268435464, 1024, 268436480, 1032, 268436488, 1024, 268436480, 1032,\r\n\t\t\t\t\t268436488);\r\n\tpc2bytes10 =\r\n\t\t\tnew Array(0, 32, 0, 32, 1048576, 1048608, 1048576, 1048608, 8192, 8224, 8192, 8224, 1056768, 1056800, 1056768, 1056800);\r\n\tpc2bytes11 = new Array(0, 16777216, 512, 16777728, 2097152, 18874368, 2097664, 18874880, 67108864, 83886080, 67109376, 83886592,\r\n\t\t\t69206016, 85983232, 69206528, 85983744);\r\n\tpc2bytes12 = new Array(0, 4096, 134217728, 134221824, 524288, 528384, 134742016, 134746112, 16, 4112, 134217744, 134221840, 524304,\r\n\t\t\t528400, 134742032, 134746128);\r\n\tpc2bytes13 = new Array(0, 4, 256, 260, 0, 4, 256, 260, 1, 5, 257, 261, 1, 5, 257, 261);\r\n\tvar M = C.length > 8 ? 3 : 1;\r\n\tvar y = new Array(32 * M);\r\n\tvar f = new Array(0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0);\r\n\tvar E, h, K = 0, J = 0, k;\r\n\tfor (var N = 0; N < M; N++) {\r\n\t\tg = (C.charCodeAt(K++) << 24) | (C.charCodeAt(K++) << 16) | (C.charCodeAt(K++) << 8) | C.charCodeAt(K++);\r\n\t\tI = (C.charCodeAt(K++) << 24) | (C.charCodeAt(K++) << 16) | (C.charCodeAt(K++) << 8) | C.charCodeAt(K++);\r\n\t\tk = ((g >>> 4) ^ I) & 252645135;\r\n\t\tI ^= k;\r\n\t\tg ^= (k << 4);\r\n\t\tk = ((I >>> -16) ^ g) & 65535;\r\n\t\tg ^= k;\r\n\t\tI ^= (k << -16);\r\n\t\tk = ((g >>> 2) ^ I) & 858993459;\r\n\t\tI ^= k;\r\n\t\tg ^= (k << 2);\r\n\t\tk = ((I >>> -16) ^ g) & 65535;\r\n\t\tg ^= k;\r\n\t\tI ^= (k << -16);\r\n\t\tk = ((g >>> 1) ^ I) & 1431655765;\r\n\t\tI ^= k;\r\n\t\tg ^= (k << 1);\r\n\t\tk = ((I >>> 8) ^ g) & 16711935;\r\n\t\tg ^= k;\r\n\t\tI ^= (k << 8);\r\n\t\tk = ((g >>> 1) ^ I) & 1431655765;\r\n\t\tI ^= k;\r\n\t\tg ^= (k << 1);\r\n\t\tk = (g << 8) | ((I >>> 20) & 240);\r\n\t\tg = (I << 24) | ((I << 8) & 16711680) | ((I >>> 8) & 65280) | ((I >>> 24) & 240);\r\n\t\tI = k;\r\n\t\tfor (var P = 0; P < f.length; P++) {\r\n\t\t\tif (f[P]) {\r\n\t\t\t\tg = (g << 2) | (g >>> 26);\r\n\t\t\t\tI = (I << 2) | (I >>> 26)\r\n\t\t\t} else {\r\n\t\t\t\tg = (g << 1) | (g >>> 27);\r\n\t\t\t\tI = (I << 1) | (I >>> 27)\r\n\t\t\t}\r\n\t\t\tg &= -15;\r\n\t\t\tI &= -15;\r\n\t\t\tE = pc2bytes0[g >>> 28] | pc2bytes1[(g >>> 24) & 15] | pc2bytes2[(g >>> 20) & 15] | pc2bytes3[(g >>> 16) & 15] |\r\n\t\t\t\t\tpc2bytes4[(g >>> 12) & 15] | pc2bytes5[(g >>> 8) & 15] | pc2bytes6[(g >>> 4) & 15];\r\n\t\t\th = pc2bytes7[I >>> 28] | pc2bytes8[(I >>> 24) & 15] | pc2bytes9[(I >>> 20) & 15] | pc2bytes10[(I >>> 16) & 15] |\r\n\t\t\t\t\tpc2bytes11[(I >>> 12) & 15] | pc2bytes12[(I >>> 8) & 15] | pc2bytes13[(I >>> 4) & 15];\r\n\t\t\tk = ((h >>> 16) ^ E) & 65535;\r\n\t\t\ty[J++] = E ^ k;\r\n\t\t\ty[J++] = h ^ (k << 16)\r\n\t\t}\r\n\t}\r\n\tvar K = 0, P, N, k, a, U, T, g, I, c;\r\n\tvar L, H, Q, d;\r\n\tvar D, e;\r\n\tvar p = o.length;\r\n\tvar b = 0;\r\n\tvar M = y.length == 32 ? 3 : 9;\r\n\tif (M == 3) {c = S ? new Array(0, 32, 2) : new Array(30, -2, -2)} else {\r\n\t\tc = S ? new Array(0, 32, 2, 62, 30, -2, 64, 96, 2) : new Array(94, 62, -2, 32, 64, 2, 30, -2, -2)\r\n\t}\r\n\tk = 8 - (p % 8);\r\n\to += String.fromCharCode(k, k, k, k, k, k, k, k);\r\n\tif (k == 8) {p += 8}\r\n\tresult = \"\";\r\n\ttempresult = \"\";\r\n\twhile (K < p) {\r\n\t\tg = (o.charCodeAt(K++) << 24) | (o.charCodeAt(K++) << 16) | (o.charCodeAt(K++) << 8) | o.charCodeAt(K++);\r\n\t\tI = (o.charCodeAt(K++) << 24) | (o.charCodeAt(K++) << 16) | (o.charCodeAt(K++) << 8) | o.charCodeAt(K++);\r\n\t\tk = ((g >>> 4) ^ I) & 252645135;\r\n\t\tI ^= k;\r\n\t\tg ^= (k << 4);\r\n\t\tk = ((g >>> 16) ^ I) & 65535;\r\n\t\tI ^= k;\r\n\t\tg ^= (k << 16);\r\n\t\tk = ((I >>> 2) ^ g) & 858993459;\r\n\t\tg ^= k;\r\n\t\tI ^= (k << 2);\r\n\t\tk = ((I >>> 8) ^ g) & 16711935;\r\n\t\tg ^= k;\r\n\t\tI ^= (k << 8);\r\n\t\tk = ((g >>> 1) ^ I) & 1431655765;\r\n\t\tI ^= k;\r\n\t\tg ^= (k << 1);\r\n\t\tg = ((g << 1) | (g >>> 31));\r\n\t\tI = ((I << 1) | (I >>> 31));\r\n\t\tfor (N = 0; N < M; N += 3) {\r\n\t\t\tD = c[N + 1];\r\n\t\t\te = c[N + 2];\r\n\t\t\tfor (P = c[N]; P != D; P += e) {\r\n\t\t\t\tU = I ^ y[P];\r\n\t\t\t\tT = ((I >>> 4) | (I << 28)) ^ y[P + 1];\r\n\t\t\t\tk = g;\r\n\t\t\t\tg = I;\r\n\t\t\t\tI = k ^ (A[(U >>> 24) & 63] | x[(U >>> 16) & 63] | v[(U >>> 8) & 63] | q[U & 63] | B[(T >>> 24) & 63] |\r\n\t\t\t\t\t\tz[(T >>> 16) & 63] | w[(T >>> 8) & 63] | u[T & 63])\r\n\t\t\t}\r\n\t\t\tk = g;\r\n\t\t\tg = I;\r\n\t\t\tI = k\r\n\t\t}\r\n\t\tg = ((g >>> 1) | (g << 31));\r\n\t\tI = ((I >>> 1) | (I << 31));\r\n\t\tk = ((g >>> 1) ^ I) & 1431655765;\r\n\t\tI ^= k;\r\n\t\tg ^= (k << 1);\r\n\t\tk = ((I >>> 8) ^ g) & 16711935;\r\n\t\tg ^= k;\r\n\t\tI ^= (k << 8);\r\n\t\tk = ((I >>> 2) ^ g) & 858993459;\r\n\t\tg ^= k;\r\n\t\tI ^= (k << 2);\r\n\t\tk = ((g >>> 16) ^ I) & 65535;\r\n\t\tI ^= k;\r\n\t\tg ^= (k << 16);\r\n\t\tk = ((g >>> 4) ^ I) & 252645135;\r\n\t\tI ^= k;\r\n\t\tg ^= (k << 4);\r\n\t\ttempresult += String.fromCharCode((g >>> 24), ((g >>> 16) & 255), ((g >>> 8) & 255), (g & 255), (I >>> 24), ((I >>> 16) & 255),\r\n\t\t\t\t((I >>> 8) & 255), (I & 255));\r\n\t\tb += 8;\r\n\t\tif (b == 512) {\r\n\t\t\tresult += tempresult;\r\n\t\t\ttempresult = \"\";\r\n\t\t\tb = 0\r\n\t\t}\r\n\t}\r\n\tvar F = result + tempresult;\r\n\tvar G = \"\";\r\n\tvar R = new Array(\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\");\r\n\tfor (var P = 0; P < F.length; P++) {G += R[F.charCodeAt(P) >> 4] + R[F.charCodeAt(P) & 15]}\r\n\treturn G\r\n};\r\nmodule.exports = yytcrypt;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/crypto/pwdencrypt.js\n ** module id = 58\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","module.exports = \"<div class=\\\"loginbox\\\">\\r\\n    <div class=\\\"external\\\">\\r\\n        <p class=\\\"title\\\"><span>()</span></p>\\r\\n        <ul>\\r\\n            <li>\\r\\n                <a href=\\\"{{url}}/api/login/sina-auth\\\" target=\\\"_blank\\\" class=\\\"weibo\\\" hidefocus></a>\\r\\n            </li>\\r\\n            <li>\\r\\n                <a href=\\\"{{url}}/api/login/qq-auth\\\" target=\\\"_blank\\\" class=\\\"qq\\\" hidefocus>QQ</a>\\r\\n            </li>\\r\\n            <li>\\r\\n                <a href=\\\"{{url}}/api/login/renren-auth\\\" target=\\\"_blank\\\" class=\\\"renren\\\" hidefocus></a>\\r\\n            </li>\\r\\n            <li>\\r\\n                <a href=\\\"{{url}}/api/login/baidu-auth\\\" target=\\\"_blank\\\" class=\\\"baidu\\\" hidefocus></a>\\r\\n            </li>\\r\\n        </ul>\\r\\n        <div class=\\\"loginbox-placehold\\\"></div>\\r\\n        <p class=\\\"text\\\"></p>\\r\\n        <p class=\\\"text\\\"></p>\\r\\n    </div>\\r\\n    <div class=\\\"site\\\">\\r\\n        <p class=\\\"title\\\">Tai</p>\\r\\n        <form id=\\\"loginBoxForm\\\" action=\\\"https://login.yinyuetai.com/login-ajax\\\" method=\\\"post\\\">\\r\\n            <p class=\\\"errorinfo\\\"></p>\\r\\n            <div class=\\\"email focuss\\\">\\r\\n                <input type=\\\"text\\\" name=\\\"email\\\" placeholder=\\\"\\\"/>\\r\\n            </div>\\r\\n            <div class=\\\"password\\\">\\r\\n                <input type=\\\"password\\\" class=\\\"pwd\\\" placeholder=\\\"\\\"/>\\r\\n            </div>\\r\\n            <div id=\\\"captcha\\\"></div>\\r\\n            <div>\\r\\n                <p class=\\\"autologin\\\"><input type=\\\"checkbox\\\" id=\\\"autocheckbox\\\" name=\\\"autologin\\\" checked hidefocus/><label for=\\\"autocheckbox\\\"></label></p>\\r\\n                <a class=\\\"forgot\\\" href=\\\"{{url}}/forgot-password\\\" target=\\\"_blank\\\" hidefocus></a>\\r\\n            </div>\\r\\n            <div>\\r\\n                <input class=\\\"submit\\\" type=\\\"submit\\\" hidefocus/>\\r\\n                <p class=\\\"reg\\\">Tai<a href=\\\"{{url}}/register\\\" target=\\\"_blank\\\" hidefocus></a></p>\\r\\n            </div>\\r\\n        </form>\\r\\n    </div>\\r\\n</div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/loginBox/template/loginBox.html\n ** module id = 59\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","function hex_y(a) {\r\n\treturn binl2hex(core_y(str2binl(a), a.length * 8));\r\n}\r\n\r\nfunction hex_y_16(c) {\r\n\tvar a = hex_y(c);\r\n\ta = a.substring(8, 24);\r\n\treturn y_vv(a);\r\n}\r\n\r\nfunction core_y(r, k) {\r\n\tr[k >> 5] |= 128 << ((k) % 32);\r\n\tr[ (((k + 64) >>> 9) << 4) + 14] = k;\r\n\tvar q = 1732584193;\r\n\tvar p = -271733879;\r\n\tvar m = -1732584194;\r\n\tvar l = 271733878;\r\n\tfor (var g = 0; g < r.length; g += 16) {\r\n\t\tvar j = q;\r\n\t\tvar h = p;\r\n\t\tvar f = m;\r\n\t\tvar e = l;\r\n\t\tq = y_ff(q, p, m, l, r[g + 0], 7, -680876936);\r\n\t\tl = y_ff(l, q, p, m, r[g + 1], 12, -389564586);\r\n\t\tm = y_ff(m, l, q, p, r[g + 2], 17, 606105819);\r\n\t\tp = y_ff(p, m, l, q, r[g + 3], 22, -1044525330);\r\n\t\tq = y_ff(q, p, m, l, r[g + 4], 7, -176418897);\r\n\t\tl = y_ff(l, q, p, m, r[g + 5], 12, 1200080426);\r\n\t\tm = y_ff(m, l, q, p, r[g + 6], 17, -1473231341);\r\n\t\tp = y_ff(p, m, l, q, r[g + 7], 22, -45705983);\r\n\t\tq = y_ff(q, p, m, l, r[g + 8], 7, 1770035416);\r\n\t\tl = y_ff(l, q, p, m, r[g + 9], 12, -1958414417);\r\n\t\tm = y_ff(m, l, q, p, r[g + 10], 17, -42063);\r\n\t\tp = y_ff(p, m, l, q, r[g + 11], 22, -1990404162);\r\n\t\tq = y_ff(q, p, m, l, r[g + 12], 7, 1804603682);\r\n\t\tl = y_ff(l, q, p, m, r[g + 13], 12, -40341101);\r\n\t\tm = y_ff(m, l, q, p, r[g + 14], 17, -1502002290);\r\n\t\tp = y_ff(p, m, l, q, r[g + 15], 22, 1236535329);\r\n\t\tq = y_gg(q, p, m, l, r[g + 1], 5, -165796510);\r\n\t\tl = y_gg(l, q, p, m, r[g + 6], 9, -1069501632);\r\n\t\tm = y_gg(m, l, q, p, r[g + 11], 14, 643717713);\r\n\t\tp = y_gg(p, m, l, q, r[g + 0], 20, -373897302);\r\n\t\tq = y_gg(q, p, m, l, r[g + 5], 5, -701558691);\r\n\t\tl = y_gg(l, q, p, m, r[g + 10], 9, 38016083);\r\n\t\tm = y_gg(m, l, q, p, r[g + 15], 14, -660478335);\r\n\t\tp = y_gg(p, m, l, q, r[g + 4], 20, -405537848);\r\n\t\tq = y_gg(q, p, m, l, r[g + 9], 5, 568446438);\r\n\t\tl = y_gg(l, q, p, m, r[g + 14], 9, -1019803690);\r\n\t\tm = y_gg(m, l, q, p, r[g + 3], 14, -187363961);\r\n\t\tp = y_gg(p, m, l, q, r[g + 8], 20, 1163531501);\r\n\t\tq = y_gg(q, p, m, l, r[g + 13], 5, -1444681467);\r\n\t\tl = y_gg(l, q, p, m, r[g + 2], 9, -51403784);\r\n\t\tm = y_gg(m, l, q, p, r[g + 7], 14, 1735328473);\r\n\t\tp = y_gg(p, m, l, q, r[g + 12], 20, -1926607734);\r\n\t\tq = y_hh(q, p, m, l, r[g + 5], 4, -378558);\r\n\t\tl = y_hh(l, q, p, m, r[g + 8], 11, -2022574463);\r\n\t\tm = y_hh(m, l, q, p, r[g + 11], 16, 1839030562);\r\n\t\tp = y_hh(p, m, l, q, r[g + 14], 23, -35309556);\r\n\t\tq = y_hh(q, p, m, l, r[g + 1], 4, -1530992060);\r\n\t\tl = y_hh(l, q, p, m, r[g + 4], 11, 1272893353);\r\n\t\tm = y_hh(m, l, q, p, r[g + 7], 16, -155497632);\r\n\t\tp = y_hh(p, m, l, q, r[g + 10], 23, -1094730640);\r\n\t\tq = y_hh(q, p, m, l, r[g + 13], 4, 681279174);\r\n\t\tl = y_hh(l, q, p, m, r[g + 0], 11, -358537222);\r\n\t\tm = y_hh(m, l, q, p, r[g + 3], 16, -722521979);\r\n\t\tp = y_hh(p, m, l, q, r[g + 6], 23, 76029189);\r\n\t\tq = y_hh(q, p, m, l, r[g + 9], 4, -640364487);\r\n\t\tl = y_hh(l, q, p, m, r[g + 12], 11, -421815835);\r\n\t\tm = y_hh(m, l, q, p, r[g + 15], 16, 530742520);\r\n\t\tp = y_hh(p, m, l, q, r[g + 2], 23, -995338651);\r\n\t\tq = y_ii(q, p, m, l, r[g + 0], 6, -198630844);\r\n\t\tl = y_ii(l, q, p, m, r[g + 7], 10, 1126891415);\r\n\t\tm = y_ii(m, l, q, p, r[g + 14], 15, -1416354905);\r\n\t\tp = y_ii(p, m, l, q, r[g + 5], 21, -57434055);\r\n\t\tq = y_ii(q, p, m, l, r[g + 12], 6, 1700485571);\r\n\t\tl = y_ii(l, q, p, m, r[g + 3], 10, -1894986606);\r\n\t\tm = y_ii(m, l, q, p, r[g + 10], 15, -1051523);\r\n\t\tp = y_ii(p, m, l, q, r[g + 1], 21, -2054922799);\r\n\t\tq = y_ii(q, p, m, l, r[g + 8], 6, 1873313359);\r\n\t\tl = y_ii(l, q, p, m, r[g + 15], 10, -30611744);\r\n\t\tm = y_ii(m, l, q, p, r[g + 6], 15, -1560198380);\r\n\t\tp = y_ii(p, m, l, q, r[g + 13], 21, 1309151649);\r\n\t\tq = y_ii(q, p, m, l, r[g + 4], 6, -145523070);\r\n\t\tl = y_ii(l, q, p, m, r[g + 11], 10, -1120210379);\r\n\t\tm = y_ii(m, l, q, p, r[g + 2], 15, 718787259);\r\n\t\tp = y_ii(p, m, l, q, r[g + 9], 21, -343485551);\r\n\t\tq = safe_add(q, j);\r\n\t\tp = safe_add(p, h);\r\n\t\tm = safe_add(m, f);\r\n\t\tl = safe_add(l, e);\r\n\t}\r\n\treturn Array(q, p, m, l);\r\n}\r\n\r\nfunction y_cmn(h, e, d, c, g, f) {\r\n\treturn safe_add(bit_rol(safe_add(safe_add(e, h), safe_add(c, f)), g), d);\r\n}\r\n\r\nfunction y_ff(g, f, l, k, e, j, h) {\r\n\treturn y_cmn((f & l) | ((~f) & k), g, f, e, j, h);\r\n}\r\n\r\nfunction y_gg(g, f, l, k, e, j, h) {\r\n\treturn y_cmn((f & k) | (l & (~k)), g, f, e, j, h);\r\n}\r\n\r\nfunction y_hh(g, f, l, k, e, j, h) {\r\n\treturn y_cmn(f ^ l ^ k, g, f, e, j, h);\r\n}\r\n\r\nfunction y_ii(g, f, l, k, e, j, h) {\r\n\treturn y_cmn(l ^ (f | (~k)), g, f, e, j, h);\r\n}\r\n\r\nfunction safe_add(a, e) {\r\n\tvar d = (a & 65535) + (e & 65535);\r\n\tvar c = (a >> 16) + (e >> 16) + (d >> 16);\r\n\treturn(c << 16) | (d & 65535);\r\n}\r\n\r\nfunction bit_rol(a, c) {\r\n\treturn(a << c) | (a >>> (32 - c));\r\n}\r\n\r\nfunction str2binl(e) {\r\n\tvar d = Array();\r\n\tvar a = (1 << chrsz) - 1;\r\n\tfor (var c = 0; c < e.length * chrsz; c += chrsz) {\r\n\t\td[c >> 5] |= (e.charCodeAt(c / chrsz) & a) << (c % 32);\r\n\t}\r\n\treturn d;\r\n}\r\n\r\nfunction binl2hex(d) {\r\n\tvar c = \"0123456789abcdef\";\r\n\tvar e = \"\";\r\n\tfor (var a = 0; a < d.length * 4; a++) {\r\n\t\te += c.charAt((d[a >> 2] >> ((a % 4) * 8 + 4)) & 15) + c.charAt((d[a >> 2] >> ((a % 4) * 8)) & 15);\r\n\t}\r\n\treturn e;\r\n}\r\n\r\nfunction y_vv(d) {\r\n\tvar a = \"\";\r\n\tfor (var c = d.length - 1; c >= 0; c--) {\r\n\t\ta += d.charAt(c);\r\n\t}\r\n\treturn a;\r\n}\r\n\r\nfunction yyt32(c, a) {\r\n\tif (a.length != 13) {\r\n\t\talert(\"timesign error !!!\");\r\n\t\treturn \"\";\r\n\t}\r\n\treturn hex_y(hex_y(c) + a.substring(5, 11));\r\n}\r\n\r\nfunction yyt16(c, a) {\r\n\tif (a.length != 13) {\r\n\t\talert(\"timesign error !!!\");\r\n\t\treturn \"\";\r\n\t}\r\n\treturn hex_y(hex_y_16(c) + a.substring(5, 11));\r\n}\r\n\r\nvar chrsz = 8;\r\nvar Auxiliary = require('auxiliary-additions');\r\nvar cookie =  Auxiliary.cookie;\r\n\r\nmodule.exports = function(p0) {\r\n\tvar t1, t2, p1, p2;\r\n\tt1 = \"\" + (new Date()).getTime();\r\n\tt2 = y_vv(t1);\r\n\tif (p0 && p0.length != 0) {\r\n\t\tp1 = yyt32(p0, t1);\r\n\t\tp2 = yyt16(p0, t2);\r\n\t} else {\r\n\t\tp1 = yyt32(t1, t2);\r\n\t\tp2 = yyt16(t2, t1);\r\n\t}\r\n\tcookie.set('p2', p2, {\r\n\t\tdomain : 'yinyuetai.com',\r\n\t\tpath : '/'\r\n\t});\r\n\treturn {\r\n\t\t_t : t1,\r\n\t\t_p1 : p1,\r\n\t\t_p2 : p2\r\n\t}\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/crypto/secret.js\n ** module id = 60\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","module.exports = \"<div style=\\\"padding: 20px 30px;\\\">\\r\\n  <p></p>\\r\\n  <p>\\r\\n    <a href=\\\"{homeSite}/settings/bind\\\" target=\\\"_blank\\\" class=\\\"special f14\\\"></a>\\r\\n  </p>\\r\\n</div>\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/UserModel/template/email.html\n ** module id = 61\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","/**\r\n * Created by AaronYuan on 3/14/16.\r\n * confirm \r\n *\r\n * \r\n *\r\n var  uiConfirm = require('ui.confirm');\r\n uiConfirm.show({\r\n            title: '',\r\n            content: '',\r\n            okFn: function () {\r\n                console.log('ok');\r\n            },\r\n            cancelFn: function () {\r\n                console.log('cancel');\r\n            }\r\n        });\r\n *\r\n */\r\n\r\n\r\nvar confirm = {};\r\nvar _ = require('underscore');\r\n\r\nvar setting = {\r\n  title: '',\r\n  content: '',\r\n  okFn: null,\r\n  cancelFn: null,\r\n  okBtn: true,\r\n  cancelBtn: true\r\n};\r\n\r\nconfirm.init = function (ops) {\r\n  var tpl = _.template(this.getHTML());\r\n  var html = tpl(ops);\r\n  this.remove();\r\n  this.bindEvent(html, ops.okFn, ops.cancelFn);\r\n};\r\n\r\nconfirm.remove = function () {\r\n  var wrap = $('#UIConfigWrap');\r\n  if (wrap && wrap.length >= 1) {\r\n    wrap.remove();\r\n  }\r\n};\r\n\r\nconfirm.getHTML = function () {\r\n  return require('./template/confirm.html');\r\n};\r\n\r\nconfirm.bindEvent = function (html, okFn, cancelFn) {\r\n  var self = this;\r\n  var ele = $(html);\r\n\r\n  ele.find('#UIConfirmOk').on('click', function (e) {\r\n    e.preventDefault();\r\n    if (okFn) {\r\n      okFn();\r\n    }\r\n    self.remove();\r\n    return false;\r\n  });\r\n  ele.find('.UIConfirmClose').on('click', function (e) {\r\n    e.preventDefault();\r\n    if (cancelFn) {\r\n      cancelFn();\r\n    }\r\n    self.remove();\r\n    return false;\r\n  });\r\n\r\n  $('body').append(ele);\r\n};\r\n\r\n/**\r\n *\r\n * @param options\r\n *  {\r\n   *  title: ''\r\n   *  content: ''\r\n   *  okFn: fun\r\n   *  cancelFn: fun\r\n  *  }\r\n */\r\nconfirm.show = function (options) {\r\n  var ops = _.extend(setting, options);\r\n  this.init(ops);\r\n};\r\nconfirm.close = function () {\r\n  this.remove();\r\n};\r\n\r\n\r\nmodule.exports = {\r\n  show: function (options) {\r\n    confirm.show(options);\r\n  },\r\n  close: function () {\r\n    confirm.close();\r\n  }\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/confirm/index.js\n ** module id = 62\n ** module chunks = 1 2 3 4 5 6 7 9\n **/","module.exports = \"<div id=\\\"UIConfigWrap\\\" class=\\\"shadow_screen\\\">\\r\\n    <div class=\\\"shadow\\\"></div>\\r\\n    <div class=\\\"edit_annmoucement_con\\\" style=\\\"margin-bottom: 16px; width: 400px;margin-left:-200px;\\\">\\r\\n        <h2 class=\\\"edit_title\\\"><span class=\\\"title\\\" id=\\\"UIConfirmTitle\\\"><%=title%></span> <span class=\\\"close icons am-yyt-close close-black UIConfirmClose\\\"></span></h2>\\r\\n        <div class=\\\"editCon\\\" style=\\\"\\\">\\r\\n            <div class=\\\"content\\\" style=\\\"padding:16px; font-size: 14px;\\\"><%=content%></div>\\r\\n            <p class=\\\"btn-wrap am-margin-top\\\" >\\r\\n                <a style=\\\"display: <%= okBtn?'inline-block':'none'%>;\\\" id=\\\"UIConfirmOk\\\" href=\\\"javascript:;\\\" class=\\\"boderRadAll_5 submit active am-margin-right\\\"></a>\\r\\n                <a style=\\\"display: <%= cancelBtn?'inline-block':'none'%>;\\\" href=\\\"javascript:;\\\" class=\\\"boderRadAll_5 cancel UIConfirmClose am-margin-left\\\"></a>\\r\\n            </p>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/confirm/template/confirm.html\n ** module id = 63\n ** module chunks = 1 2 3 4 5 6 7 9\n **/","/**\r\n * @time 2015-03-24\r\n * @author {}\r\n * @info \r\n */\r\n\r\n'use strict';\r\n\r\nvar sigleInstance = null;\r\nvar cacheData = null;\r\nvar _ = require('underscore');\r\n\r\nfunction GiftModel() {\r\n}\r\n\r\nGiftModel.prototype.get = function (data, okFn, errFn) {\r\n  if (cacheData && okFn) {\r\n    okFn(cacheData);\r\n  }\r\n  $.ajax('http://lapi.yinyuetai.com/gift/list.json', {\r\n    method: 'GET',\r\n    data: data,\r\n    dataType: 'jsonp',\r\n    jsonp: 'callback'\r\n  }).done(function (res) {\r\n    if (res) {\r\n      okFn(res);\r\n    }\r\n    cacheData = res;\r\n  }).fail(function (err) {\r\n    if (errFn) {\r\n      errFn(err);\r\n    }\r\n  });\r\n};\r\n\r\nGiftModel.prototype.findGift = function (giftId) {\r\n  var list = cacheData.data;\r\n  return _.find(list, function (item) {\r\n    return item.giftId === giftId;\r\n  });\r\n};\r\n\r\nGiftModel.sharedInstanceModel = function () {\r\n  if (!sigleInstance) {\r\n    sigleInstance = new GiftModel();\r\n  }\r\n  return sigleInstance;\r\n};\r\n\r\nmodule.exports = GiftModel;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/anchor/gift.model.js\n ** module id = 67\n ** module chunks = 1 3 5 7 9\n **/","/**\r\n * \r\n */\r\n'use strict';\r\n\r\nvar base = require('base-extend-backbone');\r\nvar Config = require('config');\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/room/manager_my_list.json',\r\n  beforeEmit: function beforeEmit() {\r\n    // \r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/live-room/permission.model.js\n ** module id = 68\n ** module chunks = 1 3 5 7\n **/","/**\r\n * Created by AaronYuan on 4/5/16.\r\n * \r\n */\r\n'use strict';\r\n\r\nvar AnchorUserInfoModel = require('../../models/anchor/anchor-info.model');\r\nvar base = require('base-extend-backbone');\r\nvar Storage = base.storage;\r\nvar UserModel = require('UserModel');\r\nvar user = UserModel.sharedInstanceUserModel();\r\nvar instance = null;\r\nvar _ = require('underscore');\r\n\r\nfunction UserInfoView() {\r\n}\r\n\r\nUserInfoView.prototype.getInfo = function (okFn, errFn) {\r\n  var promise;\r\n  this.anchorInfoModel = AnchorUserInfoModel.sharedInstanceModel();\r\n  this.anchorInfoParams = {\r\n    deviceinfo: '{\"aid\": \"30001001\"}',\r\n    access_token: user.getWebToken()\r\n  };\r\n  promise = this.anchorInfoModel.executeJSONP(this.anchorInfoParams);\r\n  promise.done(function (res) {\r\n    if (res && res.msg === 'SUCCESS') {\r\n      if (okFn) {\r\n        okFn(res.data);\r\n      }\r\n    }\r\n  });\r\n  promise.fail(function (err) {\r\n    if (errFn) {\r\n      errFn(err);\r\n    }\r\n  });\r\n};\r\n\r\ninstance = new UserInfoView();\r\n\r\nmodule.exports = {\r\n  getInfo: function (okFn, errFn) {\r\n    instance.getInfo(okFn, errFn);\r\n  },\r\n  isDisbaleTalk: function (userId, roomId) {\r\n    var list = Storage.get('userDisableTalkTime');\r\n    if (!list) {\r\n      return false;\r\n    }\r\n    try {\r\n      list = JSON.parse(list);\r\n    } catch (e) {\r\n      list = [];\r\n    }\r\n    var res = _.find(list, function (item) {\r\n      return item.roomId === roomId && item.userId === userId;\r\n    });\r\n    if (!res) {\r\n      return false;\r\n    }\r\n\r\n    var time = res.time;\r\n    if (!time) {\r\n      return false;\r\n    }\r\n\r\n    time = new Date(time);\r\n    var cur = new Date();\r\n    var diff = cur.getTime() - time.getTime();\r\n\r\n    return diff <= 0;\r\n  },\r\n  isKickout: function (roomId) {\r\n    var list = Storage.get('userKickout');\r\n    if (!list) {\r\n      return false;\r\n    }\r\n    try {\r\n      list = JSON.parse(list);\r\n    } catch (e) {\r\n      list = [];\r\n    }\r\n    var res = _.find(list, function (item) {\r\n      return item.roomId === roomId;\r\n    });\r\n    return !!res && res.isKickout;\r\n  },\r\n  setDisableTalk: function (userid, roomid, time) {\r\n    var list = Storage.get('userDisableTalkTime');\r\n    if (_.isNumber(list)) {\r\n      list = [];\r\n    }\r\n    if (!list) {\r\n      list = [];\r\n    }\r\n    try {\r\n      list = JSON.parse(list);\r\n    } catch (e) {\r\n      list = [];\r\n    }\r\n    var res = _.find(list, function (item) {\r\n      return item.roomId === roomid && item.userId === userid;\r\n    });\r\n\r\n    if (res) {\r\n      res.time = time;\r\n    } else {\r\n      list.push({\r\n        roomId: roomid,\r\n        userId: userid,\r\n        time: time\r\n      });\r\n    }\r\n    Storage.set('userDisableTalkTime', JSON.stringify(list));\r\n  },\r\n  setKickout: function (roomId, isKickout) {\r\n    var list = Storage.get('userKickout');\r\n    if (!list) {\r\n      list = [];\r\n    } else {\r\n      try {\r\n        list = JSON.parse(list);\r\n      } catch (e) {\r\n        list = [];\r\n      }\r\n    }\r\n    var res = _.find(list, function (item) {\r\n      return item.roomId === roomId;\r\n    });\r\n    if (res) {\r\n      res.isKickout = isKickout;\r\n    } else {\r\n      list.push({\r\n        roomId: roomId,\r\n        isKickout: isKickout\r\n      });\r\n    }\r\n    Storage.set('userKickout', JSON.stringify(list));\r\n  },\r\n  setLockScreen: function (roomId, isLock) {\r\n    var list = Storage.get('isLockScreen');\r\n    if (!list) {\r\n      list = [];\r\n    } else {\r\n      list = JSON.parse(list);\r\n    }\r\n    var res = _.find(list, function (item) {\r\n      return item.roomId === roomId;\r\n    });\r\n    if (res) {\r\n      res.isLock = isLock;\r\n    } else {\r\n      list.push({\r\n        roomId: roomId,\r\n        isLock: isLock\r\n      });\r\n    }\r\n    Storage.set('isLockScreen', JSON.stringify(list));\r\n  },\r\n  isLockScreen: function (roomId) {\r\n    var list = Storage.get('isLockScreen');\r\n    if (!list) {\r\n      return false;\r\n    }\r\n    list = JSON.parse(list);\r\n    var res = _.find(list, function (item) {\r\n      return item.roomId === roomId;\r\n    });\r\n    return !!res && res.isLock;\r\n  },\r\n  removeAll: function () {\r\n    Storage.set('isLockScreen', '');\r\n    Storage.set('userDisableTalkTime', '');\r\n    Storage.set('userKickout', '');\r\n  }\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/live-room/user.js\n ** module id = 69\n ** module chunks = 1 3 4 5 7 9\n **/","'use strict';\r\n\r\nvar base = require('base-extend-backbone');\r\nvar Config = require('config');\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/user/info.json', // \r\n  beforeEmit: function beforeEmit() {\r\n    // \r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/anchor/anchor-info.model.js\n ** module id = 70\n ** module chunks = 1 2 3 4 5 6 7 9\n **/","/**\r\n * \r\n */\r\n'use strict';\r\n\r\nvar _ = require('underscore');\r\nvar base = require('base-extend-backbone');\r\nvar BaseView = base.View;\r\n\r\nvar ListModel = require('../../models/advertising-wall/list.model');\r\nvar LikeModel = require('../../models/advertising-wall/like.model');\r\nvar CreateModel = require('../../models/advertising-wall/create.model');\r\nvar UserModel = require('UserModel');\r\nvar user = UserModel.sharedInstanceUserModel();\r\nvar LoopModel = require('../../models/advertising-wall/loop.model');\r\n\r\nvar msgBox = require('ui.msgBox');\r\nvar BusinessDate = require('BusinessDate');\r\n\r\nvar View = BaseView.extend({\r\n  el: '',\r\n  rawLoader: function () {\r\n    return require('./template/wall.html');\r\n  },\r\n  events: {\r\n    'click #btnShowCreate': 'showCreateClicked',\r\n    'click #btnBacktoList': 'backToList',\r\n    'click .wall-list': 'itemClicked',\r\n    'click #btnSendText': 'sendClicked',\r\n    'click .tabs a': 'tabClicked',\r\n    'click .colors a': 'chooseColorClicked',\r\n    'keyup #txtMsg': 'calcTextLength',\r\n    'click #unReadCnt': 'refreshUnreadList'\r\n  },\r\n  context: function (args) {\r\n    console.log(args);\r\n  },\r\n  beforeMount: function () {\r\n    //  \r\n    this.elements = {};\r\n\r\n    this.queryParams = {\r\n      deviceinfo: '{\"aid\": \"30001001\"}',\r\n      access_token: user.getWebToken()\r\n    };\r\n\r\n    // \r\n    this.loopTime = 60 * 1000;\r\n\r\n    this.listParams = _.extend({}, this.queryParams);\r\n\r\n    this.pageParams = {\r\n      newList: {\r\n        hasNext: true\r\n      },\r\n      hotList: {}\r\n    };\r\n\r\n    this.listModel = new ListModel();\r\n    this.likeModel = new LikeModel();\r\n    this.createModel = new CreateModel();\r\n    this.loopModel = new LoopModel();\r\n  },\r\n  afterMount: function () {\r\n    //  findDOMNode DOM Node\r\n    this.elements.showCreateDOM = this.$el.find('#btnShowCreate');\r\n    this.elements.showWhenCreateDom = this.$el.find('.show-when-create');\r\n    this.elements.showWhenListDom = this.$el.find('.show-when-list');\r\n    this.elements.boardDom = this.$el.find('.msg-board-wrap');\r\n\r\n    this.elements.txtInputDom = this.$el.find('#txtMsg');\r\n    this.elements.txtLengthDom = this.$el.find('#txtLength');\r\n    this.elements.anonymousDom = this.$el.find('#cbAnonymous');\r\n    this.elements.userScoreDom = this.$el.find('#userScore');\r\n    this.elements.unReadCnt = this.$el.find('#unReadCnt');\r\n\r\n    // \r\n    this.itemTpl = this.$el.find('#itemTpl').html();\r\n\r\n    this.newestListDOM = this.$el.find('.newList .am-u-sm-4');\r\n    this.hotListDOM = this.$el.find('.hotList .am-u-sm-4');\r\n\r\n    // \r\n    this.perItemFee = 5;\r\n  },\r\n  ready: function (ops) {\r\n    this.options = _.extend({\r\n      totalMarks: 0,\r\n      userInfo: {}\r\n    }, ops);\r\n    this.defineEventInterface();\r\n    this.lastTime = new Date();\r\n    // \r\n    this.elements.unReadCnt.text(0).hide();\r\n    //  \r\n    this.renderNewestList({\r\n      tag: 'first'\r\n    });\r\n    this.loopGetUnreadCount();\r\n    // this.renderHotList();\r\n    this.setUserInfo();\r\n\r\n    $('.msg-board-wrap .wall-list').on('scroll', this.tabScrollDown.bind(this));\r\n  },\r\n  setOptions: function (ops) {\r\n    this.options = _.extend(this.options, ops);\r\n  },\r\n  defineEventInterface: function () {},\r\n  beforeDestroy: function () {\r\n    //  ,null\r\n  },\r\n  destroyed: function () {\r\n    //  \r\n  },\r\n  // \r\n  showCreateClicked: function () {\r\n    this.elements.showWhenCreateDom.show();\r\n    this.elements.showWhenListDom.hide();\r\n    this.elements.boardDom.addClass('active-create');\r\n    this.randomSetColor();\r\n  },\r\n  // \r\n  backToList: function () {\r\n    this.elements.showWhenCreateDom.hide();\r\n    this.elements.showWhenListDom.show();\r\n    this.elements.boardDom.removeClass('active-create');\r\n  },\r\n\r\n  getData: function (ops) {\r\n    var self = this;\r\n    this.listParams = _.extend(this.listParams, {\r\n      subType: this.options.type || 1,\r\n      subId: self.options.roomId || 0,\r\n      sortField: 'TIME', // LIKE\r\n      limit: 9\r\n    }, ops);\r\n    return this.listModel.executeJSONP(this.listParams);\r\n  },\r\n  // \r\n  renderNewestList: function (ops) {\r\n    var self = this;\r\n    var promise = this.getData(ops);\r\n    if (!self.pageParams.newList.hasNext) {\r\n      return;\r\n    }\r\n    promise.done(function (res) {\r\n      self.isScrolling = false;\r\n      self.appendToNewestList(res.data.list || []);\r\n      if (res && res.code === '0') {\r\n        self.pageParams.newList = {\r\n          cursor: res.data.nextCursor || null,\r\n          hasNext: res.data.hasNext || false\r\n        };\r\n      }\r\n      if (ops && ops.tag === 'first' && _.isArray(res.data.list) && res.data.list.length <= 0) {\r\n        self.newestListDOM.eq(0).append('<div class=\"first\"></div>');\r\n      }\r\n    });\r\n  },\r\n  appendToNewestList: function (data) {\r\n    var htmls = this.createItemHtml(data);\r\n    this.newestListDOM.eq(0).find('.first').remove();\r\n    this.newestListDOM.eq(0).append(htmls[0]);\r\n    this.newestListDOM.eq(1).append(htmls[1]);\r\n    this.newestListDOM.eq(2).append(htmls[2]);\r\n  },\r\n  // \r\n  renderHotList: function (ops) {\r\n    var self = this;\r\n    var op = _.extend(ops, {\r\n      sortField: 'LIKE'\r\n    });\r\n\r\n    var promise = this.getData(op);\r\n    promise.done(function (res) {\r\n      self.isScrolling = false;\r\n      if (res && res.code === '0') {\r\n        self.pageParams.hotList = {\r\n          nextCursor: res.data.nextCursor || null,\r\n          hasNext: res.data.hasNext || false\r\n        };\r\n      }\r\n      self.appendToHotList(res.data.list || []);\r\n    });\r\n  },\r\n  appendToHotList: function (data) {\r\n    var htmls = this.createItemHtml(data);\r\n    this.hotListDOM.eq(0).append(htmls[0]);\r\n    this.hotListDOM.eq(1).append(htmls[1]);\r\n    this.hotListDOM.eq(2).append(htmls[2]);\r\n  },\r\n  createItemHtml: function (data) {\r\n    var html = '';\r\n    var self = this;\r\n    var result = [\r\n      [],\r\n      [],\r\n      []\r\n    ];\r\n    _.each(data, function (item, index) {\r\n      var curItem = item;\r\n      curItem.time = BusinessDate.format(new Date(item.createTime), 'yyyy-MM-dd hh:mm:ss');\r\n      html = self.compileHTML(self.itemTpl, curItem);\r\n      var res = index % 3;\r\n      switch (res) {\r\n        case 1:\r\n          result[1].push(html);\r\n          break;\r\n        case 2:\r\n          result[2].push(html);\r\n          break;\r\n        case 0:\r\n        default:\r\n          result[0].push(html);\r\n          break;\r\n      }\r\n    });\r\n    return result;\r\n  },\r\n  renderItem: function () {\r\n\r\n  },\r\n  itemClicked: function (e) {\r\n    var target = $(e.target);\r\n    if (!target.attr('data-likeid')) {\r\n      target = target.parent('a');\r\n    }\r\n    var liked = target.attr('data-liked') === 'true';\r\n    if (target.attr('data-likeid')) {\r\n      this.likeItem(target.attr('data-likeid'), target, !liked);\r\n    }\r\n  },\r\n  // \r\n  likeItem: function (id, dom, like) {\r\n    this.likeParams = _.extend(this.queryParams, {\r\n      subType: this.options.type,\r\n      cmtId: id,\r\n      like: like\r\n    });\r\n    var promise = this.likeModel.executeJSONP(this.likeParams);\r\n    var cnt = ~~dom.find('span').text();\r\n    promise.done(function (res) {\r\n      if (res && res.code === '0') {\r\n        dom.attr('data-liked', like ? 'true' : 'false');\r\n        dom.find('span').text(like ? cnt + 1 : cnt - 1);\r\n        dom.toggleClass('active');\r\n      } else {\r\n        msgBox.showTip(',');\r\n      }\r\n    });\r\n  },\r\n  // \r\n  tabClicked: function (e) {\r\n    var target = $(e.target);\r\n    var tab = target.attr('data-tab');\r\n    var link = $('.tabs a');\r\n    if (tab && !target.hasClass('active')) {\r\n      link.toggleClass('active');\r\n      $('.tab').hide();\r\n      $('.' + tab).show();\r\n    }\r\n  },\r\n  getSendText: function () {\r\n    var text = $.trim(this.elements.txtInputDom.val());\r\n    var reg = /<[^>]+?>/g;\r\n    text = text.replace(reg, '');\r\n    return text;\r\n  },\r\n  // \r\n  verifyText: function () {\r\n    var text = this.getSendText();\r\n    if (text.length > 200) {\r\n      msgBox.showTip('200');\r\n      return false;\r\n    } else if (text.length < 20) {\r\n      msgBox.showTip('20');\r\n      return false;\r\n    }\r\n    return true;\r\n  },\r\n  sendClicked: function () {\r\n    var isAnonymous = this.elements.anonymousDom.is(':checked');\r\n    var self = this;\r\n    if (this.verifyText()) {\r\n      this.createParams = _.extend({\r\n        subType: self.options.type,\r\n        subId: this.options.roomId,\r\n        isAnonymous: isAnonymous,\r\n        fontColor: this.selectedColor || '',\r\n        content: this.getSendText()\r\n      }, this.queryParams);\r\n\r\n      var promise = this.createModel.executeJSONP(this.createParams);\r\n\r\n      promise.done(function (res) {\r\n        if (res && res.code === '0') {\r\n          msgBox.showOK('!');\r\n          self.elements.txtInputDom.val('');\r\n          self.backToList();\r\n          self.options.userInfo.totalMarks -= self.perItemFee;\r\n          self.setUserInfo();\r\n          self.newestListDOM.children().remove();\r\n          self.pageParams.newList.hasNext = true;\r\n          self.renderNewestList({\r\n            cursor: null\r\n          });\r\n          // self.renderHotList();\r\n        } else {\r\n          msgBox.showError(res.msg || ',');\r\n        }\r\n      });\r\n    }\r\n  },\r\n  // \r\n  setTextColor: function (dom, color) {\r\n    if (dom && color) {\r\n      var col = this.rgb2hex(color + '');\r\n      dom.css('color', col);\r\n      this.selectedColor = col;\r\n    }\r\n  },\r\n  // \r\n  chooseColorClicked: function (e) {\r\n    var target = $(e.target);\r\n    var color = target.css('background-color');\r\n    target.parent('.colors').children().removeClass('active');\r\n    target.addClass('active');\r\n    this.setTextColor(this.elements.txtInputDom, color);\r\n  },\r\n  // \r\n  randomSetColor: function () {\r\n    var index = Math.random() * 10 % 5 ^ 0;\r\n    this.chooseColorClicked({\r\n      target: $('.colors a').eq(index)\r\n    });\r\n  },\r\n  // \r\n  calcTextLength: function () {\r\n    var txt = $.trim(this.elements.txtInputDom.val());\r\n    var maxLength = 200;\r\n    this.elements.txtLengthDom.text(maxLength - txt.length);\r\n  },\r\n  // 16\r\n  zeroFillHex: function (num, digits) {\r\n    var s = num.toString(16);\r\n    while (s.length < digits) {\r\n      s = '0' + s;\r\n    }\r\n    return s;\r\n  },\r\n  // \r\n  rgb2hex: function (rgb) {\r\n    if (rgb.charAt(0) === '#') {\r\n      return rgb;\r\n    }\r\n\r\n    var ds = rgb.split(/\\D+/);\r\n    var decimal = Number(ds[1]) * 65536 + Number(ds[2]) * 256 + Number(ds[3]);\r\n    return '#' + this.zeroFillHex(decimal, 6);\r\n  },\r\n  // \r\n  setUserInfo: function (userInfo) {\r\n    if (userInfo) {\r\n      this.options.userInfo = userInfo;\r\n    }\r\n    if (_.isNumber(this.options.userInfo.totalMarks)) {\r\n      this.elements.userScoreDom.text(this.options.userInfo.totalMarks || 0);\r\n    }\r\n  },\r\n  refreshUnreadList: function () {\r\n    this.lastTime = new Date();\r\n    this.elements.unReadCnt.text(0).hide();\r\n    $('.newList .am-u-sm-4').children().remove();\r\n    this.renderNewestList();\r\n    this.changeTab(0);\r\n  },\r\n  loopGetUnreadCount: function () {\r\n    var self = this;\r\n    var promise = this.loopModel.executeJSONP(_.extend({\r\n      subType: this.options.type,\r\n      subId: self.options.roomId,\r\n      lastTime: self.lastTime.getTime()\r\n    }, this.queryParams));\r\n    promise.done(function (res) {\r\n      if (res && res.code === '0' && res.data.newMsgCount > 0) {\r\n        // self.elements.unReadCnt.text(res.data.newMsgCount).show();\r\n        self.pageParams.newList.hasNext = true;\r\n\r\n        self.newestListDOM.children().remove();\r\n        self.renderNewestList();\r\n      }\r\n      setTimeout(function () {\r\n        self.loopGetUnreadCount();\r\n      }, self.loopTime);\r\n    });\r\n  },\r\n  // \r\n  changeTab: function (index) {\r\n    this.tabClicked({\r\n      target: $('.tabs a').eq(index)\r\n    });\r\n  },\r\n  tabScrollDown: function (e) {\r\n    var tag = $('.tab-menu .active').attr('data-tab') || 'newList';\r\n    var target = $(e.target);\r\n    var maxHeight = $('.' + tag).find('.am-u-sm-4').height() - 404;\r\n    var top = target.scrollTop();\r\n    if (this.isScrolling) {\r\n      return;\r\n    }\r\n    this.isScrolling = true;\r\n    var diff = maxHeight - top;\r\n    if (diff < 30 && this.pageParams[tag].hasNext) {\r\n      if (tag === 'newList') {\r\n        this.renderNewestList(this.pageParams[tag]);\r\n      } else {\r\n        // this.renderHotList(this.pageParams[tag]);\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\nmodule.exports = View;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/advertising-wall/main.view.js\n ** module id = 71\n ** module chunks = 1 3 5 7 9\n **/","/**\r\n * \r\n */\r\n'use strict';\r\n\r\nvar base = require('base-extend-backbone');\r\nvar Config = require('config');\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/common/love_cmt_list.json',\r\n  beforeEmit: function beforeEmit() {\r\n    // \r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/advertising-wall/list.model.js\n ** module id = 72\n ** module chunks = 1 3 5 7 9\n **/","/**\r\n * \r\n */\r\n'use strict';\r\n\r\nvar base = require('base-extend-backbone');\r\nvar Config = require('config');\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/common/love_cmt_like.json',\r\n  beforeEmit: function beforeEmit() {\r\n    // \r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/advertising-wall/like.model.js\n ** module id = 73\n ** module chunks = 1 3 5 7 9\n **/","/**\r\n * \r\n */\r\n'use strict';\r\n\r\nvar base = require('base-extend-backbone');\r\nvar Config = require('config');\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/common/love_cmt_create.json',\r\n  beforeEmit: function beforeEmit() {\r\n    // \r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/advertising-wall/create.model.js\n ** module id = 74\n ** module chunks = 1 3 5 7 9\n **/","/**\r\n * \r\n */\r\n'use strict';\r\n\r\nvar base = require('base-extend-backbone');\r\nvar Config = require('config');\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/common/love_cmt_new_msg_polling.json',\r\n  beforeEmit: function beforeEmit() {\r\n    // \r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/advertising-wall/loop.model.js\n ** module id = 75\n ** module chunks = 1 3 5 7 9\n **/","/**\r\n * Created by AaronYuan on 3/12/16.\r\n */\r\n\r\n/**\r\n * \r\n *\r\n * showError(msg);\r\n * showTip(msg);\r\n * showOK(msg);\r\n * showLoading(msg);\r\n *\r\n *\r\n * .show(msgHtml, type, timeout, opts){}\r\n *      msgHtml: \r\n *      type:    1   -   \r\n *                      2   -   \r\n *                      3   -   \r\n *                      4   -   \r\n *      timeout: ,\r\n *      opts: ,null\r\n *\r\n *\r\n * .hide()\r\n */\r\n\r\n//require('/style/msgbox.css');\r\nvar ZENG = {};\r\n\r\nZENG.dom = {\r\n    getById: function (id) {\r\n        return document.getElementById(id);\r\n    }, get: function (e) {\r\n        return (typeof (e) == \"string\") ? document.getElementById(e) : e;\r\n    }, createElementIn: function (tagName, elem, insertFirst, attrs) {\r\n        var _e = (elem = ZENG.dom.get(elem) || document.body).ownerDocument.createElement(tagName || \"div\"), k;\r\n        if (typeof (attrs) == 'object') {\r\n            for (k in attrs) {\r\n                if (k == \"class\") {\r\n                    _e.className = attrs[k];\r\n                } else if (k == \"style\") {\r\n                    _e.style.cssText = attrs[k];\r\n                } else {\r\n                    _e[k] = attrs[k];\r\n                }\r\n            }\r\n        }\r\n        insertFirst ? elem.insertBefore(_e, elem.firstChild) : elem.appendChild(_e);\r\n        return _e;\r\n    }, getStyle: function (el, property) {\r\n        el = ZENG.dom.get(el);\r\n        if (!el || el.nodeType == 9) {\r\n            return null;\r\n        }\r\n        var w3cMode = document.defaultView && document.defaultView.getComputedStyle, computed = !w3cMode ? null : document.defaultView.getComputedStyle(el, ''), value = \"\";\r\n        switch (property) {\r\n            case \"float\":\r\n                property = w3cMode ? \"cssFloat\" : \"styleFloat\";\r\n                break;\r\n            case \"opacity\":\r\n                if (!w3cMode) {\r\n                    var val = 100;\r\n                    try {\r\n                        val = el.filters['DXImageTransform.Microsoft.Alpha'].opacity;\r\n                    } catch (e) {\r\n                        try {\r\n                            val = el.filters('alpha').opacity;\r\n                        } catch (e) {\r\n                        }\r\n                    }\r\n                    return val / 100;\r\n                } else {\r\n                    return parseFloat((computed || el.style)[property]);\r\n                }\r\n                break;\r\n            case \"backgroundPositionX\":\r\n                if (w3cMode) {\r\n                    property = \"backgroundPosition\";\r\n                    return ((computed || el.style)[property]).split(\" \")[0];\r\n                }\r\n                break;\r\n            case \"backgroundPositionY\":\r\n                if (w3cMode) {\r\n                    property = \"backgroundPosition\";\r\n                    return ((computed || el.style)[property]).split(\" \")[1];\r\n                }\r\n                break;\r\n        }\r\n        if (w3cMode) {\r\n            return (computed || el.style)[property];\r\n        } else {\r\n            return (el.currentStyle[property] || el.style[property]);\r\n        }\r\n    }, setStyle: function (el, properties, value) {\r\n        if (!(el = ZENG.dom.get(el)) || el.nodeType != 1) {\r\n            return false;\r\n        }\r\n        var tmp, bRtn = true, w3cMode = (tmp = document.defaultView) && tmp.getComputedStyle, rexclude = /z-?index|font-?weight|opacity|zoom|line-?height/i;\r\n        if (typeof (properties) == 'string') {\r\n            tmp = properties;\r\n            properties = {};\r\n            properties[tmp] = value;\r\n        }\r\n        for (var prop in properties) {\r\n            value = properties[prop];\r\n            if (prop == 'float') {\r\n                prop = w3cMode ? \"cssFloat\" : \"styleFloat\";\r\n            } else if (prop == 'opacity') {\r\n                if (!w3cMode) {\r\n                    prop = 'filter';\r\n                    value = value >= 1 ? '' : ('alpha(opacity=' + Math.round(value * 100) + ')');\r\n                }\r\n            } else if (prop == 'backgroundPositionX' || prop == 'backgroundPositionY') {\r\n                tmp = prop.slice(-1) == 'X' ? 'Y' : 'X';\r\n                if (w3cMode) {\r\n                    var v = ZENG.dom.getStyle(el, \"backgroundPosition\" + tmp);\r\n                    prop = 'backgroundPosition';\r\n                    typeof (value) == 'number' && (value = value + 'px');\r\n                    value = tmp == 'Y' ? (value + \" \" + (v || \"top\")) : ((v || 'left') + \" \" + value);\r\n                }\r\n            }\r\n            if (typeof el.style[prop] != \"undefined\") {\r\n                el.style[prop] = value + (typeof value === \"number\" && !rexclude.test(prop) ? 'px' : '');\r\n                bRtn = bRtn && true;\r\n            } else {\r\n                bRtn = bRtn && false;\r\n            }\r\n        }\r\n        return bRtn;\r\n    }, getScrollTop: function (doc) {\r\n        var _doc = doc || document;\r\n        return Math.max(_doc.documentElement.scrollTop, _doc.body.scrollTop);\r\n    }, getClientHeight: function (doc) {\r\n        var _doc = doc || document;\r\n        return _doc.compatMode == \"CSS1Compat\" ? _doc.documentElement.clientHeight : _doc.body.clientHeight;\r\n    }\r\n};\r\n\r\nZENG.string = {\r\n    RegExps: {\r\n        trim: /^\\s+|\\s+$/g,\r\n        ltrim: /^\\s+/,\r\n        rtrim: /\\s+$/,\r\n        nl2br: /\\n/g,\r\n        s2nb: /[\\x20]{2}/g,\r\n        URIencode: /[\\x09\\x0A\\x0D\\x20\\x21-\\x29\\x2B\\x2C\\x2F\\x3A-\\x3F\\x5B-\\x5E\\x60\\x7B-\\x7E]/g,\r\n        escHTML: {re_amp: /&/g, re_lt: /</g, re_gt: />/g, re_apos: /\\x27/g, re_quot: /\\x22/g},\r\n        escString: {bsls: /\\\\/g, sls: /\\//g, nl: /\\n/g, rt: /\\r/g, tab: /\\t/g},\r\n        restXHTML: {re_amp: /&amp;/g, re_lt: /&lt;/g, re_gt: /&gt;/g, re_apos: /&(?:apos|#0?39);/g, re_quot: /&quot;/g},\r\n        write: /\\{(\\d{1,2})(?:\\:([xodQqb]))?\\}/g,\r\n        isURL: /^(?:ht|f)tp(?:s)?\\:\\/\\/(?:[\\w\\-\\.]+)\\.\\w+/i,\r\n        cut: /[\\x00-\\xFF]/,\r\n        getRealLen: {r0: /[^\\x00-\\xFF]/g, r1: /[\\x00-\\xFF]/g},\r\n        format: /\\{([\\d\\w\\.]+)\\}/g\r\n    }, commonReplace: function (s, p, r) {\r\n        return s.replace(p, r);\r\n    }, format: function (str) {\r\n        var args = Array.prototype.slice.call(arguments), v;\r\n        str = String(args.shift());\r\n        if (args.length == 1 && typeof (args[0]) == 'object') {\r\n            args = args[0];\r\n        }\r\n        ZENG.string.RegExps.format.lastIndex = 0;\r\n        return str.replace(ZENG.string.RegExps.format, function (m, n) {\r\n            v = ZENG.object.route(args, n);\r\n            return v === undefined ? m : v;\r\n        });\r\n    }\r\n};\r\n\r\n\r\nZENG.object = {\r\n    routeRE: /([\\d\\w_]+)/g,\r\n    route: function (obj, path) {\r\n        obj = obj || {};\r\n        path = String(path);\r\n        var r = ZENG.object.routeRE, m;\r\n        r.lastIndex = 0;\r\n        while ((m = r.exec(path)) !== null) {\r\n            obj = obj[m[0]];\r\n            if (obj === undefined || obj === null) {\r\n                break;\r\n            }\r\n        }\r\n        return obj;\r\n    }\r\n};\r\n\r\n\r\nvar ua = ZENG.userAgent = {}, agent = navigator.userAgent;\r\nua.ie = 9 - ((agent.indexOf('Trident/5.0') > -1) ? 0 : 1) - (window.XDomainRequest ? 0 : 1) - (window.XMLHttpRequest ? 0 : 1);\r\n\r\n\r\nif (typeof (ZENG.msgbox) == 'undefined') {\r\n    ZENG.msgbox = {};\r\n}\r\nZENG.msgbox._timer = null;\r\nZENG.msgbox.loadingAnimationPath = ZENG.msgbox.loadingAnimationPath || (\"loading.gif\");\r\nZENG.msgbox.show = function (msgHtml, type, timeout, opts) {\r\n    if (typeof (opts) == 'number') {\r\n        opts = {topPosition: opts};\r\n    }\r\n    opts = opts || {};\r\n    var _s = ZENG.msgbox,\r\n        template = '<span class=\"zeng_msgbox_layer\" style=\"display:none;z-index:10000;\" id=\"mode_tips_v2\"><span class=\"gtl_ico_{type}\"></span>{loadIcon}{msgHtml}<span class=\"gtl_end\"></span></span>', loading = '<span class=\"gtl_ico_loading\"></span>', typeClass = [0, 0, 0, 0, \"succ\", \"fail\", \"clear\"], mBox, tips;\r\n    _s._loadCss && _s._loadCss(opts.cssPath);\r\n    mBox = ZENG.dom.get(\"q_Msgbox\") || ZENG.dom.createElementIn(\"div\", document.body, false, {className: \"zeng_msgbox_layer_wrap\"});\r\n    mBox.id = \"q_Msgbox\";\r\n    mBox.style.display = \"\";\r\n    mBox.innerHTML = ZENG.string.format(template, {\r\n        type: typeClass[type] || \"hits\",\r\n        msgHtml: msgHtml || \"\",\r\n        loadIcon: type == 6 ? loading : \"\"\r\n    });\r\n    _s._setPosition(mBox, timeout, opts.topPosition);\r\n};\r\nZENG.msgbox._setPosition = function (tips, timeout, topPosition) {\r\n    timeout = timeout || 5000;\r\n    var _s = ZENG.msgbox, bt = ZENG.dom.getScrollTop(), ch = ZENG.dom.getClientHeight(), t = Math.floor(ch / 2) - 40;\r\n    ZENG.dom.setStyle(tips, \"top\", ((document.compatMode == \"BackCompat\" || ZENG.userAgent.ie < 7) ? bt : 0) + ((typeof (topPosition) == \"number\") ? topPosition : t) + \"px\");\r\n    clearTimeout(_s._timer);\r\n    tips.firstChild.style.display = \"\";\r\n    timeout && (_s._timer = setTimeout(_s.hide, timeout));\r\n};\r\nZENG.msgbox.hide = function (timeout) {\r\n    var _s = ZENG.msgbox;\r\n    if (timeout) {\r\n        clearTimeout(_s._timer);\r\n        _s._timer = setTimeout(_s._hide, timeout);\r\n    } else {\r\n        _s._hide();\r\n    }\r\n};\r\nZENG.msgbox._hide = function () {\r\n    var _mBox = ZENG.dom.get(\"q_Msgbox\"), _s = ZENG.msgbox;\r\n    clearTimeout(_s._timer);\r\n    if (_mBox) {\r\n        var _tips = _mBox.firstChild;\r\n        ZENG.dom.setStyle(_mBox, \"display\", \"none\");\r\n    }\r\n};\r\n\r\nmodule.exports = {\r\n    showError: function(msgHtml){\r\n        ZENG.msgbox.show(msgHtml, 5, 1000);\r\n    },\r\n    showTip: function(msgHtml){\r\n        ZENG.msgbox.show(msgHtml, 1, 1000);\r\n    },\r\n    showOK: function(msgHtml){\r\n        ZENG.msgbox.show(msgHtml, 4, 1000);\r\n    },\r\n    showLoading: function(msgHtml){\r\n        ZENG.msgbox.show(msgHtml, 6, 1000);\r\n    },\r\n    show: function(msgHtml, type, timeout, opts){\r\n        ZENG.msgbox.show(msgHtml, type, timeout, opts);\r\n    },\r\n    hide: function(timeout){\r\n        ZENG.msgbox.hide(timeout);\r\n    }\r\n};\r\n\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/msgbox/index.js\n ** module id = 76\n ** module chunks = 1 2 3 4 5 6 7 8 9\n **/","\r\nvar BusinessDate = function (long) {\r\n  this.temp = new Date();\r\n  this.setCurNewDate(long);\r\n};\r\n/**\r\n * [changeYear ]\r\n * @param  {[type]} value [description]\r\n * @return {[type]}       [description]\r\n */\r\nBusinessDate.prototype.changeYear = function (value) {\r\n  this.temp.setFullYear(value);\r\n};\r\n/**\r\n * [getCountDays ]\r\n * @param  {[type]} value [description]\r\n * @return {[type]}       [description]\r\n */\r\nBusinessDate.prototype.getCountDays = function (value) {\r\n  this.temp.setMonth(value);\r\n  this.temp.setDate(0);\r\n  return this.temp.getDate();\r\n};\r\n/**\r\n * [$get ]\r\n * @param  {[type]} key [description]\r\n * @return {[type]}     [description]\r\n */\r\nBusinessDate.prototype.$get = function (key) {\r\n  return this.attrs[key];\r\n};\r\n/**\r\n * [ceilYear ]\r\n * @param  {[type]} value [description]\r\n * @return {[type]}       [description]\r\n */\r\nBusinessDate.prototype.ceilYear = function (value) {\r\n  var val = ~~value;\r\n  var i = 0;\r\n  var year = this.$get('year');\r\n  var result = [];\r\n  for (; i <= val; i++) {\r\n    result.push(year);\r\n    year = year + 1;\r\n  }\r\n  return result;\r\n};\r\nBusinessDate.prototype._downDisplacement = function (key) {\r\n  var start = this.$get(key);\r\n  var result = [];\r\n  var end;\r\n  switch (key) {\r\n    case 'month':\r\n      end = 12;\r\n      break;\r\n    case 'day':\r\n      end = this.getCountDays(this.$get('month'));\r\n      break;\r\n    case 'hours':\r\n      end = 23;\r\n      break;\r\n    default:\r\n      end = 59;\r\n      break;\r\n  }\r\n  for (; start <= end; start++) {\r\n    result.push(start);\r\n  }\r\n  return result;\r\n};\r\n/**\r\n * [downMonth ]\r\n * @return {[type]} [description]\r\n */\r\nBusinessDate.prototype.downMonth = function () {\r\n  return this._downDisplacement('month');\r\n};\r\n/**\r\n * [downDay ]\r\n * @return {[type]} [description]\r\n */\r\nBusinessDate.prototype.downDay = function () {\r\n  return this._downDisplacement('day');\r\n};\r\n/**\r\n * [downHours ]\r\n * @return {[type]} [description]\r\n */\r\nBusinessDate.prototype.downHours = function () {\r\n  return this._downDisplacement('hours');\r\n};\r\n/**\r\n * [downMinutes ]\r\n * @return {[type]} [description]\r\n */\r\nBusinessDate.prototype.downMinutes = function () {\r\n  return this._downDisplacement('minutes');\r\n};\r\n/**\r\n * [down ]\r\n * @param  {[type]} value [description]\r\n * @return {[type]}       [description]\r\n */\r\nBusinessDate.prototype.down = function (value) {\r\n  return this._downDisplacement(value);\r\n};\r\n/**\r\n * [getTime ]\r\n * @param  {[type]} obj [description]\r\n * @return {[type]}     [description]\r\n */\r\nBusinessDate.prototype.getTime = function (obj) {\r\n  var val = '';\r\n  var month = obj.month < 10 ? '0' + obj.month : obj.month;\r\n  var day = obj.day < 10 ? '0' + obj.day : obj.day;\r\n  var hours = obj.hours < 10 ? '0' + obj.hours : obj.hours;\r\n  var minutes = obj.minutes < 10 ? '0' + obj.minutes : obj.minutes;\r\n  val += obj.year + '-' + month + '-' + day + ' ';\r\n  val += hours + ':' + minutes + ':00';\r\n  return new Date(val.replace(/-/g, '/')).getTime();\r\n};\r\n/**\r\n * [setCurNewDate ]\r\n */\r\nBusinessDate.prototype.setCurNewDate = function (long) {\r\n  this.date = null;\r\n  this.date = long ? new Date(long) : new Date();\r\n  this._setAttrs();\r\n};\r\nBusinessDate.prototype._setAttrs = function () {\r\n  this.attrs = null;\r\n  this.attrs = {\r\n    year: this.date.getFullYear(),\r\n    month: this.date.getMonth() + 1,\r\n    day: this.date.getDate(),\r\n    hours: this.date.getHours(),\r\n    minutes: this.date.getMinutes()\r\n  };\r\n};\r\n/**\r\n * [difference ]\r\n * @param  {[type]} duration [description]\r\n * @return {[type]}          [description]\r\n */\r\nBusinessDate.difference = function (duration) {\r\n  var result = {};\r\n  result.day = parseInt(duration / (24 * 3600 * 1000), 10);\r\n  var leave1 = duration % (24 * 3600 * 1000);\r\n  var hour = Math.floor(leave1 / (3600 * 1000));\r\n  result.hours = hour < 10 ? '0' + hour : hour;\r\n  var leave2 = leave1 % (3600 * 1000);\r\n  var minutes = Math.floor(leave2 / (60 * 1000));\r\n  result.minutes = minutes < 10 ? '0' + minutes : minutes;\r\n  var leave3 = leave2 % (60 * 1000);\r\n  var seconds = Math.floor(leave3 / 1000);\r\n  result.seconds = seconds < 10 ? '0' + seconds : seconds;\r\n  return result;\r\n};\r\nvar shared = null;\r\nBusinessDate.sharedInstanceBusinessDate = function () {\r\n  if (!shared) {\r\n    shared = new BusinessDate();\r\n  }\r\n  return shared;\r\n};\r\nBusinessDate.format = function (date, fmt) { // author: meizz\r\n  var o = {\r\n    'M+': date.getMonth() + 1,                 // \r\n    'd+': date.getDate(),                    // \r\n    'h+': date.getHours(),                   // \r\n    'm+': date.getMinutes(),                 // \r\n    's+': date.getSeconds(),                 // \r\n    'q+': Math.floor((date.getMonth() + 3) / 3), // \r\n    S: date.getMilliseconds()             // \r\n  };\r\n  var format = fmt;\r\n  var k;\r\n  var temp;\r\n  if (/(y+)/.test(format)) {\r\n    format = format.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\r\n  }\r\n  for (k in o) {\r\n    if (new RegExp('(' + k + ')').test(format)) {\r\n      temp = (RegExp.$1.length === 1) ? (o[k]) : (('00' + o[k]).substr(('' + o[k]).length));\r\n      format = format.replace(RegExp.$1, temp);\r\n    }\r\n  }\r\n  return format;\r\n};\r\n\r\nmodule.exports = BusinessDate;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/BusinessDate/index.js\n ** module id = 77\n ** module chunks = 1 2 3 4 5 6 7 9 10\n **/","module.exports = \"<!--<div class=\\\"msg-board-wrap  active-create\\\">-->\\r\\n<div class=\\\"msg-board-wrap\\\">\\r\\n  <div class=\\\"header am-cf\\\">\\r\\n    <span class=\\\"title\\\"></span>\\r\\n    <a id=\\\"btnShowCreate\\\" class=\\\"show-when-list am-btn am-btn-purple am-fr am-round\\\"></a>\\r\\n    <!-- <div class=\\\"tabs am-fr show-when-list tab-menu\\\">\\r\\n      <a data-tab=\\\"newList\\\" href=\\\"javascript:;\\\" class=\\\"active\\\"><span id=\\\"unReadCnt\\\" class=\\\"boderRadAll_5 am-round \\\">99</span></a>\\r\\n      <a data-tab=\\\"hotList\\\" href=\\\"javascript:;\\\"></a>\\r\\n    </div> -->\\r\\n    <!-- -->\\r\\n    <a id=\\\"btnBacktoList\\\" href=\\\"javascript:;\\\" class=\\\"am-fr show-when-create btn-back-wrap am-margin-top\\\">\\r\\n      <i class=\\\"back\\\"></i> \\r\\n    </a>\\r\\n  </div>\\r\\n  <!--  -->\\r\\n  <script type=\\\"text/html\\\" id=\\\"itemTpl\\\">\\r\\n    <div class=\\\"item\\\">\\r\\n      <p class=\\\"detail am-text-break\\\" style=\\\"color:{{fontColor}}\\\">\\r\\n        {{content}}\\r\\n      </p>\\r\\n      <div class=\\\"sender\\\">\\r\\n        <div class=\\\"am-g\\\">\\r\\n          <div class=\\\"am-u-sm-2\\\">\\r\\n            {{if anonymous}}\\r\\n            <span class=\\\"anonymous\\\"></span>\\r\\n            {{else}}\\r\\n            <img src=\\\"{{user.largeAvatar}}\\\" class=\\\"avatar am-circle\\\">\\r\\n            {{/if}}\\r\\n          </div>\\r\\n          <div class=\\\"am-u-sm-10 info\\\">\\r\\n            <p class=\\\"name\\\">{{anonymous ?'': user.nickName}}</p>\\r\\n            <p class=\\\"send-time\\\"><span class=\\\"am-margin-left-sm\\\">{{time}}</span></p>\\r\\n            <a class=\\\"btn-like am-btn am-round am-vertical-align {{liked?'active':''}}\\\" data-likeid=\\\"{{id}}\\\" data-liked=\\\"{{liked+''}}\\\">\\r\\n              <i class=\\\"icon-heart am-vertical-align-middle\\\"></i>\\r\\n              <span class=\\\"am-vertical-align-middle\\\">{{likeCount}}</span>\\r\\n            </a>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </script>\\r\\n\\r\\n  <div class=\\\"content am-g show-when-list wall-list\\\">\\r\\n    <!---->\\r\\n    <div class=\\\"tab newList\\\">\\r\\n      <div class=\\\"am-u-sm-4 column-0\\\">\\r\\n        <!---->\\r\\n        <!--<div class=\\\"item\\\"><p class=\\\"detail am-text-break\\\">-->\\r\\n        <!--sfaslfjasdkfjasl;fjal;sjdf;aklsjdfkl;asjfl;adsj;lfsldkfkl;sjfkl</p>-->\\r\\n        <!--<div class=\\\"sender\\\">-->\\r\\n        <!--<div class=\\\"am-g\\\">-->\\r\\n        <!--<div class=\\\"am-u-sm-2\\\"><img-->\\r\\n        <!--src=\\\"http://img1.c.yinyuetai.com/user/avatar/160502/10392675/-M-fa3f63fbbca174fa3457f1bc313236b3_20x20.jpg\\\"-->\\r\\n        <!--class=\\\"avatar am-circle\\\"></div>-->\\r\\n        <!--<div class=\\\"am-u-sm-10 info\\\"><p class=\\\"name\\\">asfsadfasf</p>-->\\r\\n        <!--<p class=\\\"send-time\\\"><span class=\\\"am-margin-left-sm\\\">2016-10-23 34:34:00</span></p><a-->\\r\\n        <!--class=\\\"btn-like am-btn am-round am-vertical-align\\\"><i-->\\r\\n        <!--class=\\\"icon-heart am-vertical-align-middle\\\"></i><span-->\\r\\n        <!--class=\\\"am-vertical-align-middle\\\">32433</span></a></div>-->\\r\\n        <!--</div>-->\\r\\n        <!--</div>-->\\r\\n        <!--</div>-->\\r\\n      </div>\\r\\n      <div class=\\\"am-u-sm-4 column-1\\\">\\r\\n        <!---->\\r\\n      </div>\\r\\n      <div class=\\\"am-u-sm-4 column-2\\\">\\r\\n        <!---->\\r\\n      </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n    <!---->\\r\\n    <div class=\\\"tab hotList Hidden\\\">\\r\\n      <div class=\\\"am-u-sm-4 column-0\\\">\\r\\n        <!---->\\r\\n      </div>\\r\\n      <div class=\\\"am-u-sm-4 column-1\\\">\\r\\n        <!---->\\r\\n      </div>\\r\\n      <div class=\\\"am-u-sm-4 column-2\\\">\\r\\n        <!---->\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n\\r\\n  <!---->\\r\\n  <div class=\\\"content show-when-create create-wrap am-margin-top-lg Hidden\\\">\\r\\n    <div class=\\\"top am-margin-left am-padding-horizontal\\\">\\r\\n      ,!\\r\\n    </div>\\r\\n    <div class=\\\"am-g am-padding-horizontal\\\">\\r\\n      <div class=\\\"am-u-sm-8\\\">\\r\\n        <textarea class=\\\"input-text boderRadAll_5\\\" placeholder=\\\"\\\" name=\\\"\\\" id=\\\"txtMsg\\\" cols=\\\"30\\\" rows=\\\"10\\\"></textarea>\\r\\n        <div class=\\\"options-wrap am-vertical-align am-margin-top\\\">\\r\\n          <div class=\\\"color-wrap am-vertical-align-middle\\\">\\r\\n            :\\r\\n            <!--<span class=\\\"color-title\\\"></span>-->\\r\\n            <div class=\\\"colors\\\">\\r\\n              <a class=\\\"black am-circle active\\\" href=\\\"javascript:;\\\"></a>\\r\\n              <a class=\\\"red am-circle\\\" href=\\\"javascript:;\\\"></a>\\r\\n              <a class=\\\"yellow am-circle\\\" href=\\\"javascript:;\\\"></a>\\r\\n              <a class=\\\"green am-circle\\\" href=\\\"javascript:;\\\"></a>\\r\\n              <a class=\\\"blue am-circle\\\" href=\\\"javascript:;\\\"></a>\\r\\n              <a class=\\\"purple am-circle\\\" href=\\\"javascript:;\\\"></a>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"am-checkbox-inline am-vertical-align-middle am-margin-left\\\">\\r\\n            <label>\\r\\n              <input id=\\\"cbAnonymous\\\" type=\\\"checkbox\\\"> \\r\\n            </label>\\r\\n          </div>\\r\\n          <div class=\\\"tip am-vertical-align-middle\\\"><span id=\\\"txtLength\\\" class=\\\"red\\\">200</span></div>\\r\\n        </div>\\r\\n        <div class=\\\"am-cf\\\">\\r\\n          <button id=\\\"btnSendText\\\" class=\\\"am-btn am-btn-red am-fr boderRadAll_3 am-margin-top-xl\\\"></button>\\r\\n        </div>\\r\\n        <div class=\\\"am-cf\\\">\\r\\n          <span class=\\\"am-fr send-tip\\\">5,<span id=\\\"userScore\\\" class=\\\"red\\\">0</span></span>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"input-tip am-u-sm-4\\\">20!200.\\r\\n        <p>,.</p>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/advertising-wall/template/wall.html\n ** module id = 78\n ** module chunks = 1 3 5 7 9\n **/","var flashTemp =\r\n  '<object width=\"{width}\" height=\"{height}\"  align=\"middle\"' +\r\n  'id=\"{id}\" type=\"application/x-shockwave-flash\" ' +\r\n  'classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\">' +\r\n  '<param value=\"{src}\" name=\"movie\">' +\r\n  '<param value=\"{always}\" name=\"allowscriptaccess\">' +\r\n  '<param value=\"{fullscreen}\" name=\"allowfullscreen\">' +\r\n  '<param value=\"{quality}\" name=\"quality\">' +\r\n  '<param value=\"{flashvars}\" name=\"flashvars\">' +\r\n  '<param value=\"{wmode}\" name=\"wmode\" />' +\r\n  '<embed width=\"{width}\" height=\"{height}\"  name=\"{id}\"' +\r\n  'type=\"application/x-shockwave-flash\" src=\"{src}\" allowscriptaccess=\"{always}\"' +\r\n  'allowfullscreen=\"{fullscreen}\" quality=\"{quality}\"  wmode=\"{wmode}\" flashvars=\"{flashvars}\" />' +\r\n  '</object>';\r\nvar win = window;\r\nvar origin = win.location.origin;\r\nvar uid = 999;\r\nwin.YYTPCFlashReadyState = false;\r\nvar getSwfDOM = function (id) {\r\n  var swf;\r\n  var embed;\r\n  var el = document.getElementById(id) || null;\r\n  if (el && el.nodeName.toUpperCase() === 'OBJECT') {\r\n    if (typeof el.SetVariable !== 'undefined') {\r\n      swf = el;\r\n    } else {\r\n      embed = el.getElementsByTagName('embed')[0];\r\n      if (embed) {\r\n        swf = embed;\r\n      }\r\n    }\r\n  }\r\n  return swf;\r\n};\r\nvar render = function (tpl, data) {\r\n  if (data) {\r\n    return tpl.replace(/\\{(.*?)\\}/ig, function () {\r\n      return data[arguments[1]] || '';\r\n    });\r\n  }\r\n  return tpl;\r\n};\r\nvar FlashApi = function (options) {\r\n  this.$el = typeof options.el === 'string' ? document.getElementById(options.el) : options.el;\r\n  this._options = options;\r\n  this._props = options.props || {};\r\n  this.$attrs = {\r\n    id: 'YYTFlash' + (uid++), //  id\r\n    src: this._props.src || origin + '/flash/RTMPInplayer.swf?t=20160713.19', //  swf\r\n    width: this._props.width || 895,\r\n    height: this._props.height || 502,\r\n    wmode: this._props.wmode || 'transparent', // \r\n    flashvar: this._props.flashvar || '', //  \r\n    always: this._props.always || 'always', //  \r\n    fullscreen: this._props.fullscreen || true, //  \r\n    quality: this._props.quality || 'high'\r\n  };\r\n  this._html = render(flashTemp, this.$attrs);\r\n  this._methods = options.methods || {};\r\n  this._ready = false;\r\n  this._init();\r\n};\r\n\r\nFlashApi.prototype._init = function () {\r\n  this.$el.innerHTML = this._html;\r\n  this.$swf = getSwfDOM(this.$attrs.id);\r\n};\r\n\r\nFlashApi.prototype.onReady = function (callback) {\r\n  var self = this;\r\n  if (win.YYTPCFlashReadyState || this._ready) {\r\n    callback.call(this);\r\n  } else {\r\n    this.$timer = setInterval(function () {\r\n      if (win.YYTPCFlashReadyState) {\r\n        self._ready = true;\r\n        win.YYTPCFlashReadyState = false;\r\n        clearInterval(self.$timer);\r\n        self.$timer = null;\r\n        callback.call(self);\r\n      }\r\n    }, 0);\r\n  }\r\n};\r\n\r\nFlashApi.prototype.init = function (data) {\r\n  this.$swf.initData(data);\r\n};\r\n\r\nFlashApi.prototype.isReady = function () {\r\n  return this._ready;\r\n};\r\n\r\nFlashApi.prototype.addUrl = function (url, name) {\r\n  this.$swf.setvedioUrl(url, name);\r\n};\r\n\r\nFlashApi.prototype.width = function (value) {\r\n  var val = value;\r\n  if (typeof val === 'string') {\r\n    val = ~~val;\r\n  }\r\n  this.$swf.setPlayerWidth(val);\r\n};\r\n\r\nFlashApi.prototype.height = function (value) {\r\n  var val = value;\r\n  if (typeof val === 'string') {\r\n    val = ~~val;\r\n  }\r\n  this.$swf.setPlayerHeight(val);\r\n};\r\n\r\nFlashApi.prototype.notifying = function (obj) {\r\n  this.$swf.setOneMessageInchat(JSON.stringify(obj));\r\n};\r\n\r\nFlashApi.prototype.clear = function () {\r\n  this.$swf.clearAllMessage();\r\n};\r\n\r\nvar shared = null;\r\nFlashApi.sharedInstanceFlashApi = function (options) {\r\n  if (!shared) {\r\n    shared = new FlashApi(options);\r\n  }\r\n  return shared;\r\n};\r\n\r\nwin.YYTPCFlashOnReady = function () {\r\n  //  flash init success\r\n  win.YYTPCFlashReadyState = true;\r\n};\r\n\r\nmodule.exports = FlashApi;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/FlashApi/index.js\n ** module id = 89\n ** module chunks = 1 3 5 6 7 9\n **/","module.exports = \"<li class=\\\"clearfix <%=msgType==0?'':'system-info'%>\\\" data-msgType=\\\"<%=msgType%>\\\" data-name=\\\"<%=nickName%>\\\" data-id=\\\"<%=fromAccount%>\\\">\\r\\n  <%if(msgType == 0){%>\\r\\n  <img src=\\\"<%=smallAvatar%>\\\" alt=\\\"\\\" class=\\\"fl visitor_avator\\\">\\r\\n  <%}%>\\r\\n  <p class=\\\"visitor_chat fl\\\">\\r\\n    <%if(msgType == 0){%>\\r\\n    <span class=\\\"visitorName\\\"><%=nickName%>:</span>\\r\\n    <%} else if(msgType == 4){%>\\r\\n        <span class=\\\"visitorName\\\"><%=nickName%>:</span>\\r\\n    <%} else{%>\\r\\n        <span class=\\\"visitorName\\\">:</span>\\r\\n    <% }%>\\r\\n    <%=content%>\\r\\n    <span class=\\\"time fr\\\"><%=time%></span>\\r\\n  </p>\\r\\n  <div class=\\\"controls_forbid_reject\\\">\\r\\n    <a href=\\\"javascript:;\\\" class=\\\"forbid am-btn-red\\\"></a>\\r\\n    <a href=\\\"javascript:;\\\" class=\\\"reject am-btn-red\\\"></a>\\r\\n    <%if(userId) {%>\\r\\n    <a href=\\\"javascript:;\\\" data-name=\\\"<%=nickName%>\\\" data-uid='<%=userId%>' class=\\\"ctrl am-btn-red\\\"></a>\\r\\n    <%}%>\\r\\n  </div>\\r\\n</li>\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/anchor/template/chat-message-tpl.html\n ** module id = 99\n ** module chunks = 1 3 5 7\n **/","'use strict';\r\n\r\nvar base = require('base-extend-backbone');\r\nvar Config = require('config');\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/room/placard_get.json', // \r\n  beforeEmit: function beforeEmit() {\r\n    // \r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/anchor/notice-get.model.js\n ** module id = 102\n ** module chunks = 1 3 5 7 9\n **/","var base = require('base-extend-backbone');\r\nvar LoginUserView = require('./loginUser.view');\r\nvar BaseView = base.View;\r\n\r\nvar View = BaseView.extend({\r\n  el: '#topBar',\r\n  context: function (args) {\r\n    console.log(args);\r\n  },\r\n  beforeMount: function () {\r\n    //  \r\n    this.loginUser = new LoginUserView();\r\n  },\r\n  afterMount: function () {\r\n    //  findDOMNode DOM Node\r\n  },\r\n  ready: function () {\r\n    //  \r\n    var _this = this;\r\n    this.loginUser.on('topbar-logined', function () {\r\n      _this.trigger('logined');\r\n    });\r\n  },\r\n  beforeDestroy: function () {\r\n    //  ,null\r\n  },\r\n  destroyed: function () {\r\n    //  \r\n  },\r\n  showLoginDialog: function () {\r\n    this.loginUser.showDialog();\r\n  },\r\n  hideLoginDialog: function () {\r\n    this.loginUser.hideDialog();\r\n  }\r\n});\r\n\r\nmodule.exports = View;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/TopBarView/index.js\n ** module id = 109\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","'use strict';\r\n\r\nvar Backbone = window.Backbone;\r\nvar base = require('base-extend-backbone');\r\nvar BaseView = base.View;\r\nvar storage = base.storage;\r\nvar UserModel = require('UserModel');\r\nvar user = UserModel.sharedInstanceUserModel();\r\nvar loginBox = require('loginBox');\r\nvar sginHTML = require('./template/sgin.html');\r\nvar loginedTemp = require('./template/logined.html');\r\nvar win = window;\r\nvar location = win.location;\r\nvar IMModel = require('IMModel');\r\nvar imModel = IMModel.sharedInstanceIMModel();\r\nvar config = require('config');\r\nvar View = BaseView.extend({\r\n  el: '#loginUser',\r\n  events: {\r\n    'click #login': 'loginHandler',\r\n    'click .show-drop-menu': 'showDropMenu',\r\n    'click #logout': 'logoutHandler',\r\n    'mouseover .hoverMenu': 'nameHover',\r\n    'mouseout .hoverMenu': 'nameOut'\r\n  },\r\n  context: function (args) {\r\n    console.log(args);\r\n  },\r\n  beforeMount: function () {\r\n    //  \r\n    this._dialog = null;\r\n  },\r\n  afterMount: function () {\r\n    //  findDOMNode DOM Node\r\n    this.loginBox = loginBox();\r\n    this._dialog = this.loginBox.dialog;\r\n    this.userDromMenu = this.findDOMNode('.pcNav');\r\n  },\r\n  ready: function () {\r\n    //  \r\n    if (user.isLogined()) {\r\n      //  \r\n      this.fetchUserInfo();\r\n    } else {\r\n      //  \r\n      this.$el.html(sginHTML);\r\n    }\r\n    this.hideDropMenu();\r\n    this.defineEventInterface();\r\n  },\r\n  beforeDestroy: function () {\r\n    //  ,null\r\n  },\r\n  destroyed: function () {\r\n    //  \r\n  },\r\n  /**\r\n   * [loginHandler ]\r\n   * @param  {[type]} e [description]\r\n   * @return {[type]}   [description]\r\n   */\r\n  loginHandler: function (e) {\r\n    var _this = this;\r\n    var status = this._dialog.status();\r\n    e.preventDefault();\r\n    if (status === 'hide') {\r\n      this._dialog.trigger('show');\r\n      this._dialog.once('hide', function () {\r\n        if (user.isLogined()) {\r\n          storage.remove('imSig');\r\n          _this.fetchUserInfo();\r\n          _this.trigger('topbar-logined');\r\n        }\r\n      });\r\n    } else {\r\n      this._dialog.trigger('hide');\r\n    }\r\n  },\r\n  /**\r\n   * [logoutHandler ]\r\n   * @param  {[type]} e [description]\r\n   * @return {[type]}   [description]\r\n   */\r\n  logoutHandler: function () {\r\n    storage.remove('imSig');\r\n    storage.set('signout', 1);\r\n    location.href = config.prefix + '/login.html';\r\n  },\r\n  fetchUserInfo: function () {\r\n    var _this = this;\r\n    var fetchImUserSigPromise = imModel.fetchIMUserSig();\r\n    fetchImUserSigPromise.done(function (userImInfo) {\r\n      var data;\r\n      if (userImInfo.roleType === 2) {\r\n        //  \r\n        _this.$el.html(sginHTML);\r\n      } else {\r\n        data = {\r\n          userName: userImInfo.nickName,\r\n          bigheadImg: userImInfo.largeAvatar\r\n        };\r\n        _this.render(data);\r\n      }\r\n    });\r\n  },\r\n  render: function (data) {\r\n    var loginedHTML = this.compileHTML(loginedTemp, data);\r\n    this.$el.html(loginedHTML);\r\n    this.showDropMenuEle = $('.loginMsg .pcNav');\r\n  },\r\n  /**\r\n   * \r\n   */\r\n  showDropMenu: function (e) {\r\n    e.preventDefault();\r\n    this.showDropMenuEle.toggle();\r\n    return false;\r\n  },\r\n  /**\r\n   * \r\n   */\r\n  hideDropMenu: function () {\r\n    var _this = this;\r\n    $(document).on('click', function () {\r\n      if (_this.showDropMenuEle) {\r\n        _this.showDropMenuEle.hide();\r\n      }\r\n    });\r\n  },\r\n  showDialog: function () {\r\n    var _this = this;\r\n    this._dialog.trigger('show');\r\n    this._dialog.once('hide', function () {\r\n      if (user.isLogined()) {\r\n        _this.trigger('topbar-logined');\r\n      }\r\n    });\r\n  },\r\n  hideDialog: function () {\r\n    this._dialog.trigger('hide');\r\n  },\r\n  /**\r\n   * \r\n   */\r\n  defineEventInterface: function () {\r\n    var self = this;\r\n    Backbone.on('event:userProfileChanged', function (users) {\r\n      var data = {\r\n        userName: users.nickName,\r\n        bigheadImg: users.headImg\r\n      };\r\n      self.render(data);\r\n    });\r\n  },\r\n  nameHover: function () {\r\n    this.showDropMenuEle.show();\r\n  },\r\n  nameOut: function () {\r\n    this.showDropMenuEle.hide();\r\n  }\r\n});\r\n\r\nmodule.exports = View;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/TopBarView/loginUser.view.js\n ** module id = 110\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","module.exports = \"<div class=\\\"PcMsg fl\\\">\\r\\n    <a class=\\\"user-login\\\" href=\\\"#\\\" id=\\\"login\\\"></a>\\r\\n</div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/TopBarView/template/sgin.html\n ** module id = 111\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","module.exports = \"<div class=\\\"avator fl\\\">\\r\\n    <img class=\\\"am-circle\\\" style=\\\"width: 40px; height: 40px;\\\" src=\\\"{{bigheadImg}}\\\" alt=\\\"\\\">\\r\\n</div>\\r\\n<div class=\\\"loginMsg fl hoverMenu\\\">\\r\\n    <a class=\\\"user-name show-drop-menu\\\" href=\\\"#\\\">{{userName}}<span></span></a>\\r\\n    <ul class=\\\"pcNav hoverMenu\\\">\\r\\n        <li><a href=\\\"anchor-setting.html\\\"></a></li>\\r\\n        <li><span class=\\\"header-logout\\\" id=\\\"logout\\\"></span></li>\\r\\n    </ul>\\r\\n</div>\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/TopBarView/template/logined.html\n ** module id = 112\n ** module chunks = 1 2 3 4 5 6 7 8 9 10\n **/","'use strict';\r\n\r\nvar base = require('base-extend-backbone');\r\nvar Config = require('config');\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/user/anchor/unfollow.json',\r\n  beforeEmit: function beforeEmit() {\r\n    // \r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/anchor-setting/unfollow.model.js\n ** module id = 179\n ** module chunks = 2 5 7 9\n **/","'use strict';\r\n\r\nvar base = require('base-extend-backbone');\r\nvar Config = require('config');\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/popularity/add.json',\r\n  beforeEmit: function beforeEmit() {\r\n    // \r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/live-room/popularity-add.model.js\n ** module id = 195\n ** module chunks = 4 5 7 9\n **/","/**\r\n * @time {}\r\n * @author {}\r\n * @info \r\n */\r\n/*\r\n clientRender:{bool} // falsetruerawLoadertemplateUrl\r\n */\r\n'use strict';\r\n\r\nvar Backbone = window.Backbone;\r\nvar base = require('base-extend-backbone');\r\nvar BaseView = base.View; // View\r\nvar _ = require('underscore');\r\nvar Auxiliary = require('auxiliary-additions');\r\n\r\nvar URL = Auxiliary.url;\r\nvar UserModel = require('UserModel');\r\nvar user = UserModel.sharedInstanceUserModel();\r\nvar RoomLongPollingModel = require('../../models/channel/loogpolling.model');\r\nvar IMModel = require('IMModel');\r\nvar imModel = IMModel.sharedInstanceIMModel();\r\nvar YYTIMServer = require('imServer');\r\nvar AnchorUserInfoModel = require('../../models/anchor/anchor-info.model');\r\nvar UserInfo = require('../live-room/user.js');\r\nvar InAndOurRoomModel = require('../../models/channel/enter-out.model');\r\nvar ChannelDetailModel = require('../../models/channel/detail.model');\r\nvar LiveVideoListModel = require('../../models/channel/live-play.model');\r\n\r\nvar AnchorCardView = require('../live-room/anchor-card.view');\r\n\r\nvar FlashAPI = require('FlashApi');\r\nvar store = base.storage;\r\nvar uiConfirm = require('ui.confirm');\r\nvar msgBox = require('ui.msgBox');\r\n\r\nvar AdvertisingWallView = require('../advertising-wall/main.view');\r\n\r\nvar View = BaseView.extend({\r\n  clientRender: false,\r\n  el: '#anchorContainerBg', // Viewid\r\n  events: { // \r\n    'click #channelTab': 'asideChanged'\r\n  },\r\n  // \r\n  beforeMount: function () {\r\n    var url = URL.parse(location.href);\r\n    if (!url.query.channelId && !url.query.channelId) {\r\n      window.history.go(-1);\r\n    }\r\n    this.channelId = url.query.channelId || 1;\r\n\r\n    this.roomInfoPeriod = 20 * 1000;\r\n\r\n    this.anchorInfoModel = AnchorUserInfoModel.sharedInstanceModel();\r\n    this.inAndOutRoom = InAndOurRoomModel.sharedInstanceModel();\r\n    this.channelDetailModel = new ChannelDetailModel();\r\n    this.liveVideoListModel = LiveVideoListModel.sharedInstanceModel();\r\n\r\n    this.queryParams = {\r\n      deviceinfo: '{\"aid\": \"30001001\"}',\r\n      access_token: user.getWebToken()\r\n    };\r\n\r\n    this.channelDetailParams = _.extend({\r\n      channelId: ''\r\n    }, this.queryParams);\r\n\r\n    this.roomLongPolling = RoomLongPollingModel.sharedInstanceModel();\r\n\r\n    this.inAndRoomParams = {\r\n      deviceinfo: '{\"aid\": \"30001001\"}',\r\n      access_token: user.getWebToken()\r\n    };\r\n  },\r\n  // \r\n  afterMount: function () {\r\n    this.roomBg = $('.header-bg');\r\n    this.currentChannelShowStatus = {};\r\n  },\r\n  // \r\n  ready: function () {\r\n    // \r\n    if (!user.isLogined()) {\r\n      store.remove('imSig');\r\n      store.set('signout', 1);\r\n      msgBox.showTip('!');\r\n      window.location.href = '/login.html';\r\n    }\r\n    this.defineEventInterface();\r\n\r\n    this.flashAPI = FlashAPI.sharedInstanceFlashApi({\r\n      el: 'broadCastFlash'\r\n    });\r\n    // im\r\n    this.initWebIM().then(function () {\r\n      this.renderPage();\r\n      this.getUserInfo();\r\n    }.bind(this), function () {\r\n      this.goBack();\r\n    }.bind(this));\r\n  },\r\n  defineEventInterface: function () {\r\n    var self = this;\r\n\r\n    Backbone.on('event:pleaseUpdateRoomInfo', function () {\r\n      self.getRoomInfo(function (res) {\r\n        Backbone.trigger('event:updateRoomInfo', res.data);\r\n      });\r\n    });\r\n    Backbone.on('event:RoomLoopInfo', function (data) {\r\n      var id = self.currentChannelShowStatus[self.currentChannelShowId];\r\n      if (~~data.liveStatus === 2) {\r\n        $('.channelLiveTip').text('');\r\n      }\r\n      if (data && self.currentChannelShowId && data.liveStatus !== id) {\r\n        window.location.reload();\r\n      }\r\n    });\r\n  },\r\n  fetchUserIMSig: function (groupId) {\r\n    var self = this;\r\n    var defer = imModel.fetchIMUserSig();\r\n\r\n    defer.then(function (sig) {\r\n      if (sig.roleType === 2) {\r\n        uiConfirm.show({\r\n          title: '',\r\n          content: ',!',\r\n          cancelBtn: false,\r\n          cancelFn: function () {\r\n            window.location.href = '/web/login.html';\r\n          },\r\n          okFn: function () {\r\n            window.location.href = '/web/login.html';\r\n          }\r\n        });\r\n      } else {\r\n        self.userJoinGroup(sig, groupId);\r\n      }\r\n    });\r\n  },\r\n  userJoinGroup: function (sig, groupId) {\r\n    var self = this;\r\n    self.userIMSig = sig;\r\n\r\n    YYTIMServer.applyJoinGroup(groupId, function () {\r\n      Backbone.trigger('event:roomInfoReady', self.roomInfo);\r\n    }, function (res) {\r\n      self.imErrorHandler(res);\r\n    });\r\n  },\r\n  /**\r\n   * webim \r\n   * @constructor\r\n   */\r\n  imErrorHandler: function (res) {\r\n    var self = this;\r\n    var callback = function () {\r\n      imModel.remove();\r\n      self.goBack();\r\n    };\r\n    if (res.ErrorCode === 10013) {\r\n      Backbone.trigger('event:roomInfoReady', self.roomInfo);\r\n      // if (self.roomInfo.status === 2) {\r\n      //   self.loopRoomInfo();\r\n      // }\r\n    } else if (res.ErrorCode === 70001) {\r\n      uiConfirm.show({\r\n        title: '',\r\n        content: ',!',\r\n        cancelBtn: false,\r\n        okFn: callback\r\n      });\r\n    } else if (res.ErrorCode === 10010) {\r\n      uiConfirm.show({\r\n        title: '',\r\n        content: ',!',\r\n        cancelFn: self.goBack,\r\n        okFn: self.goBack\r\n      });\r\n    } else {\r\n      uiConfirm.show({\r\n        title: '',\r\n        content: ',',\r\n        cancelFn: self.goBack,\r\n        okFn: self.goBack\r\n      });\r\n    }\r\n  },\r\n  renderPage: function () {\r\n    var RoomTitle = require('../live-room/room-title.view');\r\n    var ChatView = require('../live-room/chat.view');\r\n    var SendMessageView = require('../live-room/send-message.view');\r\n    var GiftView = require('../live-room/gift.view');\r\n    var LiveVideoListView = require('./live-video-list.view');\r\n    var type = {\r\n      type: 'channel',\r\n      channelId: this.channelId\r\n    };\r\n\r\n    var a = new RoomTitle();\r\n\r\n    a = new ChatView(type);\r\n\r\n    a = new SendMessageView(type);\r\n\r\n    a = new GiftView(type);\r\n\r\n    a = new LiveVideoListView();\r\n\r\n    console.log(a);\r\n  },\r\n  initWebIM: function () {\r\n    function callback(notifyInfo) {\r\n      Backbone.trigger('event:groupSystemNotifys', notifyInfo);\r\n    }\r\n\r\n    // IM\r\n    return YYTIMServer.init({\r\n      onConnNotify: function (notifyInfo) {\r\n        Backbone.trigger('event:onConnNotify', notifyInfo);\r\n      },\r\n      onMsgNotify: function (notifyInfo) {\r\n        Backbone.trigger('event:onMsgNotify', notifyInfo);\r\n      },\r\n      onGroupInfoChangeNotify: function (notifyInfo) {\r\n        Backbone.trigger('event:onGroupInfoChangeNotify', notifyInfo);\r\n      },\r\n      groupSystemNotifys: {\r\n        1: callback, // \r\n        2: callback, // \r\n        3: callback, // \r\n        4: callback, // ()\r\n        5: callback, // ()\r\n        6: callback, // ()\r\n        7: callback, // ()\r\n        8: callback, // ()\r\n        9: callback, // ()\r\n        10: callback, // ()\r\n        11: callback, // ()\r\n        255: callback // (,)\r\n      }\r\n    });\r\n  },\r\n  initRoom: function () {\r\n    var self = this;\r\n    var errFn = function () {\r\n      uiConfirm.show({\r\n        title: '',\r\n        content: '!',\r\n        okFn: function () {\r\n          self.goBack();\r\n        },\r\n        cancelFn: function () {\r\n          self.goBack();\r\n        }\r\n      });\r\n    };\r\n\r\n    this.getRoomInfo(function (response) {\r\n      var data = response.data || {};\r\n      if (response && response.code === '0') {\r\n        self.videoUrl = {\r\n          streamName: data.streamName,\r\n          url: data.url\r\n        };\r\n        self.roomInfo = data;\r\n        self.setRoomBgImg();\r\n        self.anchorView = new AnchorCardView({\r\n          share: {\r\n            url: '/channellive.html?channelId=' + self.channelId,\r\n            img: data.posterPic || '',\r\n            title: data.channelName || ''\r\n          }\r\n        });\r\n        self.adWallView = new AdvertisingWallView({\r\n          el: '#advertisingWall',\r\n          roomId: data.channelId,\r\n          userInfo: self.userInfo,\r\n          type: 2\r\n        });\r\n        self.loopRoomInfo();\r\n\r\n        self.joinRoom();\r\n        // self.fetchUserIMSig(data.imGroupid);\r\n        self.getLiveViedoList();\r\n        // TODO\r\n        // self.checkRoomStatus(data.status);\r\n      } else {\r\n        errFn();\r\n      }\r\n    }, errFn);\r\n  },\r\n  getGroupInfo: function (imGroupId) {\r\n    var self = this;\r\n    YYTIMServer.getGroupInfo(imGroupId, function (res) {\r\n      if (res && ~~res.ErrorCode === 0) {\r\n        self.currentGroupInfo = _.find(res.GroupInfo, function (item) {\r\n          return item.GroupId === self.roomInfo.imGroupid;\r\n        });\r\n\r\n        Backbone.trigger('event:IMGroupInfoReady', self.currentGroupInfo);\r\n        // self.checkUserIsDisabled(self.currentGroupInfo.Introduction);\r\n      }\r\n    }, function () {\r\n      uiConfirm.show({\r\n        title: '',\r\n        content: ',',\r\n        cancelBtn: false,\r\n        okFn: function () {\r\n          self.goBack('/');\r\n        },\r\n        cancelFn: function () {\r\n          self.goBack('/');\r\n        }\r\n      });\r\n    });\r\n  },\r\n  getUserInfo: function () {\r\n    var self = this;\r\n    UserInfo.getInfo(function (userInfo) {\r\n      self.userInfo = userInfo;\r\n      Backbone.trigger('event:currentUserInfoReady', userInfo);\r\n      self.initRoom();\r\n    });\r\n  },\r\n  getRoomInfo: function (okFn, errFn) {\r\n    var self = this;\r\n    var promise;\r\n    // self.roomDetailParams.channelId = self.channelId;\r\n    self.channelDetailParams.channelId = self.channelId;\r\n    promise = this.channelDetailModel.executeJSONP(self.channelDetailParams);\r\n    promise.done(function (response) {\r\n      if (okFn) {\r\n        okFn(response);\r\n      }\r\n    });\r\n    promise.fail(function (err) {\r\n      if (errFn) {\r\n        errFn(err);\r\n      }\r\n    });\r\n  },\r\n  checkRoomStatus: function (status) {\r\n    switch (status) {\r\n      case 0:\r\n        msgBox.showTip('!');\r\n        break;\r\n      case 1:\r\n        break;\r\n      case 2:\r\n        this.getGroupInfo(this.roomInfo.imGroupid);\r\n        break;\r\n      case 3:\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  },\r\n  parseNotifyInfo: function (notifyInfo) {\r\n    var notify = null;\r\n    try {\r\n      if (_.isString(notifyInfo)) {\r\n        notify = JSON.parse(notifyInfo);\r\n      } else {\r\n        notify = notifyInfo;\r\n      }\r\n    } catch (e) {\r\n      return null;\r\n    }\r\n    return notify;\r\n  },\r\n  checkUserIsKickout: function (notifyInfo) {\r\n    var self = this;\r\n    var notify = self.parseNotifyInfo(notifyInfo);\r\n    var msg = ',';\r\n    if (notify && notifyInfo.isEvent) {\r\n      msg = '!';\r\n    }\r\n    if (notify) {\r\n      var result = _.find(notify.forbidUsers, function (item) {\r\n        return item.replace('$0', '') === self.userIMSig.userId;\r\n      });\r\n      if (result) {\r\n        UserInfo.setKickout(self.channelId, true);\r\n\r\n        uiConfirm.show({\r\n          title: '',\r\n          content: msg,\r\n          cancelBtn: false,\r\n          okFn: function () {\r\n            self.goBack();\r\n          },\r\n          cancelFn: function () {\r\n            self.goBack();\r\n          }\r\n        });\r\n      }\r\n    }\r\n  },\r\n  goBack: function (url) {\r\n    if (url) {\r\n      window.location.href = url;\r\n    } else {\r\n      window.location.href = '/';\r\n    }\r\n  },\r\n  loopRoomInfo: function (time) {\r\n    var self = this;\r\n    self.getRoomLoopInfo().then(function (data) {\r\n      Backbone.trigger('event:RoomLoopInfo', data);\r\n      Backbone.trigger('event:updateRoomInfo', data);\r\n    });\r\n    self.roomInfoTimeId = setTimeout(function () {\r\n      self.loopRoomInfo();\r\n    }, !!time ? time : self.roomInfoPeriod);\r\n  },\r\n  getRoomLoopInfo: function () {\r\n    var self = this;\r\n    var defer = $.Deferred();\r\n    var promise = this.roomLongPolling.executeJSONP(_.extend({}, self.queryParams, {\r\n      channelId: this.roomInfo.channelId\r\n    }));\r\n    promise.done(function (response) {\r\n      if (~~response.code === 0) {\r\n        defer.resolve(_.extend({\r\n          now: response.now\r\n        }, response.data));\r\n      } else {\r\n        defer.reject();\r\n      }\r\n    });\r\n    promise.fail(function () {\r\n      defer.reject();\r\n    });\r\n    return defer.promise();\r\n  },\r\n  // \r\n  joinRoom: function () {\r\n    var promise;\r\n    this.inAndRoomParams.type = 1;\r\n    if (this.roomInfo) {\r\n      this.inAndRoomParams.channelId = this.roomInfo.channelId;\r\n    }\r\n    promise = this.inAndOutRoom.executeJSONP(this.inAndRoomParams);\r\n    promise.done(function () {});\r\n  },\r\n  setRoomBgImg: function () {\r\n    if (this.roomInfo && this.roomInfo.imageUrl) {\r\n      this.roomBg.css('background', 'url(' + this.roomInfo.imageUrl + ')');\r\n    }\r\n  },\r\n  // \r\n  asideChanged: function (e) {\r\n    var target = $(e.target);\r\n    var id = target.attr('data-id');\r\n    target.parent().children().removeClass('active');\r\n    target.addClass('active');\r\n    $('.tab-content').hide();\r\n    $('#' + id).show();\r\n  },\r\n  // \r\n  getLiveViedoList: function () {\r\n    var self = this;\r\n    var promise = this.liveVideoListModel.executeJSONP(_.extend({\r\n      channelId: this.channelId,\r\n      videoSize: 1000\r\n    }, this.queryParams));\r\n    promise.done(function (res) {\r\n      if (res && ~~res.code === 0) {\r\n        // \r\n        var show = res.data.channelShow;\r\n        if (show) {\r\n          var imGroupid = show.imGroupid;\r\n          self.roomInfo.imGroupid = imGroupid;\r\n          self.fetchUserIMSig(imGroupid);\r\n          self.currentChannelShowStatus = self.currentChannelShowStatus || {};\r\n          self.currentChannelShowStatus[show.id] = show.status;\r\n          self.currentChannelShowId = show.id;\r\n\r\n          var videoData = {\r\n            videoType: 'FANPA_CHANNEL',\r\n            status: 'LIVE',\r\n            url: show.liveStream,\r\n            videoStatus: show.status,\r\n            beginTime: show.beginTime\r\n          };\r\n          self.setChannelStatusTip(show.status, show.beginTime);\r\n          self.flashAPI.onReady(function () {\r\n            this.init(videoData);\r\n          });\r\n        } else {\r\n          uiConfirm.show({\r\n            title: '',\r\n            content: '',\r\n            cancelBtn: false,\r\n            okFn: function () {\r\n              self.goBack();\r\n            },\r\n            cancelFn: function () {\r\n              self.goBack();\r\n            }\r\n          });\r\n        }\r\n        // \r\n        if (res.data && res.data.videos) {\r\n          Backbone.trigger('event:ChannelLiveVideoListReady', {\r\n            list: res.data.videos || [],\r\n            now: res.now\r\n          });\r\n        }\r\n      } else {\r\n        uiConfirm.show({\r\n          title: '',\r\n          content: '...',\r\n          cancelBtn: false,\r\n          okFn: function () {\r\n            self.goBack();\r\n          },\r\n          cancelFn: function () {\r\n            self.goBack();\r\n          }\r\n        });\r\n      }\r\n    });\r\n  },\r\n  setChannelStatusTip: function (status, time) {\r\n    if (~~status === 2) {\r\n      $('.channelLiveTip').text('').hide();\r\n    } else {\r\n      if (time) {\r\n        var date = new Date(time);\r\n        $('.channelLiveTip').show().text('' + (date.getMonth() + 1) +\r\n          '' + date.getDate() + '' + date.getHours() + ':' +\r\n          (date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()) +\r\n          '');\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\nmodule.exports = View;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/channel/live.main.js\n ** module id = 203\n ** module chunks = 5\n **/","/**\r\n * \r\n */\r\n'use strict';\r\n\r\nvar base = require('base-extend-backbone');\r\nvar Config = require('config');\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/channel/stat_polling.json',\r\n  beforeEmit: function beforeEmit() {\r\n    // \r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/channel/loogpolling.model.js\n ** module id = 204\n ** module chunks = 5\n **/","/**\r\n * \r\n */\r\n'use strict';\r\n\r\nvar base = require('base-extend-backbone');\r\nvar Config = require('config');\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/channel/online_record.json',\r\n  beforeEmit: function beforeEmit() {\r\n    // \r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/channel/enter-out.model.js\n ** module id = 205\n ** module chunks = 5\n **/","/**\r\n * \r\n */\r\n'use strict';\r\n\r\nvar base = require('base-extend-backbone');\r\nvar Config = require('config');\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/channel/detail.json',\r\n  beforeEmit: function beforeEmit() {\r\n    // \r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/channel/detail.model.js\n ** module id = 206\n ** module chunks = 5\n **/","/**\r\n * \r\n */\r\n'use strict';\r\n\r\nvar base = require('base-extend-backbone');\r\nvar Config = require('config');\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\nvar BusinessDate = require('BusinessDate');\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/channel/show/live_get.json',\r\n  beforeEmit: function beforeEmit() {\r\n    // \r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n  },\r\n  formatter: function (response) {\r\n    if (~~response.code) {\r\n      return null;\r\n    }\r\n    var videos = response.data.videos || [];\r\n    var len = videos.length;\r\n    while (len--) {\r\n      var item = videos[len];\r\n      item.playTime = BusinessDate.format(new Date(item.liveTime), 'hh:mm');\r\n    }\r\n    return response;\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/channel/live-play.model.js\n ** module id = 207\n ** module chunks = 5\n **/","/*\r\n clientRender:{bool} // falsetruerawLoadertemplateUrl\r\n */\r\n\r\n\r\n/**\r\n * @time {}\r\n * @author {}\r\n * @info {}\r\n */\r\n\r\n'use strict';\r\n\r\nvar base = require('base-extend-backbone');\r\nvar BaseView = base.View; // View\r\nvar NoticeGetModel = require('../../models/anchor/notice-get.model');\r\nvar FollowModel = require('../../models/anchor-setting/follow.model');\r\nvar UnFollowModel = require('../../models/anchor-setting/unfollow.model');\r\nvar UserModel = require('UserModel');\r\nvar user = UserModel.sharedInstanceUserModel();\r\nvar Backbone = window.Backbone;\r\nvar _ = require('underscore');\r\nvar msgBox = require('ui.msgBox');\r\nvar IMModel = require('IMModel');\r\nvar imModel = IMModel.sharedInstanceIMModel();\r\nvar SNSShareView = require('./sns-share.view');\r\n\r\nvar View = BaseView.extend({\r\n  el: '.userInfoWrap', // Viewid\r\n  rawLoader: function () { // \r\n    return require('./template/anchor-card.html');\r\n  },\r\n  events: { // \r\n    'click .btnFollow': 'followClickHandler',\r\n    'click #btnShare': 'shareClick',\r\n    'mouseover .btnFollow': function (e) {\r\n      var target = $(e.target);\r\n      if (target.hasClass('followed')) {\r\n        target.text('');\r\n      }\r\n    },\r\n    'mouseout .btnFollow': function (e) {\r\n      var target = $(e.target);\r\n      if (target.hasClass('followed')) {\r\n        target.text('').addClass('m_disabled');\r\n      }\r\n    }\r\n  },\r\n  // \r\n  beforeMount: function () {\r\n    this.elements = {};\r\n    this.followParams = {\r\n      deviceinfo: '{\"aid\": \"30001001\"}',\r\n      access_token: user.getWebToken()\r\n    };\r\n  },\r\n  // \r\n  afterMount: function () {\r\n    var el = this.$el;\r\n    this.noticeGetModel = new NoticeGetModel();\r\n    this.followModel = FollowModel.sharedInstanceModel();\r\n    this.unFollowModel = UnFollowModel.sharedInstanceModel();\r\n\r\n    this.tagTpl = this.$el.find('#tagTpl').html();\r\n\r\n    this.elements = {\r\n      anchorAvatar: el.find('#anchorAvatar'),\r\n      name: el.find('#anchorName'),\r\n      btnAdd: el.find('#btnAdd'),\r\n      btnReport: el.find('#btnReport'),\r\n      tagsWrap: el.find('#tagsWrap'),\r\n      noticeWrap: $('.noticWrap')\r\n    };\r\n\r\n    this.noticeGetParams = {\r\n      deviceinfo: '{\"aid\":\"30001001\"}',\r\n      roomId: '',\r\n      access_token: user.getWebToken()\r\n    };\r\n    this.btnFollow = el.find('.btnFollow');\r\n    this.genderDOM = el.find('.icon-gender');\r\n  },\r\n  // \r\n  ready: function (ops) {\r\n    this.options = _.extend({\r\n      share: null\r\n    }, ops);\r\n    this.snsShareView = new SNSShareView(this.options.share || {});\r\n    this.defineEventInterface();\r\n  },\r\n  defineEventInterface: function () {\r\n    var self = this;\r\n    Backbone.on('event:roomInfoReady', function (data) {\r\n      if (data) {\r\n        self.roomInfo = data;\r\n        self.bindData(data);\r\n        self.getNoticeInfo();\r\n      }\r\n    });\r\n\r\n    Backbone.on('event:currentUserInfoReady', function (userInfo) {\r\n      var gender = {\r\n        Boy: 'male',\r\n        Gril: 'famle'\r\n      };\r\n      if (userInfo && userInfo.sex) {\r\n        self.genderDOM.addClass(gender[userInfo.sex] || 'male');\r\n      }\r\n    });\r\n\r\n    Backbone.on('event:updateRoomNotice', function (data) {\r\n      if (data) {\r\n        self.elements.noticeWrap.text(data.content || '');\r\n      }\r\n    });\r\n  },\r\n  bindData: function (data) {\r\n    var els = this.elements;\r\n\r\n    els.anchorAvatar.attr('src', data.creator.largeAvatar);\r\n    els.name.text(data.creator.nickName);\r\n\r\n    var template = _.template(this.tagTpl);\r\n    els.tagsWrap.html(template(data.creator));\r\n\r\n    if (data.creator.isFollowed) {\r\n      this.btnFollow.addClass('followed').text('').addClass('m_disabled');\r\n    }\r\n  },\r\n  getNoticeInfo: function () {\r\n    var self = this;\r\n    var promise;\r\n    this.noticeGetParams.roomId = this.roomInfo.id;\r\n\r\n    promise = this.noticeGetModel.executeJSONP(this.noticeGetParams);\r\n    promise.done(function (res) {\r\n      if (res && res.data) {\r\n        var notice = null;\r\n        if (res.data.placards) {\r\n          notice = res.data.placards[0];\r\n        }\r\n        if (notice) {\r\n          self.elements.noticeWrap.text(notice.content || '');\r\n        } else {\r\n          self.elements.noticeWrap.text('');\r\n        }\r\n      }\r\n    });\r\n    promise.fail(function (err) {\r\n      msgBox.showError(err.msg || '');\r\n    });\r\n  },\r\n  followClickHandler: function () {\r\n    var self = this;\r\n    this.followParams.anchorId = this.roomInfo.creator.uid;\r\n    if (this.btnFollow.hasClass('followed')) {\r\n      var promise1 = this.unFollowModel.executeJSONP(self.followParams);\r\n      promise1.done(function (res) {\r\n        if (res.data && res.data.success) {\r\n          msgBox.showOK('');\r\n          self.btnFollow.removeClass('followed').removeClass('m_disabled').text('');\r\n        }\r\n      });\r\n      promise1.fail(function () {\r\n        msgBox.showTip(',');\r\n      });\r\n    } else {\r\n      if (imModel.get('data').userId === self.followParams.anchorId) {\r\n        msgBox.showTip('!');\r\n        return null;\r\n      }\r\n      var promise = this.followModel.executeJSONP(self.followParams);\r\n      promise.done(function (res) {\r\n        if (res.data && res.data.success) {\r\n          msgBox.showOK('');\r\n          self.btnFollow.addClass('followed').addClass('m_disabled').text('');\r\n        } else {\r\n          msgBox.showTip(',');\r\n        }\r\n      });\r\n      promise.fail(function () {\r\n        msgBox.showTip(',');\r\n      });\r\n    }\r\n    return this;\r\n  },\r\n  shareClick: function (e) {\r\n    var ops = {\r\n      url: '/liveroom.html?roomId=' + this.roomInfo.id,\r\n      title: this.roomInfo.roomName || '',\r\n      img: this.roomInfo.posterPic || '',\r\n      type: 1\r\n    };\r\n    if (this.options.share) {\r\n      $.extend(ops, this.options.share);\r\n    }\r\n    this.snsShareView.setOptions(ops);\r\n    this.snsShareView.show($(e.target));\r\n    // this.snsShareView.open();\r\n  }\r\n});\r\n\r\nmodule.exports = View;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/live-room/anchor-card.view.js\n ** module id = 208\n ** module chunks = 5 7 9\n **/","'use strict';\r\n\r\nvar base = require('base-extend-backbone');\r\nvar Config = require('config');\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/user/anchor/follow.json',\r\n  beforeEmit: function beforeEmit() {\r\n    // \r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/anchor-setting/follow.model.js\n ** module id = 209\n ** module chunks = 5 7 9\n **/","/**\r\n * SNSqq,\r\n */\r\n'use strict';\r\n\r\nvar $ = require('jquery');\r\nvar _ = require('underscore');\r\nvar ZeroClipboard = window.ZeroClipboard;\r\n\r\nvar uiConfirm = require('ui.confirm');\r\nvar shareTpl = require('./template/sns-share.html');\r\nvar msgBox = require('ui.msgBox');\r\n\r\nvar View = function (ops) {\r\n  this.options = {};\r\n  $.extend(this.options, ops);\r\n};\r\n\r\n$.extend(View.prototype, {\r\n  show: function (target) {\r\n    var self = this;\r\n    var height = target.height();\r\n    var offset = target.offset();\r\n    if (!this.snsDom) {\r\n      var complied = _.template(shareTpl);\r\n      var dom = complied({\r\n        title: encodeURIComponent(this.options.title + ','),\r\n        url: encodeURIComponent('http://' + window.location.host + this.options.url),\r\n        img: this.options.img\r\n      });\r\n      dom = $(dom);\r\n      self.snsDom = dom;\r\n      $('body').append(dom);\r\n      dom.offset({\r\n        top: offset.top + height + 8,\r\n        left: offset.left - dom.width() + 61\r\n      });\r\n\r\n      self._bindCopy('#shareCopy');\r\n\r\n      dom.find('a').on('click', function () {\r\n        if ($(this).attr('data-tag') === 'copy') {\r\n          if (!self.clipBoardStatus) {\r\n            msgBox.showTip('');\r\n          }\r\n          return false;\r\n        }\r\n        self.shareWidnow($(this).attr('href'));\r\n        self.snsDom.hide();\r\n        return false;\r\n      });\r\n      $(document).on('click', function (e) {\r\n        var temp = $(e.target);\r\n        if (self.snsDom && temp.attr('id') !== target.attr('id')) {\r\n          self.snsDom.hide();\r\n        }\r\n        return false;\r\n      });\r\n    } else {\r\n      if (this.snsDom.css('display') === 'block') {\r\n        this.snsDom.hide();\r\n      } else {\r\n        this.snsDom.show();\r\n      }\r\n    }\r\n  },\r\n  hide: function () {\r\n    this.snsDom.hide();\r\n  },\r\n  open: function () {\r\n    var title = encodeURIComponent(this.options.title + ',');\r\n    var url = 'http://' + window.location.host;\r\n    var img = this.options.img;\r\n    var goUrl;\r\n\r\n    url = encodeURIComponent(url + this.options.url);\r\n    var html = '<span class=\"share-wrap\">' +\r\n      '<a href=\"http://i.yinyuetai.com/share?title=' + title + '&amp;url=' + url + '&amp;cover=' + img + '?t=20160405161857\" title=\"\" class=\"myhome J_sharelink\"></a> ' +\r\n\r\n      '<a href=\"http://v.t.sina.com.cn/share/share.php?appkey=2817290261&amp;url=' + url + '&amp;title=' + title + '&amp;content=gb2312&amp;pic=' + img + '?t=20160405161857&amp;ralateUid=1698229264\" title=\"\" class=\"weibo17 J_sharelink\"></a>' +\r\n\r\n      '<a href=\"http://connect.qq.com/widget/shareqq/index.html?url=' + url + '&amp;showcount=1&amp;desc=' + title + '&amp;title=' + title + '&amp;site=&amp;pics=' + img + '?t=20160405161857&amp;style=201&amp;width=39&amp;height=39\" title=\"QQ\" class=\"qq17 J_sharelink\"></a>' +\r\n\r\n      '<a href=\"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=' + url + '&amp;desc=' + title + '\" title=\"QQ\" class=\"qzone17 J_sharelink\"></a>' +\r\n\r\n      '<a href=\"http://v.yinyuetai.com/share/weixin?title=' + title + '&amp;url=' + url + '\" title=\"\"  class=\"weixin17 J_sharelink\"></a>' +\r\n\r\n      '<a href=\"http://widget.renren.com/dialog/share?resourceUrl=' + url + '?t=20160405161857&amp;charset=UTF-8&amp;message=' + title + '\" title=\"\" class=\"renren17 J_sharelink\"></a>' +\r\n\r\n      '<a href=\"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?to=pengyou&amp;url=' + url + '&amp;desc=' + title + '\" title=\"\" class=\"pengyou17 J_sharelink\"></a>' +\r\n\r\n      '<a href=\"http://v.t.qq.com/share/share.php?title=' + title + '&amp;url=' + url + '&amp;pic=' + img + '?t=20160405161857\" title=\"\" data-video-id=\"2539803\" class=\"tencent17 J_sharelink\"></a>' +\r\n\r\n      '<a href=\"http://huaban.com/bookmarklet?url=' + url + '&amp;video=&amp;title=' + title + '&amp;media=' + img + '?t=20160405161857&amp;description=' + title + '\" title=\"\" class=\"huaban17 J_sharelink\"></a>' +\r\n\r\n      '<a href=\"http://t.sohu.com/third/post.jsp?&amp;url=' + url + '&amp;title=' + title + '&amp;content=utf-8\" title=\"\" class=\"sohu17 J_sharelink\"></a>' +\r\n\r\n      '<a href=\"http://fql.cc/yytafx?appkey=2817290261&amp;url=' + url + '&amp;title=' + title + '\" title=\"\" class=\"unicon17 J_sharelink\"></a> ' +\r\n      '</span>';\r\n    uiConfirm.show({\r\n      title: '',\r\n      content: html,\r\n      okBtn: false,\r\n      cancelBtn: false,\r\n      okFn: function () {}\r\n    });\r\n    $('.share-wrap a').on('click', function () {\r\n      goUrl = $(this).attr('href');\r\n      window.open(goUrl, 'newwindow', 'height=750px,width=700px' +\r\n        ',toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no');\r\n      uiConfirm.close();\r\n      return false;\r\n    });\r\n  },\r\n  setOptions: function (ops) {\r\n    $.extend(this.options, {\r\n      url: '',\r\n      title: '',\r\n      img: '',\r\n      type: ''\r\n    }, ops);\r\n  },\r\n  shareWidnow: function (url) {\r\n    window.open(url, 'newwindow', 'height=750px,width=700px' +\r\n      ',toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no');\r\n  },\r\n  // \r\n  _bindCopy: function (id) {\r\n    var target = $(id);\r\n    var self = this;\r\n    this.clipBoard = new ZeroClipboard(target);\r\n    var text = this.options.title + ',!' + 'http://' + window.location.host + this.options.url;\r\n    target.attr({\r\n      'data-clipboard-text': text\r\n    });\r\n    this.clipBoard.on('ready', function () {\r\n      this.on('aftercopy', function () {\r\n        self.clipBoardStatus = true;\r\n        msgBox.showOK('');\r\n      });\r\n    });\r\n    this.clipBoard.on('error', function () {\r\n      self.clipBoardStatus = false;\r\n      // msgBox.showTip('');\r\n    });\r\n  }\r\n});\r\n\r\nmodule.exports = View;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/live-room/sns-share.view.js\n ** module id = 210\n ** module chunks = 5 7 9\n **/","module.exports = \"<div class=\\\"sns-share-wrap\\\">\\r\\n  <div class=\\\"sns-block am-round\\\">\\r\\n    <div class=\\\"arrow\\\"></div>\\r\\n    <div class=\\\"list\\\">\\r\\n      <a href=\\\"http://v.yinyuetai.com/share/weixin?title=<%=title%>&amp;url=<%=url%>\\\" title=\\\"\\\"></a>\\r\\n      <a style=\\\"display:none\\\" href=\\\"javascript:;\\\"></a>\\r\\n      <a href=\\\"http://connect.qq.com/widget/shareqq/index.html?url=<%=url%>&amp;showcount=1&amp;desc=<%=title%>&amp;title=<%=title%>&amp;site=&amp;pics=<%=img%>?t=20160405161857&amp;style=201&amp;width=39&amp;height=39\\\" title=\\\"QQ\\\"></a>\\r\\n      <a  href=\\\"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=<%=url%>&amp;desc=<%=title%>\\\" title=\\\"QQ\\\"></a>\\r\\n      <a href=\\\"http://v.t.sina.com.cn/share/share.php?appkey=2817290261&amp;url=<%=url%>&amp;title=<%=title%>&amp;content=gb2312&amp;pic=<%=img%>?t=20160405161857&amp;ralateUid=1698229264\\\" title=\\\"\\\"></a>\\r\\n      <a data-tag='copy' id=\\\"shareCopy\\\" href=\\\"javascript:;\\\"></a>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/live-room/template/sns-share.html\n ** module id = 211\n ** module chunks = 5 7 9\n **/","module.exports = \"<div class=\\\"user-info-wrap clearfix\\\">\\r\\n    <img id=\\\"anchorAvatar\\\" class=\\\"Left avator boderRadAll_35\\\"\\r\\n         src=\\\"http://img1.yytcdn.com/user/avatar/160322/703-1458640483613/-M-216abfaf3d4ae2ee4d194029b70cdc9d_100x100.jpg\\\"\\r\\n         alt=\\\"\\\">\\r\\n    <div class=\\\"info Left \\\">\\r\\n        <span id=\\\"anchorName\\\" class=\\\"name am-margin-right-sm\\\"></span>\\r\\n        <!--<span class=\\\"icon-gender\\\"></span>-->\\r\\n        <button class=\\\"btn am-btn am-btn-purple boderRadAll_5 btnFollow\\\" id=\\\"btnFollow\\\"></button>\\r\\n        <span class=\\\"channelLiveTip am-margin-left Hidden\\\"></span>\\r\\n        <div class=\\\"tags\\\">\\r\\n            <span class=\\\"first\\\">:</span>\\r\\n            <span id=\\\"tagsWrap\\\">\\r\\n            </span>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"Right\\\">\\r\\n        <div class=\\\"like\\\">\\r\\n            <button id=\\\"btnLike\\\" class=\\\"btn-like am-btn-red am-circle\\\"><i></i></button>\\r\\n            <span id=\\\"txtLikeCount\\\" class=\\\"number\\\">1</span></div>\\r\\n        <a id=\\\"btnShare\\\" href=\\\"javascript:;\\\" class=\\\"btn-share\\\"></a>\\r\\n    </div>\\r\\n</div>\\r\\n<script type=\\\"text/template\\\" id=\\\"tagTpl\\\">\\r\\n    <%\\r\\n    tags = tags || [];\\r\\n    for(var i=0,l=tags.length; i < l; i++) {\\r\\n    %>\\r\\n    <span class=\\\"item\\\"><%=tags[i]%></span>\\r\\n    <%\\r\\n    }\\r\\n    %>\\r\\n</script>\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/live-room/template/anchor-card.html\n ** module id = 212\n ** module chunks = 5 7 9\n **/","/*\r\n clientRender:{bool} // falsetruerawLoadertemplateUrl\r\n */\r\n\r\n\r\n/**\r\n * @time {}\r\n * @author {}\r\n * @info {}\r\n */\r\n\r\n'use strict';\r\n\r\nvar base = require('base-extend-backbone');\r\nvar BaseView = base.View; // View\r\nvar Backbone = window.Backbone;\r\n\r\nvar View = BaseView.extend({\r\n  el: '.edit_background', // Viewid\r\n  rawLoader: function () { // \r\n    return require('./template/room-title.html');\r\n  },\r\n  events: { // \r\n  },\r\n  // \r\n  beforeMount: function () {\r\n    this.elements = {};\r\n  },\r\n  // \r\n  afterMount: function () {\r\n    var el = this.$el;\r\n    this.elements.roomName = el.find('.room-name');\r\n    this.elements = {\r\n      roomName: el.find('.room-name'),\r\n      onLine: el.find('#onlineCount'),\r\n      popularity: el.find('.popularityCount'),\r\n      onlineTxt: el.find('#onlineTxt'),\r\n      onLineBlock: el.find('.online')\r\n    };\r\n  },\r\n  // \r\n  ready: function () {\r\n    this.defineEventInterface();\r\n  },\r\n  defineEventInterface: function () {\r\n    var self = this;\r\n    Backbone.on('event:roomInfoReady', function (data) {\r\n      if (data) {\r\n        // \r\n        if (data.channelId) {\r\n          self.bindData(data);\r\n        } else {\r\n          // \r\n          if (data.status === 3) {\r\n            self.whenPalypack(data);\r\n          } else {\r\n            self.bindData(data);\r\n          }\r\n        }\r\n      }\r\n    });\r\n    Backbone.on('event:updateRoomInfo', function (data) {\r\n      if (data) {\r\n        self.elements.onLine.text(data.currentOnline || 0);\r\n        self.elements.popularity.text(data.popularity || 0);\r\n      }\r\n    });\r\n  },\r\n  bindData: function (data) {\r\n    var els = this.elements;\r\n    els.roomName.text(data.roomName || data.channelName || '');\r\n    els.onLine.text(data.online || 0);\r\n    var num = data.popularity < data.realPopularity ? data.realPopularity : data.popularity;\r\n    els.popularity.text(num || 0);\r\n  },\r\n  whenPalypack: function (data) {\r\n    var els = this.elements;\r\n    els.onlineTxt.text('');\r\n    els.roomName.text(data.roomName || '');\r\n    els.onLine.text(data.seen || 0);\r\n    els.popularity.text(data.popularity || 0);\r\n  }\r\n});\r\n\r\nmodule.exports = View;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/live-room/room-title.view.js\n ** module id = 213\n ** module chunks = 5 7 9\n **/","module.exports = \"<div class=\\\"room-name fl\\\"></div>\\r\\n<div class=\\\"room-title-right fr\\\">\\r\\n  <span class=\\\"online\\\"> <span id=\\\"onlineTxt\\\"></span>:<span class=\\\"red count\\\" id=\\\"onlineCount\\\">0</span></span>\\r\\n  <span class=\\\"popularity\\\">:<span class=\\\"green count popularityCount\\\" id=\\\"popularityCount\\\">0</span></span>\\r\\n  <!--<button class=\\\"btn Hand btn-support boderRadAll_3\\\"><i></i> </button>-->\\r\\n</div>\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/live-room/template/room-title.html\n ** module id = 214\n ** module chunks = 5 7 9\n **/","/*\r\n clientRender:{bool} // falsetruerawLoadertemplateUrl\r\n */\r\n\r\n\r\n/**\r\n * @time {}\r\n * @author {}\r\n * @info {}\r\n */\r\n\r\n'use strict';\r\n\r\nvar Backbone = window.Backbone;\r\nvar _ = require('underscore');\r\nvar webim = window.webim;\r\nvar base = require('base-extend-backbone');\r\nvar BaseView = base.View; // View\r\n\r\nvar uiConfirm = require('ui.confirm');\r\nvar DateTime = require('BusinessDate');\r\nvar FlashAPI = require('FlashApi');\r\nvar msgBox = require('ui.msgBox');\r\nvar YYTIMServer = require('imServer');\r\n// var RoomDetailModel = require('../../models/anchor/room-detail.model');\r\nvar IMModel = require('IMModel');\r\nvar imModel = IMModel.sharedInstanceIMModel();\r\nvar GiftModel = require('../../models/anchor/gift.model');\r\nvar UserInfo = require('./user.js');\r\nvar UserModel = require('UserModel');\r\nvar user = UserModel.sharedInstanceUserModel();\r\n// ,\r\nvar RoomManagerView = require('./room-manager.view');\r\nvar BusinessDate = require('BusinessDate');\r\n\r\nvar View = BaseView.extend({\r\n  el: '#anchorCtrlChat', // Viewid\r\n  rawLoader: function () { // \r\n    return require('./template/chat.html');\r\n  },\r\n  events: { // \r\n    // 'click #msgList': 'msgListClicked'\r\n  },\r\n  // \r\n  beforeMount: function () {\r\n    this.elements = {};\r\n  },\r\n  // \r\n  afterMount: function () {\r\n    var el = this.$el;\r\n    this.elements = {\r\n      msgList: el.find('#msgList'),\r\n      chatHistory: el.find('#chatHistory')\r\n    };\r\n\r\n    this.giftModel = GiftModel.sharedInstanceModel();\r\n  },\r\n  // \r\n  ready: function (ops) {\r\n    this.options = _.extend({}, ops);\r\n    if ($('#broadCastFlash').length > 0) {\r\n      this.flashAPI = FlashAPI.sharedInstanceFlashApi({\r\n        el: 'broadCastFlash'\r\n      });\r\n    }\r\n    this.defineEventInterface();\r\n\r\n    this.roomCtrlView = new RoomManagerView({\r\n      roomInfo: this.roomInfo,\r\n      FlashApi: this.flashAPI,\r\n      msgList: this.elements.msgList\r\n    });\r\n  },\r\n  defineEventInterface: function () {\r\n    var self = this;\r\n    Backbone.on('event:roomInfoReady', function (data) {\r\n      if (data) {\r\n        self.roomInfo = data;\r\n        if (data.status === 2) {\r\n          self.checkUserCanJoinRoom();\r\n        }\r\n      }\r\n    });\r\n\r\n    Backbone.on('event:onMsgNotify', function (notifyInfo) {\r\n      if (_.isArray(notifyInfo)) {\r\n        _.each(notifyInfo, function (item) {\r\n          if (item.hasOwnProperty('msg')) {\r\n            if (item.msg.isSend === false) {\r\n              self.onMsgNotify(item);\r\n            }\r\n          } else if (item.hasOwnProperty('isSend')) {\r\n            if (item.isSend === false) {\r\n              self.onMsgNotify(item);\r\n            }\r\n          }\r\n        });\r\n      } else if (_.isObject(notifyInfo)) {\r\n        if (notifyInfo.isSend === false) {\r\n          self.onMsgNotify(notifyInfo);\r\n        }\r\n      }\r\n    });\r\n    Backbone.on('event:onGroupInfoChangeNotify', function (notifyInfo) {\r\n      self.onGroupInfoChangeNotify(notifyInfo);\r\n    });\r\n    Backbone.on('event:groupSystemNotifys', function (notifyInfo) {\r\n      self.groupSystemNotifys(notifyInfo);\r\n    });\r\n\r\n    Backbone.on('event:visitorSendMessage', function (data) {\r\n      if (self.options.type !== 'channel') {\r\n        if (UserInfo.isDisbaleTalk(user.get('userId'), self.roomInfo.id)) {\r\n          msgBox.showTip(',');\r\n          return null;\r\n        }\r\n        if (UserInfo.isLockScreen(self.roomInfo.id)) {\r\n          msgBox.showTip(':');\r\n          return null;\r\n        }\r\n      }\r\n      self.beforeSendMsg(data, function (msgObj) {\r\n        self.sendMsgToGroup(msgObj);\r\n      });\r\n      return null;\r\n    });\r\n\r\n    Backbone.on('event:visitorInteractive', function (data) {\r\n      if (UserInfo.isDisbaleTalk(user.get('userId'), self.roomInfo.id) && data.msgType === 0) {\r\n        msgBox.showTip('.');\r\n      } else {\r\n        self.beforeSendMsg(data, function (msgObj) {\r\n          self.sendMsgToGroup(msgObj);\r\n        });\r\n      }\r\n    });\r\n\r\n    Backbone.on('event:forbidUserSendMsg', function (data) {\r\n      self.forbidUserSendMsgHandler(data);\r\n    });\r\n    Backbone.on('event:currentUserInfoReady', function (userInfo) {\r\n      if (userInfo) {\r\n        self.currentUserInfo = userInfo;\r\n      }\r\n    });\r\n\r\n    // Backbone.on('event:IMGroupInfoReady', function (info) {\r\n    //   self.currentGroupInfo = info;\r\n    // });\r\n\r\n    Backbone.on('event:liveShowEnded', function (data) {\r\n      uiConfirm.show({\r\n        title: '',\r\n        content: ',.',\r\n        cancelBtn: false,\r\n        okFn: function () {\r\n          window.location.href = '/';\r\n        },\r\n        cancelFn: function () {\r\n          window.location.href = '/';\r\n        }\r\n      });\r\n      self.roomInfo.status = data.roomStatus;\r\n    });\r\n  },\r\n\r\n  onMsgNotify: function (notifyInfo) {\r\n    var self = this;\r\n    var msgObj = {};\r\n\r\n    var elems = notifyInfo.getElems(); // \r\n    for (var i = 0, j = elems.length; i < j; i++) {\r\n      var elem = notifyInfo.elems[0];\r\n      var type = elem.getType(); // \r\n      if (type === webim.MSG_ELEMENT_TYPE.CUSTOM) {\r\n        msgObj = elem.getContent().data;\r\n      } else if (type === 'TIMGroupTipElem') {\r\n        msgObj = elem.content.data;\r\n      } else {\r\n        msgObj = elem.content.text + '';\r\n        msgObj = msgObj.replace(/[']/g, '').replace(/&quot;/g, '\\'');\r\n      }\r\n      try {\r\n        if (_.isString(msgObj)) {\r\n          msgObj = JSON.parse(msgObj);\r\n        }\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n      if (_.isObject(msgObj)) {\r\n        msgObj.fromAccount = notifyInfo.fromAccount;\r\n        var date = new Date(notifyInfo.getTime() * 1000);\r\n        msgObj.time = BusinessDate.format(date, 'hh:mm:ss');\r\n\r\n        self.beforeSendMsg(msgObj, function (msg) {\r\n          self.addMessage(msg);\r\n        });\r\n      }\r\n    }\r\n  },\r\n\r\n  beforeSendMsg: function (msg, callback) {\r\n    var self = this;\r\n    var msgObj = msg;\r\n    var tempInfo;\r\n    var isChannel = this.options.type === 'channel';\r\n    var roomId = this.roomInfo.id;\r\n\r\n    // \r\n    if (isChannel) {\r\n      if (~~msg.channelId !== ~~this.roomInfo.channelId) {\r\n        return;\r\n      }\r\n    } else {\r\n      if (~~msgObj.roomId !== ~~roomId) {\r\n        return;\r\n      }\r\n      if (self.roomInfo && self.roomInfo.status === 3) {\r\n        msgBox.showTip(',');\r\n        return;\r\n      }\r\n    }\r\n\r\n    switch (msgObj.msgType) {\r\n      case 0: // \r\n        msgObj = $.extend(msgObj, {\r\n          userId: user.get('userId')\r\n        });\r\n        callback(msgObj);\r\n        break;\r\n      case 1: // \r\n        var giftName = self.giftModel.findGift(msgObj.giftId).name || '';\r\n        msgObj.content = '<b>' + msgObj.nickName + '</b>' + giftName + '!';\r\n        msgObj.smallAvatar = '';\r\n        callback(msgObj);\r\n        break;\r\n      case 2: // \r\n        Backbone.trigger('event:updateRoomNotice', msgObj);\r\n        break;\r\n      case 3: // \r\n        msgObj.content = '<b>' + msgObj.nickName + '</b>!';\r\n        msgObj.smallAvatar = '';\r\n        callback(msgObj);\r\n        break;\r\n      case 4: //  \r\n        this.elements.msgList.children().remove();\r\n        msgObj.content = '!';\r\n        msgObj.smallAvatar = '';\r\n        callback(msgObj);\r\n        tempInfo = {\r\n          roomId: self.roomInfo.id,\r\n          nickName: '',\r\n          smallAvatar: '',\r\n          msgType: 4,\r\n          content: msgObj.content\r\n        };\r\n        self.flashAPI.onReady(function () {\r\n          this.notifying(tempInfo);\r\n        });\r\n        break;\r\n      case 5: //  \r\n        var imIdentifier = imModel.get('data').imIdentifier || '';\r\n        var temp = msgObj;\r\n        if (msgObj.userId === imIdentifier) {\r\n          temp.style = {\r\n            fontColor: '#999999'\r\n          };\r\n          this.flashAPI.onReady(function () {\r\n            temp.msgType = 0;\r\n            this.notifying(temp);\r\n          });\r\n          temp.msgType = 3;\r\n          callback(temp);\r\n        }\r\n        Backbone.trigger('event:forbidUserSendMsg', msgObj);\r\n        break;\r\n      case 8:\r\n        // this.lockOrUnlock(true);\r\n        callback(msgObj);\r\n        break;\r\n      case 9:\r\n        // this.lockOrUnlock(false);\r\n        callback(msgObj);\r\n        break;\r\n      case 10:\r\n        self.checkUserCanJoinRoom();\r\n        callback(msgObj);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  },\r\n  onGroupInfoChangeNotify: function (notifyInfo) {\r\n    var intro;\r\n    var msg;\r\n    var notify;\r\n    if (notifyInfo && notifyInfo.GroupIntroduction) {\r\n      intro = JSON.parse(notifyInfo.GroupIntroduction);\r\n      UserInfo.setLockScreen(this.roomInfo.id, intro.blockState);\r\n      msg = '' + (intro.blockState ? '' : '') + '';\r\n      msgBox.showTip(msg);\r\n      Backbone.trigger('event:LockScreen', intro.blockState);\r\n    }\r\n    if (notifyInfo && notifyInfo.GroupNotification) {\r\n      notify = JSON.parse(notifyInfo.GroupNotification);\r\n      notify.isEvent = true;\r\n      Backbone.trigger('event:UserKickOut', notify);\r\n    }\r\n  },\r\n  lockOrUnlock: function (isLock) {\r\n    UserInfo.setLockScreen(this.roomInfo.id, isLock);\r\n    var msg = '' + (isLock ? '' : '') + '';\r\n    msgBox.showTip(msg);\r\n    Backbone.trigger('event:LockScreen', isLock);\r\n  },\r\n  groupSystemNotifys: function () {},\r\n  /**\r\n   * \r\n   * @returns {*}\r\n   */\r\n  getMessageTpl: function () {\r\n    return require('../anchor/template/chat-message-tpl.html');\r\n  },\r\n  sendMsgToGroup: function (msgObj) {\r\n    var res = _.extend(msgObj, {\r\n      time: BusinessDate.format(new Date(), 'hh:mm:ss')\r\n    });\r\n    this.addMessage(res);\r\n\r\n    YYTIMServer.sendMessage({\r\n      groupId: this.roomInfo.imGroupid,\r\n      msg: msgObj\r\n    });\r\n    this.autoDeleteMsgList();\r\n  },\r\n  // dom\r\n  addMessage: function (msg) {\r\n    var self = this;\r\n    var msgObj;\r\n    msgObj = _.extend({\r\n      nickName: '',\r\n      content: '',\r\n      smallAvatar: '',\r\n      // time: self.getDateStr(new Date()),\r\n      fromAccount: '',\r\n      userId: ''\r\n    }, msg);\r\n\r\n    msgObj.content = self.filterEmoji(msgObj.content);\r\n    if (msgObj && msgObj.content) {\r\n      var tpl = _.template(this.getMessageTpl());\r\n      this.elements.msgList.append(tpl(msgObj));\r\n      this.elements.chatHistory.scrollTop(this.elements.msgList.height());\r\n      // if (msgObj.msgType == 0) {\r\n      try {\r\n        this.flashAPI.onReady(function () {\r\n          this.notifying(msgObj);\r\n        });\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    }\r\n    self.autoDeleteMsgList();\r\n  },\r\n  filterEmoji: function (content) {\r\n    var reg = /[\\u4e00-\\u9fa5\\w\\s\\d@\\.\\-,\\+\\?!#~<>]/g;\r\n    if (content) {\r\n      var result = content.match(reg) || [];\r\n      if (result.length > 0) {\r\n        return result.join('') || '';\r\n      }\r\n      return '';\r\n    }\r\n    return content;\r\n  },\r\n  // ,500\r\n  autoDeleteMsgList: function () {\r\n    var total = this.elements.msgList.children().length;\r\n    var index = 0;\r\n    if (total > 500) {\r\n      index = total - 200;\r\n    }\r\n    this.elements.msgList.children(':lt(' + index + ')').remove();\r\n  },\r\n  // \r\n  getDateStr: function (dateInt) {\r\n    var date = new Date(dateInt);\r\n    return DateTime.format(date, 'hh:mm:ss');\r\n  },\r\n  checkUserCanJoinRoom: function () {\r\n    var self = this;\r\n    YYTIMServer.getGroupInfo(this.roomInfo.imGroupid, function (res) {\r\n      if (res && ~~res.ErrorCode === 0 || res.GroupInfo.length > 0) {\r\n        self.currentGroupInfo = _.find(res.GroupInfo, function (item) {\r\n          return item.GroupId === self.roomInfo.imGroupid;\r\n        });\r\n        Backbone.trigger('event:IMGroupInfoReady', self.currentGroupInfo);\r\n      }\r\n    }, function () {});\r\n  },\r\n  checkUserStatus: function () {\r\n    if (UserInfo.isDisbaleTalk(user.get('userId'), self.roomInfo.id)) {\r\n      msgBox.showTip(',');\r\n      return false;\r\n    }\r\n\r\n    return false;\r\n  },\r\n  forbidUserSendMsgHandler: function (notifyInfo) {\r\n    var imIdentifier = imModel.get('data').imIdentifier || '';\r\n    if (notifyInfo.userId === imIdentifier) {\r\n      msgBox.showTip('10!');\r\n\r\n      Backbone.trigger('event:currentUserDisableTalk', true);\r\n      var cur = new Date();\r\n      UserInfo.setDisableTalk(user.get('userId'), this.roomInfo.id, cur.getTime() + 10 * 60 * 1000);\r\n    }\r\n  }\r\n});\r\n\r\nmodule.exports = View;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/live-room/chat.view.js\n ** module id = 215\n ** module chunks = 5 7\n **/","/**\r\n * \r\n */\r\n'use strict';\r\n\r\nvar Backbone = window.Backbone;\r\nvar _ = require('underscore');\r\nvar base = require('base-extend-backbone');\r\nvar BaseView = base.View;\r\n\r\nvar UserModel = require('UserModel');\r\nvar user = UserModel.sharedInstanceUserModel();\r\nvar PermissionModel = require('../../models/live-room/permission.model');\r\n\r\n// ,\r\n// var RoomControlView = require('../anchor/room-control.view');\r\n\r\nvar View = BaseView.extend({\r\n  el: '',\r\n  clientRender: false,\r\n  rawLoader: function () {\r\n    return '';\r\n  },\r\n  context: function (args) {\r\n    console.log(args);\r\n  },\r\n  beforeMount: function () {\r\n    //  \r\n    this.elements = {};\r\n    this.queryParams = {\r\n      deviceinfo: '{\"aid\": \"30001001\"}',\r\n      access_token: user.getWebToken()\r\n    };\r\n    this.permsssionModel = new PermissionModel();\r\n    this.userControlTpl = '<div class=\"controls_forbid_reject\" style=\"display: block;\"> ' +\r\n      '<a href=\"javascript:;\" class=\"forbid\"></a> ' +\r\n      '<a href=\"javascript:;\" class=\"reject\"></a></div>';\r\n  },\r\n  afterMount: function () {\r\n    //  findDOMNode DOM Node\r\n\r\n    this.elements.roomManagerWrap = $('#roomManagerWrap');\r\n    this.elements.sendMessageWrap = $('#sendMessageWrap');\r\n  },\r\n  ready: function (ops) {\r\n    //  \r\n    this.defineEventInterface();\r\n    this.options = _.extend({}, ops);\r\n    // this.elements.roomManagerWrap.hide();\r\n  },\r\n  defineEventInterface: function () {\r\n    var self = this;\r\n    Backbone.on('event:roomInfoReady', function (roomInfo) {\r\n      if (roomInfo) {\r\n        self.roomInfo = roomInfo;\r\n        self.checkPermission();\r\n      }\r\n    });\r\n  },\r\n  beforeDestroy: function () {\r\n    //  ,null\r\n  },\r\n  destroyed: function () {\r\n    //  \r\n  },\r\n  // \r\n  checkPermission: function () {\r\n    var self = this;\r\n    var promise = this.permsssionModel.executeJSONP(_.extend({\r\n      roomId: this.roomInfo.id || 0\r\n    }, this.queryParams));\r\n\r\n    promise.done(function (res) {\r\n      if (res && res.code === '0') {\r\n        self.hasAccess(res.data);\r\n      }\r\n    });\r\n  },\r\n  hasAccess: function (data) {\r\n    var self = this;\r\n    _.each(data, function (item) {\r\n      if (item.roomId === self.roomInfo.id) {\r\n        self.render();\r\n      }\r\n    });\r\n  },\r\n  render: function () {\r\n    // this.elements.roomManagerWrap.show();\r\n    // this.elements.sendMessageWrap.hide();\r\n    // if (!this.roomCtrlView) {\r\n    //   this.roomCtrlView = new RoomControlView({\r\n    //     el: '#roomManagerWrap',\r\n    //     roomInfo: this.roomInfo,\r\n    //     FlashApi: this.options.FlashApi,\r\n    //     msgList: this.options.msgList,\r\n    //     hideCtrl: true // \r\n    //   });\r\n    // }\r\n    window.location.href = '/assistant.html?roomId=' + this.roomInfo.id;\r\n  },\r\n  //  \r\n  renderUserControl: function (msgList) {\r\n    var self = this;\r\n    if (msgList) {\r\n      $(msgList).on('click', function (e) {\r\n        self.userControlClick(e);\r\n      });\r\n    }\r\n  },\r\n  userControlClick: function () {}\r\n});\r\n\r\nmodule.exports = View;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/live-room/room-manager.view.js\n ** module id = 216\n ** module chunks = 5 7\n **/","module.exports = \"<div class=\\\"chatCon\\\" id=\\\"chatHistory\\\">\\r\\n    <!---->\\r\\n    <ul id=\\\"msgList\\\">\\r\\n\\r\\n    </ul>\\r\\n</div>\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/live-room/template/chat.html\n ** module id = 217\n ** module chunks = 5 7\n **/","/*\r\n clientRender:{bool} // falsetruerawLoadertemplateUrl\r\n */\r\n\r\n\r\n/**\r\n * @time {}\r\n * @author {}\r\n * @info {}\r\n */\r\n\r\n'use strict';\r\nvar base = require('base-extend-backbone');\r\nvar BaseView = base.View; // View\r\nvar UserModel = require('UserModel');\r\nvar user = UserModel.sharedInstanceUserModel();\r\nvar msgBox = require('ui.msgBox');\r\nvar Backbone = window.Backbone;\r\nvar _ = require('underscore');\r\n\r\n\r\nvar View = BaseView.extend({\r\n  el: '#sendMessageWrap', // Viewid\r\n  rawLoader: function () { // \r\n    return require('./template/send-message.html');\r\n  },\r\n  events: { // \r\n    'click #btnChooseColor': 'showColorPanel',\r\n    'click #colorList': 'chooseColor',\r\n    'click #btnSendMsg': 'sendMsgClick',\r\n    'keyup #txtMessage': 'textMsgChanged'\r\n  },\r\n  // \r\n  beforeMount: function () {\r\n    this.elements = {};\r\n    this.speekPeriod = 5 * 1000;\r\n    this.canSendNow = true;\r\n  },\r\n  // \r\n  afterMount: function () {\r\n    var el = this.$el;\r\n\r\n    this.elements = {\r\n      btnChooseColor: el.find('#btnChooseColor'),\r\n      colorList: el.find('#colorList'),\r\n      chooseColorPanel: el.find('#chooseColorPanel'),\r\n      txtMessage: el.find('#txtMessage'),\r\n      limitTip: el.find('#limitTip')\r\n    };\r\n  },\r\n  // \r\n  ready: function (ops) {\r\n    this.options = _.extend({}, ops);\r\n    this.defineEventInterface();\r\n    this.setTextAreatColor();\r\n  },\r\n  defineEventInterface: function () {\r\n    var self = this;\r\n    Backbone.on('event:roomInfoReady', function (data) {\r\n      if (data) {\r\n        self.roomInfo = data;\r\n      }\r\n    });\r\n    Backbone.on('event:visitorSendGift', function (data) {\r\n      self.sendMessageToChat(_.extend({\r\n        nickName: user.get('userName'),\r\n        smallAvatar: user.get('bigheadImg'),\r\n        roomId: self.roomInfo.id\r\n      }, data));\r\n    });\r\n  },\r\n  showColorPanel: function () {\r\n    this.elements.btnChooseColor.toggleClass('actived');\r\n\r\n    this.elements.chooseColorPanel.toggle();\r\n  },\r\n  chooseColor: function (e) {\r\n    var target = $(e.target);\r\n    var color = target.data('color');\r\n    this.setTextAreatColor(color);\r\n    this.showColorPanel();\r\n  },\r\n  setTextAreatColor: function (color) {\r\n    this.elements.btnChooseColor.attr('data-color', color);\r\n    this.elements.txtMessage.css('color', color || '#999999');\r\n  },\r\n  sendMsgClick: function () {\r\n    var self = this;\r\n    var len = $.trim(this.elements.txtMessage.val()).length;\r\n    if (len < 1) {\r\n      return '';\r\n    }\r\n    if (len > 20) {\r\n      msgBox.showTip('20!');\r\n      return '';\r\n    }\r\n    if (!this.canSendNow) {\r\n      msgBox.showTip('!');\r\n      return null;\r\n    }\r\n    this.canSendNow = false;\r\n    var msg = {\r\n      msgType: 0,\r\n      content: $.trim(this.elements.txtMessage.val()),\r\n      nickName: user.get('userName'),\r\n      style: {\r\n        fontColor: this.elements.btnChooseColor.attr('data-color') || '#999999'\r\n      },\r\n      smallAvatar: user.get('bigheadImg'),\r\n      roomId: this.roomInfo.id,\r\n      time: ''\r\n    };\r\n    // \r\n    if (this.options.type === 'channel') {\r\n      msg.channelId = this.options.channelId;\r\n      msg.roomId = -1;\r\n    }\r\n    this.sendMessageToChat(msg);\r\n    this.elements.txtMessage.val('');\r\n    this.elements.limitTip.text(20);\r\n    setTimeout(function () {\r\n      self.canSendNow = true;\r\n    }, self.speekPeriod);\r\n    return null;\r\n  },\r\n  sendMessageToChat: function (msg) {\r\n    if (this.options.type !== 'channel') {\r\n      if (!this.roomInfo || this.roomInfo.status !== 2) {\r\n        msgBox.showTip(',');\r\n        this.elements.txtMessage.val('');\r\n        return;\r\n      }\r\n    }\r\n    Backbone.trigger('event:visitorSendMessage', msg);\r\n  },\r\n  textMsgChanged: function (e) {\r\n    if (e && e.keyCode === 13) {\r\n      this.sendMsgClick();\r\n      return false;\r\n    }\r\n    var len = $.trim(this.elements.txtMessage.val().length);\r\n    this.elements.limitTip.text(20 - len);\r\n    if (len >= 20) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n});\r\n\r\nmodule.exports = View;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/live-room/send-message.view.js\n ** module id = 218\n ** module chunks = 5 7\n **/","module.exports = \"<div id=\\\"chooseColorPanel\\\" class=\\\"choose-color Hidden\\\">\\r\\n    <div class=\\\"title\\\"></div>\\r\\n    <div class=\\\"color-list\\\" id=\\\"colorList\\\">\\r\\n        <span data-color=\\\"#f9517d\\\" class=\\\"red boderRadAll_20\\\"></span>\\r\\n        <span data-color=\\\"#ead97a\\\" class=\\\"yellow boderRadAll_20\\\"></span>\\r\\n        <span data-color=\\\"#53e2c2\\\" class=\\\"green boderRadAll_20\\\"></span>\\r\\n        <span data-color=\\\"#569ef8\\\" class=\\\"blue boderRadAll_20\\\"></span>\\r\\n        <span data-color=\\\"#cf57cf\\\" class=\\\"purple boderRadAll_20\\\"></span>\\r\\n        <span data-color=\\\"#ffffff\\\" class=\\\"white boderRadAll_20\\\"></span>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\\\"msg-text\\\">\\r\\n    <textarea id=\\\"txtMessage\\\" class=\\\"pAll5 msg Left\\\" cols=\\\"30\\\" rows=\\\"5\\\" placeholder=\\\"\\\"></textarea>\\r\\n    <button id=\\\"btnSendMsg\\\" class=\\\"send Left am-btn-purple\\\"></button>\\r\\n    <div class=\\\"Clear\\\"></div>\\r\\n</div>\\r\\n<div class=\\\"msg-footer mTop5\\\">\\r\\n    <!--<button>face</button>-->\\r\\n    <button id=\\\"btnChooseColor\\\" class=\\\"size Hand\\\"><i></i></button>\\r\\n    <div class=\\\"tip Right gary1 am-text-xs\\\"><span id=\\\"limitTip\\\" class=\\\"number\\\">20</span></div>\\r\\n    <div class=\\\"Clear\\\"></div>\\r\\n</div>\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/live-room/template/send-message.html\n ** module id = 219\n ** module chunks = 5 7\n **/","/*\r\n clientRender:{bool} // falsetruerawLoadertemplateUrl\r\n */\r\n\r\n\r\n/**\r\n * @time {}\r\n * @author {}\r\n * @info {}\r\n */\r\n\r\n'use strict';\r\n\r\nvar Backbone = window.Backbone;\r\nvar _ = require('underscore');\r\nvar base = require('base-extend-backbone');\r\nvar BaseView = base.View; // View\r\n\r\nvar UserModel = require('UserModel');\r\nvar user = UserModel.sharedInstanceUserModel();\r\nvar uiConfirm = require('ui.confirm');\r\nvar GiftModel = require('../../models/anchor/gift.model');\r\nvar PopularityModel = require('../../models/live-room/popularity-add.model');\r\nvar ChannelPopularityModel = require('../../models/channel/popularity-add.model');\r\n\r\n\r\nvar msgBox = require('ui.msgBox');\r\nvar UserInfo = require('./user.js');\r\n\r\nvar View = BaseView.extend({\r\n  clientRender: false,\r\n  el: '#giftwarp', // Viewid\r\n  events: { // \r\n    'click #gift-items': 'giftClick',\r\n    'click .btn-push': 'topClick',\r\n    'click #btnLike': 'lickClick' // ,\r\n      // 'click #btnShare': 'shareClick'\r\n  },\r\n  // \r\n  beforeMount: function () {\r\n    this.giftTpl = $('#gift-item-tpl').html();\r\n\r\n    this.giftParams = {\r\n      deviceinfo: '{\"aid\": \"30001001\"}',\r\n      access_token: user.getWebToken(),\r\n      offset: 0,\r\n      size: 90000,\r\n      type: 0\r\n    };\r\n    this.queryParams = {\r\n      deviceinfo: '{\"aid\": \"30001001\"}',\r\n      access_token: user.getWebToken()\r\n    };\r\n\r\n    this.giftModel = GiftModel.sharedInstanceModel();\r\n    this.popularityModel = PopularityModel.sharedInstanceModel();\r\n    this.channelPopularityModel = ChannelPopularityModel.sharedInstanceModel();\r\n    this.popularityParams = _.extend({\r\n      type: 1,\r\n      roomId: 0\r\n    }, this.queryParams);\r\n\r\n    this.isNeedPopup = true;\r\n    this.elements = {};\r\n    this.sendGiftPeriod = 5 * 1000;\r\n  },\r\n  // \r\n  afterMount: function () {\r\n    var el = this.$el;\r\n    this.elements = {\r\n      giftItems: el.find('#gift-items'),\r\n      txtLikeCount: el.find('#txtLikeCount')\r\n    };\r\n  },\r\n  // \r\n  ready: function (ops) {\r\n    this.options = _.extend({}, ops);\r\n    this.defineEventInterface();\r\n\r\n    this.initGiftList();\r\n\r\n    // $('#btnShare').on('click', this.shareClick.bind(this));\r\n    $('.btn-push').on('click', this.topClick.bind(this));\r\n  },\r\n  defineEventInterface: function () {\r\n    var self = this;\r\n    Backbone.on('event:roomInfoReady', function (data) {\r\n      if (data) {\r\n        self.roomInfo = data;\r\n        self.elements.txtLikeCount.text(data.assemble || 0);\r\n        self.elements.txtLikeCount.text(data.likeCount || 0);\r\n      }\r\n    });\r\n\r\n    Backbone.on('event:currentUserInfoReady', function (userInfo) {\r\n      if (userInfo) {\r\n        self.currentUserInfo = userInfo;\r\n      }\r\n    });\r\n    Backbone.on('event:updateRoomInfo', function (data) {\r\n      if (data) {\r\n        self.elements.txtLikeCount.text(data.likeCount || 0);\r\n      }\r\n    });\r\n    Backbone.on('event:liveShowEnded', function (data) {\r\n      if (data) {\r\n        self.roomInfo.status = data.roomStatus;\r\n      }\r\n    });\r\n  },\r\n  initCarousel: function () {\r\n    var warp = $('#giftwarp');\r\n    var jcarousel = warp.find('.jcarousel');\r\n    var carousel;\r\n    var width;\r\n\r\n    jcarousel\r\n      .on('jcarousel:reload jcarousel:create', function () {\r\n        carousel = $(this);\r\n        width = carousel.innerWidth();\r\n        width = width / 5;\r\n        carousel.jcarousel('items').css('width', Math.ceil(width) + 'px');\r\n      })\r\n      .jcarousel({\r\n        wrap: 'circular'\r\n      });\r\n\r\n    warp.find('.jcarousel-control-prev')\r\n      .jcarouselControl({\r\n        target: '-=1'\r\n      });\r\n\r\n    warp.find('.jcarousel-control-next')\r\n      .jcarouselControl({\r\n        target: '+=1'\r\n      });\r\n  },\r\n  initGiftList: function () {\r\n    var self = this;\r\n\r\n    this.giftModel.get(this.giftParams, function (res) {\r\n      if (res && res.code === '0') {\r\n        if (self.giftTpl) {\r\n          var template = _.template(self.giftTpl);\r\n          self.elements.giftItems.html(template(res || []));\r\n          self.initCarousel();\r\n        }\r\n      }\r\n    }, function (err) {\r\n      console.log(err);\r\n    });\r\n  },\r\n  roomStatusCheck: function () {\r\n    if (this.options.type === 'channel') {\r\n      // \r\n      return true;\r\n    }\r\n    if (!this.roomInfo || this.roomInfo.status !== 2) {\r\n      msgBox.showTip(',');\r\n      return false;\r\n    }\r\n    return true;\r\n  },\r\n  giftClick: function (e) {\r\n    var target = e.target;\r\n    if (!this.roomStatusCheck()) {\r\n      return;\r\n    }\r\n    if (e.target.nodeName !== 'LI') {\r\n      target = $(e.target).parent();\r\n    } else {\r\n      target = $(e.target);\r\n    }\r\n    this.sendGift({\r\n      name: target.data('name'),\r\n      giftId: target.data('giftid')\r\n    });\r\n  },\r\n\r\n  sendGift: function (data) {\r\n    var self = this;\r\n    if (this.options.type !== 'channel') {\r\n      if (UserInfo.isDisbaleTalk(user.get('userId'), this.roomInfo.id)) {\r\n        msgBox.showTip('10');\r\n        return null;\r\n      }\r\n      if (UserInfo.isLockScreen(this.roomInfo.id)) {\r\n        msgBox.showTip('');\r\n        return null;\r\n      }\r\n    }\r\n    if (this.notSend) {\r\n      msgBox.showTip('');\r\n      return null;\r\n    }\r\n    this.notSend = true;\r\n\r\n    var msg = {\r\n      msgType: 1,\r\n      giftId: data.giftId,\r\n      giftNum: 1\r\n    };\r\n    if (this.options.type === 'channel') {\r\n      msg.channelId = this.options.channelId;\r\n      msg.roomId = -1;\r\n    }\r\n    Backbone.trigger('event:visitorSendGift', msg);\r\n\r\n    setTimeout(function () {\r\n      self.notSend = false;\r\n    }, self.sendGiftPeriod);\r\n    return null;\r\n  },\r\n  topClick: function () {\r\n    var self = this;\r\n    if (!this.isNeedPopup) {\r\n      // self.pushPopularity(2);\r\n      self.beforePushPopularity(2);\r\n      return;\r\n    }\r\n    var content = '<div><span class=\"red\">20</span>MC,<span class=\"red\">' +\r\n      (this.currentUserInfo.totalMarks || 0) + '</span></div></br>' +\r\n      '<div style=\"text-align:right; color:#999;\"> <label>' +\r\n      '<input value=\"1\" id=\"popupCheckBox\" type=\"checkbox\">&nbsp;</label></div>';\r\n    uiConfirm.show({\r\n      title: '',\r\n      content: content,\r\n      okFn: function () {\r\n        // self.pushPopularity(2);\r\n        self.beforePushPopularity(2);\r\n        var check = $('#popupCheckBox');\r\n        if (check.is(':checked')) {\r\n          self.isNeedPopup = false;\r\n        } else {\r\n          self.isNeedPopup = true;\r\n        }\r\n      }\r\n    });\r\n  },\r\n  beforePushPopularity: function (type) {\r\n    var channelType = 2;\r\n    if (this.options.type === 'channel') {\r\n      channelType = type === 2 ? 3 : 2;\r\n      this.pushChannelPopularity(channelType);\r\n    } else {\r\n      this.pushPopularity(type);\r\n    }\r\n  },\r\n  pushChannelPopularity: function (type) {\r\n    var self = this;\r\n    var promise = this.channelPopularityModel.executeJSONP(_.extend({\r\n      type: type,\r\n      channelId: this.roomInfo.channelId\r\n    }, this.queryParams));\r\n    promise.done(function (res) {\r\n      if (~~res.code === 0 && type === 2) {\r\n        Backbone.trigger('event:pleaseUpdateRoomInfo');\r\n        self.getUserInfo();\r\n      } else if (~~res.code === 0 && type === 3) {\r\n        msgBox.showOK('');\r\n        Backbone.trigger('event:pleaseUpdateRoomInfo');\r\n        self.getUserInfo();\r\n      } else {\r\n        msgBox.showTip(res.data.message || res.msg || '');\r\n      }\r\n    });\r\n  },\r\n  pushPopularity: function (type) {\r\n    var self = this;\r\n    var promise;\r\n    // if (!this.roomStatusCheck()) {\r\n    //  return;\r\n    // }\r\n    this.popularityParams.type = type;\r\n    this.popularityParams.roomId = this.roomInfo.id;\r\n    promise = this.popularityModel.executeJSONP(this.popularityParams);\r\n    promise.done(function (res) {\r\n      if (res && res.data && res.msg === 'SUCCESS' && type === 1) {\r\n        Backbone.trigger('event:pleaseUpdateRoomInfo');\r\n        self.getUserInfo();\r\n      } else if (res && res.data.success && type === 2) {\r\n        msgBox.showOK('');\r\n        Backbone.trigger('event:pleaseUpdateRoomInfo');\r\n        self.getUserInfo();\r\n      } else {\r\n        msgBox.showTip(res.data.message || res.msg || '');\r\n      }\r\n    });\r\n    promise.fail(function () {\r\n      msgBox.showTip('');\r\n    });\r\n  },\r\n  getUserInfo: function () {\r\n    UserInfo.getInfo(function (userInfo) {\r\n      Backbone.trigger('event:currentUserInfoReady', userInfo);\r\n    });\r\n  },\r\n\r\n  lickClick: function () {\r\n    var self = this;\r\n    if (!this.roomStatusCheck()) {\r\n      return;\r\n    }\r\n    if (this.isClicked) {\r\n      msgBox.showOK('');\r\n      return;\r\n    }\r\n    this.isClicked = true;\r\n    var msg = {\r\n      nickName: user.get('userName'),\r\n      smallAvatar: user.get('bigheadImg'),\r\n      roomId: self.roomInfo.id || '',\r\n      msgType: 3\r\n    };\r\n    if (this.options.type === 'channel') {\r\n      msg.channelId = this.roomInfo.channelId;\r\n      msg.roomId = -1;\r\n    }\r\n    // \r\n    Backbone.trigger('event:visitorInteractive', msg);\r\n    self.beforePushPopularity(1);\r\n    setTimeout(function () {\r\n      self.isClicked = false;\r\n    }, 5000);\r\n  },\r\n  shareClick: function () {\r\n    if (!this.roomInfo) {\r\n      return;\r\n    }\r\n    var title = encodeURIComponent(this.roomInfo.roomName + ',');\r\n    var url = 'http://' + window.location.host;\r\n    var img = this.roomInfo.posterPic;\r\n    var goUrl;\r\n\r\n    if (this.roomInfo.status === 2) {\r\n      url = encodeURIComponent(url + '/liveRoom.html?roomId=' + this.roomInfo.id);\r\n    } else {\r\n      url = encodeURIComponent(url + '/playback.html?roomId=' + this.roomInfo.id);\r\n    }\r\n    var html = '<span class=\"share-wrap\">' +\r\n      '<a href=\"http://i.yinyuetai.com/share?title=' + title + '&amp;url=' + url + '&amp;cover=' + img + '?t=20160405161857\" title=\"\" class=\"myhome J_sharelink\"></a> ' +\r\n\r\n      '<a href=\"http://v.t.sina.com.cn/share/share.php?appkey=2817290261&amp;url=' + url + '&amp;title=' + title + '&amp;content=gb2312&amp;pic=' + img + '?t=20160405161857&amp;ralateUid=1698229264\" title=\"\" class=\"weibo17 J_sharelink\"></a>' +\r\n\r\n      '<a href=\"http://connect.qq.com/widget/shareqq/index.html?url=' + url + '&amp;showcount=1&amp;desc=' + title + '&amp;title=' + title + '&amp;site=&amp;pics=' + img + '?t=20160405161857&amp;style=201&amp;width=39&amp;height=39\" title=\"QQ\" class=\"qq17 J_sharelink\"></a>' +\r\n\r\n      '<a href=\"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=' + url + '&amp;desc=' + title + '\" title=\"QQ\" class=\"qzone17 J_sharelink\"></a>' +\r\n\r\n      '<a href=\"http://v.yinyuetai.com/share/weixin?title=' + title + '&amp;url=' + url + '\" title=\"\"  class=\"weixin17 J_sharelink\"></a>' +\r\n\r\n      '<a href=\"http://widget.renren.com/dialog/share?resourceUrl=' + url + '?t=20160405161857&amp;charset=UTF-8&amp;message=' + title + '\" title=\"\" class=\"renren17 J_sharelink\"></a>' +\r\n\r\n      '<a href=\"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?to=pengyou&amp;url=' + url + '&amp;desc=' + title + '\" title=\"\" class=\"pengyou17 J_sharelink\"></a>' +\r\n\r\n      '<a href=\"http://v.t.qq.com/share/share.php?title=' + title + '&amp;url=' + url + '&amp;pic=' + img + '?t=20160405161857\" title=\"\" data-video-id=\"2539803\" class=\"tencent17 J_sharelink\"></a>' +\r\n\r\n      '<a href=\"http://huaban.com/bookmarklet?url=' + url + '&amp;video=&amp;title=' + title + '&amp;media=' + img + '?t=20160405161857&amp;description=' + title + '\" title=\"\" class=\"huaban17 J_sharelink\"></a>' +\r\n\r\n      '<a href=\"http://t.sohu.com/third/post.jsp?&amp;url=' + url + '&amp;title=' + title + '&amp;content=utf-8\" title=\"\" class=\"sohu17 J_sharelink\"></a>' +\r\n\r\n      '<a href=\"http://fql.cc/yytafx?appkey=2817290261&amp;url=' + url + '&amp;title=' + title + '\" title=\"\" class=\"unicon17 J_sharelink\"></a> ' +\r\n      '</span>';\r\n    uiConfirm.show({\r\n      title: '',\r\n      content: html,\r\n      okBtn: false,\r\n      cancelBtn: false,\r\n      okFn: function () {\r\n\r\n      }\r\n    });\r\n    $('.share-wrap a').on('click', function () {\r\n      goUrl = $(this).attr('href');\r\n      window.open(goUrl, 'newwindow', 'height=750px,width=700px' +\r\n        ',toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no');\r\n      uiConfirm.close();\r\n      return false;\r\n    });\r\n  }\r\n});\r\n\r\nmodule.exports = View;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/live-room/gift.view.js\n ** module id = 220\n ** module chunks = 5 7 9\n **/","/**\r\n * \r\n */\r\n'use strict';\r\n\r\nvar base = require('base-extend-backbone');\r\nvar Config = require('config');\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\n\r\nvar Model = BaseModel.extend({\r\n  url: '{{url_prefix}}/channel/popularity_add.json',\r\n  beforeEmit: function beforeEmit() {\r\n    // \r\n    if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n      this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n    }\r\n  }\r\n});\r\n\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n  if (!shared) {\r\n    shared = new Model();\r\n  }\r\n  return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/channel/popularity-add.model.js\n ** module id = 221\n ** module chunks = 5 7 9\n **/","/**\r\n * \r\n */\r\n'use strict';\r\n\r\nvar Backbone = window.Backbone;\r\nvar _ = require('underscore');\r\nvar base = require('base-extend-backbone');\r\nvar BaseView = base.View;\r\n\r\n\r\nvar View = BaseView.extend({\r\n  el: '#videoList',\r\n  rawLoader: function () {\r\n    return '';\r\n  },\r\n  context: function (args) {\r\n    console.log(args);\r\n  },\r\n  beforeMount: function () {\r\n    //  \r\n    this.itemTpl = require('./template/live-video-list-tpl.html');\r\n  },\r\n  afterMount: function () {\r\n    //  findDOMNode DOM Node\r\n  },\r\n  ready: function () {\r\n    //  \r\n    this.defineEventInterface();\r\n  },\r\n  defineEventInterface: function () {\r\n    var self = this;\r\n    Backbone.on('event:ChannelLiveVideoListReady', function (data) {\r\n      self.renderList(data.list);\r\n      if (data.now) {\r\n        self.selectedItem(data.now);\r\n      }\r\n    });\r\n    // \r\n    Backbone.on('event:RoomLoopInfo', function (data) {\r\n      if (data.now) {\r\n        self.selectedItem(data.now);\r\n      }\r\n    });\r\n  },\r\n  beforeDestroy: function () {\r\n    //  ,null\r\n  },\r\n  destroyed: function () {\r\n    //  \r\n  },\r\n  renderList: function (videos) {\r\n    var html = this.compileHTML(this.itemTpl, {\r\n      data: videos || []\r\n    });\r\n    this.$el.html(html);\r\n    this.allItems = this.$el.children('div');\r\n  },\r\n  selectedItem: function (now) {\r\n    if (this.allItems) {\r\n      this.allItems.removeClass('active');\r\n    }\r\n    _.map(this.allItems, function (item) {\r\n      var el = $(item);\r\n      var start = el.data('start');\r\n      var end = el.data('end');\r\n      if (now >= start && now <= end) {\r\n        el.addClass('active');\r\n      }\r\n    });\r\n  }\r\n});\r\n\r\nmodule.exports = View;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/channel/live-video-list.view.js\n ** module id = 222\n ** module chunks = 5\n **/","module.exports = \"<!-- <div class=\\\"am-g am-g-collapse item active\\\"> -->\\r\\n{{each data as item }}\\r\\n<div class=\\\"am-g am-g-collapse item\\\" data-id=\\\"{{item.id}}\\\" data-start=\\\"{{item.liveTime}}\\\" data-end=\\\"{{item.endTime}}\\\">\\r\\n  <div class=\\\"am-u-sm-3 time\\\">{{item.playTime}}</div>\\r\\n  <div class=\\\"am-u-sm-9 detail\\\">{{item.videoName}}<span class=\\\"icon-play\\\"></span></div>\\r\\n</div>\\r\\n{{/each}}\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/channel/template/live-video-list-tpl.html\n ** module id = 223\n ** module chunks = 5\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/stylesheets/channel-live.scss\n ** module id = 224\n ** module chunks = 5\n **/"],"sourceRoot":""}